/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/obsidian-daily-notes-interface/dist/main.js
var require_main = __commonJS({
  "node_modules/obsidian-daily-notes-interface/dist/main.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var obsidian = require("obsidian");
    var DEFAULT_DAILY_NOTE_FORMAT = "YYYY-MM-DD";
    var DEFAULT_WEEKLY_NOTE_FORMAT = "gggg-[W]ww";
    var DEFAULT_MONTHLY_NOTE_FORMAT = "YYYY-MM";
    var DEFAULT_QUARTERLY_NOTE_FORMAT = "YYYY-[Q]Q";
    var DEFAULT_YEARLY_NOTE_FORMAT = "YYYY";
    function shouldUsePeriodicNotesSettings(periodicity) {
      var _a, _b;
      const periodicNotes = window.app.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a[periodicity]) == null ? void 0 : _b.enabled);
    }
    function getDailyNoteSettings() {
      var _a, _b, _c, _d;
      try {
        const { internalPlugins, plugins } = window.app;
        if (shouldUsePeriodicNotesSettings("daily")) {
          const { format: format2, folder: folder2, template: template2 } = ((_b = (_a = plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.daily) || {};
          return {
            format: format2 || DEFAULT_DAILY_NOTE_FORMAT,
            folder: (folder2 == null ? void 0 : folder2.trim()) || "",
            template: (template2 == null ? void 0 : template2.trim()) || ""
          };
        }
        const { folder, format, template } = ((_d = (_c = internalPlugins.getPluginById("daily-notes")) == null ? void 0 : _c.instance) == null ? void 0 : _d.options) || {};
        return {
          format: format || DEFAULT_DAILY_NOTE_FORMAT,
          folder: (folder == null ? void 0 : folder.trim()) || "",
          template: (template == null ? void 0 : template.trim()) || ""
        };
      } catch (err) {
        console.info("No custom daily note settings found!", err);
      }
    }
    function getWeeklyNoteSettings() {
      var _a, _b, _c, _d, _e, _f, _g;
      try {
        const pluginManager = window.app.plugins;
        const calendarSettings = (_a = pluginManager.getPlugin("calendar")) == null ? void 0 : _a.options;
        const periodicNotesSettings = (_c = (_b = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _b.settings) == null ? void 0 : _c.weekly;
        if (shouldUsePeriodicNotesSettings("weekly")) {
          return {
            format: periodicNotesSettings.format || DEFAULT_WEEKLY_NOTE_FORMAT,
            folder: ((_d = periodicNotesSettings.folder) == null ? void 0 : _d.trim()) || "",
            template: ((_e = periodicNotesSettings.template) == null ? void 0 : _e.trim()) || ""
          };
        }
        const settings = calendarSettings || {};
        return {
          format: settings.weeklyNoteFormat || DEFAULT_WEEKLY_NOTE_FORMAT,
          folder: ((_f = settings.weeklyNoteFolder) == null ? void 0 : _f.trim()) || "",
          template: ((_g = settings.weeklyNoteTemplate) == null ? void 0 : _g.trim()) || ""
        };
      } catch (err) {
        console.info("No custom weekly note settings found!", err);
      }
    }
    function getMonthlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("monthly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.monthly) || {};
        return {
          format: settings.format || DEFAULT_MONTHLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom monthly note settings found!", err);
      }
    }
    function getQuarterlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("quarterly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.quarterly) || {};
        return {
          format: settings.format || DEFAULT_QUARTERLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom quarterly note settings found!", err);
      }
    }
    function getYearlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("yearly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.yearly) || {};
        return {
          format: settings.format || DEFAULT_YEARLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom yearly note settings found!", err);
      }
    }
    function join2(...partSegments) {
      let parts = [];
      for (let i = 0, l = partSegments.length; i < l; i++) {
        parts = parts.concat(partSegments[i].split("/"));
      }
      const newParts = [];
      for (let i = 0, l = parts.length; i < l; i++) {
        const part = parts[i];
        if (!part || part === ".")
          continue;
        else
          newParts.push(part);
      }
      if (parts[0] === "")
        newParts.unshift("");
      return newParts.join("/");
    }
    function basename(fullPath) {
      let base = fullPath.substring(fullPath.lastIndexOf("/") + 1);
      if (base.lastIndexOf(".") != -1)
        base = base.substring(0, base.lastIndexOf("."));
      return base;
    }
    function ensureFolderExists2(path) {
      return __async(this, null, function* () {
        const dirs = path.replace(/\\/g, "/").split("/");
        dirs.pop();
        if (dirs.length) {
          const dir = join2(...dirs);
          if (!window.app.vault.getAbstractFileByPath(dir)) {
            yield window.app.vault.createFolder(dir);
          }
        }
      });
    }
    function getNotePath(directory, filename) {
      return __async(this, null, function* () {
        if (!filename.endsWith(".md")) {
          filename += ".md";
        }
        const path = obsidian.normalizePath(join2(directory, filename));
        yield ensureFolderExists2(path);
        return path;
      });
    }
    function getTemplateInfo(template) {
      return __async(this, null, function* () {
        const { metadataCache, vault } = window.app;
        const templatePath = obsidian.normalizePath(template);
        if (templatePath === "/") {
          return Promise.resolve(["", null]);
        }
        try {
          const templateFile = metadataCache.getFirstLinkpathDest(templatePath, "");
          const contents = yield vault.cachedRead(templateFile);
          const IFoldInfo = window.app.foldManager.load(templateFile);
          return [contents, IFoldInfo];
        } catch (err) {
          console.error(`Failed to read the daily note template '${templatePath}'`, err);
          new obsidian.Notice("Failed to read the daily note template");
          return ["", null];
        }
      });
    }
    function getDateUID3(date, granularity = "day") {
      const ts = date.clone().startOf(granularity).format();
      return `${granularity}-${ts}`;
    }
    function removeEscapedCharacters(format) {
      return format.replace(/\[[^\]]*\]/g, "");
    }
    function isFormatAmbiguous(format, granularity) {
      if (granularity === "week") {
        const cleanFormat = removeEscapedCharacters(format);
        return /w{1,2}/i.test(cleanFormat) && (/M{1,4}/.test(cleanFormat) || /D{1,4}/.test(cleanFormat));
      }
      return false;
    }
    function getDateFromFile2(file, granularity) {
      return getDateFromFilename(file.basename, granularity);
    }
    function getDateFromPath(path, granularity) {
      return getDateFromFilename(basename(path), granularity);
    }
    function getDateFromFilename(filename, granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      };
      const format = getSettings[granularity]().format.split("/").pop();
      const noteDate = window.moment(filename, format, true);
      if (!noteDate.isValid()) {
        return null;
      }
      if (isFormatAmbiguous(format, granularity)) {
        if (granularity === "week") {
          const cleanFormat = removeEscapedCharacters(format);
          if (/w{1,2}/i.test(cleanFormat)) {
            return window.moment(filename, format.replace(/M{1,4}/g, "").replace(/D{1,4}/g, ""), false);
          }
        }
      }
      return noteDate;
    }
    var DailyNotesFolderMissingError = class extends Error {
    };
    function createDailyNote3(date) {
      return __async(this, null, function* () {
        const app2 = window.app;
        const { vault } = app2;
        const moment = window.moment;
        const { template, format, folder } = getDailyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)));
          app2.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getDailyNote2(date, dailyNotes) {
      var _a;
      return (_a = dailyNotes[getDateUID3(date, "day")]) != null ? _a : null;
    }
    function getAllDailyNotes2() {
      const { vault } = window.app;
      const { folder } = getDailyNoteSettings();
      const dailyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!dailyNotesFolder) {
        throw new DailyNotesFolderMissingError("Failed to find daily notes folder");
      }
      const dailyNotes = {};
      obsidian.Vault.recurseChildren(dailyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "day");
          if (date) {
            const dateString = getDateUID3(date, "day");
            dailyNotes[dateString] = note;
          }
        }
      });
      return dailyNotes;
    }
    var WeeklyNotesFolderMissingError = class extends Error {
    };
    function getDaysOfWeek2() {
      const { moment } = window;
      let weekStart = moment.localeData()._week.dow;
      const daysOfWeek = [
        "sunday",
        "monday",
        "tuesday",
        "wednesday",
        "thursday",
        "friday",
        "saturday"
      ];
      while (weekStart) {
        daysOfWeek.push(daysOfWeek.shift());
        weekStart--;
      }
      return daysOfWeek;
    }
    function getDayOfWeekNumericalValue2(dayOfWeekName) {
      return getDaysOfWeek2().indexOf(dayOfWeekName.toLowerCase());
    }
    function createWeeklyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getWeeklyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
            const day = getDayOfWeekNumericalValue2(dayOfWeek);
            return date.weekday(day).format(momentFormat.trim());
          }));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getWeeklyNote(date, weeklyNotes) {
      var _a;
      return (_a = weeklyNotes[getDateUID3(date, "week")]) != null ? _a : null;
    }
    function getAllWeeklyNotes2() {
      const weeklyNotes = {};
      if (!appHasWeeklyNotesPluginLoaded()) {
        return weeklyNotes;
      }
      const { vault } = window.app;
      const { folder } = getWeeklyNoteSettings();
      const weeklyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!weeklyNotesFolder) {
        throw new WeeklyNotesFolderMissingError("Failed to find weekly notes folder");
      }
      obsidian.Vault.recurseChildren(weeklyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "week");
          if (date) {
            const dateString = getDateUID3(date, "week");
            weeklyNotes[dateString] = note;
          }
        }
      });
      return weeklyNotes;
    }
    var MonthlyNotesFolderMissingError = class extends Error {
    };
    function createMonthlyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getMonthlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getMonthlyNote(date, monthlyNotes) {
      var _a;
      return (_a = monthlyNotes[getDateUID3(date, "month")]) != null ? _a : null;
    }
    function getAllMonthlyNotes2() {
      const monthlyNotes = {};
      if (!appHasMonthlyNotesPluginLoaded()) {
        return monthlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getMonthlyNoteSettings();
      const monthlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!monthlyNotesFolder) {
        throw new MonthlyNotesFolderMissingError("Failed to find monthly notes folder");
      }
      obsidian.Vault.recurseChildren(monthlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "month");
          if (date) {
            const dateString = getDateUID3(date, "month");
            monthlyNotes[dateString] = note;
          }
        }
      });
      return monthlyNotes;
    }
    var QuarterlyNotesFolderMissingError = class extends Error {
    };
    function createQuarterlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getQuarterlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getQuarterlyNote(date, quarterly) {
      var _a;
      return (_a = quarterly[getDateUID3(date, "quarter")]) != null ? _a : null;
    }
    function getAllQuarterlyNotes2() {
      const quarterly = {};
      if (!appHasQuarterlyNotesPluginLoaded()) {
        return quarterly;
      }
      const { vault } = window.app;
      const { folder } = getQuarterlyNoteSettings();
      const quarterlyFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!quarterlyFolder) {
        throw new QuarterlyNotesFolderMissingError("Failed to find quarterly notes folder");
      }
      obsidian.Vault.recurseChildren(quarterlyFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "quarter");
          if (date) {
            const dateString = getDateUID3(date, "quarter");
            quarterly[dateString] = note;
          }
        }
      });
      return quarterly;
    }
    var YearlyNotesFolderMissingError = class extends Error {
    };
    function createYearlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getYearlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getYearlyNote(date, yearlyNotes) {
      var _a;
      return (_a = yearlyNotes[getDateUID3(date, "year")]) != null ? _a : null;
    }
    function getAllYearlyNotes2() {
      const yearlyNotes = {};
      if (!appHasYearlyNotesPluginLoaded()) {
        return yearlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getYearlyNoteSettings();
      const yearlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!yearlyNotesFolder) {
        throw new YearlyNotesFolderMissingError("Failed to find yearly notes folder");
      }
      obsidian.Vault.recurseChildren(yearlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "year");
          if (date) {
            const dateString = getDateUID3(date, "year");
            yearlyNotes[dateString] = note;
          }
        }
      });
      return yearlyNotes;
    }
    function appHasDailyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const dailyNotesPlugin = app2.internalPlugins.plugins["daily-notes"];
      if (dailyNotesPlugin && dailyNotesPlugin.enabled) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.daily) == null ? void 0 : _b.enabled);
    }
    function appHasWeeklyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      if (app2.plugins.getPlugin("calendar")) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.weekly) == null ? void 0 : _b.enabled);
    }
    function appHasMonthlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.monthly) == null ? void 0 : _b.enabled);
    }
    function appHasQuarterlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.quarterly) == null ? void 0 : _b.enabled);
    }
    function appHasYearlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.yearly) == null ? void 0 : _b.enabled);
    }
    function getPeriodicNoteSettings(granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      }[granularity];
      return getSettings();
    }
    function createPeriodicNote2(granularity, date) {
      const createFn = {
        day: createDailyNote3,
        month: createMonthlyNote,
        week: createWeeklyNote
      };
      return createFn[granularity](date);
    }
    exports.DEFAULT_DAILY_NOTE_FORMAT = DEFAULT_DAILY_NOTE_FORMAT;
    exports.DEFAULT_MONTHLY_NOTE_FORMAT = DEFAULT_MONTHLY_NOTE_FORMAT;
    exports.DEFAULT_QUARTERLY_NOTE_FORMAT = DEFAULT_QUARTERLY_NOTE_FORMAT;
    exports.DEFAULT_WEEKLY_NOTE_FORMAT = DEFAULT_WEEKLY_NOTE_FORMAT;
    exports.DEFAULT_YEARLY_NOTE_FORMAT = DEFAULT_YEARLY_NOTE_FORMAT;
    exports.appHasDailyNotesPluginLoaded = appHasDailyNotesPluginLoaded;
    exports.appHasMonthlyNotesPluginLoaded = appHasMonthlyNotesPluginLoaded;
    exports.appHasQuarterlyNotesPluginLoaded = appHasQuarterlyNotesPluginLoaded;
    exports.appHasWeeklyNotesPluginLoaded = appHasWeeklyNotesPluginLoaded;
    exports.appHasYearlyNotesPluginLoaded = appHasYearlyNotesPluginLoaded;
    exports.createDailyNote = createDailyNote3;
    exports.createMonthlyNote = createMonthlyNote;
    exports.createPeriodicNote = createPeriodicNote2;
    exports.createQuarterlyNote = createQuarterlyNote2;
    exports.createWeeklyNote = createWeeklyNote;
    exports.createYearlyNote = createYearlyNote2;
    exports.getAllDailyNotes = getAllDailyNotes2;
    exports.getAllMonthlyNotes = getAllMonthlyNotes2;
    exports.getAllQuarterlyNotes = getAllQuarterlyNotes2;
    exports.getAllWeeklyNotes = getAllWeeklyNotes2;
    exports.getAllYearlyNotes = getAllYearlyNotes2;
    exports.getDailyNote = getDailyNote2;
    exports.getDailyNoteSettings = getDailyNoteSettings;
    exports.getDateFromFile = getDateFromFile2;
    exports.getDateFromPath = getDateFromPath;
    exports.getDateUID = getDateUID3;
    exports.getMonthlyNote = getMonthlyNote;
    exports.getMonthlyNoteSettings = getMonthlyNoteSettings;
    exports.getPeriodicNoteSettings = getPeriodicNoteSettings;
    exports.getQuarterlyNote = getQuarterlyNote;
    exports.getQuarterlyNoteSettings = getQuarterlyNoteSettings;
    exports.getTemplateInfo = getTemplateInfo;
    exports.getWeeklyNote = getWeeklyNote;
    exports.getWeeklyNoteSettings = getWeeklyNoteSettings;
    exports.getYearlyNote = getYearlyNote;
    exports.getYearlyNoteSettings = getYearlyNoteSettings;
  }
});

// src/main.ts
__export(exports, {
  DAYS_PER_UNIT: () => DAYS_PER_UNIT,
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  FILEINFO_TO_DISPLAY: () => FILEINFO_TO_DISPLAY,
  FILEINFO_TO_DISPLAY_DAY: () => FILEINFO_TO_DISPLAY_DAY,
  GRANULARITY_LIST: () => GRANULARITY_LIST,
  GRANULARITY_TO_PERIODICITY: () => GRANULARITY_TO_PERIODICITY,
  default: () => DailyNoteOutlinePlugin3
});
var import_obsidian6 = __toModule(require("obsidian"));

// src/view.ts
var import_obsidian3 = __toModule(require("obsidian"));
var import_obsidian4 = __toModule(require("obsidian"));
var import_obsidian_daily_notes_interface2 = __toModule(require_main());

// src/createAndOpenDailyNote.ts
var import_obsidian_daily_notes_interface = __toModule(require_main());
function createAndOpenDailyNote(granularity, date, allFiles) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    const createFile = () => __async(this, null, function* () {
      let newNote;
      switch (granularity) {
        case "quarter":
          newNote = yield (0, import_obsidian_daily_notes_interface.createQuarterlyNote)(date);
          break;
        case "year":
          newNote = yield (0, import_obsidian_daily_notes_interface.createYearlyNote)(date);
          break;
        default:
          newNote = yield (0, import_obsidian_daily_notes_interface.createPeriodicNote)(granularity, date);
      }
      yield workspace.getLeaf().openFile(newNote);
    });
    const dailynote = allFiles[(0, import_obsidian_daily_notes_interface.getDateUID)(date, granularity)];
    if (!dailynote) {
      yield createFile();
    } else {
      yield workspace.getLeaf().openFile(dailynote);
    }
  });
}

// src/modalExtract.ts
var import_obsidian = __toModule(require("obsidian"));
var ModalExtract = class extends import_obsidian.Modal {
  constructor(app2, plugin, onSubmit) {
    super(app2);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    this.inputedValue = this.plugin.settings.wordsToExtract;
    const { contentEl } = this;
    contentEl.createEl("br");
    new import_obsidian.Setting(contentEl).setName("Extract by word or phrase:").addText((text) => {
      text.setValue(this.plugin.settings.wordsToExtract).inputEl.select();
      text.onChange((value) => {
        this.inputedValue = value;
      });
    });
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("Extract").setCta().onClick(() => __async(this, null, function* () {
      this.executeExtract();
    }))).addButton((btn) => btn.setButtonText("Cancel").onClick(() => {
      this.close();
    }));
    this.scope.register([], "Enter", (evt) => {
      this.executeExtract();
    });
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  executeExtract() {
    return __async(this, null, function* () {
      this.close();
      this.plugin.settings.wordsToExtract = this.inputedValue;
      yield this.plugin.saveSettings();
      this.onSubmit(true);
    });
  }
};

// src/createAndOpenPeriodicNote.ts
var import_obsidian2 = __toModule(require("obsidian"));
var DEFAULT_NOTE_FORMAT = {
  day: "YYYY-MM-DD",
  week: "gggg-[W]ww",
  month: "YYYY-MM",
  quarter: "YYYY-[Q]Q",
  year: "YYYY"
};
function createAndOpenPeriodicNote(granularity, date, calendarSet) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    let file = window.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNote(calendarSet.id, granularity, date);
    if (!file) {
      const config = calendarSet[granularity];
      const format = calendarSet[granularity].format;
      const filename = date.format(format ? format : DEFAULT_NOTE_FORMAT[granularity]);
      const templateContents = yield getTemplateContents(window.app, config.templatePath);
      const renderedContents = applyTemplateTransformations(filename, granularity, date, format, templateContents);
      const destPath = yield getNoteCreationPath(window.app, filename, config);
      file = yield window.app.vault.create(destPath, renderedContents);
    }
    yield workspace.getLeaf().openFile(file);
  });
}
function getTemplateContents(app2, templatePath) {
  return __async(this, null, function* () {
    const { metadataCache, vault } = app2;
    const normalizedTemplatePath = (0, import_obsidian2.normalizePath)(templatePath != null ? templatePath : "");
    if (templatePath === "/") {
      return Promise.resolve("");
    }
    try {
      const templateFile = metadataCache.getFirstLinkpathDest(normalizedTemplatePath, "");
      return templateFile ? vault.cachedRead(templateFile) : "";
    } catch (err) {
      console.error(`Failed to read the daily note template '${normalizedTemplatePath}'`, err);
      new import_obsidian2.Notice("Failed to read the daily note template");
      return "";
    }
  });
}
function applyTemplateTransformations(filename, granularity, date, format, rawTemplateContents) {
  let templateContents = rawTemplateContents;
  templateContents = rawTemplateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename);
  if (granularity === "day") {
    templateContents = templateContents.replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const currentDate = date.clone().set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        currentDate.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return currentDate.format(momentFormat.substring(1).trim());
      }
      return currentDate.format(format);
    });
  }
  if (granularity === "week") {
    templateContents = templateContents.replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
      const day = getDayOfWeekNumericalValue(dayOfWeek);
      return date.weekday(day).format(momentFormat.trim());
    });
  }
  if (granularity === "month") {
    templateContents = templateContents.replace(/{{\s*(month)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("month").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "quarter") {
    templateContents = templateContents.replace(/{{\s*(quarter)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("quarter").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "year") {
    templateContents = templateContents.replace(/{{\s*(year)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("year").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  return templateContents;
}
function getNoteCreationPath(app2, filename, periodicConfig) {
  return __async(this, null, function* () {
    var _a;
    const directory = (_a = periodicConfig.folder) != null ? _a : "";
    const filenameWithExt = !filename.endsWith(".md") ? `${filename}.md` : filename;
    const path = (0, import_obsidian2.normalizePath)(join(directory, filenameWithExt));
    yield ensureFolderExists(app2, path);
    return path;
  });
}
function join(...partSegments) {
  let parts = [];
  for (let i = 0, l = partSegments.length; i < l; i++) {
    parts = parts.concat(partSegments[i].split("/"));
  }
  const newParts = [];
  for (let i = 0, l = parts.length; i < l; i++) {
    const part = parts[i];
    if (!part || part === ".")
      continue;
    else
      newParts.push(part);
  }
  if (parts[0] === "")
    newParts.unshift("");
  return newParts.join("/");
}
function ensureFolderExists(app2, path) {
  return __async(this, null, function* () {
    const dirs = path.replace(/\\/g, "/").split("/");
    dirs.pop();
    if (dirs.length) {
      const dir = join(...dirs);
      if (!app2.vault.getAbstractFileByPath(dir)) {
        yield app2.vault.createFolder(dir);
      }
    }
  });
}
function getDaysOfWeek() {
  const { moment } = window;
  let weekStart = moment.localeData()._week.dow;
  const daysOfWeek = [
    "sunday",
    "monday",
    "tuesday",
    "wednesday",
    "thursday",
    "friday",
    "saturday"
  ];
  while (weekStart) {
    const day = daysOfWeek.shift();
    if (day)
      daysOfWeek.push(day);
    weekStart--;
  }
  return daysOfWeek;
}
function getDayOfWeekNumericalValue(dayOfWeekName) {
  return getDaysOfWeek().indexOf(dayOfWeekName.toLowerCase());
}

// src/view.ts
var DailyNoteOutlineViewType = "daily-note-outline";
var DailyNoteOutlineView = class extends import_obsidian4.ItemView {
  constructor(leaf, plugin, settings) {
    super(leaf);
    this.searchRange = {
      latest: window.moment(),
      earliest: window.moment()
    };
    this.extractMode = false;
    this.extractTask = false;
    this.activeSet = 0;
    this.activeGranularity = 0;
    this.plugin = plugin;
    this.settings = settings;
  }
  getViewType() {
    return DailyNoteOutlineViewType;
  }
  getDisplayText() {
    return "Daily Note Outline";
  }
  getIcon() {
    return "calendar-clock";
  }
  onOpen() {
    return __async(this, null, function* () {
      this.initView();
      const debouncerRequestRefresh = (0, import_obsidian3.debounce)(this.autoRefresh, 2e3, true);
      this.flagRedraw = false;
      this.flagRegetAll = false;
      this.registerEvent(this.app.metadataCache.on("changed", (file) => {
        var _a;
        if ((_a = this.targetFiles) == null ? void 0 : _a.includes(file)) {
          this.flagRedraw = true;
          debouncerRequestRefresh.call(this);
        }
      }));
      this.registerEvent(this.app.vault.on("create", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.vault.on("delete", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
    });
  }
  onClose() {
    return __async(this, null, function* () {
    });
  }
  setState(state, result) {
    var __superGet = (key) => super[key];
    return __async(this, null, function* () {
      if (state.activeSet) {
        this.activeSet = state.activeSet;
      }
      if (state.activeGranularity) {
        this.activeGranularity = state.activeGranularity;
      }
      return __superGet("setState").call(this, state, result);
    });
  }
  getState() {
    return {
      activeSet: this.activeSet,
      activeGranularity: this.activeGranularity
    };
  }
  initView() {
    return __async(this, null, function* () {
      yield this.bootDelay();
      this.verPN = yield this.checkPeriodicNotes();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    });
  }
  bootDelay() {
    return __async(this, null, function* () {
      return new Promise((resolve) => {
        setTimeout(resolve, 200);
      });
    });
  }
  autoRefresh() {
    return __async(this, null, function* () {
      if (!(this.flagRedraw || this.flagRegetAll)) {
        return;
      }
      this.refreshView(this.flagRegetAll, this.flagRegetAll, true);
      this.flagRegetAll = false;
      this.flagRedraw = false;
    });
  }
  refreshView(regetAll, getTarget, getOutline) {
    return __async(this, null, function* () {
      var _a;
      if (this.settings.showDebugInfo) {
        console.log("DNO:start refreshing view. CalendarSets:", this.calendarSets);
      }
      this.verPN = yield this.checkPeriodicNotes();
      if (this.verPN != 2) {
        if (regetAll) {
          this.allDailyNotes = this.getAllNotes();
        }
        if (getTarget) {
          this.targetFiles = this.getTargetFiles(this.allDailyNotes, GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      } else {
        if (!this.calendarSets[this.activeSet]) {
          this.activeSet = 0;
        }
        if (!((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled)) {
          if (this.settings.showDebugInfo) {
            console.log("DNO: Calender set is not enabled. this.activeGranularity is set to 0. Calendarsets, this.activeSet, this.activeGranularity:", this.calendarSets, this.activeSet, this.activeGranularity);
          }
          this.activeGranularity = 0;
        }
        if (getTarget) {
          this.targetFiles = this.getTargetPeriodicNotes(this.calendarSets[this.activeSet], GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      }
    });
  }
  getTargetFiles(allFiles, granularity) {
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame(window.moment(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      if (allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]) {
        files.push(allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]);
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getTargetPeriodicNotes(calendarSet, granularity) {
    var _a;
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame(window.moment(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    if (this.settings.showDebugInfo) {
      console.log("DNO:searching caches of Periodic Notes... calendar set:", calendarSet);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      const caches = this.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNotes(calendarSet.id, granularity, checkDate);
      for (const file of caches) {
        if (this.settings.exactMatchOnly && !((_a = file == null ? void 0 : file.matchData) == null ? void 0 : _a.exact)) {
          continue;
        }
        if (this.settings.markdownOnly && !(file == null ? void 0 : file.filePath.endsWith(".md"))) {
          continue;
        }
        if (!file.filePath.startsWith(calendarSet[granularity].folder.concat("/")) && calendarSet[granularity].folder) {
          continue;
        }
        const fileobj = this.app.vault.getAbstractFileByPath(file.filePath);
        if (fileobj instanceof import_obsidian4.TFile) {
          files.push(fileobj);
        }
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getFileInfo(files) {
    return __async(this, null, function* () {
      let fileInfo = [];
      for (let i = 0; i < files.length; i++) {
        const content = yield this.app.vault.cachedRead(files[i]);
        const lines = content.split("\n");
        let info = {
          date: (0, import_obsidian_daily_notes_interface2.getDateFromFile)(files[i], GRANULARITY_LIST[this.activeGranularity]),
          lines,
          numOfLines: lines.length
        };
        if (this.verPN == 2) {
          info.date = this.app.plugins.getPlugin("periodic-notes").cache.cachedFiles.get(this.calendarSets[this.activeSet].id).get(files[i].path).date;
        }
        fileInfo.push(info);
      }
      return fileInfo;
    });
  }
  getOutline(files) {
    return __async(this, null, function* () {
      let data = [];
      for (let i = 0; i < files.length; i++) {
        const cache = this.app.metadataCache.getFileCache(files[i]);
        data[i] = [];
        if (cache.hasOwnProperty("headings")) {
          for (let j = 0; j < cache.headings.length; j++) {
            const element = {
              typeOfElement: "heading",
              position: cache.headings[j].position,
              displayText: cache.headings[j].heading,
              level: cache.headings[j].level
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("links")) {
          for (let j = 0; j < cache.links.length; j++) {
            const element = {
              typeOfElement: "link",
              position: cache.links[j].position,
              displayText: cache.links[j].displayText == "" ? cache.links[j].original.substring(1, cache.links[j].original.indexOf("]")) : cache.links[j].displayText,
              link: cache.links[j].link
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("listItems")) {
          for (let j = 0; j < cache.listItems.length; j++) {
            let listLevel = 0;
            if (cache.listItems[j].parent > 0) {
              listLevel = 2;
            } else if (j > 0) {
              if (!(Math.abs(cache.listItems[j].parent) == cache.listItems[j].position.start.line) && cache.listItems[j].position.start.line - cache.listItems[j - 1].position.start.line == 1) {
                listLevel = 1;
              }
            }
            const element = {
              typeOfElement: "listItems",
              position: cache.listItems[j].position,
              displayText: this.fileInfo[i].lines[cache.listItems[j].position.start.line].replace(/^(\s|\t)*-\s(\[.\]\s)*/, ""),
              level: listLevel,
              task: cache.listItems[j].task
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("tags")) {
          for (let j = 0; j < cache.tags.length; j++) {
            const element = {
              typeOfElement: "tag",
              position: cache.tags[j].position,
              displayText: cache.tags[j].tag.substring(1)
            };
            data[i].push(element);
          }
        }
        data[i].sort((a, b) => {
          return a.position.start.offset - b.position.start.offset;
        });
      }
      return data;
    });
  }
  drawUI() {
    const navHeader = createDiv("nav-header");
    const navButtonContainer = navHeader.createDiv("nav-buttons-container");
    const granularity = GRANULARITY_LIST[this.activeGranularity];
    let navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "previous notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-left", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.subtract(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.subtract(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "next notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-right", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.add(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.add(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "home";
    (0, import_obsidian3.setIcon)(navActionButton, "home", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "refresh";
    (0, import_obsidian3.setIcon)(navActionButton, "refresh-cw", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "open settings";
    (0, import_obsidian3.setIcon)(navActionButton, "settings", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.app.setting.open();
      this.app.setting.openTabById(this.plugin.manifest.id);
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      for (const element in this.settings.showElements) {
        const icon2 = this.settings.showElements[element] == true ? "check" : "";
        menu.addItem((item) => item.setTitle(`show ${element}`).setIcon(icon2).onClick(() => __async(this, null, function* () {
          this.settings.showElements[element] = !this.settings.showElements[element];
          yield this.plugin.saveSettings();
          this.refreshView(false, false, false);
        })));
      }
      if (this.settings.showElements.listItems) {
        const icon2 = this.settings.taskOnly ? "check" : "";
        menu.addItem((item) => item.setTitle("tasks only").setIcon(icon2).onClick(() => __async(this, null, function* () {
          this.settings.taskOnly = !this.settings.taskOnly;
          yield this.plugin.saveSettings();
          this.refreshView(false, false, false);
        })));
      }
      menu.addSeparator();
      if (granularity == "day") {
        for (let index in FILEINFO_TO_DISPLAY_DAY) {
          const icon2 = index == this.settings.displayFileInfoDaily ? "check" : "";
          menu.addItem((item) => item.setTitle(FILEINFO_TO_DISPLAY_DAY[index]).setIcon(icon2).onClick(() => __async(this, null, function* () {
            this.settings.displayFileInfoDaily = index;
            yield this.plugin.saveSettings();
            this.refreshView(false, false, false);
          })));
        }
      } else {
        for (let index in FILEINFO_TO_DISPLAY) {
          const icon2 = index == this.settings.displayFileInfoPeriodic ? "check" : "";
          menu.addItem((item) => item.setTitle(FILEINFO_TO_DISPLAY[index]).setIcon(icon2).onClick(() => __async(this, null, function* () {
            this.settings.displayFileInfoPeriodic = index;
            yield this.plugin.saveSettings();
            this.refreshView(false, false, false);
          })));
        }
      }
      menu.addSeparator();
      const icon = this.settings.tooltipPreview ? "check" : "";
      menu.addItem((item) => item.setTitle("show tooltip preview").setIcon(icon).onClick(() => __async(this, null, function* () {
        this.settings.tooltipPreview = !this.settings.tooltipPreview;
        yield this.plugin.saveSettings();
        this.refreshView(false, false, false);
      })));
      menu.showAtMouseEvent(event);
    });
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    let labelForToday = "create/open ";
    let labelForNext = "create/open ";
    if (granularity == "day") {
      labelForToday = labelForToday + "today's ";
      labelForNext = labelForNext + "tomorrow's ";
    } else {
      labelForToday = labelForToday + "present ";
      labelForNext = labelForNext + "next ";
    }
    labelForToday = labelForToday + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    labelForNext = labelForNext + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    if (this.verPN == 2) {
      labelForToday = labelForToday + " for " + this.calendarSets[this.activeSet].id;
      labelForNext = labelForNext + " for " + this.calendarSets[this.activeSet].id;
    }
    navActionButton.ariaLabel = labelForToday;
    (0, import_obsidian3.setIcon)(navActionButton, "calendar-plus", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault;
      const date = window.moment();
      if (this.verPN == 2) {
        createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
      } else {
        createAndOpenDailyNote(granularity, date, this.allDailyNotes);
      }
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle(labelForNext).setIcon("calendar-plus").onClick(() => __async(this, null, function* () {
        const date = window.moment().add(1, granularity);
        if (this.verPN == 2) {
          createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
        } else {
          createAndOpenDailyNote(granularity, date, this.allDailyNotes);
        }
      })));
      menu.showAtMouseEvent(event);
    });
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    if (!this.extractMode) {
      navActionButton.ariaLabel = "extract";
      (0, import_obsidian3.setIcon)(navActionButton, "search", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        event.preventDefault;
        const onSubmit = (enableExtract) => {
          if (enableExtract) {
            this.extractMode = true;
            this.refreshView(false, false, false);
          }
        };
        new ModalExtract(this.app, this.plugin, onSubmit).open();
      }));
    } else {
      navActionButton.ariaLabel = "unextract";
      (0, import_obsidian3.setIcon)(navActionButton, "x-circle", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        this.extractMode = false;
        this.extractTask = false;
        this.refreshView(false, false, false);
      }));
    }
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle("extract tasks").setIcon("check-square").onClick(() => __async(this, null, function* () {
        this.extractMode = true;
        this.extractTask = true;
        this.refreshView(false, false, false);
      })));
      menu.showAtMouseEvent(event);
    });
    const navDateRange = navHeader.createDiv("nav-date-range");
    let latest = this.searchRange.latest.clone();
    let earliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      earliest = latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
      if (latest.isSame(window.moment(), "day")) {
        latest = latest.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
    }
    if (this.settings.initialSearchType == "forward") {
      latest = earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    const dateRange = earliest.format("YYYY/MM/DD [-] ") + latest.format(earliest.isSame(latest, "year") ? "MM/DD" : "YYYY/MM/DD");
    navDateRange.createDiv("nav-date-range-content").setText(dateRange);
    navDateRange.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      const onsetDate = window.moment(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        this.searchRange.latest = window.moment().startOf("day");
        this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
      this.refreshView(false, true, true);
    }));
    if (this.settings.periodicNotesEnabled) {
      const navGranularity = navHeader.createDiv("nav-date-range");
      navGranularity.createDiv("nav-date-range-content").setText(GRANULARITY_LIST[this.activeGranularity]);
      navGranularity.addEventListener("click", (evet) => {
        var _a, _b, _c;
        if (this.settings.showDebugInfo) {
          console.log("DNO:clicked to change granularity. verPN, calendarSets:", this.activeGranularity, this.verPN, this.calendarSets);
        }
        const initialGranularity = this.activeGranularity;
        do {
          this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
        } while ((this.verPN == 2 && !((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && !((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _c.enabled)) && this.activeGranularity != initialGranularity);
        this.app.workspace.requestSaveLayout();
        this.refreshView(true, true, true);
      });
      navGranularity.addEventListener("contextmenu", (event) => {
        var _a, _b, _c;
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < GRANULARITY_LIST.length; i++) {
          if (this.verPN == 2 && ((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[i]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && ((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[i]]]) == null ? void 0 : _c.enabled)) {
            const icon = i == this.activeGranularity ? "check" : "";
            menu.addItem((item) => item.setTitle(GRANULARITY_LIST[i]).setIcon(icon).onClick(() => {
              this.activeGranularity = i;
              this.app.workspace.requestSaveLayout();
              this.refreshView(true, true, true);
            }));
          }
        }
        menu.showAtMouseEvent(event);
      });
    }
    if (this.settings.calendarSetsEnabled) {
      const navCalendarSet = navHeader.createDiv("nav-date-range");
      navCalendarSet.createDiv("nav-date-range-content").setText(this.calendarSets[this.activeSet].id);
      navCalendarSet.addEventListener("click", (evet) => {
        this.activeSet = (this.activeSet + 1) % this.calendarSets.length;
        this.app.workspace.requestSaveLayout();
        this.refreshView(false, true, true);
      });
      navCalendarSet.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < this.calendarSets.length; i++) {
          const icon = i == this.activeSet ? "check" : "";
          menu.addItem((item) => item.setTitle(this.calendarSets[i].id).setIcon(icon).onClick(() => {
            this.activeSet = i;
            this.app.workspace.requestSaveLayout();
            this.refreshView(false, true, true);
          }));
        }
        menu.showAtMouseEvent(event);
      });
    }
    this.contentEl.empty();
    this.contentEl.appendChild(navHeader);
  }
  drawOutline(files, info, data) {
    var _a;
    const containerEl = createDiv("nav-files-container node-insert-event");
    const rootEl = containerEl.createDiv("tree-item nav-folder mod-root");
    const rootChildrenEl = rootEl.createDiv("tree-item-children nav-folder-children");
    if (files.length == 0) {
      rootChildrenEl.createEl("h4", {
        text: "No daily/periodic note found"
      });
    }
    let includeMode = this.settings.includeOnly != "none" && (Boolean(this.settings.wordsToInclude.length) || this.settings.includeBeginning);
    let maxLevel = this.settings.headingLevel.indexOf(true);
    for (let i = 0; i < files.length; i++) {
      let latestHeadingLevel = 0;
      const dailyNoteEl = rootChildrenEl.createDiv("tree-item nav-folder");
      const dailyNoteTitleEl = dailyNoteEl.createDiv("tree-item-self is-clickable mod-collapsible nav-folder-title");
      const dailyNoteChildrenEl = dailyNoteEl.createDiv("tree-item-children nav-folder-children");
      const noteCollapseIcon = dailyNoteTitleEl.createDiv("tree-item-icon nav-folder-collapse-indicator");
      switch (this.settings.icon.note) {
        case "none":
          break;
        case "custom":
          (0, import_obsidian3.setIcon)(noteCollapseIcon, this.settings.customIcon.note);
          break;
        default:
          if (this.settings.icon.note) {
            (0, import_obsidian3.setIcon)(noteCollapseIcon, this.settings.icon.note);
          }
          break;
      }
      let name = files[i].basename;
      if (this.settings.attachWeeklyNotesName && GRANULARITY_LIST[this.activeGranularity] == "week") {
        name = name + " (" + this.fileInfo[i].date.clone().startOf("week").format("MM/DD [-] ") + this.fileInfo[i].date.clone().endOf("week").format("MM/DD") + ")";
      }
      dailyNoteTitleEl.createDiv("tree-item-inner nav-folder-title-content").setText(name);
      const infoToDisplay = this.activeGranularity == 0 ? this.settings.displayFileInfoDaily : this.settings.displayFileInfoPeriodic;
      switch (infoToDisplay) {
        case "lines":
          dailyNoteTitleEl.dataset.subinfo = info[i].numOfLines.toString();
          break;
        case "days":
          let basedate = this.settings.initialSearchType == "backward" ? window.moment() : window.moment(this.settings.onset);
          dailyNoteTitleEl.dataset.subinfo = Math.abs(info[i].date.diff(basedate.startOf(GRANULARITY_LIST[this.activeGranularity]), GRANULARITY_LIST[this.activeGranularity])).toString();
          break;
        case "dow":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("dddd");
          break;
        case "dowshort":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("ddd");
          break;
        case "weeknumber":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("[w]ww");
          break;
        case "tag":
          let firsttagIndex = data[i].findIndex((element, index) => data[i][index].typeOfElement == "tag");
          if (firsttagIndex >= 0) {
            dailyNoteTitleEl.dataset.subinfo = data[i][firsttagIndex].displayText;
          }
          break;
        case "none":
          break;
        default:
          break;
      }
      dailyNoteTitleEl.addEventListener("click", (event) => {
        event.preventDefault();
        this.app.workspace.getLeaf().openFile(files[i]);
      }, false);
      dailyNoteTitleEl.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("tab").openFile(files[i]);
        }));
        menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("split").openFile(files[i]);
        }));
        this.app.workspace.trigger("file-menu", menu, files[i], "link-context-menu");
        menu.showAtMouseEvent(event);
      });
      let isIncluded = this.settings.includeBeginning;
      let includeModeHeadingLevel;
      let isExcluded = false;
      let excludeType;
      let excludeModeHeadingLevel;
      let primeType = this.settings.includeOnly == "none" ? this.settings.primeElement : this.settings.includeOnly;
      let isExtracted = false;
      if (data[i].length > 0) {
        elementloop:
          for (let j = 0; j < data[i].length; j++) {
            const element = data[i][j].typeOfElement;
            if (includeMode && this.settings.includeOnly == element) {
              if (isIncluded == true && element == "heading" && data[i][j].level > includeModeHeadingLevel) {
              } else {
                isIncluded = false;
                for (const value of this.settings.wordsToInclude) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isIncluded = true;
                    if (element == "heading") {
                      includeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (!isIncluded) {
              continue;
            }
            if (!isExcluded || isExcluded && (excludeType == element || primeType == element)) {
              if (element == "heading" && data[i][j].level > excludeModeHeadingLevel) {
              } else {
                isExcluded = false;
                for (const value of this.settings.wordsToExclude[element]) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isExcluded = true;
                    excludeType = element;
                    if (element == "heading") {
                      excludeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (isExcluded) {
              continue;
            }
            if (this.settings.showElements[element] == false) {
              continue;
            }
            for (const value of this.settings.wordsToIgnore[element]) {
              if (value && data[i][j].displayText.includes(value)) {
                continue elementloop;
              }
            }
            if (this.extractMode == true) {
              if (this.extractTask == false && !data[i][j].displayText.toLowerCase().includes(this.settings.wordsToExtract.toLowerCase())) {
                continue;
              } else if (this.extractTask == true && data[i][j].task === void 0) {
                continue;
              } else {
                isExtracted = true;
              }
            }
            if (element == "heading") {
              latestHeadingLevel = data[i][j].level;
              if (!this.settings.headingLevel[data[i][j].level - 1]) {
                continue;
              }
            }
            if (element == "link") {
            }
            if (element == "tag") {
            }
            if (element == "listItems") {
              if (this.settings.hideCompletedTasks == true && data[i][j].task == "x") {
                continue;
              } else if (this.settings.taskOnly == true && data[i][j].task === void 0) {
                continue;
              } else if (this.settings.allTasks == false || data[i][j].task === void 0) {
                if (data[i][j].level == 2 || data[i][j].level == 1 && this.settings.allRootItems == false) {
                  continue;
                }
              }
            }
            const outlineEl = dailyNoteChildrenEl.createDiv("tree-item nav-file");
            const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
            switch (this.settings.icon[element]) {
              case "none":
                break;
              case "headingwithnumber":
                (0, import_obsidian3.setIcon)(outlineTitle, `heading-${data[i][j].level}`);
                break;
              case "custom":
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.customIcon[element]);
                break;
              default:
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon[element]);
                break;
            }
            if (element == "listItems" && data[i][j].task !== void 0) {
              if (data[i][j].task == "x") {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.taskDone == "custom" ? this.settings.customIcon.taskDone : this.settings.icon.taskDone);
              } else {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.task == "custom" ? this.settings.customIcon.task : this.settings.icon.task);
              }
            }
            let prefix = this.settings.prefix[element];
            if (element == "heading") {
              switch (this.settings.repeatHeadingPrefix) {
                case "level":
                  prefix = prefix.repeat(data[i][j].level);
                  break;
                case "levelminus1":
                  prefix = prefix.repeat(data[i][j].level - 1);
                  break;
              }
            }
            let indent = 0.5;
            if (element == "heading" && this.settings.indent.heading == true) {
              indent = indent + (data[i][j].level - (maxLevel + 1)) * 1.5;
            }
            if (element != "heading" && this.settings.indentFollowHeading) {
              const additionalIndent = (latestHeadingLevel - (maxLevel + 1) + (this.settings.indentFollowHeading == 2 ? 1 : 0)) * 1.5;
              indent = indent + (additionalIndent > 0 ? additionalIndent : 0);
            }
            if (element == "link" && data[i][j].position.start.line == ((_a = data[i][j - 1]) == null ? void 0 : _a.position.start.line)) {
              indent = indent + 1.5;
            }
            outlineTitle.style.paddingLeft = `${indent}em`;
            if (element == "listItems" && data[i][j].task !== void 0) {
              prefix = data[i][j].task == "x" ? this.settings.prefix.taskDone : this.settings.prefix.task;
              if (this.settings.addCheckboxText) {
                prefix = prefix + "[" + data[i][j].task + "] ";
              }
            }
            let dispText = this.stripMarkdownSympol(data[i][j].displayText);
            outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(prefix + dispText);
            if (this.settings.inlinePreview) {
              let previewText = "";
              if ((element == "link" || element == "tag") && data[i][j].position.end.col < info[i].lines[data[i][j].position.start.line].length) {
                previewText = info[i].lines[data[i][j].position.start.line].slice(data[i][j].position.end.col);
              } else {
                previewText = data[i][j].position.start.line < info[i].numOfLines - 1 ? info[i].lines[data[i][j].position.start.line + 1] : "";
              }
              outlineTitle.createDiv("nav-file-title-preview").setText(previewText);
            }
            if (this.settings.tooltipPreview) {
              let previewText2 = "";
              let endLine = info[i].numOfLines - 1;
              let k = j + 1;
              endpreviewloop:
                while (k < data[i].length) {
                  if (this.settings.showElements[data[i][k].typeOfElement]) {
                    if (data[i][k].typeOfElement == "listItems" && (data[i][k].level >= 2 || this.settings.allRootItems == false && data[i][k].level == 1 && (this.settings.allTasks == false || data[i][k].task === void 0) || this.settings.taskOnly && data[i][k].task === void 0 || this.settings.hideCompletedTasks && data[i][k].task == "x")) {
                      k++;
                      continue;
                    } else if (data[i][k].typeOfElement == "heading" && this.settings.headingLevel[data[i][k].level - 1] == false) {
                      k++;
                      continue;
                    } else {
                      for (const value of this.settings.wordsToIgnore[data[i][k].typeOfElement]) {
                        if (value && data[i][k].displayText.includes(value)) {
                          k++;
                          continue endpreviewloop;
                        }
                      }
                      endLine = data[i][k].position.start.line - 1;
                      break;
                    }
                  }
                  k++;
                }
              for (let l = data[i][j].position.start.line; l <= endLine; l++) {
                previewText2 = previewText2 + info[i].lines[l] + "\n";
              }
              previewText2 = previewText2.replace(/\n$|\n(?=\n)/g, "");
              outlineTitle.ariaLabel = previewText2;
              outlineTitle.setAttribute("aria-label-position", this.settings.tooltipPreviewDirection);
              outlineTitle.setAttribute("aria-label-classes", "daily-note-preview");
            }
            outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
              event.preventDefault();
              yield this.app.workspace.getLeaf().openFile(files[i]);
              const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
              if (view) {
                view.editor.focus();
                view.editor.setCursor(data[i][j].position.start.line, data[i][j].position.start.col);
                view.editor.scrollIntoView({
                  from: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  },
                  to: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  }
                }, true);
              }
            }), false);
            outlineTitle.addEventListener("mouseover", (event) => {
              this.app.workspace.trigger("hover-link", {
                event,
                source: DailyNoteOutlineViewType,
                hoverParent: rootEl,
                targetEl: outlineTitle,
                linktext: files[i].path,
                state: { scroll: data[i][j].position.start.line }
              });
            });
            outlineTitle.addEventListener("contextmenu", (event) => {
              const menu = new import_obsidian3.Menu();
              menu.addItem((item) => item.setTitle("Extract").setIcon("search").onClick(() => __async(this, null, function* () {
                this.plugin.settings.wordsToExtract = data[i][j].displayText;
                yield this.plugin.saveSettings();
                this.extractMode = true;
                this.extractTask = false;
                this.refreshView(false, false, false);
              })));
              menu.addSeparator();
              if (element == "link") {
                menu.addItem((item) => item.setTitle("Open linked file").setIcon("links-going-out").onClick(() => __async(this, null, function* () {
                  const linkedFile = app.metadataCache.getFirstLinkpathDest(data[i][j].link, files[i].path);
                  this.app.workspace.getLeaf().openFile(linkedFile);
                })));
                menu.addSeparator();
              }
              menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("tab").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("split").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("window").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.showAtMouseEvent(event);
            });
          }
      } else {
        if (this.extractMode == false) {
          for (let j = 0; j < info[i].lines.length; j++) {
            if (info[i].lines[j] == "") {
              continue;
            } else {
              const outlineEl = dailyNoteChildrenEl.createDiv("tree-item nav-file");
              const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
              outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(info[i].lines[j]);
              outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
                event.preventDefault();
                yield this.app.workspace.getLeaf().openFile(files[i]);
              }), false);
              break;
            }
          }
        }
      }
      if (this.extractMode == true && isExtracted == false) {
        dailyNoteEl.remove();
      }
    }
    this.contentEl.appendChild(containerEl);
  }
  scrollToElement(line, col) {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
    if (view) {
      view.editor.focus();
      view.editor.setCursor(line, col);
      view.editor.scrollIntoView({
        from: {
          line,
          ch: 0
        },
        to: {
          line,
          ch: 0
        }
      }, true);
    }
  }
  stripMarkdownSympol(text) {
    return text.replace(/(\[\[)|(\]\])/g, "");
  }
  resetSearchRange() {
    if (this.settings.initialSearchType == "forward") {
      const onsetDate = window.moment(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        new import_obsidian3.Notice("onset date is invalid");
        this.searchRange.latest = window.moment().startOf("day");
        this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
    }
    if (this.settings.initialSearchType == "backward") {
      this.searchRange.latest = window.moment().startOf("day");
      this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
    }
  }
  checkPeriodicNotes() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d, _e, _f;
      if (this.settings.showDebugInfo) {
        console.log("DNO:checking the version of Periodic Notes plugin");
      }
      if (app.plugins.plugins["periodic-notes"]) {
        if (Number(app.plugins.plugins["periodic-notes"].manifest.version.split(".")[0]) >= 1) {
          this.calendarSets = (_a = this.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.calendarSetManager.getCalendarSets();
          if (this.settings.showDebugInfo) {
            console.log("return of this.app.PN.calendarSetManager.getCalendarSets(): ", (_b = this.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _b.calendarSetManager.getCalendarSets());
            console.log("return of window.app.PN.calendarSetManager.getCalendarSets(): ", (_c = window.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _c.calendarSetManager.getCalendarSets());
          }
          if (!this.calendarSets.length) {
            new import_obsidian3.Notice("failed to import calendar sets to Daily Note Outline");
          }
          const initialGranularity = this.activeGranularity;
          while (!((_d = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _d.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          if (this.settings.showDebugInfo) {
            console.log("obtained verPN: ", this.verPN, " calendarSets: ", this.calendarSets);
          }
          return 2;
        } else {
          this.settings.calendarSetsEnabled = false;
          this.activeSet = 0;
          yield this.plugin.saveSettings();
          const initialGranularity = this.activeGranularity;
          while (!((_f = (_e = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _e[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _f.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          return 1;
        }
      } else {
        this.settings.periodicNotesEnabled = false;
        this.settings.calendarSetsEnabled = false;
        this.activeGranularity = 0;
        this.activeSet = 0;
        yield this.plugin.saveSettings();
        return 0;
      }
    });
  }
  getAllNotes() {
    switch (this.activeGranularity) {
      case 0:
        return (0, import_obsidian_daily_notes_interface2.getAllDailyNotes)();
      case 1:
        return (0, import_obsidian_daily_notes_interface2.getAllWeeklyNotes)();
      case 2:
        return (0, import_obsidian_daily_notes_interface2.getAllMonthlyNotes)();
      case 3:
        return (0, import_obsidian_daily_notes_interface2.getAllQuarterlyNotes)();
      case 4:
        return (0, import_obsidian_daily_notes_interface2.getAllYearlyNotes)();
    }
  }
};

// src/setting.ts
var import_obsidian5 = __toModule(require("obsidian"));
var DailyNoteOutlineSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    var _a, _b;
    let { containerEl } = this;
    containerEl.empty();
    if (!((_a = app.internalPlugins.plugins["daily-notes"]) == null ? void 0 : _a.enabled) && !app.plugins.plugins["periodic-notes"]) {
      this.containerEl.createDiv("settings-banner", (banner) => {
        banner.createEl("h3", {
          text: "Neither Daily Note plugin nor Periodic Notes community plugin is enabled"
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Basics",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Initial search type").setDesc("search backward from today / forward from a specific date").addDropdown((dropdown) => {
      dropdown.addOption("backward", "backward").addOption("forward", "forward").setValue(this.plugin.settings.initialSearchType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.initialSearchType = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Search duration").setDesc("number of days to search per page (default = 28)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.duration.day)).setValue(String(this.plugin.settings.duration.day));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0 || parsed >= 366) {
          parsed = DEFAULT_SETTINGS.duration.day;
        }
        this.plugin.settings.duration.day = parsed;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Include future daily notes").setClass("setting-indent").setDesc("in backward search, include n days of future daily notes (default = 5)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.offset)).setValue(String(this.plugin.settings.offset));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let inputedValue = Number(e.target.value);
        if (inputedValue < 0) {
          inputedValue = 0;
        } else if (inputedValue >= 366) {
          inputedValue = 366;
        }
        this.plugin.settings.offset = inputedValue;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Onset date").setClass("setting-indent").setDesc("onset date in forward search (YYYY-MM-DD)").addText((text) => {
      text.setPlaceholder(DEFAULT_SETTINGS.onset).setValue(this.plugin.settings.onset).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.onset = value;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show headings").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.heading).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.heading = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show links").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.link).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.link = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.tag).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.tag = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show list items & tasks").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.listItems).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.listItems = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("Show all root list items").setDesc("if disabled, only top item of the list is displayed").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allRootItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allRootItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Show all tasks").setDesc("show all task items regardless of their level").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Task only").setDesc("if enabled, normal list items are hidden").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.taskOnly).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.taskOnly = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Hide completed tasks").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.hideCompletedTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.hideCompletedTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    new import_obsidian5.Setting(containerEl).setName("Display file information for daily notes").setDesc("choose type of file information to display with the file name for daily notes").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("lines", "lines of the note").addOption("days", "days from base date").addOption("dow", "day of the week").addOption("dowshort", "day of the week(short)").addOption("weeknumber", "week number").addOption("tag", "first tag").setValue(this.plugin.settings.displayFileInfoDaily).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.displayFileInfoDaily = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.periodicNotesEnabled) {
      new import_obsidian5.Setting(containerEl).setName("Display file information for periodic notes").setDesc("choose type of file information to display for periodic notes other than daily notes").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("lines", "lines of the note").addOption("days", "distance from base date").addOption("tag", "first tag").setValue(this.plugin.settings.displayFileInfoPeriodic).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.displayFileInfoPeriodic = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    new import_obsidian5.Setting(containerEl).setName("Position of the plugin view").setDesc("Specify default position where this plugin's view appears").addDropdown((dropdown) => {
      dropdown.addOption("right", "right side pane").addOption("left", "left side pane").addOption("tab", "new tab in main pane").addOption("split", "splitted pane").addOption("popout", "popout window").setValue(this.plugin.settings.viewPosition).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.viewPosition = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Periodic Notes",
      cls: "setting-category"
    });
    if (!app.plugins.plugins["periodic-notes"]) {
      this.containerEl.createEl("p", {
        text: "Periodic Notes community plugin is not enabled",
        cls: "setting-item-description"
      });
    } else {
      const verCheck = Number((_b = app.plugins.plugins["periodic-notes"]) == null ? void 0 : _b.manifest.version.split(".")[0]);
      if (verCheck >= 1) {
        new import_obsidian5.Setting(containerEl).setName("calendar sets").setDesc("enable calendar sets feature. You have to activate and configure the beta version of the Periodic Notes Plugin first.").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.calendarSetsEnabled).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.calendarSetsEnabled = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(true, true, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("periodic notes").setDesc("enable weekly/monthly/quarterly/yearly notes. You have to activate and configure the Periodic Notes Plugin first.").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.periodicNotesEnabled).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.periodicNotesEnabled = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.resetSearchRange();
          this.plugin.view.refreshView(true, true, true);
        }));
      });
      if (this.plugin.settings.periodicNotesEnabled) {
        this.containerEl.createEl("p", {
          text: "Search duration for periodic notes",
          cls: "setting-category"
        });
        new import_obsidian5.Setting(containerEl).setName("weekly notes").setClass("setting-indent").setDesc("number of weeks to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.week)).setValue(String(this.plugin.settings.duration.week));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.week;
            }
            this.plugin.settings.duration.week = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("monthly notes").setClass("setting-indent").setDesc("number of months to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.month)).setValue(String(this.plugin.settings.duration.month));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.month;
            }
            this.plugin.settings.duration.month = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("quarterly notes").setClass("setting-indent").setDesc("number of quarters to search per page (default = 8)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.quarter)).setValue(String(this.plugin.settings.duration.quarter));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.quarter;
            }
            this.plugin.settings.duration.quarter = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("yearly notes").setClass("setting-indent").setDesc("number of years to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.year)).setValue(String(this.plugin.settings.duration.year));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.year;
            }
            this.plugin.settings.duration.year = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("attach date range to weekly notes").setDesc("display date range next to weekly notes' name").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.attachWeeklyNotesName).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.attachWeeklyNotesName = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Headings",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Heading level to display",
        cls: "setting-item-description"
      });
      this.plugin.settings.headingLevel.forEach((value, index, arry) => {
        new import_obsidian5.Setting(containerEl).setName(`Level${index + 1}`).setClass("setting-indent").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.headingLevel[index]).onChange((value2) => __async(this, null, function* () {
            this.plugin.settings.headingLevel[index] = value2;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      });
    } else {
      this.containerEl.createEl("p", {
        text: "To display this section, activate 'Show headings' in Basics section.",
        cls: "setting-item-description"
      });
    }
    this.containerEl.createEl("h4", {
      text: "Preview"
    });
    new import_obsidian5.Setting(containerEl).setName("Inline preview").setDesc("Show a few subsequent words next to the outline element name").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.inlinePreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.inlinePreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Tooltip preview").setDesc("Show subsequent sentences as a tooltip when hover").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tooltipPreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.tooltipPreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.tooltipPreview) {
      new import_obsidian5.Setting(containerEl).setName("Tooltip preview direction").setClass("setting-indent").setDesc("specify the direction to display tooltip preview").addDropdown((dropdown) => {
        dropdown.addOption("left", "left").addOption("right", "right").addOption("bottom", "bottom").addOption("top", "top").setValue(this.plugin.settings.tooltipPreviewDirection).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.tooltipPreviewDirection = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Simple filter",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to ignore").setDesc("Headings which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to ignore").setDesc("Links which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to ignore").setDesc("tags which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to ignore").setDesc("List items which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Include",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "If you specify one outline element type and words to include, only elements which belong to the included elements are displayed.",
      cls: "setting-item-description"
    });
    this.containerEl.createEl("p", {
      text: "**NOTE**: If Include filter is set incorrectly, a number of outlines may not be displayed. In such a case, try setting 'Element type for include' to 'no Include filter'.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Element type for include").addDropdown((dropdown) => {
      dropdown.addOption("none", "no Include filter").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.includeOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.includeOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.includeOnly != "none") {
      new import_obsidian5.Setting(containerEl).setName("Words to include").setClass("setting-indent").setDesc("Only elements specified in 'Element type for include' which include listed words will be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToInclude.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToInclude = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Include the beginning part").setClass("setting-indent").setDesc("Specify whether to include the beginning parts of each daily note with no element to include ").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.includeBeginning).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.includeBeginning = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Exclude",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "Specified outline elements and elements belonging to that element will not be displayed.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Exclusion ends at").setDesc("Excluding elements specified below ends at the selected type of elements. If you specified 'Element type for include' above, this value is ignored and excludeing elements ends at that type of elements.").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.primeElement).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.primeElement = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to exclude").setDesc("Headings which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to exclude").setDesc("Links which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to exclude").setDesc("tags which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to exclude").setDesc("List items which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Appearance",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Indent other than headings").setDesc("Whether other elements should be indented to preceding headings").addDropdown((dropdown) => {
      dropdown.addOption("0", "none").addOption("1", "follow preceding heading").addOption("2", "preceding heading + 1").setValue(String(this.plugin.settings.indentFollowHeading)).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.indentFollowHeading = Number(value);
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("p", {
      text: "Notes",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("file", "file").addOption("calendar", "calendar").addOption("calendar-days", "calendar-days").setValue(this.plugin.settings.icon.note).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.icon.note = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.icon.note == "custom") {
      new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.customIcon.note).setValue(this.plugin.settings.customIcon.note);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customIcon.note = inputedValue;
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Headings",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("hash", "hash").addOption("chevron-right", "chevron-right").addOption("custom", "custom").setValue(this.plugin.settings.icon.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.heading == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.heading).setValue(this.plugin.settings.customIcon.heading);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.heading = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.heading).setValue(this.plugin.settings.prefix.heading);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.heading = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      if (this.plugin.settings.prefix.heading != "") {
        new import_obsidian5.Setting(containerEl).setName("Repeat heading prefix").setClass("setting-indent-2").addDropdown((dropdown) => {
          dropdown.addOption("none", "none").addOption("level", "as many times as its level").addOption("levelminus1", "level - 1").setValue(this.plugin.settings.repeatHeadingPrefix).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.repeatHeadingPrefix = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Add indent").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.indent.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.indent.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "Links",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("link", "link").addOption("link-2", "link-2").addOption("custom", "custom").setValue(this.plugin.settings.icon.link).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.link = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.link == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.link).setValue(this.plugin.settings.customIcon.link);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.link = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.link).setValue(this.plugin.settings.prefix.link);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.link = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      this.containerEl.createEl("p", {
        text: "Tags",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("tag", "tag").addOption("hash", "hash").addOption("custom", "custom").setValue(this.plugin.settings.icon.tag).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.tag = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.tag == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.tag).setValue(this.plugin.settings.customIcon.tag);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.tag = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.tag).setValue(this.plugin.settings.prefix.tag);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.tag = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "List items",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("list", "list").addOption("chevron-right", "chevron-right").addOption("minus", "minus").addOption("circle-dot", "circle-dot").addOption("asterisk", "asterisk").addOption("custom", "custom").setValue(this.plugin.settings.icon.listItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.listItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.listItems == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.listItems).setValue(this.plugin.settings.customIcon.listItems);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.listItems = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.listItems).setValue(this.plugin.settings.prefix.listItems);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.listItems = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      this.containerEl.createEl("p", {
        text: "Tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("square", "square").addOption("circle", "circle").addOption("list-checks", "list-checks").addOption("custom", "custom").setValue(this.plugin.settings.icon.task).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.task = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.task == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.task).setValue(this.plugin.settings.customIcon.task);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.task = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.task).setValue(this.plugin.settings.prefix.task);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.task = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Add checkbox text to prefix").setDesc("add [ ] or [x]").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.addCheckboxText).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.addCheckboxText = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      this.containerEl.createEl("p", {
        text: "Completed tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("check-square", "check-square").addOption("check-circle", "check-circle").addOption("check", "check").addOption("custom", "custom").setValue(this.plugin.settings.icon.taskDone).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.taskDone = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.taskDone == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.taskDone).setValue(this.plugin.settings.customIcon.taskDone);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.taskDone = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.taskDone).setValue(this.plugin.settings.prefix.taskDone);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.taskDone = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Others",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Show only .md files").setDesc("Turn on if non-md files are displayed in the view").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.markdownOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.markdownOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show only exactly matched files").setDesc("Turn on if you do not want to see files that do not exactly match the format").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.exactMatchOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.exactMatchOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Debug",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("show debug information").setDesc("display debug information in the console").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showDebugInfo).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showDebugInfo = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  initialSearchType: "backward",
  offset: 7,
  onset: "2020-03-30",
  duration: {
    day: 28,
    week: 12,
    month: 12,
    quarter: 8,
    year: 3
  },
  showElements: {
    heading: true,
    link: true,
    tag: true,
    listItems: true
  },
  headingLevel: [true, true, true, false, false, false],
  allRootItems: false,
  allTasks: true,
  taskOnly: false,
  hideCompletedTasks: false,
  displayFileInfo: "lines",
  displayFileInfoDaily: "lines",
  displayFileInfoPeriodic: "lines",
  viewPosition: "right",
  markdownOnly: true,
  exactMatchOnly: false,
  wordsToIgnore: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  inlinePreview: true,
  tooltipPreview: true,
  tooltipPreviewDirection: "left",
  includeOnly: "none",
  wordsToInclude: [],
  includeBeginning: true,
  primeElement: "none",
  wordsToExclude: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  wordsToExtract: "",
  icon: {
    heading: "none",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  customIcon: {
    heading: "hash",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  indent: {
    heading: true,
    link: true,
    listItems: true
  },
  indentFollowHeading: 0,
  prefix: {
    heading: "",
    link: "",
    tag: "",
    listItems: "",
    task: "",
    taskDone: ""
  },
  repeatHeadingPrefix: "none",
  addCheckboxText: false,
  periodicNotesEnabled: true,
  calendarSetsEnabled: true,
  attachWeeklyNotesName: true,
  showDebugInfo: false
};
var DAYS_PER_UNIT = {
  day: 1,
  week: 7,
  month: 30,
  quarter: 90,
  year: 365
};
var GRANULARITY_LIST = ["day", "week", "month", "quarter", "year"];
var GRANULARITY_TO_PERIODICITY = {
  day: "daily",
  week: "weekly",
  month: "monthly",
  quarter: "quarterly",
  year: "yearly"
};
var FILEINFO_TO_DISPLAY = {
  none: "none",
  lines: "num of lines",
  days: "distance",
  tag: "first tag"
};
var FILEINFO_TO_DISPLAY_DAY = {
  none: "none",
  lines: "num of lines",
  days: "distance",
  tag: "first tag",
  dow: "day of week",
  dowshort: "day of week(short)",
  weeknumber: "week number"
};
var DailyNoteOutlinePlugin3 = class extends import_obsidian6.Plugin {
  constructor() {
    super(...arguments);
    this.checkView = () => __async(this, null, function* () {
      let [leaf] = this.app.workspace.getLeavesOfType(DailyNoteOutlineViewType);
      if (!leaf) {
        switch (this.settings.viewPosition) {
          case "right":
            leaf = this.app.workspace.getRightLeaf(false);
            break;
          case "left":
            leaf = this.app.workspace.getLeftLeaf(false);
            break;
          case "tab":
            leaf = this.app.workspace.getLeaf("tab");
            break;
          case "split":
            leaf = this.app.workspace.getLeaf("split");
            break;
          case "popout":
            leaf = this.app.workspace.getLeaf("window");
            break;
        }
        yield leaf.setViewState({ type: DailyNoteOutlineViewType });
      }
      this.app.workspace.revealLeaf(leaf);
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.registerView(DailyNoteOutlineViewType, (leaf) => this.view = new DailyNoteOutlineView(leaf, this, this.settings));
      this.addCommand({
        id: "daily-note-outline-open",
        name: "Open Outline",
        callback: () => __async(this, null, function* () {
          this.checkView();
        })
      });
      if (this.app.workspace.layoutReady) {
        this.checkView();
      } else {
        this.registerEvent(this.app.workspace.on("layout-ready", this.checkView));
      }
      this.addSettingTab(new DailyNoteOutlineSettingTab(this.app, this));
    });
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(DailyNoteOutlineViewType);
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
      if (typeof this.settings.duration === "number") {
        this.settings.duration = DEFAULT_SETTINGS.duration;
      }
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZS9kaXN0L21haW4uanMiLCAic3JjL21haW4udHMiLCAic3JjL3ZpZXcudHMiLCAic3JjL2NyZWF0ZUFuZE9wZW5EYWlseU5vdGUudHMiLCAic3JjL21vZGFsRXh0cmFjdC50cyIsICJzcmMvY3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZS50cyIsICJzcmMvc2V0dGluZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgb2JzaWRpYW4gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuXG5jb25zdCBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NLUREXCI7XG5jb25zdCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCA9IFwiZ2dnZy1bV113d1wiO1xuY29uc3QgREVGQVVMVF9NT05USExZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NXCI7XG5jb25zdCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWS1bUV1RXCI7XG5jb25zdCBERUZBVUxUX1lFQVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWVwiO1xuXG5mdW5jdGlvbiBzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MocGVyaW9kaWNpdHkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSB3aW5kb3cuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik7XG4gICAgcmV0dXJuIHBlcmlvZGljTm90ZXMgJiYgcGVyaW9kaWNOb3Rlcy5zZXR0aW5ncz8uW3BlcmlvZGljaXR5XT8uZW5hYmxlZDtcbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBkYWlseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0RGFpbHlOb3RlU2V0dGluZ3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgeyBpbnRlcm5hbFBsdWdpbnMsIHBsdWdpbnMgfSA9IHdpbmRvdy5hcHA7XG4gICAgICAgIGlmIChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJkYWlseVwiKSkge1xuICAgICAgICAgICAgY29uc3QgeyBmb3JtYXQsIGZvbGRlciwgdGVtcGxhdGUgfSA9IHBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy5kYWlseSB8fCB7fTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IGZvbGRlcj8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBmb2xkZXIsIGZvcm1hdCwgdGVtcGxhdGUgfSA9IGludGVybmFsUGx1Z2lucy5nZXRQbHVnaW5CeUlkKFwiZGFpbHktbm90ZXNcIik/Lmluc3RhbmNlPy5vcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIGRhaWx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFkIHRoZSB1c2VyIHNldHRpbmdzIGZvciB0aGUgYHdlZWtseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0V2Vla2x5Tm90ZVNldHRpbmdzKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcImNhbGVuZGFyXCIpPy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwZXJpb2RpY05vdGVzU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ud2Vla2x5O1xuICAgICAgICBpZiAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwid2Vla2x5XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogcGVyaW9kaWNOb3Rlc1NldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IHBlcmlvZGljTm90ZXNTZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBwZXJpb2RpY05vdGVzU2V0dGluZ3MudGVtcGxhdGU/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbGVuZGFyU2V0dGluZ3MgfHwge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLndlZWtseU5vdGVGb3JtYXQgfHwgREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQsXG4gICAgICAgICAgICBmb2xkZXI6IHNldHRpbmdzLndlZWtseU5vdGVGb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLndlZWtseU5vdGVUZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHdlZWtseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwibW9udGhseVwiKSAmJlxuICAgICAgICAgICAgcGx1Z2luTWFuYWdlci5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uc2V0dGluZ3M/Lm1vbnRobHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfTU9OVEhMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIG1vbnRobHkgbm90ZSBzZXR0aW5ncyBmb3VuZCFcIiwgZXJyKTtcbiAgICB9XG59XG4vKipcbiAqIFJlYWQgdGhlIHVzZXIgc2V0dGluZ3MgZm9yIHRoZSBgcGVyaW9kaWMtbm90ZXNgIHBsdWdpblxuICogdG8ga2VlcCBiZWhhdmlvciBvZiBjcmVhdGluZyBhIG5ldyBub3RlIGluLXN5bmMuXG4gKi9cbmZ1bmN0aW9uIGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwicXVhcnRlcmx5XCIpICYmXG4gICAgICAgICAgICBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ucXVhcnRlcmx5KSB8fFxuICAgICAgICAgICAge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHF1YXJ0ZXJseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0WWVhcmx5Tm90ZVNldHRpbmdzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGx1Z2luTWFuYWdlciA9IHdpbmRvdy5hcHAucGx1Z2lucztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJ5ZWFybHlcIikgJiZcbiAgICAgICAgICAgIHBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy55ZWFybHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFULFxuICAgICAgICAgICAgZm9sZGVyOiBzZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLnRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmluZm8oXCJObyBjdXN0b20geWVhcmx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuXG4vLyBDcmVkaXQ6IEBjcmVhdGlvbml4L3BhdGguanNcbmZ1bmN0aW9uIGpvaW4oLi4ucGFydFNlZ21lbnRzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGlucHV0cyBpbnRvIGEgbGlzdCBvZiBwYXRoIGNvbW1hbmRzLlxuICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFydFNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBwYXJ0cyA9IHBhcnRzLmNvbmNhdChwYXJ0U2VnbWVudHNbaV0uc3BsaXQoXCIvXCIpKTtcbiAgICB9XG4gICAgLy8gSW50ZXJwcmV0IHRoZSBwYXRoIGNvbW1hbmRzIHRvIGdldCB0aGUgbmV3IHJlc29sdmVkIHBhdGguXG4gICAgY29uc3QgbmV3UGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzXG4gICAgICAgIC8vIEFsc28gcmVtb3ZlIFwiLlwiIHNlZ21lbnRzXG4gICAgICAgIGlmICghcGFydCB8fCBwYXJ0ID09PSBcIi5cIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBQdXNoIG5ldyBwYXRoIHNlZ21lbnRzLlxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgICAvLyBQcmVzZXJ2ZSB0aGUgaW5pdGlhbCBzbGFzaCBpZiB0aGVyZSB3YXMgb25lLlxuICAgIGlmIChwYXJ0c1swXSA9PT0gXCJcIilcbiAgICAgICAgbmV3UGFydHMudW5zaGlmdChcIlwiKTtcbiAgICAvLyBUdXJuIGJhY2sgaW50byBhIHNpbmdsZSBzdHJpbmcgcGF0aC5cbiAgICByZXR1cm4gbmV3UGFydHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiBiYXNlbmFtZShmdWxsUGF0aCkge1xuICAgIGxldCBiYXNlID0gZnVsbFBhdGguc3Vic3RyaW5nKGZ1bGxQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIGlmIChiYXNlLmxhc3RJbmRleE9mKFwiLlwiKSAhPSAtMSlcbiAgICAgICAgYmFzZSA9IGJhc2Uuc3Vic3RyaW5nKDAsIGJhc2UubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICByZXR1cm4gYmFzZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZvbGRlckV4aXN0cyhwYXRoKSB7XG4gICAgY29uc3QgZGlycyA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGRpcnMucG9wKCk7IC8vIHJlbW92ZSBiYXNlbmFtZVxuICAgIGlmIChkaXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkaXIgPSBqb2luKC4uLmRpcnMpO1xuICAgICAgICBpZiAoIXdpbmRvdy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGRpcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBnZXROb3RlUGF0aChkaXJlY3RvcnksIGZpbGVuYW1lKSB7XG4gICAgaWYgKCFmaWxlbmFtZS5lbmRzV2l0aChcIi5tZFwiKSkge1xuICAgICAgICBmaWxlbmFtZSArPSBcIi5tZFwiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gb2JzaWRpYW4ubm9ybWFsaXplUGF0aChqb2luKGRpcmVjdG9yeSwgZmlsZW5hbWUpKTtcbiAgICBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMocGF0aCk7XG4gICAgcmV0dXJuIHBhdGg7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IG1ldGFkYXRhQ2FjaGUsIHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgodGVtcGxhdGUpO1xuICAgIGlmICh0ZW1wbGF0ZVBhdGggPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1wiXCIsIG51bGxdKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVGaWxlID0gbWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdCh0ZW1wbGF0ZVBhdGgsIFwiXCIpO1xuICAgICAgICBjb25zdCBjb250ZW50cyA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGVGaWxlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgSUZvbGRJbmZvID0gd2luZG93LmFwcC5mb2xkTWFuYWdlci5sb2FkKHRlbXBsYXRlRmlsZSk7XG4gICAgICAgIHJldHVybiBbY29udGVudHMsIElGb2xkSW5mb107XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGUgJyR7dGVtcGxhdGVQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGVcIik7XG4gICAgICAgIHJldHVybiBbXCJcIiwgbnVsbF07XG4gICAgfVxufVxuXG4vKipcbiAqIGRhdGVVSUQgaXMgYSB3YXkgb2Ygd2Vla2x5IGlkZW50aWZ5aW5nIGRhaWx5L3dlZWtseS9tb250aGx5IG5vdGVzLlxuICogVGhleSBhcmUgcHJlZml4ZWQgd2l0aCB0aGUgZ3JhbnVsYXJpdHkgdG8gYXZvaWQgYW1iaWd1aXR5LlxuICovXG5mdW5jdGlvbiBnZXREYXRlVUlEKGRhdGUsIGdyYW51bGFyaXR5ID0gXCJkYXlcIikge1xuICAgIGNvbnN0IHRzID0gZGF0ZS5jbG9uZSgpLnN0YXJ0T2YoZ3JhbnVsYXJpdHkpLmZvcm1hdCgpO1xuICAgIHJldHVybiBgJHtncmFudWxhcml0eX0tJHt0c31gO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXNjYXBlZENoYXJhY3RlcnMoZm9ybWF0KSB7XG4gICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXFtbXlxcXV0qXFxdL2csIFwiXCIpOyAvLyByZW1vdmUgZXZlcnl0aGluZyB3aXRoaW4gYnJhY2tldHNcbn1cbi8qKlxuICogWFhYOiBXaGVuIHBhcnNpbmcgZGF0ZXMgdGhhdCBjb250YWluIGJvdGggd2VlayBudW1iZXJzIGFuZCBtb250aHMsXG4gKiBNb21lbnQgY2hvc2VzIHRvIGlnbm9yZSB0aGUgd2VlayBudW1iZXJzLiBGb3IgdGhlIHdlZWsgZGF0ZVVJRCwgd2VcbiAqIHdhbnQgdGhlIG9wcG9zaXRlIGJlaGF2aW9yLiBTdHJpcCB0aGUgTU1NIGZyb20gdGhlIGZvcm1hdCB0byBwYXRjaC5cbiAqL1xuZnVuY3Rpb24gaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkge1xuICAgIGlmIChncmFudWxhcml0eSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICByZXR1cm4gKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSAmJlxuICAgICAgICAgICAgKC9NezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpIHx8IC9EezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tRmlsZShmaWxlLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGUuYmFzZW5hbWUsIGdyYW51bGFyaXR5KTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tUGF0aChwYXRoLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGJhc2VuYW1lKHBhdGgpLCBncmFudWxhcml0eSk7XG59XG5mdW5jdGlvbiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGVuYW1lLCBncmFudWxhcml0eSkge1xuICAgIGNvbnN0IGdldFNldHRpbmdzID0ge1xuICAgICAgICBkYXk6IGdldERhaWx5Tm90ZVNldHRpbmdzLFxuICAgICAgICB3ZWVrOiBnZXRXZWVrbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIG1vbnRoOiBnZXRNb250aGx5Tm90ZVNldHRpbmdzLFxuICAgICAgICBxdWFydGVyOiBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHllYXI6IGdldFllYXJseU5vdGVTZXR0aW5ncyxcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdCA9IGdldFNldHRpbmdzW2dyYW51bGFyaXR5XSgpLmZvcm1hdC5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgY29uc3Qgbm90ZURhdGUgPSB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBmb3JtYXQsIHRydWUpO1xuICAgIGlmICghbm90ZURhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkpIHtcbiAgICAgICAgaWYgKGdyYW51bGFyaXR5ID09PSBcIndlZWtcIikge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBcbiAgICAgICAgICAgICAgICAvLyBJZiBmb3JtYXQgY29udGFpbnMgd2VlaywgcmVtb3ZlIGRheSAmIG1vbnRoIGZvcm1hdHRpbmdcbiAgICAgICAgICAgICAgICBmb3JtYXQucmVwbGFjZSgvTXsxLDR9L2csIFwiXCIpLnJlcGxhY2UoL0R7MSw0fS9nLCBcIlwiKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3RlRGF0ZTtcbn1cblxuY2xhc3MgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBtaW1pY3MgdGhlIGJlaGF2aW9yIG9mIHRoZSBkYWlseS1ub3RlcyBwbHVnaW5cbiAqIHNvIGl0IHdpbGwgcmVwbGFjZSB7e2RhdGV9fSwge3t0aXRsZX19LCBhbmQge3t0aW1lfX0gd2l0aCB0aGVcbiAqIGZvcm1hdHRlZCB0aW1lc3RhbXAuXG4gKlxuICogTm90ZTogaXQgaGFzIGFuIGFkZGVkIGJvbnVzIHRoYXQgaXQncyBub3QgJ3RvZGF5JyBzcGVjaWZpYy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGFpbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCBhcHAgPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IGFwcDtcbiAgICBjb25zdCBtb21lbnQgPSB3aW5kb3cubW9tZW50O1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXREYWlseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIG1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBtb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnllc3RlcmRheVxccyp9fS9naSwgZGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsIFwiZGF5XCIpLmZvcm1hdChmb3JtYXQpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRvbW9ycm93XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuYWRkKDEsIFwiZFwiKS5mb3JtYXQoZm9ybWF0KSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBhcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXREYWlseU5vdGUoZGF0ZSwgZGFpbHlOb3Rlcykge1xuICAgIHJldHVybiBkYWlseU5vdGVzW2dldERhdGVVSUQoZGF0ZSwgXCJkYXlcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxEYWlseU5vdGVzKCkge1xuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIGRhaWx5IG5vdGVzIGluIHRoZSBkYWlseSBub3RlIGZvbGRlclxuICAgICAqL1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldERhaWx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgZGFpbHlOb3Rlc0ZvbGRlciA9IHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChvYnNpZGlhbi5ub3JtYWxpemVQYXRoKGZvbGRlcikpO1xuICAgIGlmICghZGFpbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIGRhaWx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgY29uc3QgZGFpbHlOb3RlcyA9IHt9O1xuICAgIG9ic2lkaWFuLlZhdWx0LnJlY3Vyc2VDaGlsZHJlbihkYWlseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwiZGF5XCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcImRheVwiKTtcbiAgICAgICAgICAgICAgICBkYWlseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYWlseU5vdGVzO1xufVxuXG5jbGFzcyBXZWVrbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmZ1bmN0aW9uIGdldERheXNPZldlZWsoKSB7XG4gICAgY29uc3QgeyBtb21lbnQgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCB3ZWVrU3RhcnQgPSBtb21lbnQubG9jYWxlRGF0YSgpLl93ZWVrLmRvdztcbiAgICBjb25zdCBkYXlzT2ZXZWVrID0gW1xuICAgICAgICBcInN1bmRheVwiLFxuICAgICAgICBcIm1vbmRheVwiLFxuICAgICAgICBcInR1ZXNkYXlcIixcbiAgICAgICAgXCJ3ZWRuZXNkYXlcIixcbiAgICAgICAgXCJ0aHVyc2RheVwiLFxuICAgICAgICBcImZyaWRheVwiLFxuICAgICAgICBcInNhdHVyZGF5XCIsXG4gICAgXTtcbiAgICB3aGlsZSAod2Vla1N0YXJ0KSB7XG4gICAgICAgIGRheXNPZldlZWsucHVzaChkYXlzT2ZXZWVrLnNoaWZ0KCkpO1xuICAgICAgICB3ZWVrU3RhcnQtLTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXNPZldlZWs7XG59XG5mdW5jdGlvbiBnZXREYXlPZldlZWtOdW1lcmljYWxWYWx1ZShkYXlPZldlZWtOYW1lKSB7XG4gICAgcmV0dXJuIGdldERheXNPZldlZWsoKS5pbmRleE9mKGRheU9mV2Vla05hbWUudG9Mb3dlckNhc2UoKSk7XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXZWVrbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRXZWVrbHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSlcXHMqOiguKj8pfX0vZ2ksIChfLCBkYXlPZldlZWssIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlLndlZWtkYXkoZGF5KS5mb3JtYXQobW9tZW50Rm9ybWF0LnRyaW0oKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFdlZWtseU5vdGUoZGF0ZSwgd2Vla2x5Tm90ZXMpIHtcbiAgICByZXR1cm4gd2Vla2x5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxXZWVrbHlOb3RlcygpIHtcbiAgICBjb25zdCB3ZWVrbHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gd2Vla2x5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFdlZWtseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHdlZWtseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF3ZWVrbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgV2Vla2x5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB3ZWVrbHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4od2Vla2x5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ3ZWVrXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIik7XG4gICAgICAgICAgICAgICAgd2Vla2x5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdlZWtseU5vdGVzO1xufVxuXG5jbGFzcyBNb250aGx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1vbnRobHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgW3RlbXBsYXRlQ29udGVudHMsIElGb2xkSW5mb10gPSBhd2FpdCBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gZGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IGF3YWl0IGdldE5vdGVQYXRoKGZvbGRlciwgZmlsZW5hbWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgdmF1bHQuY3JlYXRlKG5vcm1hbGl6ZWRQYXRoLCB0ZW1wbGF0ZUNvbnRlbnRzXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqKGRhdGV8dGltZSlcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSwgKF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBkYXRlLmNsb25lKCkuc2V0KHtcbiAgICAgICAgICAgICAgICBob3VyOiBub3cuZ2V0KFwiaG91clwiKSxcbiAgICAgICAgICAgICAgICBtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2FsYykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlLmFkZChwYXJzZUludCh0aW1lRGVsdGEsIDEwKSwgdW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9tZW50Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqZGF0ZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB3aW5kb3cuYXBwLmZvbGRNYW5hZ2VyLnNhdmUoY3JlYXRlZEZpbGUsIElGb2xkSW5mbyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVkRmlsZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGZpbGU6ICcke25vcm1hbGl6ZWRQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiVW5hYmxlIHRvIGNyZWF0ZSBuZXcgZmlsZS5cIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGUoZGF0ZSwgbW9udGhseU5vdGVzKSB7XG4gICAgcmV0dXJuIG1vbnRobHlOb3Rlc1tnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxNb250aGx5Tm90ZXMoKSB7XG4gICAgY29uc3QgbW9udGhseU5vdGVzID0ge307XG4gICAgaWYgKCFhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gbW9udGhseU5vdGVzO1xuICAgIH1cbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgbW9udGhseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFtb250aGx5Tm90ZXNGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1vbnRobHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIG1vbnRobHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4obW9udGhseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICAgICAgbW9udGhseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtb250aGx5Tm90ZXM7XG59XG5cbmNsYXNzIFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIG1pbWljcyB0aGUgYmVoYXZpb3Igb2YgdGhlIGRhaWx5LW5vdGVzIHBsdWdpblxuICogc28gaXQgd2lsbCByZXBsYWNlIHt7ZGF0ZX19LCB7e3RpdGxlfX0sIGFuZCB7e3RpbWV9fSB3aXRoIHRoZVxuICogZm9ybWF0dGVkIHRpbWVzdGFtcC5cbiAqXG4gKiBOb3RlOiBpdCBoYXMgYW4gYWRkZWQgYm9udXMgdGhhdCBpdCdzIG5vdCAndG9kYXknIHNwZWNpZmljLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVRdWFydGVybHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccypkYXRlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aW1lXFxzKn19L2dpLCB3aW5kb3cubW9tZW50KCkuZm9ybWF0KFwiSEg6bW1cIikpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGl0bGVcXHMqfX0vZ2ksIGZpbGVuYW1lKSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHdpbmRvdy5hcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRRdWFydGVybHlOb3RlKGRhdGUsIHF1YXJ0ZXJseSkge1xuICAgIHJldHVybiBxdWFydGVybHlbZ2V0RGF0ZVVJRChkYXRlLCBcInF1YXJ0ZXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxRdWFydGVybHlOb3RlcygpIHtcbiAgICBjb25zdCBxdWFydGVybHkgPSB7fTtcbiAgICBpZiAoIWFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHF1YXJ0ZXJseTtcbiAgICB9XG4gICAgY29uc3QgeyB2YXVsdCB9ID0gd2luZG93LmFwcDtcbiAgICBjb25zdCB7IGZvbGRlciB9ID0gZ2V0UXVhcnRlcmx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgcXVhcnRlcmx5Rm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFxdWFydGVybHlGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yKFwiRmFpbGVkIHRvIGZpbmQgcXVhcnRlcmx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgb2JzaWRpYW4uVmF1bHQucmVjdXJzZUNoaWxkcmVuKHF1YXJ0ZXJseUZvbGRlciwgKG5vdGUpID0+IHtcbiAgICAgICAgaWYgKG5vdGUgaW5zdGFuY2VvZiBvYnNpZGlhbi5URmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGdldERhdGVGcm9tRmlsZShub3RlLCBcInF1YXJ0ZXJcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwicXVhcnRlclwiKTtcbiAgICAgICAgICAgICAgICBxdWFydGVybHlbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1YXJ0ZXJseTtcbn1cblxuY2xhc3MgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVllYXJseU5vdGUoZGF0ZSkge1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyB0ZW1wbGF0ZSwgZm9ybWF0LCBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihkYXRlfHRpbWUpXFxzKigoWystXVxcZCspKFt5cW13ZGhzXSkpP1xccyooOi4rPyk/fX0vZ2ksIChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIHdpbmRvdy5tb21lbnQoKS5mb3JtYXQoXCJISDptbVwiKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFllYXJseU5vdGUoZGF0ZSwgeWVhcmx5Tm90ZXMpIHtcbiAgICByZXR1cm4geWVhcmx5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxZZWFybHlOb3RlcygpIHtcbiAgICBjb25zdCB5ZWFybHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4geWVhcmx5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHllYXJseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF5ZWFybHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB5ZWFybHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4oeWVhcmx5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ5ZWFyXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIik7XG4gICAgICAgICAgICAgICAgeWVhcmx5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHllYXJseU5vdGVzO1xufVxuXG5mdW5jdGlvbiBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkKCkge1xuICAgIGNvbnN0IHsgYXBwIH0gPSB3aW5kb3c7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBkYWlseU5vdGVzUGx1Z2luID0gYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zW1wiZGFpbHktbm90ZXNcIl07XG4gICAgaWYgKGRhaWx5Tm90ZXNQbHVnaW4gJiYgZGFpbHlOb3Rlc1BsdWdpbi5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5kYWlseT8uZW5hYmxlZDtcbn1cbi8qKlxuICogWFhYOiBcIldlZWtseSBOb3Rlc1wiIGxpdmUgaW4gZWl0aGVyIHRoZSBDYWxlbmRhciBwbHVnaW4gb3IgdGhlIHBlcmlvZGljLW5vdGVzIHBsdWdpbi5cbiAqIENoZWNrIGJvdGggdW50aWwgdGhlIHdlZWtseSBub3RlcyBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgQ2FsZW5kYXIgcGx1Z2luLlxuICovXG5mdW5jdGlvbiBhcHBIYXNXZWVrbHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaWYgKGFwcC5wbHVnaW5zLmdldFBsdWdpbihcImNhbGVuZGFyXCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy53ZWVrbHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5tb250aGx5Py5lbmFibGVkO1xufVxuZnVuY3Rpb24gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5xdWFydGVybHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNZZWFybHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGVyaW9kaWNOb3RlcyA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpO1xuICAgIHJldHVybiBwZXJpb2RpY05vdGVzICYmIHBlcmlvZGljTm90ZXMuc2V0dGluZ3M/LnllYXJseT8uZW5hYmxlZDtcbn1cbmZ1bmN0aW9uIGdldFBlcmlvZGljTm90ZVNldHRpbmdzKGdyYW51bGFyaXR5KSB7XG4gICAgY29uc3QgZ2V0U2V0dGluZ3MgPSB7XG4gICAgICAgIGRheTogZ2V0RGFpbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHdlZWs6IGdldFdlZWtseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgbW9udGg6IGdldE1vbnRobHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHF1YXJ0ZXI6IGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgeWVhcjogZ2V0WWVhcmx5Tm90ZVNldHRpbmdzLFxuICAgIH1bZ3JhbnVsYXJpdHldO1xuICAgIHJldHVybiBnZXRTZXR0aW5ncygpO1xufVxuZnVuY3Rpb24gY3JlYXRlUGVyaW9kaWNOb3RlKGdyYW51bGFyaXR5LCBkYXRlKSB7XG4gICAgY29uc3QgY3JlYXRlRm4gPSB7XG4gICAgICAgIGRheTogY3JlYXRlRGFpbHlOb3RlLFxuICAgICAgICBtb250aDogY3JlYXRlTW9udGhseU5vdGUsXG4gICAgICAgIHdlZWs6IGNyZWF0ZVdlZWtseU5vdGUsXG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlRm5bZ3JhbnVsYXJpdHldKGRhdGUpO1xufVxuXG5leHBvcnRzLkRFRkFVTFRfREFJTFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUO1xuZXhwb3J0cy5ERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfUVVBUlRFUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9RVUFSVEVSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfV0VFS0xZX05PVEVfRk9STUFUID0gREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9ZRUFSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLmFwcEhhc0RhaWx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkO1xuZXhwb3J0cy5hcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1dlZWtseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1llYXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmNyZWF0ZURhaWx5Tm90ZSA9IGNyZWF0ZURhaWx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlTW9udGhseU5vdGUgPSBjcmVhdGVNb250aGx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlUGVyaW9kaWNOb3RlID0gY3JlYXRlUGVyaW9kaWNOb3RlO1xuZXhwb3J0cy5jcmVhdGVRdWFydGVybHlOb3RlID0gY3JlYXRlUXVhcnRlcmx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlV2Vla2x5Tm90ZSA9IGNyZWF0ZVdlZWtseU5vdGU7XG5leHBvcnRzLmNyZWF0ZVllYXJseU5vdGUgPSBjcmVhdGVZZWFybHlOb3RlO1xuZXhwb3J0cy5nZXRBbGxEYWlseU5vdGVzID0gZ2V0QWxsRGFpbHlOb3RlcztcbmV4cG9ydHMuZ2V0QWxsTW9udGhseU5vdGVzID0gZ2V0QWxsTW9udGhseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxRdWFydGVybHlOb3RlcyA9IGdldEFsbFF1YXJ0ZXJseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxXZWVrbHlOb3RlcyA9IGdldEFsbFdlZWtseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxZZWFybHlOb3RlcyA9IGdldEFsbFllYXJseU5vdGVzO1xuZXhwb3J0cy5nZXREYWlseU5vdGUgPSBnZXREYWlseU5vdGU7XG5leHBvcnRzLmdldERhaWx5Tm90ZVNldHRpbmdzID0gZ2V0RGFpbHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldERhdGVGcm9tRmlsZSA9IGdldERhdGVGcm9tRmlsZTtcbmV4cG9ydHMuZ2V0RGF0ZUZyb21QYXRoID0gZ2V0RGF0ZUZyb21QYXRoO1xuZXhwb3J0cy5nZXREYXRlVUlEID0gZ2V0RGF0ZVVJRDtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGUgPSBnZXRNb250aGx5Tm90ZTtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGVTZXR0aW5ncyA9IGdldE1vbnRobHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFBlcmlvZGljTm90ZVNldHRpbmdzID0gZ2V0UGVyaW9kaWNOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFF1YXJ0ZXJseU5vdGUgPSBnZXRRdWFydGVybHlOb3RlO1xuZXhwb3J0cy5nZXRRdWFydGVybHlOb3RlU2V0dGluZ3MgPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFRlbXBsYXRlSW5mbyA9IGdldFRlbXBsYXRlSW5mbztcbmV4cG9ydHMuZ2V0V2Vla2x5Tm90ZSA9IGdldFdlZWtseU5vdGU7XG5leHBvcnRzLmdldFdlZWtseU5vdGVTZXR0aW5ncyA9IGdldFdlZWtseU5vdGVTZXR0aW5ncztcbmV4cG9ydHMuZ2V0WWVhcmx5Tm90ZSA9IGdldFllYXJseU5vdGU7XG5leHBvcnRzLmdldFllYXJseU5vdGVTZXR0aW5ncyA9IGdldFllYXJseU5vdGVTZXR0aW5ncztcbiIsICJpbXBvcnQgeyBQbHVnaW4sIFBvcywgVEZpbGUsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vLyBEYWlseSBOb3RlIEludGVyZmFjZVxyXG5pbXBvcnQgeyBnZXRBbGxEYWlseU5vdGVzLCBnZXREYWlseU5vdGUsIGdldERhdGVGcm9tRmlsZSwgSUdyYW51bGFyaXR5IH0gZnJvbSBcIm9ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZVwiO1xyXG4vLyBtb21lbnQuanNcclxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XHJcblxyXG5pbXBvcnQgeyBEYWlseU5vdGVPdXRsaW5lVmlldywgRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlIH0gZnJvbSAnc3JjL3ZpZXcnXHJcbmltcG9ydCB7IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5nVGFiIH0gZnJvbSAnc3JjL3NldHRpbmcnXHJcblxyXG5cclxuXHJcbi8vIFx1OEEyRFx1NUI5QVx1OTgwNVx1NzZFRSBcclxuZXhwb3J0IGludGVyZmFjZSBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3Mge1xyXG5cdGluaXRpYWxTZWFyY2hUeXBlOiBzdHJpbmc7IC8vZm9yd2FyZCBvciBiYWNrd2FyZCBcdTcyNzlcdTVCOUFcdTY1RTVcdTMwNEJcdTMwODlcdTUyNERcdTY1QjlcdTYzQTJcdTdEMjJvclx1NUY1M1x1NjVFNVx1MzA0Qlx1MzA4OVx1NUY4Q1x1NjVCOVx1NjNBMlx1N0QyMlxyXG5cdG9mZnNldDogbnVtYmVyO1x0XHQvLyBcdTY3MkFcdTY3NjVcdTMwNkVcdTY1RTVcdTRFRDhcdTMwODJcdTU0MkJcdTMwODBcdTU4MzRcdTU0MDhcdTRGNTVcdTY1RTVcdTUyMDZcdTU0MkJcdTMwODFcdTMwOEJcdTMwNEIgbnVtYmVyIG9mIGZ1dHVyZSBkYXlzIHRvIHNob3cgXHJcblx0b25zZXQ6IHN0cmluZztcdFx0Ly8gXHU3Mjc5XHU1QjlBXHU2NUU1XHUzMDRCXHUzMDg5Zm9yd2FyZFx1MzA2Qlx1NjNBMlx1N0QyMlx1MzA1OVx1MzA4Qlx1NTgzNFx1NTQwOFx1MzA2RVx1OEQ3N1x1NzBCOVx1NjVFNSBvbnNldCBkYXRlXHJcblx0ZHVyYXRpb246e1xyXG5cdFx0ZGF5Om51bWJlcjtcclxuXHRcdHdlZWs6bnVtYmVyO1xyXG5cdFx0bW9udGg6bnVtYmVyO1xyXG5cdFx0cXVhcnRlcjpudW1iZXI7XHJcblx0XHR5ZWFyOm51bWJlcjtcclxuXHR9IC8vIFx1NjNBMlx1N0QyMlx1NjVFNVx1NjU3MCBudW1iZXIgb2YgZGF5cyB0byBzZWFyY2ggcGVyIHBhZ2VcclxuXHRzaG93RWxlbWVudHM6e1xyXG5cdFx0aGVhZGluZzogYm9vbGVhbjtcclxuXHRcdGxpbms6IGJvb2xlYW47XHJcblx0XHR0YWc6IGJvb2xlYW47XHJcblx0XHRsaXN0SXRlbXM6IGJvb2xlYW5cclxuXHR9O1xyXG5cdGhlYWRpbmdMZXZlbDogYm9vbGVhbltdO1xyXG5cdGFsbFJvb3RJdGVtczogYm9vbGVhbjtcclxuXHRhbGxUYXNrczogYm9vbGVhbjtcclxuXHR0YXNrT25seTogYm9vbGVhbjtcclxuXHRoaWRlQ29tcGxldGVkVGFza3M6IGJvb2xlYW47XHJcblx0ZGlzcGxheUZpbGVJbmZvOiBzdHJpbmc7IC8vIG5vbmUgfHwgbGluZXMgfHwgZGF5cyAgIGxlZ2FjeVxyXG5cdGRpc3BsYXlGaWxlSW5mb0RhaWx5OiBzdHJpbmc7IC8vIG5vbmUsbGluZXMsZGF5cyxkb3coZGF5IG9mIHRoZSB3ZWVrKSxkb3dzaG9ydCx3ZWVrbnVtYmVyLHRhZ1xyXG5cdGRpc3BsYXlGaWxlSW5mb1BlcmlvZGljOiBzdHJpbmc7IC8vIG5vbmUsbGluZXMsZGF5cyx0YWdcclxuXHJcblx0dmlld1Bvc2l0aW9uOiBzdHJpbmc7XHQvL3JpZ2h0IHx8IGxlZnQgfHwgdGFiIHx8IHNwbGl0IHx8IHBvcG91dCBcclxuXHJcblx0bWFya2Rvd25Pbmx5OiBib29sZWFuO1xyXG5cdGV4YWN0TWF0Y2hPbmx5OiBib29sZWFuO1xyXG5cclxuXHR3b3Jkc1RvSWdub3JlOntcdC8vZmlsdGVyXHJcblx0XHRoZWFkaW5nOiBzdHJpbmdbXTtcclxuXHRcdGxpbms6IHN0cmluZ1tdO1xyXG5cdFx0dGFnOiBzdHJpbmdbXTtcclxuXHRcdGxpc3RJdGVtczogc3RyaW5nW11cclxuXHR9O1xyXG5cclxuXHRpbmxpbmVQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uOiBzdHJpbmc7IC8vIGxlZnQgfHwgcmlnaHRcclxuXHJcblxyXG5cdGluY2x1ZGVPbmx5OiBzdHJpbmc7XHQvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0luY2x1ZGU6IHN0cmluZ1tdO1xyXG5cdGluY2x1ZGVCZWdpbm5pbmc6IGJvb2xlYW47XHJcblxyXG5cdHByaW1lRWxlbWVudDogc3RyaW5nOyAvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0V4Y2x1ZGU6e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nW107XHJcblx0XHRsaW5rOiBzdHJpbmdbXTtcclxuXHRcdHRhZzogc3RyaW5nW107XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZ1tdXHJcblx0fTtcclxuXHR3b3Jkc1RvRXh0cmFjdDogc3RyaW5nO1xyXG5cclxuXHRpY29uOntcdC8vaWNvbiBmb3IgZWFjaCB0eXBlIG9mIGVsZW1lbnRcclxuXHRcdGhlYWRpbmc6IHN0cmluZztcclxuXHRcdGxpbms6IHN0cmluZztcclxuXHRcdHRhZzogc3RyaW5nO1xyXG5cdFx0bGlzdEl0ZW1zOiBzdHJpbmc7XHJcblx0XHRub3RlOiBzdHJpbmc7XHJcblx0XHR0YXNrOiBzdHJpbmc7XHJcblx0XHR0YXNrRG9uZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdGN1c3RvbUljb246e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdG5vdGU6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0fTtcclxuXHJcblx0aW5kZW50OntcclxuXHRcdGhlYWRpbmc6IGJvb2xlYW47XHJcblx0XHRsaW5rOiBib29sZWFuO1xyXG5cdFx0bGlzdEl0ZW1zOiBib29sZWFuO1xyXG5cdH07XHJcblx0aW5kZW50Rm9sbG93SGVhZGluZzogbnVtYmVyOyAvLyAwIGRvbid0IGZvbGxvdyAxOnNhbWUgbGV2ZWwgMjogbGV2ZWwrMVxyXG5cclxuXHRwcmVmaXg6e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0fTtcclxuXHRyZXBlYXRIZWFkaW5nUHJlZml4OiBzdHJpbmc7IC8vIG5vbmUsIGxldmVsLCBsZXZlbC0xXHJcblx0YWRkQ2hlY2tib3hUZXh0OiBib29sZWFuO1xyXG5cclxuXHRwZXJpb2RpY05vdGVzRW5hYmxlZDogYm9vbGVhbjtcclxuXHRjYWxlbmRhclNldHNFbmFibGVkOiBib29sZWFuO1xyXG5cdGF0dGFjaFdlZWtseU5vdGVzTmFtZTogYm9vbGVhbjtcclxuXHJcblx0c2hvd0RlYnVnSW5mbzogYm9vbGVhbjtcclxufVxyXG5cclxuLy8gXHU4QTJEXHU1QjlBXHU5ODA1XHU3NkVFXHUzMEM3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEM4XHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3MgPSB7XHJcblx0aW5pdGlhbFNlYXJjaFR5cGU6ICdiYWNrd2FyZCcsXHJcblx0b2Zmc2V0OiA3LFxyXG5cdG9uc2V0OiAnMjAyMC0wMy0zMCcsXHJcblx0ZHVyYXRpb246IHtcclxuXHRcdGRheToyOCxcclxuXHRcdHdlZWs6MTIsXHJcblx0XHRtb250aDoxMixcclxuXHRcdHF1YXJ0ZXI6OCxcclxuXHRcdHllYXI6M1xyXG5cdH0sXHJcblx0c2hvd0VsZW1lbnRzOiB7XHJcblx0XHRoZWFkaW5nOiB0cnVlLFxyXG5cdFx0bGluazogdHJ1ZSxcclxuXHRcdHRhZzogdHJ1ZSxcclxuXHRcdGxpc3RJdGVtczogdHJ1ZVxyXG5cdH0sXHJcblx0XHJcblx0aGVhZGluZ0xldmVsOiBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV0sXHJcblx0YWxsUm9vdEl0ZW1zOiBmYWxzZSxcclxuXHRhbGxUYXNrczogdHJ1ZSxcclxuXHR0YXNrT25seTogZmFsc2UsXHJcblx0aGlkZUNvbXBsZXRlZFRhc2tzOiBmYWxzZSxcclxuXHRkaXNwbGF5RmlsZUluZm86ICdsaW5lcycsXHJcblx0ZGlzcGxheUZpbGVJbmZvRGFpbHk6ICdsaW5lcycsIC8vIG5vbmUsbGluZXMsZGF5cyxkb3coZGF5IG9mIHRoZSB3ZWVrKSxkb3dzaG9ydCx3ZWVrbnVtYmVyLHRhZ1xyXG5cdGRpc3BsYXlGaWxlSW5mb1BlcmlvZGljOiAnbGluZXMnLCAvLyBub25lLGxpbmVzLGRheXMsdGFnXHJcblx0dmlld1Bvc2l0aW9uOiAncmlnaHQnLFxyXG5cclxuXHRtYXJrZG93bk9ubHk6IHRydWUsXHJcblx0ZXhhY3RNYXRjaE9ubHk6IGZhbHNlLFxyXG5cclxuXHR3b3Jkc1RvSWdub3JlOntcclxuXHRcdGhlYWRpbmc6IFtdLFxyXG5cdFx0bGluazogW10sXHJcblx0XHR0YWc6IFtdLFxyXG5cdFx0bGlzdEl0ZW1zOiBbXVxyXG5cdH0sXHJcblxyXG5cdGlubGluZVByZXZpZXc6IHRydWUsXHJcblx0dG9vbHRpcFByZXZpZXc6IHRydWUsXHJcblx0dG9vbHRpcFByZXZpZXdEaXJlY3Rpb246ICdsZWZ0JyxcclxuXHJcblx0XHJcblx0aW5jbHVkZU9ubHk6ICdub25lJyxcclxuXHR3b3Jkc1RvSW5jbHVkZTogW10sXHJcblx0aW5jbHVkZUJlZ2lubmluZzogdHJ1ZSxcclxuXHJcblx0cHJpbWVFbGVtZW50OiAnbm9uZScsXHJcblx0d29yZHNUb0V4Y2x1ZGU6e1xyXG5cdFx0aGVhZGluZzogW10sXHJcblx0XHRsaW5rOiBbXSxcclxuXHRcdHRhZzogW10sXHJcblx0XHRsaXN0SXRlbXM6IFtdXHJcblx0fSxcclxuXHR3b3Jkc1RvRXh0cmFjdDogJycsXHJcblxyXG5cdGljb246e1x0XHJcblx0XHRoZWFkaW5nOiAnbm9uZScsXHJcblx0XHRsaW5rOiAnbGluaycsXHJcblx0XHR0YWc6ICd0YWcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnbGlzdCcsXHJcblx0XHRub3RlOiAnZmlsZScsXHJcblx0XHR0YXNrOiAnc3F1YXJlJyxcclxuXHRcdHRhc2tEb25lOiAnY2hlY2stc3F1YXJlJ1xyXG5cdH0sXHJcblx0Y3VzdG9tSWNvbjp7XHJcblx0XHRoZWFkaW5nOiAnaGFzaCcsXHJcblx0XHRsaW5rOiAnbGluaycsXHJcblx0XHR0YWc6ICd0YWcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnbGlzdCcsXHJcblx0XHRub3RlOidmaWxlJyxcclxuXHRcdHRhc2s6J3NxdWFyZScsXHJcblx0XHR0YXNrRG9uZTonY2hlY2stc3F1YXJlJ1xyXG5cdH0sXHJcblxyXG5cdGluZGVudDp7XHJcblx0XHRoZWFkaW5nOiB0cnVlLFxyXG5cdFx0bGluazogdHJ1ZSxcclxuXHRcdGxpc3RJdGVtczogdHJ1ZSxcclxuXHR9LFxyXG5cdGluZGVudEZvbGxvd0hlYWRpbmc6IDAsXHJcblx0cHJlZml4OntcclxuXHRcdGhlYWRpbmc6ICcnLFxyXG5cdFx0bGluazogJycsXHJcblx0XHR0YWc6ICcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnJyxcclxuXHRcdHRhc2s6ICcnLFxyXG5cdFx0dGFza0RvbmU6ICcnXHJcblx0fSxcclxuXHRyZXBlYXRIZWFkaW5nUHJlZml4Oidub25lJyxcclxuXHRhZGRDaGVja2JveFRleHQ6IGZhbHNlLFxyXG5cclxuXHQvLyBkYWlseU5vdGVDb3JlOiB0cnVlLFxyXG5cdHBlcmlvZGljTm90ZXNFbmFibGVkOiB0cnVlLFxyXG5cdGNhbGVuZGFyU2V0c0VuYWJsZWQ6IHRydWUsXHJcblx0YXR0YWNoV2Vla2x5Tm90ZXNOYW1lOiB0cnVlLFxyXG5cclxuXHRzaG93RGVidWdJbmZvOiBmYWxzZSxcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUluZm8ge1xyXG5cdC8vIGZpbGU6VEZpbGU7XHJcblx0ZGF0ZTogbW9tZW50O1xyXG5cdC8vY29udGVudDogc3RyaW5nO1xyXG5cdGxpbmVzOiBzdHJpbmdbXTtcclxuXHRudW1PZkxpbmVzOiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPdXRsaW5lRGF0YSB7XHRcclxuXHJcblx0dHlwZU9mRWxlbWVudDonaGVhZGluZyd8J2xpbmsnfCd0YWcnfCdsaXN0SXRlbXMnO1xyXG5cdHBvc2l0aW9uOlBvcztcclxuXHRsaW5rPzpzdHJpbmc7XHJcblx0ZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcblx0Ly8gbGV2ZWwgXHVGRjFBbGlzdEl0ZW1zXHUzMDZCXHUzMDY0XHUzMDQ0XHUzMDY2XHUzMDZGMFx1RkYxQVx1MzBDOFx1MzBDM1x1MzBEN1x1MzAwMTFcdUZGMUFcdTMwRUJcdTMwRkNcdTMwQzhcdTMwMDEyXHVGRjFBXHUzMDVEXHUzMDhDXHU0RUU1XHU0RTBCXHJcblx0bGV2ZWw/Om51bWJlcjtcclxuXHR0YXNrPzogc3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERBWVNfUEVSX1VOSVQgPXtcclxuXHRkYXk6IDEsXHJcblx0d2VlazogNyxcclxuXHRtb250aDogMzAsXHJcblx0cXVhcnRlcjogOTAsXHJcblx0eWVhcjozNjVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdSQU5VTEFSSVRZX0xJU1Q6IElHcmFudWxhcml0eVtdID0gWydkYXknLCd3ZWVrJywnbW9udGgnLCdxdWFydGVyJywneWVhciddXHJcblxyXG5leHBvcnQgY29uc3QgR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFkgPSB7XHJcblx0ZGF5OiAnZGFpbHknLFxyXG5cdHdlZWs6ICd3ZWVrbHknLFxyXG5cdG1vbnRoOiAnbW9udGhseScsXHJcblx0cXVhcnRlcjogJ3F1YXJ0ZXJseScsXHJcblx0eWVhcjogJ3llYXJseSdcclxufSBcclxuXHJcbmV4cG9ydCBjb25zdCBGSUxFSU5GT19UT19ESVNQTEFZID0ge1xyXG5cdG5vbmU6ICdub25lJyxcclxuXHRsaW5lczogJ251bSBvZiBsaW5lcycsXHJcblx0ZGF5czogJ2Rpc3RhbmNlJyxcclxuXHR0YWc6ICdmaXJzdCB0YWcnXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGSUxFSU5GT19UT19ESVNQTEFZX0RBWSA9IHtcclxuXHRub25lOiAnbm9uZScsXHJcblx0bGluZXM6ICdudW0gb2YgbGluZXMnLFxyXG5cdGRheXM6ICdkaXN0YW5jZScsXHJcblx0dGFnOiAnZmlyc3QgdGFnJyxcclxuXHRkb3c6ICdkYXkgb2Ygd2VlaycsXHJcblx0ZG93c2hvcnQ6ICdkYXkgb2Ygd2VlayhzaG9ydCknLFxyXG5cdHdlZWtudW1iZXI6ICd3ZWVrIG51bWJlcidcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG5cdHNldHRpbmdzOiBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3M7XHJcblx0dmlldzogRGFpbHlOb3RlT3V0bGluZVZpZXc7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdFxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdC8vcmVnaXN0ZXIgY3VzdG9tZSB2aWV3IGFjY29yZGluZyB0byBEZXZsb3BlciBEb2NzXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0RGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlLFxyXG5cdFx0XHQobGVhZikgPT4gKHRoaXMudmlldyA9IG5ldyBEYWlseU5vdGVPdXRsaW5lVmlldyhsZWFmLCB0aGlzLCB0aGlzLnNldHRpbmdzKSlcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTMwQjNcdTMwREVcdTMwRjNcdTMwQzlcdThGRkRcdTUyQTBcclxuXHRcdC8vIE9wZW4gT3V0bGluZTogXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4ODY4XHU3OTNBXHU3NTI4XHUzMDZFXHUzMEFCXHUzMEI5XHUzMEJGXHUzMEUwXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDkyXHU5NThCXHUzMDRGXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2RhaWx5LW5vdGUtb3V0bGluZS1vcGVuJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gT3V0bGluZScsXHJcblxyXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCk9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGVja1ZpZXcoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdFxyXG5cdFx0Ly8gLy8gZ2V0IFRvZGF5J3MgTm90ZTogRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFdGVzdFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1OTU4Qlx1NzY3QVx1NzUyOFx1MzBCM1x1MzBERVx1MzBGM1x1MzBDOVx1MzAwMlxyXG5cdFx0Ly8gLy8gXHU1MTY4RGFpbHlOb3RlXHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDVGXHUzMDZFXHUzMDYxXHUzMDAxXHU2NzJDXHU2NUU1XHU1MjA2XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDY2XHUzMDAxY29uc29sZVx1MzA2Qlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1MzAwMlxyXG5cdFx0XHJcblx0XHQvLyB0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0Ly8gXHRpZDogJ2RhaWx5LW5vdGUtb3V0bGluZS1nZXRUb2RheXNOb3RlJyxcclxuXHRcdC8vIFx0bmFtZTogXCJHZXQgVG9kYXkncyBOb3RlXCIsXHJcblx0XHQvLyBcdGNhbGxiYWNrOiBhc3luYyAoKT0+e1xyXG5cdFx0Ly8gXHRcdC8vIFx1NTE2OFx1MzA2Nlx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdGNvbnN0IGFsbERhaWx5Tm90ZXMgPSBnZXRBbGxEYWlseU5vdGVzKCk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2coYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2codHlwZW9mIGFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0Ly8gXHRcdGNvbnNvbGUubG9nKCdtb21lbnRcdTMwNURcdTMwNkVcdTMwN0VcdTMwN0UnLG1vbWVudCgpKTtcclxuXHRcdC8vIFx0XHRjb25zb2xlLmxvZyhgRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFXHUzMEFEXHUzMEZDXHUzMDZFXHU1RjYyXHU1RjBGXHUzMDZCXHUzMDAyZGF5LSR7d2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLmZvcm1hdCgpfWApO1xyXG5cclxuXHRcdC8vIFx0XHQvL1x1NjcyQ1x1NjVFNVx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdGNvbnN0IHRvZGF5c05vdGUgPSBnZXREYWlseU5vdGUobW9tZW50KCksIGFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0Ly8gXHRcdGlmICh0b2RheXNOb3RlKXtcclxuXHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKHRvZGF5c05vdGUpXHJcblx0XHQvLyBcdFx0XHQvLyBcdTY1RTVcdTRFRDhcdTMwNkVcdTUzRDZcdTVGOTdcclxuXHRcdC8vIFx0XHRcdGNvbnN0IG5vdGVEYXRlID0gZ2V0RGF0ZUZyb21GaWxlKHRvZGF5c05vdGUsXCJkYXlcIik7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZyhgXHU2NUU1XHU0RUQ4XHUzMDZGICR7bm90ZURhdGV9XHUzMDY3XHUzMDU5YCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdC8vIFx0XHRcdGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodG9kYXlzTm90ZSk7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZygnY2FjaGU6JywgY2FjaGUpO1xyXG5cclxuXHRcdC8vIFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRvZGF5c05vdGUpO1xyXG5cdFx0Ly8gXHRcdFx0Y29uc29sZS5sb2cobm90ZSk7XHJcblxyXG5cdFx0Ly8gXHRcdH0gZWxzZSB7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZygnXHU0RUNBXHU2NUU1XHUzMDZFXHUzMENFXHUzMEZDXHUzMEM4XHUzMDRDXHUzMDdGXHUzMDQyXHUzMDVGXHUzMDhBXHUzMDdFXHUzMDVCXHUzMDkzJyk7XHJcblx0XHQvLyBcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyB9KTtcclxuXHRcclxuXHQvLyB2aWV3XHUzMDZFXHU2NkY0XHU2NUIwKFx1MzBBMlx1MzBDM1x1MzBEN1x1MzBDN1x1MzBGQ1x1MzBDOFx1NjY0Mlx1NzUyOClcclxuXHRpZiAodGhpcy5hcHAud29ya3NwYWNlLmxheW91dFJlYWR5KXtcclxuXHRcdHRoaXMuY2hlY2tWaWV3KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1yZWFkeScsIHRoaXMuY2hlY2tWaWV3KSk7XHJcblx0fVxyXG5cclxuXHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRGFpbHlOb3RlT3V0bGluZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdC8vIERldmVsb3BlciBEb2NzXHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHUzMEFCXHUzMEI5XHUzMEJGXHUzMEUwXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDkyXHUzMEM3XHUzMEJGXHUzMEMzXHUzMEMxXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKERhaWx5Tm90ZU91dGxpbmVWaWV3VHlwZSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHRcdC8vIHYwLjYuMFx1NEVFNVx1NTI0RFx1MzA2RVx1OEEyRFx1NUI5QVx1MzBDN1x1MzBGQ1x1MzBCRlx1MzA2Qlx1NUJGRVx1MzA1N1x1MzA2Nlx1NEU5Mlx1NjNEQlx1NjAyN1x1MzA5Mlx1N0RBRFx1NjMwMVx1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzA2RVx1NUJGRVx1NUZEQ1xyXG5cdFx0Ly8gMC42XHVGRjBFMFx1NEVFNVx1NTI0RFx1MzA2RmR1cmF0aW9uXHUzMDZGIG51bWJlclx1NTc4Qlx1MzA2MFx1MzA2M1x1MzA1Rlx1MzA0Q1x1MzAwMSBkYXl+eWVhclx1MzA2RVx1MzBEN1x1MzBFRFx1MzBEMVx1MzBDNlx1MzBBM1x1MzA5Mlx1NjMwMVx1MzA2NFx1MzBBQVx1MzBENlx1MzBCOFx1MzBBN1x1MzBBRlx1MzBDOFx1MzA2Qlx1NTkwOVx1NjZGNFx1MzA1N1x1MzA1Rlx1MzAwMlxyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLmR1cmF0aW9uID09PSBcIm51bWJlclwiKXtcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5kdXJhdGlvbiA9IERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb247XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tWaWV3ID0gYXN5bmMoKTpQcm9taXNlPHZvaWQ+ID0+IHtcclxuXHJcblx0XHRsZXQgW2xlYWZdID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShEYWlseU5vdGVPdXRsaW5lVmlld1R5cGUpO1xyXG5cdFx0aWYgKCFsZWFmKSB7XHJcblx0XHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy52aWV3UG9zaXRpb24pIHtcclxuXHRcdFx0XHRjYXNlICdyaWdodCc6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdsZWZ0JzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVmdExlYWYoZmFsc2UpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAndGFiJzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdzcGxpdCc6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jyk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdwb3BvdXQnOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd3aW5kb3cnKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlfSk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHJcblx0fSBcclxuXHQgXHJcbn0iLCAiaW1wb3J0IHsgTWFya2Rvd25WaWV3LCBOb3RpY2UsIHNldEljb24sIGRlYm91bmNlLCBEZWJvdW5jZXIsIE1lbnUsIFZpZXdTdGF0ZVJlc3VsdCwgVmlld30gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBnZXRBbGxEYWlseU5vdGVzLCBnZXREYXRlRnJvbUZpbGUsIGNyZWF0ZURhaWx5Tm90ZSwgZ2V0RGF0ZVVJRCwgXHJcblx0Z2V0QWxsV2Vla2x5Tm90ZXMsIGdldEFsbE1vbnRobHlOb3RlcywgZ2V0QWxsUXVhcnRlcmx5Tm90ZXMsIGdldEFsbFllYXJseU5vdGVzLCBJR3JhbnVsYXJpdHkgfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXHJcblxyXG5pbXBvcnQgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiwgeyBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3MsIE91dGxpbmVEYXRhLCBGaWxlSW5mbywgREFZU19QRVJfVU5JVCxHUkFOVUxBUklUWV9MSVNULCBHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWSwgRklMRUlORk9fVE9fRElTUExBWSwgRklMRUlORk9fVE9fRElTUExBWV9EQVl9IGZyb20gJ3NyYy9tYWluJztcclxuXHJcbmltcG9ydCB7IGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUgfSBmcm9tICdzcmMvY3JlYXRlQW5kT3BlbkRhaWx5Tm90ZSc7XHJcbmltcG9ydCB7IE1vZGFsRXh0cmFjdCB9IGZyb20gJ3NyYy9tb2RhbEV4dHJhY3QnO1xyXG5cclxuLy8gUGVyaW9kaWMgTm90ZXNcclxuaW1wb3J0IHt0eXBlIENhbGVuZGFyU2V0LH0gZnJvbSAnc3JjL3BlcmlvZGljTm90ZXNUeXBlcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUgfSBmcm9tICcuL2NyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUnO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBEYWlseU5vdGVPdXRsaW5lVmlld1R5cGUgPSAnZGFpbHktbm90ZS1vdXRsaW5lJztcclxuXHJcbi8vIFN0YXRlXHUzMDY3XHU3M0ZFXHU1NzI4XHU4ODY4XHU3OTNBXHU0RTJEXHUzMDZFXHU3QzkyXHU1RUE2XHUzMDAxXHUzMEFCXHUzMEVDXHUzMEYzXHUzMEMwXHUzMEZDXHUzMEJCXHUzMEMzXHUzMEM4XHUzMDkyXHU0RkREXHU2MzAxXHJcbmludGVyZmFjZSBJRGFpbHlOb3RlT3V0bGluZVN0YXRlIHtcclxuXHRhY3RpdmVTZXQ6IG51bWJlcjtcclxuXHRhY3RpdmVHcmFudWxhcml0eTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVZpZXcgZXh0ZW5kcyBJdGVtVmlldyBpbXBsZW1lbnRzIElEYWlseU5vdGVPdXRsaW5lU3RhdGUge1xyXG5cdFxyXG5cdHByaXZhdGUgcGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luO1x0XHRcclxuXHRwcml2YXRlIHNldHRpbmdzOkRhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncztcclxuXHJcblx0cHJpdmF0ZSBhbGxEYWlseU5vdGVzOiBSZWNvcmQ8c3RyaW5nLFRGaWxlPjtcclxuXHRcclxuXHRwcml2YXRlIHRhcmdldEZpbGVzOiBURmlsZVtdO1xyXG5cdHByaXZhdGUgZmlsZUluZm86IEZpbGVJbmZvW107XHJcblx0cHJpdmF0ZSBzZWFyY2hSYW5nZToge1xyXG5cdFx0bGF0ZXN0OiBtb21lbnQsXHJcblx0XHRlYXJsaWVzdDogbW9tZW50XHJcblx0fSA9IHtcclxuXHRcdGxhdGVzdDogd2luZG93Lm1vbWVudCgpLFxyXG5cdFx0ZWFybGllc3Q6IHdpbmRvdy5tb21lbnQoKVxyXG5cdH07XHJcblx0cHJpdmF0ZSBvdXRsaW5lRGF0YTogT3V0bGluZURhdGFbXVtdO1xyXG5cclxuXHRwcml2YXRlIGZsYWdSZWRyYXc6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBmbGFnUmVnZXRBbGw6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgZXh0cmFjdE1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRwcml2YXRlIGV4dHJhY3RUYXNrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdC8vIFBlcmlvZGljIE5vdGVzXHJcblx0dmVyUE46IG51bWJlcjsgIC8vIFBlcmlvZGljIE5vdGVzIHBsdWdpblx1MzA2RVx1MzBEMFx1MzBGQ1x1MzBCOFx1MzBFN1x1MzBGMyAgMFx1RkYxQW9mZiAgMVx1RkYxQTwxLjAuMCAgMjo+PTEuMC4wIFxyXG5cdGNhbGVuZGFyU2V0czogQ2FsZW5kYXJTZXRbXTtcclxuXHRhY3RpdmVTZXQ6IG51bWJlciA9IDA7IFxyXG5cdGFjdGl2ZUdyYW51bGFyaXR5OiBudW1iZXIgPSAwOyAvLyBkYXkgfCB3ZWVrIHwgbW9udGggfCBxdWFydGVyIHwgeWVhciBHUkFOVUxBUklUWV9MSVNUXHUzMDZFXHU2REZCXHUzMDQ4XHU1QjU3XHUzMDY4XHUzMDU3XHUzMDY2XHJcbiAgXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRsZWFmOiBXb3Jrc3BhY2VMZWFmLFxyXG5cdFx0cGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLFxyXG5cdFx0c2V0dGluZ3M6IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncyxcclxuXHQpIHtcclxuXHRcdHN1cGVyKGxlYWYpO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcblx0fVxyXG4gIFxyXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlO1xyXG5cdH1cclxuICBcclxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuICdEYWlseSBOb3RlIE91dGxpbmUnO1xyXG5cdH1cclxuICBcclxuXHRnZXRJY29uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gJ2NhbGVuZGFyLWNsb2NrJztcclxuXHR9XHJcblxyXG5cdFxyXG5cdGFzeW5jIG9uT3Blbigpe1xyXG5cclxuXHRcdHRoaXMuaW5pdFZpZXcoKTtcclxuXHRcdC8vICBcdTUyMURcdTU2REVcdTMwNkVcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTYzQTJcdTdEMjJcdTUxRTZcdTc0MDZcdTMwNkZpbml0VmlldygpXHUzMDZCXHU3OUZCXHU1MkQ1XHUzMDU3XHUzMDAxXHU1QjlGXHU4ODRDXHU1MjREXHUzMDZCXHUzMDhGXHUzMDVBXHUzMDRCXHUzMDZCXHUzMEE2XHUzMEE4XHUzMEE0XHUzMEM4KGJvb3REZWxheSlcdTMwOTJcdTUxNjVcdTMwOENcdTMwNUZcdTMwMDJcclxuXHRcdC8vICBcdTMwNURcdTMwNDZcdTMwNTdcdTMwNkFcdTMwNDRcdTMwNjhcdThENzdcdTUyRDVcdTY2NDJcdTMwNkJcdTUxNjhcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQzdcdTMwRkNcdTMwQkZcdTUzRDZcdTVGOTdcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTlcdTMwOEJcdTMwODhcdTMwNDZcdTMwNjBcdTMwNjNcdTMwNUZcdTMwNUZcdTMwODFcdTMwMDJcclxuXHJcblx0XHQvL1x1ODFFQVx1NTJENVx1NjZGNFx1NjVCMFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBDN1x1MzBGQ1x1MzBCRlx1NTkwOVx1NjZGNFx1MzAwMVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1OEZGRFx1NTJBMC9cdTUyNEFcdTk2NjRcdTMwNkVcdTc2RTNcdTg5OTYgb2JzZXJ2ZSBmaWxlIGNoYW5nZS9jcmVhdGUvZGVsZXRlXHJcblx0XHRjb25zdCBkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaDpEZWJvdW5jZXI8W10+ID0gZGVib3VuY2UodGhpcy5hdXRvUmVmcmVzaCwyMDAwLHRydWUpO1xyXG5cdFx0dGhpcy5mbGFnUmVkcmF3ID0gZmFsc2U7XHJcblx0XHR0aGlzLmZsYWdSZWdldEFsbCA9IGZhbHNlOyBcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKCdjaGFuZ2VkJywgKGZpbGUpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMudGFyZ2V0RmlsZXM/LmluY2x1ZGVzKGZpbGUpKXtcclxuXHRcdFx0XHR0aGlzLmZsYWdSZWRyYXcgPSB0cnVlO1xyXG5cdFx0XHRcdGRlYm91bmNlclJlcXVlc3RSZWZyZXNoLmNhbGwodGhpcyk7XHJcblx0XHRcdH1cclxuXHRcdH0pKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsKGZpbGUpPT57XHJcblx0XHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gdHJ1ZTtcclxuXHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdH0pKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbignZGVsZXRlJywoZmlsZSk9PntcclxuXHRcdFx0dGhpcy5mbGFnUmVnZXRBbGwgPSB0cnVlO1xyXG5cdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25DbG9zZSgpe1xyXG5cdFx0Ly8gTm90aGluIHRvIGNsZWFuIHVwXHJcblx0fVxyXG5cclxuXHQvLyBodHRwczovL2xpYW1jYS5pbi9PYnNpZGlhbi9BUEkrRkFRL3ZpZXdzL3BlcnNpc3RpbmcreW91cit2aWV3K3N0YXRlXHJcblx0YXN5bmMgc2V0U3RhdGUoc3RhdGU6IElEYWlseU5vdGVPdXRsaW5lU3RhdGUsIHJlc3VsdDpWaWV3U3RhdGVSZXN1bHQpOlByb21pc2U8dm9pZD57XHJcblx0XHRpZiAoc3RhdGUuYWN0aXZlU2V0KXtcclxuXHRcdFx0dGhpcy5hY3RpdmVTZXQgPSBzdGF0ZS5hY3RpdmVTZXQ7XHJcblx0XHR9XHJcblx0XHRpZiAoc3RhdGUuYWN0aXZlR3JhbnVsYXJpdHkpe1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID0gc3RhdGUuYWN0aXZlR3JhbnVsYXJpdHk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3VwZXIuc2V0U3RhdGUoc3RhdGUsIHJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHRnZXRTdGF0ZSgpOiBJRGFpbHlOb3RlT3V0bGluZVN0YXRlIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGFjdGl2ZVNldDogdGhpcy5hY3RpdmVTZXQsXHJcblx0XHRcdGFjdGl2ZUdyYW51bGFyaXR5OiB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5LFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdFZpZXcoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmJvb3REZWxheSgpOyAvL1x1NUMxMVx1MzA1N1x1NUY4NVx1MzA1Rlx1MzA2QVx1MzA0NFx1MzA2OFx1OEQ3N1x1NTJENVx1NzZGNFx1NUY4Q1x1MzA2RkRhaWx5IE5vdGVcdTMwNkVcdTUzRDZcdTVGOTdcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTlcdTMwOEJcdTMwODhcdTMwNDZcdTMwNjBcclxuXHJcblx0XHR0aGlzLnZlclBOID0gYXdhaXQgdGhpcy5jaGVja1BlcmlvZGljTm90ZXMoKTtcclxuXHRcdHRoaXMucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUsIHRydWUpO1xyXG5cdFxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBib290RGVsYXkoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKTt9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYXV0b1JlZnJlc2goKXtcclxuXHRcdGlmICghKHRoaXMuZmxhZ1JlZHJhdyB8fCB0aGlzLmZsYWdSZWdldEFsbCkpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyh0aGlzLmZsYWdSZWdldEFsbCwgdGhpcy5mbGFnUmVnZXRBbGwsIHRydWUpO1xyXG5cdFx0dGhpcy5mbGFnUmVnZXRBbGwgPSBmYWxzZTtcclxuXHRcdHRoaXMuZmxhZ1JlZHJhdyA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEVBXHUzMEQ1XHUzMEVDXHUzMEMzXHUzMEI3XHUzMEU1XHUzMEJCXHUzMEYzXHUzMEJGXHUzMEZDXHJcblx0Ly8gcmVnZXRBbGxcdTMwNEN0cnVlOiBcdTUxNjhcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTdcdTc2RjRcdTMwNTlcclxuXHQvLyBnZXRUYXJnZXRcdTMwNEN0cnVlOiBcdTczRkVcdTU3MjhcdTMwNkVcdTYzQTJcdTdEMjJcdTdCQzRcdTU2RjJcdTMwNkJcdTU0MkJcdTMwN0VcdTMwOENcdTMwOEJcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTcyNzlcdTVCOUFcclxuXHQvLyBnZXRPdXRsaW5lXHUzMDRDdHJ1ZTogXHU1QkZFXHU4QzYxXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU3RkE0XHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU2MEM1XHU1ODMxXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2MEM1XHU1ODMxXHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0Ly8gXHUzMDVEXHUzMDZFXHU1RjhDVUlcdTkwRThcdTUyMDZcdTMwNjhcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTkwRThcdTUyMDZcdTMwOTJcdTYzQ0ZcdTc1M0JcclxuXHRhc3luYyByZWZyZXNoVmlldyhyZWdldEFsbDogYm9vbGVhbiwgZ2V0VGFyZ2V0OmJvb2xlYW4sIGdldE91dGxpbmU6Ym9vbGVhbil7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0ROTzpzdGFydCByZWZyZXNoaW5nIHZpZXcuIENhbGVuZGFyU2V0czonLHRoaXMuY2FsZW5kYXJTZXRzKTtcclxuXHRcdH1cclxuXHRcdHRoaXMudmVyUE4gPSBhd2FpdCB0aGlzLmNoZWNrUGVyaW9kaWNOb3RlcygpO1xyXG5cclxuXHRcdGlmICh0aGlzLnZlclBOICE9IDIpe1xyXG5cdFx0XHQvLyBjb3JlIGRhaWx5IG5vdGUvIHBlcmlvZGljIG5vdGVzIHBsdWdpbiB2MC54IFx1MzA2RVx1NTgzNFx1NTQwOFxyXG5cdFx0XHRpZiAocmVnZXRBbGwpe1xyXG5cdFx0XHRcdHRoaXMuYWxsRGFpbHlOb3RlcyA9IHRoaXMuZ2V0QWxsTm90ZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZ2V0VGFyZ2V0KXtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzID0gdGhpcy5nZXRUYXJnZXRGaWxlcyh0aGlzLmFsbERhaWx5Tm90ZXMsIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGdldE91dGxpbmUpe1xyXG5cdFx0XHRcdHRoaXMuZmlsZUluZm8gPSBhd2FpdCB0aGlzLmdldEZpbGVJbmZvKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHRcdHRoaXMub3V0bGluZURhdGEgPSBhd2FpdCB0aGlzLmdldE91dGxpbmUodGhpcy50YXJnZXRGaWxlcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kcmF3VUkoKTtcclxuXHRcdFx0dGhpcy5kcmF3T3V0bGluZSh0aGlzLnRhcmdldEZpbGVzLCB0aGlzLmZpbGVJbmZvLCB0aGlzLm91dGxpbmVEYXRhKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHBlcmlvZGljIG5vdGVzIHBsdWdpbiB2MS54XHU1QkZFXHU1RkRDXHJcblx0XHRcdGlmICghdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdKXtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNldCA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCF0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV0/LmVuYWJsZWQpe1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0ROTzogQ2FsZW5kZXIgc2V0IGlzIG5vdCBlbmFibGVkLiB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5IGlzIHNldCB0byAwLiBDYWxlbmRhcnNldHMsIHRoaXMuYWN0aXZlU2V0LCB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5OicsdGhpcy5jYWxlbmRhclNldHMsIHRoaXMuYWN0aXZlU2V0LCB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChnZXRUYXJnZXQpe1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMgPSB0aGlzLmdldFRhcmdldFBlcmlvZGljTm90ZXModGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLCBHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChnZXRPdXRsaW5lKXtcclxuXHRcdFx0XHR0aGlzLmZpbGVJbmZvID0gYXdhaXQgdGhpcy5nZXRGaWxlSW5mbyh0aGlzLnRhcmdldEZpbGVzKTtcclxuXHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhID0gYXdhaXQgdGhpcy5nZXRPdXRsaW5lKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZHJhd1VJKCk7XHJcblx0XHRcdHRoaXMuZHJhd091dGxpbmUodGhpcy50YXJnZXRGaWxlcywgdGhpcy5maWxlSW5mbywgdGhpcy5vdXRsaW5lRGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDVGXHU1MTY4XHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDRCXHUzMDg5XHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDZFXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1MjA3XHUzMDhBXHU1MUZBXHUzMDU5ICBcclxuXHQvLyAodmVyMC54LnhcdTMwNkVwZXJpb2RpYyBub3Rlc1x1MzA2Qlx1MzA4Mlx1NUJGRVx1NUZEQ1x1MzAwMilcclxuXHRwcml2YXRlIGdldFRhcmdldEZpbGVzKGFsbEZpbGVzOlJlY29yZDxzdHJpbmcsVEZpbGU+LCBncmFudWxhcml0eTogSUdyYW51bGFyaXR5KTogVEZpbGVbXXtcclxuXHJcblx0XHRsZXQgZmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHRcdGxldCBjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpO1xyXG5cdFx0bGV0IGNoZWNrRGF0ZUVhcmxpZXN0ID0gdGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdC5jbG9uZSgpO1xyXG5cclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlID09J2JhY2t3YXJkJyl7XHJcblx0XHRcdGlmKGNoZWNrRGF0ZS5pc1NhbWUod2luZG93Lm1vbWVudCgpLCdkYXknKSl7XHJcblx0XHRcdFx0Y2hlY2tEYXRlLmFkZChNYXRoLmNlaWwodGhpcy5zZXR0aW5ncy5vZmZzZXQvREFZU19QRVJfVU5JVFtncmFudWxhcml0eV0pLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjaGVja0RhdGVFYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCkuc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0gLSAxLGdyYW51bGFyaXR5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGZvcndhcmQgc2VhcmNoXHUzMDZFXHUzMDY4XHUzMDREXHJcblx0XHRcdGNoZWNrRGF0ZSA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0gLSAxLGdyYW51bGFyaXR5KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0d2hpbGUgKGNoZWNrRGF0ZS5pc1NhbWVPckFmdGVyKGNoZWNrRGF0ZUVhcmxpZXN0LGdyYW51bGFyaXR5KSl7XHJcblx0XHRcdGlmIChhbGxGaWxlc1tnZXREYXRlVUlEKGNoZWNrRGF0ZSwgZ3JhbnVsYXJpdHkpXSl7XHJcblx0XHRcdFx0ZmlsZXMucHVzaChhbGxGaWxlc1tnZXREYXRlVUlEKGNoZWNrRGF0ZSwgZ3JhbnVsYXJpdHkpXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlLnN1YnRyYWN0KDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDZFUGVyaW9kaWMgTm90ZXNcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEIgXHVGRjA4cGVpcm9kaWMgbm90ZXMgMS54LnhcdTc1MjhcdUZGMDlcclxuXHRwcml2YXRlIGdldFRhcmdldFBlcmlvZGljTm90ZXMoY2FsZW5kYXJTZXQ6IENhbGVuZGFyU2V0LCBncmFudWxhcml0eTogSUdyYW51bGFyaXR5KTogVEZpbGVbXXtcclxuXHRcdGxldCBmaWxlczogVEZpbGVbXSA9IFtdO1xyXG5cclxuXHRcdC8vIGRheVx1NTdGQVx1NkU5Nlx1MzA2RVx1NjNBMlx1N0QyMlx1N0JDNFx1NTZGMlx1MzA2N1x1MzA0Mlx1MzA4QnNlYXJjaFJhbmdlXHUzMDkyXHU1MTQzXHUzMDZCXHUzMDAxXHU3QzkyXHU1RUE2XHUzMDZCXHU1RkRDXHUzMDU4XHUzMDY2XHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDkyXHU2MkUxXHU1RjM1XHUzMDU3XHUzMDVGXHUzMDgyXHUzMDZFXHUzMDkyY2hlY2tEYXRlLGNoZWNrRGF0ZUVhcmxpZXN0XHUzMDZCXHU0RUUzXHU1MTY1XHJcblx0XHRsZXQgY2hlY2tEYXRlID0gdGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QuY2xvbmUoKTtcclxuXHRcdGxldCBjaGVja0RhdGVFYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuY2xvbmUoKTtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGU9PSdiYWNrd2FyZCcpe1xyXG5cdFx0XHRpZihjaGVja0RhdGUuaXNTYW1lKHdpbmRvdy5tb21lbnQoKSwnZGF5Jykpe1xyXG5cdFx0XHRcdGNoZWNrRGF0ZS5hZGQoTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Mub2Zmc2V0L0RBWVNfUEVSX1VOSVRbZ3JhbnVsYXJpdHldKSxncmFudWxhcml0eSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBmb3J3YXJkIHNlYXJjaFx1MzA2RVx1MzA2OFx1MzA0RFxyXG5cdFx0XHRjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0ROTzpzZWFyY2hpbmcgY2FjaGVzIG9mIFBlcmlvZGljIE5vdGVzLi4uIGNhbGVuZGFyIHNldDonLGNhbGVuZGFyU2V0KTtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAoY2hlY2tEYXRlLmlzU2FtZU9yQWZ0ZXIoY2hlY2tEYXRlRWFybGllc3QsZ3JhbnVsYXJpdHkpKXtcclxuXHRcdFx0Y29uc3QgY2FjaGVzID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5nZXRQZXJpb2RpY05vdGVzKGNhbGVuZGFyU2V0LmlkLGdyYW51bGFyaXR5LGNoZWNrRGF0ZSk7XHJcblx0XHRcdGZvciAoY29uc3QgZmlsZSBvZiBjYWNoZXMpe1xyXG5cdFx0XHRcdC8vXHU1M0IzXHU1QkM2XHUzMDZCXHUzMERFXHUzMEMzXHUzMEMxXHUzMDU3XHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU1MUZBXHUzMDZBXHUzMDUxXHUzMDhDXHUzMDcwXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmV4YWN0TWF0Y2hPbmx5ICYmICFmaWxlPy5tYXRjaERhdGE/LmV4YWN0KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwRDFcdTMwQjlcdTMwNEMubWRcdTMwNjdcdTdENDJcdTMwOEZcdTMwODlcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdUZGMDhcdTMwREVcdTMwRkNcdTMwQUZcdTMwQzBcdTMwQTZcdTMwRjNcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNjdcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdUZGMDlcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5tYXJrZG93bk9ubHkgJiYgIWZpbGU/LmZpbGVQYXRoLmVuZHNXaXRoKFwiLm1kXCIpKXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwRDFcdTMwQjlcdTMwNkJQTlx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzBEMVx1MzBCOVx1MzA0Q1x1NTQyQlx1MzA3RVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NCAmJiBQTlx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzBEMVx1MzBCOVx1MzA0Q1x1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA4QiBcdTMwNkVcdTMwNjhcdTMwNERcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHQvLyBcdUZGMEFcdTczRkVcdTcyQjZcdTMwNkVQTlx1MzBEOVx1MzBGQ1x1MzBCRlx1MzA2N1x1MzA2Rlx1MzAwMVx1MzBBQlx1MzBFQ1x1MzBGM1x1MzBDMFx1MzBGQ1x1MzBCQlx1MzBDM1x1MzBDOFx1MzA2RVx1NjMwN1x1NUI5QVx1MzA2Qlx1MzA0Qlx1MzA0Qlx1MzA4Rlx1MzA4OVx1MzA1QVx1NTE2OFx1MzBCQlx1MzBDM1x1MzBDOFx1MzA2Qlx1NTQyQlx1MzA3RVx1MzA4Q1x1MzA4QlBOXHUzMDRDXHU4RkQ0XHUzMDU1XHUzMDhDXHUzMDhCXHUzMDg4XHUzMDQ2XHUzMDY3XHUzMDQyXHUzMDhCXHUzMDVGXHUzMDgxXHUzMDAxXHU1NDA0XHUzMEJCXHUzMEMzXHUzMEM4XHUzMDZFXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDY3XHUzMEQ1XHUzMEEzXHUzMEVCXHUzMEJGXHUzMEVBXHUzMEYzXHUzMEIwXHUzMDU5XHUzMDhCXHJcblx0XHRcdFx0Ly8gXHUzMDVGXHUzMDYwXHUzMDU3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDRDXHU2MzA3XHU1QjlBXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHUzMDY4XHUzMDREXHUzMDZGXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0aWYgKCFmaWxlLmZpbGVQYXRoLnN0YXJ0c1dpdGgoY2FsZW5kYXJTZXRbZ3JhbnVsYXJpdHldLmZvbGRlci5jb25jYXQoXCIvXCIpKSAmJiBjYWxlbmRhclNldFtncmFudWxhcml0eV0uZm9sZGVyKXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCBmaWxlb2JqID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUuZmlsZVBhdGgpO1xyXG5cdFx0XHRcdGlmIChmaWxlb2JqIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdFx0ZmlsZXMucHVzaChmaWxlb2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlLnN1YnRyYWN0KDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vIFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA2RVx1OTE0RFx1NTIxN1x1MzA0Qlx1MzA4OVx1NTQwNFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2Qlx1OTVBMlx1MzA1OVx1MzA4Qlx1NjBDNVx1NTgzMVx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0RmlsZUluZm8oZmlsZXM6VEZpbGVbXSk6UHJvbWlzZTxGaWxlSW5mb1tdPntcclxuXHRcdGxldCBmaWxlSW5mbzpGaWxlSW5mb1tdPVtdO1xyXG5cdFx0Zm9yIChsZXQgaT0wOyBpIDwgZmlsZXMubGVuZ3RoIDsgaSsrKXtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZXNbaV0pO1xyXG5cdFx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XHJcblx0XHRcdGxldCBpbmZvOkZpbGVJbmZvID0ge1xyXG5cdFx0XHRcdGRhdGU6IGdldERhdGVGcm9tRmlsZShmaWxlc1tpXSxHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKSxcclxuXHRcdFx0XHQvL2NvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0bGluZXM6IGxpbmVzLFxyXG5cdFx0XHRcdG51bU9mTGluZXM6IGxpbmVzLmxlbmd0aFxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHBlcmlvZGljIG5vdGVzIGJldGFcdTVCRkVcdTVGRENcclxuXHRcdFx0aWYgKHRoaXMudmVyUE4gPT0gMil7XHJcblx0XHRcdFx0aW5mby5kYXRlID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5jYWNoZWRGaWxlcy5nZXQodGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkKS5nZXQoZmlsZXNbaV0ucGF0aCkuZGF0ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZmlsZUluZm8ucHVzaChpbmZvKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlSW5mbztcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBFMVx1MzBCRlx1MzBDN1x1MzBGQ1x1MzBCRlx1MzA0Qlx1MzA4OVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0T3V0bGluZShmaWxlczpURmlsZVtdKTpQcm9taXNlPE91dGxpbmVEYXRhW11bXT57XHJcblx0XHRsZXQgZGF0YTpPdXRsaW5lRGF0YVtdW109W107ICAgIFxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPCBmaWxlcy5sZW5ndGggOyBpKyspe1xyXG5cdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGVzW2ldKTtcclxuXHRcdFx0Ly8gXHU3QTdBXHU5MTREXHU1MjE3XHUzMDkyXHU2MzA3XHU1QjlBXHJcblx0XHRcdGRhdGFbaV09W107XHJcblx0XHRcdC8vIGhlYWRpbmdzLGxpbmtzLHRhZ3NcdTMwOTJcdTYyQkRcdTUxRkFcclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBoZWFkaW5ncycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5oZWFkaW5ncy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwiaGVhZGluZ1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmhlYWRpbmdzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IGNhY2hlLmhlYWRpbmdzW2pdLmhlYWRpbmcsXHJcblx0XHRcdFx0XHRcdGxldmVsOiBjYWNoZS5oZWFkaW5nc1tqXS5sZXZlbFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaW5rcycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5saW5rcy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwibGlua1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmxpbmtzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHQvL1x1MzBERVx1MzBGQ1x1MzBBRlx1MzBDMFx1MzBBNlx1MzBGM1x1MzBFQVx1MzBGM1x1MzBBRlx1MzA2Qlx1NUJGRVx1NUZEQ1xyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IFxyXG5cdFx0XHRcdFx0XHRcdChjYWNoZS5saW5rc1tqXS5kaXNwbGF5VGV4dCA9PVwiXCIpIFxyXG5cdFx0XHRcdFx0XHRcdD8gY2FjaGUubGlua3Nbal0ub3JpZ2luYWwuc3Vic3RyaW5nKDEsY2FjaGUubGlua3Nbal0ub3JpZ2luYWwuaW5kZXhPZihcIl1cIikpIFxyXG5cdFx0XHRcdFx0XHRcdDogY2FjaGUubGlua3Nbal0uZGlzcGxheVRleHQsXHJcblx0XHRcdFx0XHRcdGxpbms6IGNhY2hlLmxpbmtzW2pdLmxpbmtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRkYXRhW2ldLnB1c2goZWxlbWVudCk7XHJcblx0XHRcdFx0fVx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaXN0cycpO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaXN0SXRlbXNcIikpe1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBqPTA7IGo8IGNhY2hlLmxpc3RJdGVtcy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Ly9cdTRFRTVcdTRFMEJcdTMwNjdcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNkVcdTk2OEVcdTVDNjRcdTMwNkVcdTUyMjRcdTVCOUFcdTMwOTJcdTg4NENcdTMwNDZcdTMwMDJcclxuXHRcdFx0XHRcdC8vXHUzMEVBXHUzMEI5XHUzMEM4XHUzMDZFXHU1MTQ4XHU5ODJEXHUzMDZFXHU5ODA1XHU3NkVFOjBcdTMwMDFcdTUxNDhcdTk4MkRcdTMwNjdcdTMwNkZcdTMwNkFcdTMwNDRcdTMwNENcdTMwRUJcdTMwRkNcdTMwQzhcdTMwRUNcdTMwRDlcdTMwRUI6MVx1MzAwMVx1N0IyQzJcdTk2OEVcdTVDNjRcdTRFRTVcdTRFMEJcdUZGMUEyXHUzMDY4XHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDhCXHUzMDAyXHJcblx0XHRcdFx0XHQvL3BhcmVudFx1MzA0Q1x1NkI2M1x1MzA2RVx1NjU3MFx1MzA2QVx1MzA4OVx1N0IyQzJcdTk2OEVcdTVDNjRcdTRFRTVcdTRFMEJcclxuXHRcdFx0XHRcdC8vXHU4Q0EwXHUzMDZFXHU2NTcwXHUzMDY3XHUzMDAxXHU3RDc2XHU1QkZFXHU1MDI0XHUzMDRDcG9zaXRpb24uc3RhcnQubGluZVx1MzA2OFx1NEUwMFx1ODFGNFx1MzA1N1x1MzA2Nlx1MzA0NFx1MzA4Q1x1MzA3MFx1MzBDOFx1MzBDM1x1MzBEN1x1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMCgwKVx1MzAwMVx1OTc1RVx1NEUwMFx1ODFGNFx1MzA2QVx1MzA4OVx1MzBFQlx1MzBGQ1x1MzBDOFx1RkYwODFcdUZGMDlcclxuXHRcdFx0XHRcdC8vXHUzMDVGXHUzMDYwXHUzMDU3XHU4OTk2XHU4OTlBXHU3Njg0XHUzMDZCXHU5NkUyXHUzMDhDXHUzMDVGXHUzMEM4XHUzMEMzXHUzMEQ3XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZFXHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY3XHUzMDgyXHUzMDAxXHU5NTkzXHUzMDZCaGVhZGluZ1x1MzA0Q1x1MzA2QVx1MzA0NFx1MzA2OFx1MzBFQlx1MzBGQ1x1MzBDOFx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzA2OFx1MzA1N1x1MzA2Nlx1NTIyNFx1NUI5QVx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA1N1x1MzA3RVx1MzA0Nlx1MzA2RVx1MzA2N1x1MzAwMVxyXG5cdFx0XHRcdFx0Ly9cdTUyNERcdTMwNkVcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNjhcdTMwNkVcdTg4NENcdTMwNkVcdTVERUVcdTMwNEMxXHUzMDZFXHU2NjQyXHUzMDZFXHUzMDdGXHUzMEVCXHUzMEZDXHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY4XHUzMDU3XHUzMDY2XHU1MjI0XHU1QjlBXHUzMDU5XHUzMDhCXHUzMDg4XHUzMDQ2XHU0RkVFXHU2QjYzXHUzMDU5XHUzMDhCXHUzMDAyXHJcblx0XHRcdFx0XHRsZXQgbGlzdExldmVsOiBudW1iZXIgPSAwOyAvLyAwOnRvcCBpdGVtIG9mIGEgbGlzdCAxOnJvb3QgbGV2ZSAyOm90aGVyXHJcblx0XHRcdFx0XHRpZiAoY2FjaGUubGlzdEl0ZW1zW2pdLnBhcmVudCA+MCl7XHJcblx0XHRcdFx0XHRcdGxpc3RMZXZlbCA9IDI7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGo+MCl7XHJcblx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKGNhY2hlLmxpc3RJdGVtc1tqXS5wYXJlbnQpID09IGNhY2hlLmxpc3RJdGVtc1tqXS5wb3NpdGlvbi5zdGFydC5saW5lKSAmJlxyXG5cdFx0XHRcdFx0XHRcdChjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24uc3RhcnQubGluZSAtIGNhY2hlLmxpc3RJdGVtc1tqLTFdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPT0gMSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0TGV2ZWwgPSAxO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50Ok91dGxpbmVEYXRhID0ge1xyXG5cdFx0XHRcdFx0XHR0eXBlT2ZFbGVtZW50IDogXCJsaXN0SXRlbXNcIixcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24gOiBjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlUZXh0IDogdGhpcy5maWxlSW5mb1tpXS5saW5lc1tjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24uc3RhcnQubGluZV0ucmVwbGFjZSgvXihcXHN8XFx0KSotXFxzKFxcWy5cXF1cXHMpKi8sJycpLFxyXG5cdFx0XHRcdFx0XHRsZXZlbCA6IGxpc3RMZXZlbCxcclxuXHRcdFx0XHRcdFx0dGFzayA6IGNhY2hlLmxpc3RJdGVtc1tqXS50YXNrXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGF0YVtpXS5wdXNoKGVsZW1lbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2NoZWNrIHRhZ3MnLGNhY2hlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJ0YWdzXCIpKXtcclxuXHRcdFx0XHRmb3IgKGxldCBqPTA7IGo8IGNhY2hlLnRhZ3MubGVuZ3RoIDsgaisrKXtcclxuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQ6T3V0bGluZURhdGEgPSB7XHJcblx0XHRcdFx0XHRcdHR5cGVPZkVsZW1lbnQgOiBcInRhZ1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLnRhZ3Nbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlUZXh0IDogY2FjaGUudGFnc1tqXS50YWcuc3Vic3RyaW5nKDEpLFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gXHU4OTgxXHU3RDIwXHUzMDZFXHU3NjdCXHU1ODM0XHU5ODA2XHUzMDZCXHUzMEJEXHUzMEZDXHUzMEM4XHJcblx0XHRcdGRhdGFbaV0uc29ydCgoYSxiKT0+IHtcclxuXHRcdFx0XHRyZXR1cm4gKGEucG9zaXRpb24uc3RhcnQub2Zmc2V0IC0gYi5wb3NpdGlvbi5zdGFydC5vZmZzZXQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblxyXG5cdH1cclxuXHJcblx0Ly8gXHU2NENEXHU0RjVDXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU5MEU4XHU1MjA2XHUzMDkyXHU2M0NGXHU3NTNCXHJcblx0cHJpdmF0ZSBkcmF3VUkoKXtcclxuXHJcblx0XHRjb25zdCBuYXZIZWFkZXI6IEhUTUxFbGVtZW50ID0gY3JlYXRlRGl2KFwibmF2LWhlYWRlclwiKTtcclxuXHRcdGNvbnN0IG5hdkJ1dHRvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWJ1dHRvbnMtY29udGFpbmVyXCIpO1xyXG5cclxuXHRcdC8vIHBlcmlvZGljIG5vdGVzXHJcblx0XHRjb25zdCBncmFudWxhcml0eSA9IEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV07XHJcblx0XHRcclxuXHRcdC8vIFx1OTA0RVx1NTNCQlx1MzA2Qlx1NzlGQlx1NTJENVxyXG5cdFx0bGV0IG5hdkFjdGlvbkJ1dHRvbjogSFRNTEVsZW1lbnQgPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJwcmV2aW91cyBub3Rlc1wiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJhcnJvdy1sZWZ0XCIsMjApO1xyXG5cclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gdGhpcy5zZWFyY2hSYW5nZS5sYXRlc3Quc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0sZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvL1x1NjcyQVx1Njc2NVx1MzA2Qlx1NzlGQlx1NTJENVxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwibmV4dCBub3Rlc1wiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJhcnJvdy1yaWdodFwiLDIwKTtcclxuXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmFkZCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSxncmFudWxhcml0eSk7XHJcblx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvL1x1MzBEQlx1MzBGQ1x1MzBFMFx1MzA2Qlx1NjIzQlx1MzA4QlxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwiaG9tZVwiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJob21lXCIsMjApO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0dGhpcy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTMwRUFcdTMwRDVcdTMwRUNcdTMwQzNcdTMwQjdcdTMwRTVcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInJlZnJlc2hcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwicmVmcmVzaC1jd1wiLDIwKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHQvLyBcdThBMkRcdTVCOUFcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcIm9wZW4gc2V0dGluZ3NcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwic2V0dGluZ3NcIiwyMCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuKCk7XHJcblx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuVGFiQnlJZCh0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHQoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IGVsZW1lbnQgaW4gdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMpe1xyXG5cdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICggdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHNbZWxlbWVudF0gPT0gdHJ1ZSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoYHNob3cgJHtlbGVtZW50fWApXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT57XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XSA9ICF0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSxmYWxzZSk7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50cy5saXN0SXRlbXMpe1xyXG5cdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICh0aGlzLnNldHRpbmdzLnRhc2tPbmx5KT8gXCJjaGVja1wiOiBcIlwiO1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJ0YXNrcyBvbmx5XCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT57XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID0gIXRoaXMuc2V0dGluZ3MudGFza09ubHk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdGlmIChncmFudWxhcml0eSA9PSdkYXknKXtcclxuXHRcdFx0XHRcdGZvciAobGV0IGluZGV4IGluIEZJTEVJTkZPX1RPX0RJU1BMQVlfREFZKXtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICggaW5kZXggPT0gdGhpcy5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9EYWlseSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoRklMRUlORk9fVE9fRElTUExBWV9EQVlbaW5kZXhdKVxyXG5cdFx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCBhc3luYygpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb0RhaWx5ID0gaW5kZXg7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRcdFx0fSkpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAobGV0IGluZGV4IGluIEZJTEVJTkZPX1RPX0RJU1BMQVkpe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uID0gKCBpbmRleCA9PSB0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb1BlcmlvZGljKT8gXCJjaGVja1wiOlwiXCI7XHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShGSUxFSU5GT19UT19ESVNQTEFZW2luZGV4XSlcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayggYXN5bmMoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9QZXJpb2RpYyA9IGluZGV4O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSxmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHRcdH0pKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cclxuXHRcdFx0XHRjb25zdCBpY29uID0gKHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpPyBcImNoZWNrXCI6XCJcIjtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwic2hvdyB0b29sdGlwIHByZXZpZXdcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMoKT0+e1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSAhdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldztcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHJcblx0XHQvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTRGNUNcdTYyMTBcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHJcblx0XHQvLyBwZXJpb2RpYyBub3RlXHUzMDZFXHUzMEFBXHUzMEYzXHUzMEFBXHUzMEQ1XHUzMDg0XHU3QzkyXHU1RUE2XHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHUzMEU5XHUzMEQ5XHUzMEVCXHUzMDkyXHU0RjVDXHU2MjEwXHJcblx0XHRsZXQgbGFiZWxGb3JUb2RheTogc3RyaW5nID0gJ2NyZWF0ZS9vcGVuICc7XHJcblx0XHRsZXQgbGFiZWxGb3JOZXh0OiBzdHJpbmcgPSAnY3JlYXRlL29wZW4gJztcclxuXHRcdGlmIChncmFudWxhcml0eSA9PSAnZGF5Jyl7XHJcblx0XHRcdGxhYmVsRm9yVG9kYXkgPSBsYWJlbEZvclRvZGF5ICsgXCJ0b2RheSdzIFwiO1xyXG5cdFx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyBcInRvbW9ycm93J3MgXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsYWJlbEZvclRvZGF5ID0gbGFiZWxGb3JUb2RheSArIFwicHJlc2VudCBcIjtcclxuXHRcdFx0bGFiZWxGb3JOZXh0ID0gbGFiZWxGb3JOZXh0ICsgXCJuZXh0IFwiO1xyXG5cdFx0fVxyXG5cdFx0bGFiZWxGb3JUb2RheSA9IGxhYmVsRm9yVG9kYXkgKyBHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWVtncmFudWxhcml0eV0gKyAnIG5vdGUnO1xyXG5cdFx0bGFiZWxGb3JOZXh0ID0gbGFiZWxGb3JOZXh0ICsgR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbZ3JhbnVsYXJpdHldICsgJyBub3RlJztcclxuXHJcblx0XHRpZiAodGhpcy52ZXJQTiA9PSAyKXtcclxuXHRcdFx0bGFiZWxGb3JUb2RheSA9IGxhYmVsRm9yVG9kYXkgKyAnIGZvciAnICsgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkO1xyXG5cdFx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyAnIGZvciAnICsgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBsYWJlbEZvclRvZGF5O1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJjYWxlbmRhci1wbHVzXCIsMjApO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0O1xyXG5cdFx0XHRcdGNvbnN0IGRhdGUgPSB3aW5kb3cubW9tZW50KCk7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRcdFx0Y3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZSggZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuY2FsZW5kYXJTZXRzW3RoaXMuYWN0aXZlU2V0XSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQvLyAuc2V0VGl0bGUoXCJjcmVhdGUvb3BlbiB0b21vcnJvdydzIGRhaWx5IG5vdGVcIilcclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKGxhYmVsRm9yTmV4dClcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJjYWxlbmRhci1wbHVzXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGRhdGUgPSB3aW5kb3cubW9tZW50KCkuYWRkKDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZShncmFudWxhcml0eSwgZGF0ZSwgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdKTsgXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuYWxsRGFpbHlOb3Rlcyk7IFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHU2MkJEXHU1MUZBXHJcblx0XHRuYXZBY3Rpb25CdXR0b24gPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRpZiAoIXRoaXMuZXh0cmFjdE1vZGUpe1xyXG5cdFx0XHQvL1x1NjJCRFx1NTFGQVx1MzA5Mlx1MzBBQVx1MzBGM1x1MzA2QlxyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJleHRyYWN0XCI7XHJcblx0XHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwic2VhcmNoXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0Ly9cdTUxNjVcdTUyOUJcdTMwRTJcdTMwRkNcdTMwQzBcdTMwRUJcdTMwOTJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdFx0XHRjb25zdCBvblN1Ym1pdCA9IChlbmFibGVFeHRyYWN0OiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZW5hYmxlRXh0cmFjdCl7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG5ldyBNb2RhbEV4dHJhY3QodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBvblN1Ym1pdCkub3BlbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vXHU2MkJEXHU1MUZBXHUzMDkyXHUzMEFBXHUzMEQ1XHUzMDZCXHJcblx0XHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInVuZXh0cmFjdFwiO1xyXG5cdFx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcIngtY2lyY2xlXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0dGhpcy5leHRyYWN0TW9kZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJleHRyYWN0IHRhc2tzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiY2hlY2stc3F1YXJlXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpOyBcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0Ly8gXHU2NUU1XHU0RUQ4XHUzMDZFXHU3QkM0XHU1NkYyXHUzMDZFXHU2M0NGXHU3NTNCXHJcblx0XHRjb25zdCBuYXZEYXRlUmFuZ2U6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlXCIpO1xyXG5cdFx0bGV0IGxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCk7XHJcblx0XHRsZXQgZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0nYmFja3dhcmQnKXtcclxuXHRcdFx0ZWFybGllc3QgPSBsYXRlc3QuY2xvbmUoKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSAtIDEgLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0aWYgKGxhdGVzdC5pc1NhbWUod2luZG93Lm1vbWVudCgpLFwiZGF5XCIpKXtcclxuXHRcdFx0XHRsYXRlc3QgPSBsYXRlc3QuYWRkKE1hdGguY2VpbCh0aGlzLnNldHRpbmdzLm9mZnNldC9EQVlTX1BFUl9VTklUW2dyYW51bGFyaXR5XSksZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9PSdmb3J3YXJkJyl7XHJcblx0XHRcdGxhdGVzdCA9IGVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0xICxncmFudWxhcml0eSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0ZVJhbmdlOiBzdHJpbmcgPSBlYXJsaWVzdC5mb3JtYXQoXCJZWVlZL01NL0REIFstXSBcIikgKyBcclxuXHRcdFx0bGF0ZXN0LmZvcm1hdCggZWFybGllc3QuaXNTYW1lKGxhdGVzdCwneWVhcicpID8gIFwiTU0vRERcIjogXCJZWVlZL01NL0REXCIpO1xyXG5cdFx0bmF2RGF0ZVJhbmdlLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dChkYXRlUmFuZ2UpO1xyXG5cclxuXHRcdC8vXHU2NUU1XHU0RUQ4XHU3QkM0XHU1NkYyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHU2NjQyXHUzMDZFXHU1MkQ1XHU0RjVDIFx1NUY4Q1x1MzA2N1x1NTkwOVx1NjZGNFx1MzA1OVx1MzA4QlxyXG5cdFx0bmF2RGF0ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Y29uc3Qgb25zZXREYXRlID0gd2luZG93Lm1vbWVudCh0aGlzLnNldHRpbmdzLm9uc2V0LFwiWVlZWS1NTS1ERFwiKTtcclxuXHRcdFx0XHRpZiAob25zZXREYXRlLmlzVmFsaWQoKSl7XHJcblx0XHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gb25zZXREYXRlO1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QgPSBvbnNldERhdGUuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLTEsJ2RheXMnKTtcclxuXHRcdFx0XHR9IGVsc2UgeyAgXHJcblx0XHRcdFx0XHQvLyBvbnNldERhdGVcdTMwNENcdTRFMERcdTZCNjNcdTMwNkFcdTMwODlcdTVGNTNcdTY1RTVcdThENzdcdTcwQjlcdTMwNkViYWNrd2FyZCBzZWFyY2hcdTMwOTJcdTg4NENcdTMwNDZcclxuXHRcdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IHdpbmRvdy5tb21lbnQoKS5zdGFydE9mKCdkYXknKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uLmRheSAtIDEsJ2RheXMnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBQZXJpb2RpYyBOb3RlcyBcdTdDOTJcdTVFQTZcdTYzQ0ZcdTc1M0IgJiBcdTdDOTJcdTVFQTZcdTUyMDdcdTMwOEFcdTY2RkZcdTMwNDhcdTUxRTZcdTc0MDZcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnBlcmlvZGljTm90ZXNFbmFibGVkKXtcclxuXHRcdFx0Y29uc3QgbmF2R3JhbnVsYXJpdHk6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlXCIpO1xyXG5cdFx0XHRuYXZHcmFudWxhcml0eS5jcmVhdGVEaXYoXCJuYXYtZGF0ZS1yYW5nZS1jb250ZW50XCIpLnNldFRleHQoR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XSk7XHJcblxyXG5cdFx0XHRuYXZHcmFudWxhcml0eS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0XHQoZXZldDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnRE5POmNsaWNrZWQgdG8gY2hhbmdlIGdyYW51bGFyaXR5LiB2ZXJQTiwgY2FsZW5kYXJTZXRzOicsdGhpcy5hY3RpdmVHcmFudWxhcml0eSwgdGhpcy52ZXJQTiwgdGhpcy5jYWxlbmRhclNldHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgaW5pdGlhbEdyYW51bGFyaXR5ID0gdGhpcy5hY3RpdmVHcmFudWxhcml0eTtcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ICsgMSkgJSBHUkFOVUxBUklUWV9MSVNULmxlbmd0aDtcclxuXHRcdFx0XHRcdH0gd2hpbGUgKChcclxuXHRcdFx0XHRcdFx0KHRoaXMudmVyUE4gPT0gMiAmJiAhdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKSB8fFxyXG5cdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PSAxICYmICF0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpLnNldHRpbmdzPy5bR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV1dPy5lbmFibGVkKVxyXG5cdFx0XHRcdFx0XHQpICYmIHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgIT0gaW5pdGlhbEdyYW51bGFyaXR5KVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlLCB0cnVlKTsgXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHQvLyBcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwRTFcdTMwQ0JcdTMwRTVcdTMwRkNcclxuXHRcdFx0bmF2R3JhbnVsYXJpdHkuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaT0wIDsgaTxHUkFOVUxBUklUWV9MSVNULmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnZlclBOID09MiAmJiB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFtpXV0/LmVuYWJsZWQpfHxcclxuXHRcdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PTEgJiYgdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5zZXR0aW5ncz8uW0dSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZW0dSQU5VTEFSSVRZX0xJU1RbaV1dXT8uZW5hYmxlZClcclxuXHRcdFx0XHRcdFx0XHQpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGljb24gPSAoIGkgPT0gdGhpcy5hY3RpdmVHcmFudWxhcml0eSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoR1JBTlVMQVJJVFlfTElTVFtpXSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSBpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHQvLyBQZXJpb2RpYyBOb3RlcyBcdTMwQUJcdTMwRUNcdTMwRjNcdTMwQzBcdTMwRkNcdTMwQkJcdTMwQzNcdTMwQzhcdTYzQ0ZcdTc1M0IgJiBcdTMwQkJcdTMwQzNcdTMwQzhcdTUyMDdcdTMwOEFcdTY2RkZcdTMwNDhcdTUxRTZcdTc0MDZcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQpe1xyXG5cdFx0XHRjb25zdCBuYXZDYWxlbmRhclNldDogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWRhdGUtcmFuZ2VcIik7XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dCh0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0uaWQpO1xyXG5cdFx0XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmV0Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAodGhpcy5hY3RpdmVTZXQgKyAxKSAlIHRoaXMuY2FsZW5kYXJTZXRzLmxlbmd0aDtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRcdGZvciAobGV0IGk9MCA7IGk8dGhpcy5jYWxlbmRhclNldHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uID0gKCBpID09IHRoaXMuYWN0aXZlU2V0KT8gXCJjaGVja1wiOlwiXCI7XHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLmNhbGVuZGFyU2V0c1tpXS5pZClcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayggKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gaTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NjNDRlx1NzUzQlxyXG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKG5hdkhlYWRlcik7XHJcblx0fVxyXG5cclxuXHQvLyAgXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2M0NGXHU3NTNCXHRcclxuXHRwcml2YXRlIGRyYXdPdXRsaW5lKCBmaWxlczogVEZpbGVbXSwgaW5mbzogRmlsZUluZm9bXSwgZGF0YTogT3V0bGluZURhdGFbXVtdKTp2b2lkIHtcclxuXHJcblx0XHRjb25zdCBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgPSBjcmVhdGVEaXYoXCJuYXYtZmlsZXMtY29udGFpbmVyIG5vZGUtaW5zZXJ0LWV2ZW50XCIpO1xyXG5cdFx0Y29uc3Qgcm9vdEVsOiBIVE1MRWxlbWVudCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZm9sZGVyIG1vZC1yb290XCIpOyBcclxuXHRcdGNvbnN0IHJvb3RDaGlsZHJlbkVsOiBIVE1MRWxlbWVudCA9IHJvb3RFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tY2hpbGRyZW4gbmF2LWZvbGRlci1jaGlsZHJlblwiKTsgXHJcblxyXG5cdFx0aWYgKGZpbGVzLmxlbmd0aCA9PSAwKXtcclxuXHRcdFx0cm9vdENoaWxkcmVuRWwuY3JlYXRlRWwoXCJoNFwiLHtcclxuXHRcdFx0XHR0ZXh0OiBcIk5vIGRhaWx5L3BlcmlvZGljIG5vdGUgZm91bmRcIlxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpbmNsdWRlIG9ubHkgbW9kZVx1MzA0Q1x1MzBBQVx1MzBGM1x1MzA2Qlx1MzA2QVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Qlx1MzA0QlxyXG5cdFx0bGV0IGluY2x1ZGVNb2RlOiBib29sZWFuID0gKHRoaXMuc2V0dGluZ3MuaW5jbHVkZU9ubHkgIT0gJ25vbmUnKSAmJiAoQm9vbGVhbih0aGlzLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlLmxlbmd0aCkgfHwgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZUJlZ2lubmluZykpO1xyXG5cclxuXHRcdC8vIFx1ODg2OFx1NzkzQVx1MzBBQVx1MzBGM1x1MzA2Qlx1MzA2QVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Qlx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA2RVx1NjcwMFx1OUFEOFx1NTAyNFxyXG5cdFx0bGV0IG1heExldmVsID0gdGhpcy5zZXR0aW5ncy5oZWFkaW5nTGV2ZWwuaW5kZXhPZih0cnVlKTtcclxuXHJcblx0XHRcclxuXHJcblxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPGZpbGVzLmxlbmd0aCA7IGkrKyl7XHJcblxyXG5cdFx0XHQvLyBcdTY3MDBcdTY1QjBcdTMwNkVcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcclxuXHRcdFx0bGV0IGxhdGVzdEhlYWRpbmdMZXZlbCA9IDA7XHJcblxyXG5cdFx0XHQvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTkwRThcdTUyMDZcdTRGNUNcdTYyMTAgPSBcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTRGNUNcdTYyMTBcclxuXHRcdFx0Y29uc3QgZGFpbHlOb3RlRWw6IEhUTUxEaXZFbGVtZW50ID0gcm9vdENoaWxkcmVuRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtIG5hdi1mb2xkZXJcIik7XHJcblx0XHRcdGNvbnN0IGRhaWx5Tm90ZVRpdGxlRWw6IEhUTUxEaXZFbGVtZW50ID0gZGFpbHlOb3RlRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG1vZC1jb2xsYXBzaWJsZSBuYXYtZm9sZGVyLXRpdGxlXCIpO1xyXG5cdFx0XHRjb25zdCBkYWlseU5vdGVDaGlsZHJlbkVsOiBIVE1MRGl2RWxlbWVudCA9IGRhaWx5Tm90ZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1jaGlsZHJlbiBuYXYtZm9sZGVyLWNoaWxkcmVuXCIpO1xyXG5cdFx0XHQvL2NvbnN0IGNvbGxhcHNlSWNvbkVsOiBIVE1MRGl2RWxlbWVudCA9IGRhaWx5Tm90ZVRpdGxlRWwuY3JlYXRlRGl2KFwibmF2LWZvbGRlci1jb2xsYXBzZS1pbmRpY2F0b3IgY29sbGFwc2UtaWNvblwiKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qXHUzMDQ0XHUzMDVBXHUzMDhDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDZFXHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdGXHU1MUU2XHU3NDA2XHUzMDkyXHUyMDI2XHJcblx0XHRcdGNvbGxhcHNlSWNvbkVsLmlubmVySFRNTCA9IENPTExBUFNFX0lDT047XHJcblx0XHRcdGlmIChub3RlQ29sbGFwc2VkW2ldKSB7XHJcblx0XHRcdFx0KGNvbGxhcHNlSWNvbkVsLmNoaWxkTm9kZXNbMF0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC05MGRlZylcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHQqL1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gIE1OT1x1MzA2Qlx1NTAyM1x1MzA2M1x1MzA1Rlx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1ODg2OFx1NzkzQSAgXHUzMDVGXHUzMDYwXHUzMDU3IGNvbGxhcHNlLWljb24gXHUzMEFGXHUzMEU5XHUzMEI5XHUzMDkyXHUzMDY0XHUzMDUxXHUzMDhCXHUzMDY4XHU3RTJFXHU1QzBGXHUzMDU1XHUzMDhDXHUzMDVGXHUzMDZFXHUzMDY3XHU5NjY0XHU1M0JCXHJcblx0XHRcdGNvbnN0IG5vdGVDb2xsYXBzZUljb246SFRNTEVsZW1lbnQgPSBkYWlseU5vdGVUaXRsZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1pY29uIG5hdi1mb2xkZXItY29sbGFwc2UtaW5kaWNhdG9yXCIpO1xyXG5cclxuXHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTU0MERcdTMwNkJcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTMwOTJcdTRFRDhcdTUyQTBcclxuXHRcdFx0c3dpdGNoKHRoaXMuc2V0dGluZ3MuaWNvbi5ub3RlKXtcclxuXHRcdFx0XHRjYXNlICdub25lJzpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2N1c3RvbSc6XHJcblx0XHRcdFx0XHRzZXRJY29uKG5vdGVDb2xsYXBzZUljb24sIHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi5ub3RlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pY29uLm5vdGUpe1xyXG5cdFx0XHRcdFx0XHRzZXRJY29uKG5vdGVDb2xsYXBzZUljb24sIHRoaXMuc2V0dGluZ3MuaWNvbi5ub3RlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRcclxuXHJcblx0XHRcdC8vd2Vla2x5IG5vdGVcdTMwNkVcdTU4MzRcdTU0MDhcdTY1RTVcdTRFRDhcdTMwNkVcdTdCQzRcdTU2RjJcdTMwOTJcdTRFRDhcdTUyQTBcdTg4NjhcdTc5M0FcclxuXHRcdFx0bGV0IG5hbWUgPSBmaWxlc1tpXS5iYXNlbmFtZTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lICYmIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0gPT0nd2Vlaycpe1xyXG5cdFx0XHRcdG5hbWUgPSBuYW1lICsgXCIgKFwiICt0aGlzLmZpbGVJbmZvW2ldLmRhdGUuY2xvbmUoKS5zdGFydE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vREQgWy1dIFwiKSArIHRoaXMuZmlsZUluZm9baV0uZGF0ZS5jbG9uZSgpLmVuZE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vRERcIikgK1wiKVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWlubmVyIG5hdi1mb2xkZXItdGl0bGUtY29udGVudFwiKS5zZXRUZXh0KG5hbWUpO1xyXG5cclxuXHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTU0MERcdTMwNkVcdTVGOENcdTMwNkVcdTYwQzVcdTU4MzFcdTMwOTJcdTg4NjhcdTc5M0FcclxuXHRcdFx0Y29uc3QgaW5mb1RvRGlzcGxheSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID09IDAgKSA/IHRoaXMuc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvRGFpbHkgOiB0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb1BlcmlvZGljO1xyXG5cclxuXHRcdFx0c3dpdGNoIChpbmZvVG9EaXNwbGF5KSB7XHJcblx0XHRcdFx0Y2FzZSAnbGluZXMnOlxyXG5cdFx0XHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5kYXRhc2V0LnN1YmluZm8gPSBpbmZvW2ldLm51bU9mTGluZXMudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2RheXMnOlxyXG5cdFx0XHRcdFx0bGV0IGJhc2VkYXRlID0gKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0gXCJiYWNrd2FyZFwiKT8gd2luZG93Lm1vbWVudCgpOiB3aW5kb3cubW9tZW50KHRoaXMuc2V0dGluZ3Mub25zZXQpO1xyXG5cdFx0XHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5kYXRhc2V0LnN1YmluZm8gPSBNYXRoLmFicyhpbmZvW2ldLmRhdGUuZGlmZihiYXNlZGF0ZS5zdGFydE9mKEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pLEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pKS50b1N0cmluZygpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnZG93JzpcclxuXHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gaW5mb1tpXS5kYXRlLmZvcm1hdChcImRkZGRcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdkb3dzaG9ydCc6XHJcblx0XHRcdFx0XHRkYWlseU5vdGVUaXRsZUVsLmRhdGFzZXQuc3ViaW5mbyA9IGluZm9baV0uZGF0ZS5mb3JtYXQoXCJkZGRcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICd3ZWVrbnVtYmVyJzpcclxuXHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gaW5mb1tpXS5kYXRlLmZvcm1hdChcIlt3XXd3XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAndGFnJzpcclxuXHRcdFx0XHRcdGxldCBmaXJzdHRhZ0luZGV4ID0gZGF0YVtpXS5maW5kSW5kZXgoIChlbGVtZW50LGluZGV4KSA9PlxyXG5cdFx0XHRcdFx0XHRkYXRhW2ldW2luZGV4XS50eXBlT2ZFbGVtZW50ID09J3RhZycpO1xyXG5cdFx0XHRcdFx0aWYgKGZpcnN0dGFnSW5kZXggPj0gMCl7XHJcblx0XHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gZGF0YVtpXVtmaXJzdHRhZ0luZGV4XS5kaXNwbGF5VGV4dDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0Y2FzZSAnbm9uZSc6XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vXHUzMENFXHUzMEZDXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEM4XHUzMEVCXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDVGXHUzMDg5XHUzMDVEXHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyb3BlblxyXG5cdFx0XHRkYWlseU5vdGVUaXRsZUVsLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZmFsc2VcclxuXHRcdFx0KTtcclxuXHRcdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHJcblx0XHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBCRlx1MzBENlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQvL1x1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIHRvIHRoZSByaWdodFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2VwYXJhdG9yLXZlcnRpY2FsXCIpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jykub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFxyXG5cdFx0XHRcdFx0XHRcImZpbGUtbWVudVwiLFxyXG5cdFx0XHRcdFx0XHRtZW51LFxyXG5cdFx0XHRcdFx0XHRmaWxlc1tpXSxcclxuXHRcdFx0XHRcdFx0J2xpbmstY29udGV4dC1tZW51J1xyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHQvLyBpbmNsdWRlIG1vZGUgXHU3NTI4XHUzMDZFXHU1OTA5XHU2NTcwXHUzMDkyXHU1QkEzXHU4QTAwXHJcblx0XHRcdGxldCBpc0luY2x1ZGVkID0gdGhpcy5zZXR0aW5ncy5pbmNsdWRlQmVnaW5uaW5nO1xyXG5cdFx0XHRsZXQgaW5jbHVkZU1vZGVIZWFkaW5nTGV2ZWw6IG51bWJlcjtcclxuXHRcdFx0Ly8gZXhjbHVkZSBtb2RlIFx1NzUyOFx1NTkwOVx1NjU3MFxyXG5cdFx0XHRsZXQgaXNFeGNsdWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRsZXQgZXhjbHVkZVR5cGU6IHN0cmluZztcclxuXHRcdFx0bGV0IGV4Y2x1ZGVNb2RlSGVhZGluZ0xldmVsOiBudW1iZXI7XHJcblx0XHRcdGxldCBwcmltZVR5cGUgPSB0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5ID09ICdub25lJyA/IHRoaXMuc2V0dGluZ3MucHJpbWVFbGVtZW50IDogdGhpcy5zZXR0aW5ncy5pbmNsdWRlT25seTtcclxuXHRcdFx0Ly8gZXh0cmFjdCBcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOEJcdTk4MDVcdTc2RUVcdTMwNENcdTMwNDJcdTMwNjNcdTMwNUZcdTMwNEJcdTMwNjlcdTMwNDZcdTMwNEJcclxuXHRcdFx0bGV0IGlzRXh0cmFjdGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvL1x1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA2RVx1NjNDRlx1NzUzQlx1MzAwMmRhdGFbaV1cdTMwNENcdTg5ODFcdTdEMjAwXHUzMDZBXHUzMDg5XHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdC8vXHU0RThDXHU5MUNEXHUzMEVCXHUzMEZDXHUzMEQ3XHUzMDRCXHUzMDg5XHU2MjlDXHUzMDUxXHUzMDhCXHUzMDVGXHUzMDgxXHUzMEU5XHUzMEQ5XHUzMEVCZWxlbWVudGxvb3BcdTMwOTJcdTMwNjRcdTMwNTFcdTMwNUZcclxuXHRcdFx0aWYgKGRhdGFbaV0ubGVuZ3RoID4gMCl7XHJcblxyXG5cdFx0XHRcdGVsZW1lbnRsb29wOiBmb3IgKGxldCBqPTA7IGo8ZGF0YVtpXS5sZW5ndGg7IGorKyl7XHJcblxyXG5cdFx0XHRcdFx0Ly8gXHU3M0ZFXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHU3QTJFXHU1MjI1XHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50ID0gZGF0YVtpXVtqXS50eXBlT2ZFbGVtZW50O1xyXG5cclxuXHRcdFx0XHRcdC8vLy8gaW5jbHVkZSBtb2RlXHJcblx0XHRcdFx0XHRpZiAoaW5jbHVkZU1vZGUgJiYgdGhpcy5zZXR0aW5ncy5pbmNsdWRlT25seSA9PSBlbGVtZW50KXtcclxuXHRcdFx0XHRcdFx0aWYgKGlzSW5jbHVkZWQgPT0gdHJ1ZSAmJiBlbGVtZW50ID09ICdoZWFkaW5nJyAmJiBkYXRhW2ldW2pdLmxldmVsID4gaW5jbHVkZU1vZGVIZWFkaW5nTGV2ZWwgICl7XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTRFMEJcdTRGNERcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBcdTdENDRcdTMwN0ZcdTUxNjVcdTMwOENcdTMwOEJcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNkJcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOEJcdTMwNEJcdTUyMjRcdTVCOUFcclxuXHRcdFx0XHRcdFx0XHRpc0luY2x1ZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlKXtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICggKHZhbHVlKSAmJiBkYXRhW2ldW2pdLmRpc3BsYXlUZXh0LmluY2x1ZGVzKHZhbHVlKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzSW5jbHVkZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnaGVhZGluZycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGluY2x1ZGVNb2RlSGVhZGluZ0xldmVsID0gZGF0YVtpXVtqXS5sZXZlbDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFpc0luY2x1ZGVkKXtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vLy8gZXhjbHVkZSBtb2RlXHJcblx0XHRcdFx0XHRpZiAoIWlzRXhjbHVkZWQgfHwgKGlzRXhjbHVkZWQgJiYgKGV4Y2x1ZGVUeXBlID09IGVsZW1lbnQgfHwgcHJpbWVUeXBlID09IGVsZW1lbnQpKSl7XHJcblx0XHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdoZWFkaW5nJyAmJiBkYXRhW2ldW2pdLmxldmVsID4gZXhjbHVkZU1vZGVIZWFkaW5nTGV2ZWwpe1xyXG5cdFx0XHRcdFx0XHQvLyBcdTRFMEJcdTRGNERcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcdFxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGlzRXhjbHVkZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGVbZWxlbWVudF0pe1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAodmFsdWUpICYmIGRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNFeGNsdWRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGV4Y2x1ZGVUeXBlID0gZWxlbWVudDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ2hlYWRpbmcnKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGNsdWRlTW9kZUhlYWRpbmdMZXZlbCA9IGRhdGFbaV1bal0ubGV2ZWw7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9ICAgXHJcblx0XHRcdFx0XHRpZiAoaXNFeGNsdWRlZCl7XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vXHU4OTgxXHU3RDIwXHUzMDU0XHUzMDY4XHUzMDZFXHU5NzVFXHU4ODY4XHU3OTNBXHU1MjI0XHU1QjlBICBcdThBMkRcdTVCOUFcdTMwNjdcdTk3NUVcdTg4NjhcdTc5M0FcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdID09IGZhbHNlKXtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gc2ltcGxlIGZpbHRlciBcdTk2NjRcdTU5MTZcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNkJcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0lnbm9yZVtlbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdGlmKCAodmFsdWUpICYmIGRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZSBlbGVtZW50bG9vcDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vLy8gXHU2MkJEXHU1MUZBIGV4dHJhY3RcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5leHRyYWN0TW9kZSA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmV4dHJhY3RUYXNrID09IGZhbHNlICYmICFkYXRhW2ldW2pdLmRpc3BsYXlUZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdC50b0xvd2VyQ2FzZSgpKSl7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5leHRyYWN0VGFzayA9PSB0cnVlICYmIGRhdGFbaV1bal0udGFzayA9PT0gdm9pZCAwKXtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpc0V4dHJhY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLy8vIFx1ODk4MVx1N0QyMFx1N0EyRVx1NTIyNVx1MzA1NFx1MzA2OFx1MzA2RVx1NTFFNlx1NzQwNlxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBoZWFkaW5nc1xyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ2hlYWRpbmcnKXtcclxuXHRcdFx0XHRcdFx0Ly8gXHU2NzAwXHU2NUIwXHUzMDZFXHU4OThCXHU1MUZBXHUzMDU3XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHRcdFx0XHRcdGxhdGVzdEhlYWRpbmdMZXZlbCA9IGRhdGFbaV1bal0ubGV2ZWw7XHJcblx0XHRcdFx0XHRcdC8vIFx1NzI3OVx1NUI5QVx1MzA2RVx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA0Q1x1OTc1RVx1ODg2OFx1NzkzQVx1MzA2RVx1NTgzNFx1NTQwOFx1MzAwMVx1OEE3Mlx1NUY1M1x1MzA1OVx1MzA4Q1x1MzA3MFx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHRpZiAoICF0aGlzLnNldHRpbmdzLmhlYWRpbmdMZXZlbFtkYXRhW2ldW2pdLmxldmVsIC0gMV0pe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbGlua3NcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdsaW5rJyl7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gdGFnc1xyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ3RhZycpe1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHQvLyBsaXN0SXRlbXNcclxuXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnbGlzdEl0ZW1zJyl7XHJcblx0XHRcdFx0XHRcdC8vIFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1OTc1RVx1ODg2OFx1NzkzQVx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2Rlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgPT0gdHJ1ZSAmJiBkYXRhW2ldW2pdLnRhc2sgPT0neCcpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHQvLyBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTk3NUVcdTg4NjhcdTc5M0FcdThBMkRcdTVCOUFcdTMwNjdcdTMwNDJcdTMwOENcdTMwNzBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkZcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID09IHRydWUgJiYgZGF0YVtpXVtqXS50YXNrID09PSB2b2lkIDApe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHQvLyBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkVcdTkwMUFcdTVFMzhcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwMDFcdTMwN0VcdTMwNUZcdTMwNkYgXHUzMEJGXHUzMEI5XHUzMEFGXHUzMDZGXHU1MTY4XHU4ODY4XHU3OTNBXHUzMDZFXHU4QTJEXHU1QjlBXHUzMDY3XHU3MTIxXHUzMDUxXHUzMDhDXHUzMDcwXHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZCXHU1RkRDXHUzMDU4XHUzMDY2XHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5hbGxUYXNrcyA9PSBmYWxzZSB8fCBkYXRhW2ldW2pdLnRhc2sgPT09IHZvaWQgMCl7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCAoZGF0YVtpXVtqXS5sZXZlbCA9PSAyKSB8fCAoZGF0YVtpXVtqXS5sZXZlbCA9PTEgJiYgdGhpcy5zZXR0aW5ncy5hbGxSb290SXRlbXMgPT0gZmFsc2UpKXtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHU5MEU4XHU1MjA2XHU0RjVDXHU2MjEwXHJcblx0XHRcdFx0XHRjb25zdCBvdXRsaW5lRWw6IEhUTUxFbGVtZW50ID0gZGFpbHlOb3RlQ2hpbGRyZW5FbFxyXG5cdFx0XHRcdFx0XHRcdC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZpbGVcIik7XHJcblx0XHRcdFx0XHQvL1x1NEUyRFx1OEVBQlx1MzA5Mlx1OEEyRFx1NUI5QVxyXG5cdFx0XHRcdFx0Y29uc3Qgb3V0bGluZVRpdGxlOiBIVE1MRWxlbWVudCA9IG91dGxpbmVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tc2VsZiBpcy1jbGlja2FibGUgbmF2LWZpbGUtdGl0bGVcIik7XHJcblxyXG5cdFx0XHRcdFx0Ly9cdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjMgaWNvblxyXG5cdFx0XHRcdFx0c3dpdGNoKHRoaXMuc2V0dGluZ3MuaWNvbltlbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ25vbmUnOlxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICdoZWFkaW5nd2l0aG51bWJlcic6XHJcblx0XHRcdFx0XHRcdFx0c2V0SWNvbihvdXRsaW5lVGl0bGUsIGBoZWFkaW5nLSR7ZGF0YVtpXVtqXS5sZXZlbH1gKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnY3VzdG9tJzpcclxuXHRcdFx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5jdXN0b21JY29uW2VsZW1lbnRdKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5pY29uW2VsZW1lbnRdKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIFx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2MFx1MzA2M1x1MzA1Rlx1NTgzNFx1NTQwOFx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1NEUwQVx1NjZGOFx1MzA0RFxyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0nbGlzdEl0ZW1zJyAmJiBkYXRhW2ldW2pdLnRhc2sgIT09IHZvaWQgMCl7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhW2ldW2pdLnRhc2sgPT0gJ3gnKXtcclxuXHRcdFx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5pY29uLnRhc2tEb25lID09ICdjdXN0b20nID8gXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUgOiB0aGlzLnNldHRpbmdzLmljb24udGFza0RvbmUpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCB0aGlzLnNldHRpbmdzLmljb24udGFzayA9PSdjdXN0b20nID9cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrIDogdGhpcy5zZXR0aW5ncy5pY29uLnRhc2spO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vcHJlZml4XHUzMDAxXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHJcblx0XHRcdFx0XHRsZXQgcHJlZml4ID0gdGhpcy5zZXR0aW5ncy5wcmVmaXhbZWxlbWVudF07XHJcblx0XHRcdFx0XHRpZiAoIGVsZW1lbnQgPT0gJ2hlYWRpbmcnKXtcclxuXHRcdFx0XHRcdFx0c3dpdGNoICh0aGlzLnNldHRpbmdzLnJlcGVhdEhlYWRpbmdQcmVmaXgpe1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2xldmVsJzpcclxuXHRcdFx0XHRcdFx0XHRcdHByZWZpeCA9IHByZWZpeC5yZXBlYXQoZGF0YVtpXVtqXS5sZXZlbCk7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHRjYXNlICdsZXZlbG1pbnVzMSc6XHJcblx0XHRcdFx0XHRcdFx0XHRwcmVmaXggPSBwcmVmaXgucmVwZWF0KGRhdGFbaV1bal0ubGV2ZWwgLSAxICk7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGxldCBpbmRlbnQ6IG51bWJlciA9IDAuNTtcclxuXHRcdFx0XHRcdC8vIFx1ODk4Qlx1NTFGQVx1MzA1N1x1MzA2RVx1MzBBNFx1MzBGM1x1MzBDN1x1MzBGM1x1MzBDOFxyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0naGVhZGluZycgJiYgdGhpcy5zZXR0aW5ncy5pbmRlbnQuaGVhZGluZyA9PSB0cnVlKXtcclxuXHRcdFx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgKGRhdGFbaV1bal0ubGV2ZWwgLSAobWF4TGV2ZWwgKyAxKSkqMS41O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gXHU4OThCXHU1MUZBXHUzMDU3XHU0RUU1XHU1OTE2XHUzMDZFXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCAhPSdoZWFkaW5nJyAmJiB0aGlzLnNldHRpbmdzLmluZGVudEZvbGxvd0hlYWRpbmcpe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsSW5kZW50ID0gKGxhdGVzdEhlYWRpbmdMZXZlbCAtIChtYXhMZXZlbCArIDEpICsgKHRoaXMuc2V0dGluZ3MuaW5kZW50Rm9sbG93SGVhZGluZyA9PSAyID8gMTogMCkpKjEuNTtcclxuXHRcdFx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgKGFkZGl0aW9uYWxJbmRlbnQgPiAwID8gYWRkaXRpb25hbEluZGVudCA6IDApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDRDXHU1MjREXHUzMDZFXHUzMEE4XHUzMEVDXHUzMEUxXHUzMEYzXHUzMEM4XHUzMDY4XHU1NDBDXHUzMDU4XHU4ODRDXHUzMDYwXHUzMDYzXHUzMDVGXHU1ODM0XHU1NDA4XHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHU0RUQ4XHU1MkEwXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdsaW5rJyAmJiBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPT0gZGF0YVtpXVtqLTFdPy5wb3NpdGlvbi5zdGFydC5saW5lKXtcclxuXHRcdFx0XHRcdFx0aW5kZW50ID0gaW5kZW50ICsgMS41O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5zdHlsZS5wYWRkaW5nTGVmdCA9IGAke2luZGVudH1lbWA7XHJcblxyXG5cclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09J2xpc3RJdGVtcycgJiYgZGF0YVtpXVtqXS50YXNrICE9PSB2b2lkIDApIHtcclxuXHRcdFx0XHRcdFx0XHRwcmVmaXggPSBkYXRhW2ldW2pdLnRhc2sgPT0gJ3gnID8gXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnByZWZpeC50YXNrRG9uZSA6IHRoaXMuc2V0dGluZ3MucHJlZml4LnRhc2s7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuYWRkQ2hlY2tib3hUZXh0KXtcclxuXHRcdFx0XHRcdFx0XHRcdHByZWZpeCA9IHByZWZpeCArICdbJytkYXRhW2ldW2pdLnRhc2srJ10gJztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgZGlzcFRleHQgPSB0aGlzLnN0cmlwTWFya2Rvd25TeW1wb2woZGF0YVtpXVtqXS5kaXNwbGF5VGV4dCk7XHJcblxyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmNyZWF0ZURpdihcInRyZWUtaXRlbS1pbm5lciBuYXYtZmlsZS10aXRsZS1jb250ZW50XCIpLnNldFRleHQocHJlZml4ICsgZGlzcFRleHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFx1MzBBNFx1MzBGM1x1MzBFOVx1MzBBNFx1MzBGM1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdFx0Ly8gXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDY4XHUzMEJGXHUzMEIwXHUzMDZGXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHUzMDQyXHUzMDY4XHUzMDZCXHU2NTg3XHU1QjU3XHU1MjE3XHUzMDRDXHU3RDlBXHUzMDRGXHU1ODM0XHU1NDA4XHUzMDVEXHUzMDZFXHU4ODRDXHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDAxXHUzMDVEXHUzMDQ2XHUzMDY3XHUzMDZBXHUzMDUxXHUzMDhDXHUzMDcwXHU2QjIxXHUzMDZFXHU4ODRDXHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbmxpbmVQcmV2aWV3KSB7XHJcblx0XHRcdFx0XHRcdGxldCBwcmV2aWV3VGV4dDogc3RyaW5nID0nJztcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICgoZWxlbWVudCA9PSAnbGluaycgfHwgZWxlbWVudCA9PSAndGFnJykgJiYgZGF0YVtpXVtqXS5wb3NpdGlvbi5lbmQuY29sIDwgaW5mb1tpXS5saW5lc1sgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIF0ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0XHRwcmV2aWV3VGV4dCA9IGluZm9baV0ubGluZXNbIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSBdLnNsaWNlKGRhdGFbaV1bal0ucG9zaXRpb24uZW5kLmNvbCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cHJldmlld1RleHQgPSAoIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSA8IGluZm9baV0ubnVtT2ZMaW5lcyAtMSApP1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5mb1tpXS5saW5lc1sgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lICsgMV0gOiBcIlwiOyBcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwibmF2LWZpbGUtdGl0bGUtcHJldmlld1wiKS5zZXRUZXh0KHByZXZpZXdUZXh0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIFx1MzBDNFx1MzBGQ1x1MzBFQlx1MzBDMVx1MzBDM1x1MzBEN1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdFx0Ly8gXHUzMDVEXHUzMDZFXHU4OTgxXHU3RDIwXHUzMDZFXHU4ODRDXHUzMDRCXHUzMDg5XHU2QjIxXHUzMDZFXHU4OTgxXHU3RDIwXHUzMDZFXHU1MjREXHUzMDdFXHUzMDY3XHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldyl7XHJcblx0XHRcdFx0XHRcdGxldCBwcmV2aWV3VGV4dDI6c3RyaW5nID0nJztcclxuXHRcdFx0XHRcdFx0Ly8gXHUzMDdFXHUzMDVBXHU2QjIxXHUzMDZFXHU4ODY4XHU3OTNBXHU4OTgxXHU3RDIwXHUzMDZFXHU1RjE1XHU2NTcwXHUzMDkyXHU3Mjc5XHU1QjlBXHJcblx0XHRcdFx0XHRcdGxldCBlbmRMaW5lOm51bWJlciA9IGluZm9baV0ubnVtT2ZMaW5lcyAtIDE7ICAvL1x1NTIxRFx1NjcxRlx1NTAyNFx1MzA2Rlx1NjU4N1x1N0FFMFx1NjcyQlxyXG5cdFx0XHRcdFx0XHRsZXQgayA9IGogKzE7IC8vIFx1NzNGRVx1NTcyOFx1MzA2RVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NUYxNVx1NjU3MCsxXHUzMDRCXHUzMDg5XHUzMEVCXHUzMEZDXHUzMEQ3XHU5NThCXHU1OUNCXHJcblx0XHRcdFx0XHRcdGVuZHByZXZpZXdsb29wOiB3aGlsZSAoazwgZGF0YVtpXS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHQvL1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBCRlx1MzBBNFx1MzBEN1x1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1ODg0Q1x1MzA5Mlx1NTNENlx1NUY5N1x1MzA1N1x1MzA2Nlx1MzBFQlx1MzBGQ1x1MzBEN1x1MzA5Mlx1NjI1M1x1MzA2MVx1NTIwN1x1MzA4QlxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnRdKXtcclxuXHRcdFx0XHRcdFx0XHRcdC8vXHUzMDVGXHUzMDYwXHUzMDU3XHU1NDA0XHU3QTJFXHUzMDZFXHU1QjlGXHU5NjlCXHUzMDZCXHUzMDZGXHU5NzVFXHU4ODY4XHU3OTNBXHUzMDY4XHUzMDZBXHUzMDhCXHU2NzYxXHU0RUY2XHUzMDkyXHU2RTgwXHUzMDVGXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDVGXHUzMDg5XHU2MjUzXHUzMDYxXHU1MjA3XHUzMDg5XHUzMDZBXHUzMDQ0XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTMwRUFcdTMwQjlcdTMwQzhcdTMwNkVcdThBMkRcdTVCOUFcdTMwNkJcdTMwODhcdTMwOEJcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnQgPT0gJ2xpc3RJdGVtcycgJiYgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBkYXRhW2ldW2tdLmxldmVsID49MiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCgodGhpcy5zZXR0aW5ncy5hbGxSb290SXRlbXMgPT0gZmFsc2UgJiYgZGF0YVtpXVtrXS5sZXZlbCA9PSAxKSAmJiAodGhpcy5zZXR0aW5ncy5hbGxUYXNrcyA9PSBmYWxzZSB8fCBkYXRhW2ldW2tdLnRhc2sgPT09IHZvaWQgMCkpIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KHRoaXMuc2V0dGluZ3MudGFza09ubHkgJiYgZGF0YVtpXVtrXS50YXNrID09PSB2b2lkIDApIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KHRoaXMuc2V0dGluZ3MuaGlkZUNvbXBsZXRlZFRhc2tzICYmIGRhdGFbaV1ba10udGFzayA9PSAneCcpKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGsrKztcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkJcdTMwODhcdTMwOEJcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtpXVtrXS50eXBlT2ZFbGVtZW50ID09ICdoZWFkaW5nJyAmJlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhlYWRpbmdMZXZlbFtkYXRhW2ldW2tdLmxldmVsIC0gMV0gPT0gZmFsc2Upe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRrKys7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2ltcGxlIGZpbHRlclx1MzA2Qlx1MzA4OFx1MzA4Qlx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnNldHRpbmdzLndvcmRzVG9JZ25vcmVbZGF0YVtpXVtrXS50eXBlT2ZFbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICh2YWx1ZSkgJiYgZGF0YVtpXVtrXS5kaXNwbGF5VGV4dC5pbmNsdWRlcyh2YWx1ZSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWUgZW5kcHJldmlld2xvb3A7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbmRMaW5lID0gZGF0YVtpXVtrXS5wb3NpdGlvbi5zdGFydC5saW5lIC0xO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGwgPSBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmU7IGwgPD0gZW5kTGluZTsgbCsrKXtcclxuXHRcdFx0XHRcdFx0XHRwcmV2aWV3VGV4dDIgPSBwcmV2aWV3VGV4dDIgKyBpbmZvW2ldLmxpbmVzW2xdICsnXFxuJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQvLyBcdTdBN0FcdTg4NENcdTMwOTJcdTk2NjRcdTUzQkJcclxuXHRcdFx0XHRcdFx0cHJldmlld1RleHQyID0gcHJldmlld1RleHQyLnJlcGxhY2UoL1xcbiR8XFxuKD89XFxuKS9nLCcnKTtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFyaWFMYWJlbCA9IHByZXZpZXdUZXh0MjtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbC1wb3NpdGlvbicsdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbik7XHJcblx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwtY2xhc3NlcycsJ2RhaWx5LW5vdGUtcHJldmlldycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0XHRcdGFzeW5jKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdFx0XHRcdFx0XHRpZiAodmlldykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmlldy5lZGl0b3IuZm9jdXMoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmVkaXRvci5zZXRDdXJzb3IgKGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSwgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5jb2wpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmlldy5lZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZnJvbToge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpbmU6IGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaDowXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRvOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGluZTogZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoOjBcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRmYWxzZVxyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHQvL2hvdmVyIHByZXZpZXcgXHJcblx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdob3Zlci1saW5rJywge1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50LFxyXG5cdFx0XHRcdFx0XHRcdHNvdXJjZTogRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlLFxyXG5cdFx0XHRcdFx0XHRcdGhvdmVyUGFyZW50OiByb290RWwsXHJcblx0XHRcdFx0XHRcdFx0dGFyZ2V0RWw6IG91dGxpbmVUaXRsZSxcclxuXHRcdFx0XHRcdFx0XHRsaW5rdGV4dDogZmlsZXNbaV0ucGF0aCxcclxuXHRcdFx0XHRcdFx0XHRzdGF0ZTp7c2Nyb2xsOiBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmV9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gY29udGV4dG1lbnVcclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHRcdFx0XHRcdC8vXHU2MkJEXHU1MUZBXHJcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJFeHRyYWN0XCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2VhcmNoXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT57XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4dHJhY3QgPSBkYXRhW2ldW2pdLmRpc3BsYXlUZXh0O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcblx0XHRcdFx0XHRcdFx0Ly8gXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDYwXHUzMDYzXHUzMDVGXHUzMDg5XHUzMEVBXHUzMEYzXHUzMEFGXHU1MTQ4XHUzMDkyXHU3NkY0XHU2M0E1XHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0nbGluaycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGxpbmtlZCBmaWxlXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJsaW5rcy1nb2luZy1vdXRcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT57XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBsaW5rZWRGaWxlID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QoZGF0YVtpXVtqXS5saW5rLCBmaWxlc1tpXS5wYXRoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUobGlua2VkRmlsZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTY1QjBcdTg5OEZcdTMwQkZcdTMwRDZcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBpbiBuZXcgdGFiXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwiZmlsZS1wbHVzXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3RhYicpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFRvRWxlbWVudChkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQuY29sKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHQvL1x1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIHRvIHRoZSByaWdodFwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlcGFyYXRvci12ZXJ0aWNhbFwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCdzcGxpdCcpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFRvRWxlbWVudChkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQuY29sKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdC8vXHU2NUIwXHU4OThGXHUzMEE2XHUzMEEzXHUzMEYzXHUzMEM5XHUzMEE2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gaW4gbmV3IHdpbmRvd1wiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNjYW5cIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZignd2luZG93Jykub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsVG9FbGVtZW50KGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSwgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5jb2wpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvL1x1ODk4MVx1N0QyMDBcdTMwNjBcdTMwNjNcdTMwNUZcdTMwNjhcdTMwNERcdTMwNkVcdTUxRTZcdTc0MDZcclxuXHRcdFx0XHQvL1x1NTQwNFx1ODg0Q1x1MzA5Mlx1MzBDMVx1MzBBN1x1MzBDM1x1MzBBRlx1MzA1N1x1MzAwMVx1N0E3QVx1ODg0Q1x1MzA2N1x1MzA2QVx1MzA0NFx1NTIxRFx1MzA4MVx1MzA2RVx1ODg0Q1x1MzA5Mlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4QihcdTYyQkRcdTUxRkFcdTMwRTJcdTMwRkNcdTMwQzlcdTMwNjdcdTMwNkZcdTg4NENcdTMwOEZcdTMwNkFcdTMwNDQpXHJcblx0XHRcdFx0aWYgKHRoaXMuZXh0cmFjdE1vZGUgPT0gZmFsc2Upe1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBpbmZvW2ldLmxpbmVzLmxlbmd0aDsgaisrKXtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChpbmZvW2ldLmxpbmVzW2pdID09IFwiXCIpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG91dGxpbmVFbDogSFRNTEVsZW1lbnQgPSBkYWlseU5vdGVDaGlsZHJlbkVsXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0gbmF2LWZpbGVcIik7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3V0bGluZVRpdGxlOiBIVE1MRWxlbWVudCA9IG91dGxpbmVFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tc2VsZiBpcy1jbGlja2FibGUgbmF2LWZpbGUtdGl0bGVcIik7XHJcblx0XHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLmNyZWF0ZURpdihcInRyZWUtaXRlbS1pbm5lciBuYXYtZmlsZS10aXRsZS1jb250ZW50XCIpLnNldFRleHQoaW5mb1tpXS5saW5lc1tqXSk7XHJcblx0XHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRhc3luYyhldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFxyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBcdTYyQkRcdTUxRkFcdTMwRTJcdTMwRkNcdTMwQzlcdTMwNjdcdTYyQkRcdTUxRkFcdTMwNTdcdTMwNUZcdTg5ODFcdTdEMjBcdTMwNENcdTMwNkFcdTMwNDRcdTU4MzRcdTU0MDhcdTMwMDFcdTMwQ0VcdTMwRkNcdTMwQzhcdTgxRUFcdTRGNTNcdTMwOTJcdTk3NUVcdTg4NjhcdTc5M0FcdTMwNkJcdTMwMDJcclxuXHRcdFx0aWYgKHRoaXMuZXh0cmFjdE1vZGUgPT0gdHJ1ZSAmJiBpc0V4dHJhY3RlZCA9PSBmYWxzZSl7XHJcblx0XHRcdFx0ZGFpbHlOb3RlRWwucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIFx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1OTBFOFx1NTIwNlx1MzA2RVx1NjNDRlx1NzUzQlx1NUI5Rlx1ODg0Q1xyXG5cdFx0dGhpcy5jb250ZW50RWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyRWwpO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEE4XHUzMEM3XHUzMEEzXHUzMEJGXHUzMDkyXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHU0RjREXHU3RjZFXHUzMDdFXHUzMDY3XHUzMEI5XHUzMEFGXHUzMEVEXHUzMEZDXHUzMEVCXHJcblx0cHJpdmF0ZSBzY3JvbGxUb0VsZW1lbnQobGluZTogbnVtYmVyLCBjb2w6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0Y29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRpZiAodmlldykge1xyXG5cdFx0XHR2aWV3LmVkaXRvci5mb2N1cygpO1xyXG5cdFx0XHR2aWV3LmVkaXRvci5zZXRDdXJzb3IgKGxpbmUsIGNvbCk7XHJcblx0XHRcdHZpZXcuZWRpdG9yLnNjcm9sbEludG9WaWV3KCB7XHJcblx0XHRcdFx0ZnJvbToge1xyXG5cdFx0XHRcdFx0bGluZTogbGluZSxcclxuXHRcdFx0XHRcdGNoOjBcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHRvOiB7XHJcblx0XHRcdFx0XHRsaW5lOiBsaW5lLFxyXG5cdFx0XHRcdFx0Y2g6MFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBcdUZGM0IgXHVGRjNEXHUzMDZFXHU5NjY0XHU1M0JCXHJcblx0cHJpdmF0ZSBzdHJpcE1hcmtkb3duU3ltcG9sKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gKHRleHQucmVwbGFjZSgvKFxcW1xcWyl8KFxcXVxcXSkvZywnJykpO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDkyXHU4QTJEXHU1QjlBXHUzMDZCXHU1NDA4XHUzMDhGXHUzMDVCXHUzMDY2XHU1MjFEXHU2NzFGXHU1MzE2XHJcblx0cHVibGljIHJlc2V0U2VhcmNoUmFuZ2UoKTp2b2lkIHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlID09ICdmb3J3YXJkJyl7XHJcblx0XHRcdGNvbnN0IG9uc2V0RGF0ZSA9IHdpbmRvdy5tb21lbnQodGhpcy5zZXR0aW5ncy5vbnNldCxcIllZWVktTU0tRERcIik7XHJcblx0XHRcdGlmIChvbnNldERhdGUuaXNWYWxpZCgpKXtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gb25zZXREYXRlO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gb25zZXREYXRlLmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0xLCdkYXlzJyk7XHJcblx0XHRcdH0gZWxzZSB7ICBcclxuXHRcdFx0XHQvLyBvbnNldERhdGVcdTMwNENcdTRFMERcdTZCNjNcdTMwNkFcdTMwODlcdTVGNTNcdTY1RTVcdThENzdcdTcwQjlcdTMwNkViYWNrd2FyZCBzZWFyY2hcdTMwOTJcdTg4NENcdTMwNDZcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdvbnNldCBkYXRlIGlzIGludmFsaWQnKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IHdpbmRvdy5tb21lbnQoKS5zdGFydE9mKCdkYXknKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0gMSwnZGF5cycpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0gJ2JhY2t3YXJkJyl7XHJcblx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0gMSAsJ2RheXMnKTtcclxuXHRcdH0gXHJcblx0fVxyXG5cclxuXHQvLyBQZXJpb2RpYyBOb3Rlc1x1MzA2RVx1NzJCNlx1NjE0Qlx1MzA5Mlx1MzBDMVx1MzBBN1x1MzBDM1x1MzBBRiAgcmV0dXJuIDA6XHUzMEFBXHUzMEQ1IDE6djAueC54IDI6djEuMC4wLVxyXG5cdHByaXZhdGUgYXN5bmMgY2hlY2tQZXJpb2RpY05vdGVzKCk6IFByb21pc2U8bnVtYmVyPiB7XHJcblx0XHRcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRjb25zb2xlLmxvZygnRE5POmNoZWNraW5nIHRoZSB2ZXJzaW9uIG9mIFBlcmlvZGljIE5vdGVzIHBsdWdpbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddKXtcclxuXHRcdFx0aWYgKE51bWJlcihhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddLm1hbmlmZXN0LnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKSA+PTEpe1xyXG5cdFx0XHRcdC8vIHZlciAxLjAuMFx1NEVFNVx1NEUwQVxyXG5cdFx0XHRcdHRoaXMuY2FsZW5kYXJTZXRzID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdyZXR1cm4gb2YgdGhpcy5hcHAuUE4uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpOiAnLHRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LmNhbGVuZGFyU2V0TWFuYWdlci5nZXRDYWxlbmRhclNldHMoKSk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygncmV0dXJuIG9mIHdpbmRvdy5hcHAuUE4uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpOiAnLHdpbmRvdy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKCF0aGlzLmNhbGVuZGFyU2V0cy5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnZmFpbGVkIHRvIGltcG9ydCBjYWxlbmRhciBzZXRzIHRvIERhaWx5IE5vdGUgT3V0bGluZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCBpbml0aWFsR3JhbnVsYXJpdHkgPSB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5O1xyXG5cdFx0XHRcdHdoaWxlICghdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKXtcclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSAodGhpcy5hY3RpdmVHcmFudWxhcml0eSArIDEpICUgR1JBTlVMQVJJVFlfTElTVC5sZW5ndGg7XHJcblx0XHRcdFx0XHRpZih0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID09IGluaXRpYWxHcmFudWxhcml0eSl7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFxyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdvYnRhaW5lZCB2ZXJQTjogJywgdGhpcy52ZXJQTiAsJyBjYWxlbmRhclNldHM6ICcsIHRoaXMuY2FsZW5kYXJTZXRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIDI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gdmVyIDAueC54XHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jYWxlbmRhclNldHNFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAwO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpOyAgXHJcblxyXG5cdFx0XHRcdGNvbnN0IGluaXRpYWxHcmFudWxhcml0eSA9IHRoaXMuYWN0aXZlR3JhbnVsYXJpdHk7XHJcblx0XHRcdFx0d2hpbGUgKCF0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpLnNldHRpbmdzPy5bR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV1dPy5lbmFibGVkKXtcclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSAodGhpcy5hY3RpdmVHcmFudWxhcml0eSArIDEpICUgR1JBTlVMQVJJVFlfTElTVC5sZW5ndGg7XHJcblx0XHRcdFx0XHRpZih0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID09IGluaXRpYWxHcmFudWxhcml0eSl7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFxyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBQZXJpb2RpYyBOb3Rlc1x1MzA0Q1x1MzBBQVx1MzBENVx1MzA0Qlx1MzBBNFx1MzBGM1x1MzBCOVx1MzBDOFx1MzBGQ1x1MzBFQlx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFxyXG5cdFx0XHR0aGlzLnNldHRpbmdzLnBlcmlvZGljTm90ZXNFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2FsZW5kYXJTZXRzRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID0gMDtcclxuXHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAwO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBncmFudWxhcml0eVx1MzA2Qlx1NUY5M1x1MzA2M1x1MzA2Nlx1NTE2OFx1MzA2Nlx1MzA2RWRhaWx5L3dlZWtseS9tb250aGx5L3F1YXJ0ZXJseS95ZWFybHlcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTUzRDZcdTVGOTdcclxuXHRnZXRBbGxOb3RlcygpOlJlY29yZDxzdHJpbmcsVEZpbGU+IHtcclxuXHRcdHN3aXRjaCAodGhpcy5hY3RpdmVHcmFudWxhcml0eSl7XHJcblx0XHRcdGNhc2UgMDpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0QWxsRGFpbHlOb3RlcygpO1xyXG5cdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0cmV0dXJuIGdldEFsbFdlZWtseU5vdGVzKCk7XHJcblx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0QWxsTW9udGhseU5vdGVzKCk7XHJcblx0XHRcdGNhc2UgMzpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0QWxsUXVhcnRlcmx5Tm90ZXMoKTtcclxuXHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdHJldHVybiBnZXRBbGxZZWFybHlOb3RlcygpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IG1vbWVudCAgZnJvbSBcIm1vbWVudFwiO1xyXG5pbXBvcnQgeyBURmlsZSwgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgY3JlYXRlRGFpbHlOb3RlLCBnZXREYWlseU5vdGUsIGNyZWF0ZVBlcmlvZGljTm90ZSwgSUdyYW51bGFyaXR5LCBnZXREYXRlVUlELCBjcmVhdGVRdWFydGVybHlOb3RlLCBjcmVhdGVZZWFybHlOb3RlfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoIGdyYW51bGFyaXR5OiBJR3JhbnVsYXJpdHksIGRhdGU6IG1vbWVudCwgYWxsRmlsZXM6IFJlY29yZDxzdHJpbmcsVEZpbGU+KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHdpbmRvdy5hcHA7XHJcblxyXG5cdGNvbnN0IGNyZWF0ZUZpbGUgPSBhc3luYyAoKSA9PiB7XHJcblx0XHQvLyBjcmVhdGVQZXJpb2RpY05vdGVcdTMwNkZxdWFydGVyL3llYXJcdTMwNkJcdTMwNkZcdTVCRkVcdTVGRENcdTMwNTdcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNDRcdTMwODhcdTMwNDZcdTMwNkFcdTMwNkVcdTMwNjdcdTUyMDZcdTVDOTBcdTMwMDJcclxuXHRcdGxldCBuZXdOb3RlOlRGaWxlO1xyXG5cdFx0c3dpdGNoIChncmFudWxhcml0eSl7XHJcblx0XHRcdGNhc2UgJ3F1YXJ0ZXInOlxyXG5cdFx0XHRcdG5ld05vdGUgPSBhd2FpdCBjcmVhdGVRdWFydGVybHlOb3RlKGRhdGUpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICd5ZWFyJzpcclxuXHRcdFx0XHRuZXdOb3RlID0gYXdhaXQgY3JlYXRlWWVhcmx5Tm90ZShkYXRlKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRuZXdOb3RlID0gYXdhaXQgY3JlYXRlUGVyaW9kaWNOb3RlKGdyYW51bGFyaXR5LCBkYXRlKTtcclxuXHRcdH1cclxuXHRcdFx0XHRhd2FpdCB3b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKG5ld05vdGUpO1xyXG5cclxuXHR9O1xyXG5cdGNvbnN0IGRhaWx5bm90ZSA9IGFsbEZpbGVzW2dldERhdGVVSUQoZGF0ZSwgZ3JhbnVsYXJpdHkpXTtcclxuXHQvL2NvbnN0IGRhaWx5bm90ZSA9IGdldERhaWx5Tm90ZShkYXRlLCBhbGxGaWxlcyk7XHJcblx0aWYgKCFkYWlseW5vdGUpe1xyXG5cdFx0YXdhaXQgY3JlYXRlRmlsZSgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRhd2FpdCB3b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGRhaWx5bm90ZSk7XHJcblx0fVxyXG5cclxufVxyXG4iLCAiXHJcbmltcG9ydCB7IEFwcCwgTW9kYWwsIFNjb3BlLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XHJcbmV4cG9ydCBjbGFzcyBNb2RhbEV4dHJhY3QgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luO1xyXG5cdHNjb3BlOiBTY29wZTtcclxuXHJcblx0aW5wdXRlZFZhbHVlOiBzdHJpbmc7XHJcblx0ZW5hYmxlRXh0cmFjdCA6IGJvb2xlYW47XHJcblx0b25TdWJtaXQ6IChlbmFibGVFeHRyYWN0OiBib29sZWFuKSA9PiB2b2lkO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLCBvblN1Ym1pdDogKGVuYWJsZUV4dHJhY3Q6IGJvb2xlYW4pID0+IHZvaWQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdHRoaXMuaW5wdXRlZFZhbHVlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4dHJhY3Q7XHJcblxyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJiclwiKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5zZXROYW1lKFwiRXh0cmFjdCBieSB3b3JkIG9yIHBocmFzZTpcIilcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+e1xyXG5cdFx0XHRcdHRleHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4dHJhY3QpLmlucHV0RWwuc2VsZWN0KCk7XHJcblx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuaW5wdXRlZFZhbHVlID0gdmFsdWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxyXG5cdFx0XHQuYWRkQnV0dG9uKChidG4pID0+XHJcblx0XHRcdFx0YnRuXHJcblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIkV4dHJhY3RcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soXHJcblx0XHRcdFx0XHRcdGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5leGVjdXRlRXh0cmFjdCgpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpKVxyXG5cdFx0XHQuYWRkQnV0dG9uKChidG4pID0+XHJcblx0XHRcdFx0YnRuXHJcblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIkNhbmNlbFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHQvLyBFbnRlclx1MzA2N1x1MzA2RVx1NTE2NVx1NTI5Qlx1MzA2Qlx1NUY4Q1x1MzA2N1x1NUJGRVx1NUZEQ1x1MzA1N1x1MzA1Rlx1MzA0NCBcclxuXHRcdHRoaXMuc2NvcGUucmVnaXN0ZXIoW10sICdFbnRlcicsIFxyXG5cdFx0XHQoZXZ0OiBLZXlib2FyZEV2ZW50KT0+e1xyXG5cdFx0XHRcdHRoaXMuZXhlY3V0ZUV4dHJhY3QoKTtcclxuXHRcdFx0fVxyXG5cdFx0IFx0KTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRsZXQgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4ZWN1dGVFeHRyYWN0KCk6UHJvbWlzZTx2b2lkPntcclxuXHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeHRyYWN0ID0gdGhpcy5pbnB1dGVkVmFsdWU7XHJcblx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMub25TdWJtaXQodHJ1ZSk7XHJcblx0fVxyXG59XHJcbiIsICIvKlxyXG5Db2RlcyBpbiB0aGlzIGZpbGUgaXMgYWRhcHRlZCBmcm9tIFBlcmlvZGljIE5vdGVzIGJ5IExpYW0gQ2FpbiBodHRwczovL2dpdGh1Yi5jb20vbGlhbWNhaW4vb2JzaWRpYW4tcGVyaW9kaWMtbm90ZXNcclxuXHJcblRoZSBvcmlnaW5hbCB3b3JrIGlzIE1JVC1saWNlbnNlZC5cclxuXHJcbk1JVCBMaWNlbnNlXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMjEgTGlhbSBDYWluXHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXHJcbmNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxyXG5TT0ZUV0FSRS5cclxuKi9cclxuXHJcblxyXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuaW1wb3J0IHsgQXBwLCBURmlsZSwgV29ya3NwYWNlTGVhZiwgbm9ybWFsaXplUGF0aCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBJR3JhbnVsYXJpdHkgfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcblxyXG5pbXBvcnQgeyBDYWxlbmRhclNldCB9IGZyb20gXCIuL3BlcmlvZGljTm90ZXNUeXBlc1wiO1xyXG5cclxuaW1wb3J0IHsgR3JhbnVsYXJpdHksIFBlcmlvZGljQ29uZmlnIH0gZnJvbSBcIi4vcGVyaW9kaWNOb3Rlc1R5cGVzXCI7XHJcblxyXG5jb25zdCBERUZBVUxUX05PVEVfRk9STUFUID0ge1xyXG5cdGRheTogXCJZWVlZLU1NLUREXCIsXHJcblx0d2VlazogXCJnZ2dnLVtXXXd3XCIsXHJcblx0bW9udGg6IFwiWVlZWS1NTVwiLFxyXG5cdHF1YXJ0ZXI6IFwiWVlZWS1bUV1RXCIsXHJcblx0eWVhcjogXCJZWVlZXCJcclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBbmRPcGVuUGVyaW9kaWNOb3RlKCBncmFudWxhcml0eTogSUdyYW51bGFyaXR5LCBkYXRlOiBtb21lbnQsIGNhbGVuZGFyU2V0OiBDYWxlbmRhclNldCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB3aW5kb3cuYXBwO1xyXG5cclxuXHJcblx0bGV0IGZpbGUgPSB3aW5kb3cuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIikuY2FjaGUuZ2V0UGVyaW9kaWNOb3RlKFxyXG5cdFx0Y2FsZW5kYXJTZXQuaWQsIGdyYW51bGFyaXR5LCBkYXRlIFxyXG5cdCk7XHJcblx0aWYgKCFmaWxlKSB7XHJcblx0XHQvLyAgZmlsZVx1MzA5Mlx1NEY1Q1x1NjIxMFxyXG4gICAgXHRjb25zdCBjb25maWcgPSBjYWxlbmRhclNldFtncmFudWxhcml0eV07XHJcbiAgICBcdGNvbnN0IGZvcm1hdCA9IGNhbGVuZGFyU2V0W2dyYW51bGFyaXR5XS5mb3JtYXQ7XHJcblxyXG5cdFx0Y29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQgPyBmb3JtYXQgOiBERUZBVUxUX05PVEVfRk9STUFUW2dyYW51bGFyaXR5XSk7XHJcblx0XHRjb25zdCB0ZW1wbGF0ZUNvbnRlbnRzID0gYXdhaXQgZ2V0VGVtcGxhdGVDb250ZW50cyh3aW5kb3cuYXBwLCBjb25maWcudGVtcGxhdGVQYXRoKTtcclxuXHRcdGNvbnN0IHJlbmRlcmVkQ29udGVudHMgPSBhcHBseVRlbXBsYXRlVHJhbnNmb3JtYXRpb25zKFxyXG5cdFx0XHRmaWxlbmFtZSxcclxuXHRcdFx0Z3JhbnVsYXJpdHkgYXMgR3JhbnVsYXJpdHksXHJcblx0XHRcdGRhdGUsXHJcblx0XHRcdGZvcm1hdCxcclxuXHRcdFx0dGVtcGxhdGVDb250ZW50c1xyXG4gICAgXHQpO1xyXG4gICAgY29uc3QgZGVzdFBhdGggPSBhd2FpdCBnZXROb3RlQ3JlYXRpb25QYXRoKHdpbmRvdy5hcHAsIGZpbGVuYW1lLCBjb25maWcpO1xyXG4gICAgZmlsZSA9IGF3YWl0IHdpbmRvdy5hcHAudmF1bHQuY3JlYXRlKGRlc3RQYXRoLCByZW5kZXJlZENvbnRlbnRzKTtcclxuXHR9XHJcblxyXG5cdGF3YWl0IHdvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZSk7XHJcbn1cclxuXHJcblxyXG4vLyBQZXJpb2RpYyBOb3RlcyB1dGlsLnRzXHUzMDRCXHUzMDg5XHJcbmFzeW5jIGZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudHMoXHJcblx0YXBwOiBBcHAsXHJcblx0dGVtcGxhdGVQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWRcclxuICApOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdGNvbnN0IHsgbWV0YWRhdGFDYWNoZSwgdmF1bHQgfSA9IGFwcDtcclxuXHRjb25zdCBub3JtYWxpemVkVGVtcGxhdGVQYXRoID0gbm9ybWFsaXplUGF0aCh0ZW1wbGF0ZVBhdGggPz8gXCJcIik7XHJcblx0aWYgKHRlbXBsYXRlUGF0aCA9PT0gXCIvXCIpIHtcclxuXHQgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXCJcIik7XHJcblx0fVxyXG4gIFxyXG5cdHRyeSB7XHJcblx0ICBjb25zdCB0ZW1wbGF0ZUZpbGUgPSBtZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KG5vcm1hbGl6ZWRUZW1wbGF0ZVBhdGgsIFwiXCIpO1xyXG5cdCAgcmV0dXJuIHRlbXBsYXRlRmlsZSA/IHZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGVGaWxlKSA6IFwiXCI7XHJcblx0fSBjYXRjaCAoZXJyKSB7XHJcblx0ICBjb25zb2xlLmVycm9yKFxyXG5cdFx0YEZhaWxlZCB0byByZWFkIHRoZSBkYWlseSBub3RlIHRlbXBsYXRlICcke25vcm1hbGl6ZWRUZW1wbGF0ZVBhdGh9J2AsXHJcblx0XHRlcnJcclxuXHQgICk7XHJcblx0ICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGVcIik7XHJcblx0ICByZXR1cm4gXCJcIjtcclxuXHR9XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUZW1wbGF0ZVRyYW5zZm9ybWF0aW9ucyhcclxuZmlsZW5hbWU6IHN0cmluZyxcclxuZ3JhbnVsYXJpdHk6IEdyYW51bGFyaXR5LFxyXG5kYXRlOiBtb21lbnQsXHJcbmZvcm1hdDogc3RyaW5nLFxyXG5yYXdUZW1wbGF0ZUNvbnRlbnRzOiBzdHJpbmdcclxuKTogc3RyaW5nIHtcclxubGV0IHRlbXBsYXRlQ29udGVudHMgPSByYXdUZW1wbGF0ZUNvbnRlbnRzO1xyXG5cclxudGVtcGxhdGVDb250ZW50cyA9IHJhd1RlbXBsYXRlQ29udGVudHNcclxuXHQucmVwbGFjZSgve3tcXHMqZGF0ZVxccyp9fS9naSwgZmlsZW5hbWUpXHJcblx0LnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIHdpbmRvdy5tb21lbnQoKS5mb3JtYXQoXCJISDptbVwiKSlcclxuXHQucmVwbGFjZSgve3tcXHMqdGl0bGVcXHMqfX0vZ2ksIGZpbGVuYW1lKTtcclxuXHJcbmlmIChncmFudWxhcml0eSA9PT0gXCJkYXlcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzXHJcblx0LnJlcGxhY2UoL3t7XFxzKnllc3RlcmRheVxccyp9fS9naSwgZGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsIFwiZGF5XCIpLmZvcm1hdChmb3JtYXQpKVxyXG5cdC5yZXBsYWNlKC97e1xccyp0b21vcnJvd1xccyp9fS9naSwgZGF0ZS5jbG9uZSgpLmFkZCgxLCBcImRcIikuZm9ybWF0KGZvcm1hdCkpXHJcblx0LnJlcGxhY2UoXHJcblx0XHQve3tcXHMqKGRhdGV8dGltZSlcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSxcclxuXHRcdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XHJcblx0XHRcdGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxyXG5cdFx0XHRtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXHJcblx0XHRcdHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcclxuXHRcdH0pO1xyXG5cdFx0aWYgKGNhbGMpIHtcclxuXHRcdFx0Y3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobW9tZW50Rm9ybWF0KSB7XHJcblx0XHRcdHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xyXG5cdFx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbmlmIChncmFudWxhcml0eSA9PT0gXCJ3ZWVrXCIpIHtcclxuXHR0ZW1wbGF0ZUNvbnRlbnRzID0gdGVtcGxhdGVDb250ZW50cy5yZXBsYWNlKFxyXG5cdC97e1xccyooc3VuZGF5fG1vbmRheXx0dWVzZGF5fHdlZG5lc2RheXx0aHVyc2RheXxmcmlkYXl8c2F0dXJkYXkpXFxzKjooLio/KX19L2dpLFxyXG5cdChfLCBkYXlPZldlZWssIG1vbWVudEZvcm1hdCkgPT4ge1xyXG5cdFx0Y29uc3QgZGF5ID0gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrKTtcclxuXHRcdHJldHVybiBkYXRlLndlZWtkYXkoZGF5KS5mb3JtYXQobW9tZW50Rm9ybWF0LnRyaW0oKSk7XHJcblx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbmlmIChncmFudWxhcml0eSA9PT0gXCJtb250aFwiKSB7XHJcblx0dGVtcGxhdGVDb250ZW50cyA9IHRlbXBsYXRlQ29udGVudHMucmVwbGFjZShcclxuXHQve3tcXHMqKG1vbnRoKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IG1vbnRoU3RhcnQgPSBkYXRlXHJcblx0XHQuY2xvbmUoKVxyXG5cdFx0LnN0YXJ0T2YoXCJtb250aFwiKVxyXG5cdFx0LnNldCh7XHJcblx0XHRcdGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxyXG5cdFx0XHRtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXHJcblx0XHRcdHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcclxuXHRcdH0pO1xyXG5cdFx0aWYgKGNhbGMpIHtcclxuXHRcdG1vbnRoU3RhcnQuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobW9tZW50Rm9ybWF0KSB7XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1vbnRoU3RhcnQuZm9ybWF0KGZvcm1hdCk7XHJcblx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbmlmIChncmFudWxhcml0eSA9PT0gXCJxdWFydGVyXCIpIHtcclxuXHR0ZW1wbGF0ZUNvbnRlbnRzID0gdGVtcGxhdGVDb250ZW50cy5yZXBsYWNlKFxyXG5cdC97e1xccyoocXVhcnRlcilcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSxcclxuXHQoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XHJcblx0XHRjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XHJcblx0XHRjb25zdCBtb250aFN0YXJ0ID0gZGF0ZVxyXG5cdFx0LmNsb25lKClcclxuXHRcdC5zdGFydE9mKFwicXVhcnRlclwiKVxyXG5cdFx0LnNldCh7XHJcblx0XHRcdGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxyXG5cdFx0XHRtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXHJcblx0XHRcdHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcclxuXHRcdH0pO1xyXG5cdFx0aWYgKGNhbGMpIHtcclxuXHRcdG1vbnRoU3RhcnQuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobW9tZW50Rm9ybWF0KSB7XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1vbnRoU3RhcnQuZm9ybWF0KGZvcm1hdCk7XHJcblx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbmlmIChncmFudWxhcml0eSA9PT0gXCJ5ZWFyXCIpIHtcclxuXHR0ZW1wbGF0ZUNvbnRlbnRzID0gdGVtcGxhdGVDb250ZW50cy5yZXBsYWNlKFxyXG5cdC97e1xccyooeWVhcilcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSxcclxuXHQoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XHJcblx0XHRjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XHJcblx0XHRjb25zdCBtb250aFN0YXJ0ID0gZGF0ZVxyXG5cdFx0LmNsb25lKClcclxuXHRcdC5zdGFydE9mKFwieWVhclwiKVxyXG5cdFx0LnNldCh7XHJcblx0XHRcdGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxyXG5cdFx0XHRtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXHJcblx0XHRcdHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcclxuXHRcdH0pO1xyXG5cdFx0aWYgKGNhbGMpIHtcclxuXHRcdG1vbnRoU3RhcnQuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobW9tZW50Rm9ybWF0KSB7XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1vbnRoU3RhcnQuZm9ybWF0KGZvcm1hdCk7XHJcblx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbnJldHVybiB0ZW1wbGF0ZUNvbnRlbnRzO1xyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0Tm90ZUNyZWF0aW9uUGF0aChcclxuXHRhcHA6IEFwcCxcclxuXHRmaWxlbmFtZTogc3RyaW5nLFxyXG5cdHBlcmlvZGljQ29uZmlnOiBQZXJpb2RpY0NvbmZpZ1xyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0Y29uc3QgZGlyZWN0b3J5ID0gcGVyaW9kaWNDb25maWcuZm9sZGVyID8/IFwiXCI7XHJcblx0Y29uc3QgZmlsZW5hbWVXaXRoRXh0ID0gIWZpbGVuYW1lLmVuZHNXaXRoKFwiLm1kXCIpID8gYCR7ZmlsZW5hbWV9Lm1kYCA6IGZpbGVuYW1lO1xyXG4gIFxyXG5cdGNvbnN0IHBhdGggPSBub3JtYWxpemVQYXRoKGpvaW4oZGlyZWN0b3J5LCBmaWxlbmFtZVdpdGhFeHQpKTtcclxuXHRhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoYXBwLCBwYXRoKTtcclxuXHRyZXR1cm4gcGF0aDtcclxuICB9XHJcblxyXG4vLyBDcmVkaXQ6IEBjcmVhdGlvbml4L3BhdGguanNcclxuZnVuY3Rpb24gam9pbiguLi5wYXJ0U2VnbWVudHM6IHN0cmluZ1tdKTogc3RyaW5nIHtcclxuXHQvLyBTcGxpdCB0aGUgaW5wdXRzIGludG8gYSBsaXN0IG9mIHBhdGggY29tbWFuZHMuXHJcblx0bGV0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdGZvciAobGV0IGkgPSAwLCBsID0gcGFydFNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0cGFydHMgPSBwYXJ0cy5jb25jYXQocGFydFNlZ21lbnRzW2ldLnNwbGl0KFwiL1wiKSk7XHJcblx0fVxyXG5cdC8vIEludGVycHJldCB0aGUgcGF0aCBjb21tYW5kcyB0byBnZXQgdGhlIG5ldyByZXNvbHZlZCBwYXRoLlxyXG5cdGNvbnN0IG5ld1BhcnRzID0gW107XHJcblx0Zm9yIChsZXQgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcclxuXHRcdC8vIFJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzXHJcblx0XHQvLyBBbHNvIHJlbW92ZSBcIi5cIiBzZWdtZW50c1xyXG5cdFx0aWYgKCFwYXJ0IHx8IHBhcnQgPT09IFwiLlwiKSBjb250aW51ZTtcclxuXHRcdC8vIFB1c2ggbmV3IHBhdGggc2VnbWVudHMuXHJcblx0XHRlbHNlIG5ld1BhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdC8vIFByZXNlcnZlIHRoZSBpbml0aWFsIHNsYXNoIGlmIHRoZXJlIHdhcyBvbmUuXHJcblx0aWYgKHBhcnRzWzBdID09PSBcIlwiKSBuZXdQYXJ0cy51bnNoaWZ0KFwiXCIpO1xyXG5cdC8vIFR1cm4gYmFjayBpbnRvIGEgc2luZ2xlIHN0cmluZyBwYXRoLlxyXG5cdHJldHVybiBuZXdQYXJ0cy5qb2luKFwiL1wiKTtcclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZvbGRlckV4aXN0cyhhcHA6IEFwcCwgcGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0Y29uc3QgZGlycyA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBcIi9cIikuc3BsaXQoXCIvXCIpO1xyXG5cdGRpcnMucG9wKCk7IC8vIHJlbW92ZSBiYXNlbmFtZVxyXG5cclxuXHRpZiAoZGlycy5sZW5ndGgpIHtcclxuXHRcdGNvbnN0IGRpciA9IGpvaW4oLi4uZGlycyk7XHJcblx0XHRpZiAoIWFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZGlyKSkge1xyXG5cdFx0YXdhaXQgYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihkaXIpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldERheXNPZldlZWsoKTogc3RyaW5nW10ge1xyXG5cdGNvbnN0IHsgbW9tZW50IH0gPSB3aW5kb3c7XHJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuXHRsZXQgd2Vla1N0YXJ0ID0gKG1vbWVudC5sb2NhbGVEYXRhKCkgYXMgYW55KS5fd2Vlay5kb3c7XHJcblx0Y29uc3QgZGF5c09mV2VlayA9IFtcclxuXHQgIFwic3VuZGF5XCIsXHJcblx0ICBcIm1vbmRheVwiLFxyXG5cdCAgXCJ0dWVzZGF5XCIsXHJcblx0ICBcIndlZG5lc2RheVwiLFxyXG5cdCAgXCJ0aHVyc2RheVwiLFxyXG5cdCAgXCJmcmlkYXlcIixcclxuXHQgIFwic2F0dXJkYXlcIixcclxuXHRdO1xyXG4gIFxyXG5cdHdoaWxlICh3ZWVrU3RhcnQpIHtcclxuXHQgIGNvbnN0IGRheSA9IGRheXNPZldlZWsuc2hpZnQoKTtcclxuXHQgIGlmIChkYXkpIGRheXNPZldlZWsucHVzaChkYXkpO1xyXG5cdCAgd2Vla1N0YXJ0LS07XHJcblx0fVxyXG5cdHJldHVybiBkYXlzT2ZXZWVrO1xyXG4gIH1cclxuXHJcbmZ1bmN0aW9uIGdldERheU9mV2Vla051bWVyaWNhbFZhbHVlKGRheU9mV2Vla05hbWU6IHN0cmluZyk6IG51bWJlciB7XHJcblx0cmV0dXJuIGdldERheXNPZldlZWsoKS5pbmRleE9mKGRheU9mV2Vla05hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgfSIsICJpbXBvcnQgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiwgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcInNyYy9tYWluXCI7XHJcbmltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkIH0gZnJvbSBcIm9ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZVwiO1xyXG5cclxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIERhaWx5Tm90ZU91dGxpbmVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgICBwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRGFpbHlOb3RlT3V0bGluZVBsdWdpbikge1xyXG4gICAgICAgIHN1cGVyIChhcHAsIHBsdWdpbik7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgLy8gXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDZFXHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGKHBlcmlvZGljIG5vdGVzIFx1MzA2MFx1MzA1MVx1MzA2N1x1MzA4Mm9uXHUzMDZCXHUzMDZBXHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDhDXHUzMDcwXHU1NkRFXHU5MDdGKVxyXG4gICAgICAgIGlmICghYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zWydkYWlseS1ub3RlcyddPy5lbmFibGVkICYmICFhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KFwic2V0dGluZ3MtYmFubmVyXCIsIChiYW5uZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGJhbm5lci5jcmVhdGVFbChcImgzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIk5laXRoZXIgRGFpbHkgTm90ZSBwbHVnaW4gbm9yIFBlcmlvZGljIE5vdGVzIGNvbW11bml0eSBwbHVnaW4gaXMgZW5hYmxlZFwiLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJCYXNpY3NcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSW5pdGlhbCBzZWFyY2ggdHlwZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcInNlYXJjaCBiYWNrd2FyZCBmcm9tIHRvZGF5IC8gZm9yd2FyZCBmcm9tIGEgc3BlY2lmaWMgZGF0ZVwiKVxyXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJiYWNrd2FyZFwiLCBcImJhY2t3YXJkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImZvcndhcmRcIixcImZvcndhcmRcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU2VhcmNoIGR1cmF0aW9uXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwibnVtYmVyIG9mIGRheXMgdG8gc2VhcmNoIHBlciBwYWdlIChkZWZhdWx0ID0gMjgpXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi5kYXkpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24uZGF5KSlcclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkIDw9IDAgfHwgcGFyc2VkID49MzY2KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi5kYXlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24uZGF5ID0gcGFyc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkluY2x1ZGUgZnV0dXJlIGRhaWx5IG5vdGVzXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcImluIGJhY2t3YXJkIHNlYXJjaCwgaW5jbHVkZSBuIGRheXMgb2YgZnV0dXJlIGRhaWx5IG5vdGVzIChkZWZhdWx0ID0gNSlcIilcclxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLm9mZnNldCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vZmZzZXQpKVxyXG5cclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dGVkVmFsdWUgPSBOdW1iZXIoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRlZFZhbHVlIDwgMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ZWRWYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dGVkVmFsdWUgPj0zNjYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRlZFZhbHVlID0gMzY2XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9mZnNldCA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJPbnNldCBkYXRlXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIm9uc2V0IGRhdGUgaW4gZm9yd2FyZCBzZWFyY2ggKFlZWVktTU0tREQpXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1Mub25zZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9uc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbnNldCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTsgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx1NTE2NVx1NTI5Qlx1NTgzNFx1OTc2Mlx1MzA2N1x1MzA2RVx1MzBEMFx1MzBFQVx1MzBDN1x1MzBGQ1x1MzBCN1x1MzBFN1x1MzBGM1x1MzAwMVx1NjVBRFx1NUZGNVx1MjAyNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9tZW50KHZhbHVlICwgXCJZWVlZLU1NLUREXCIpLmlzVmFsaWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbnNldCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiaW52YWxpZCBkYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgaGVhZGluZ3NcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmhlYWRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGxpbmtzXCIpXHJcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmsgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IHRhZ3NcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy50YWcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBsaXN0IGl0ZW1zICYgdGFza3NcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saXN0SXRlbXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGFsbCByb290IGxpc3QgaXRlbXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiaWYgZGlzYWJsZWQsIG9ubHkgdG9wIGl0ZW0gb2YgdGhlIGxpc3QgaXMgZGlzcGxheWVkXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsUm9vdEl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxSb290SXRlbXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGFsbCB0YXNrc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJzaG93IGFsbCB0YXNrIGl0ZW1zIHJlZ2FyZGxlc3Mgb2YgdGhlaXIgbGV2ZWxcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxUYXNrcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxsVGFza3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlRhc2sgb25seVwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJpZiBlbmFibGVkLCBub3JtYWwgbGlzdCBpdGVtcyBhcmUgaGlkZGVuXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza09ubHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRhc2tPbmx5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJIaWRlIGNvbXBsZXRlZCB0YXNrc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVDb21wbGV0ZWRUYXNrcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUNvbXBsZXRlZFRhc2tzID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEJcdTYwQzVcdTU4MzFcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIkRpc3BsYXkgZmlsZSBpbmZvcm1hdGlvbiBmb3IgZGFpbHkgbm90ZXNcIilcclxuICAgICAgICAuc2V0RGVzYyhcImNob29zZSB0eXBlIG9mIGZpbGUgaW5mb3JtYXRpb24gdG8gZGlzcGxheSB3aXRoIHRoZSBmaWxlIG5hbWUgZm9yIGRhaWx5IG5vdGVzXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGluZXNcIixcImxpbmVzIG9mIHRoZSBub3RlXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZGF5c1wiLFwiZGF5cyBmcm9tIGJhc2UgZGF0ZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImRvd1wiLFwiZGF5IG9mIHRoZSB3ZWVrXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZG93c2hvcnRcIiwgXCJkYXkgb2YgdGhlIHdlZWsoc2hvcnQpXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwid2Vla251bWJlclwiLCBcIndlZWsgbnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJmaXJzdCB0YWdcIikgIFxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb0RhaWx5KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9EYWlseSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQpe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJEaXNwbGF5IGZpbGUgaW5mb3JtYXRpb24gZm9yIHBlcmlvZGljIG5vdGVzXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiY2hvb3NlIHR5cGUgb2YgZmlsZSBpbmZvcm1hdGlvbiB0byBkaXNwbGF5IGZvciBwZXJpb2RpYyBub3RlcyBvdGhlciB0aGFuIGRhaWx5IG5vdGVzXCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpbmVzXCIsXCJsaW5lcyBvZiB0aGUgbm90ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJkYXlzXCIsXCJkaXN0YW5jZSBmcm9tIGJhc2UgZGF0ZVwiKSAgIC8vIHBlcmlvZGljIG5vdGVzIFx1MzA2Qlx1NUJGRVx1NUZEQ1x1MzA1OVx1MzA4Qlx1MzA2QVx1MzA4OWRheXMgXHUzMDZCXHU5NjUwXHUzMDg5XHUzMDZBXHUzMDRGXHUzMDZBXHUzMDhCXHUzMDZFXHUzMDY3ZGlzdGFuY2VcdTMwNjhcdTMwNTdcdTMwNUZcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJmaXJzdCB0YWdcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvUGVyaW9kaWMpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvUGVyaW9kaWMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gdmlld1x1MzA5Mlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1NEY0RFx1N0Y2RSBcdUZGMDhcdTUzRjNcdTMwQjVcdTMwQTRcdTMwQzlcdTMwRDBcdTMwRkNcdTMwMDFcdTVERTZcdTMwQjVcdTMwQTRcdTMwQzlcdTMwRDBcdTMwRkNcdTMwMDFcdTMwRTFcdTMwQTRcdTMwRjNcdTMwREFcdTMwQTRcdTMwRjNcdUZGMDlcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIlBvc2l0aW9uIG9mIHRoZSBwbHVnaW4gdmlld1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiU3BlY2lmeSBkZWZhdWx0IHBvc2l0aW9uIHdoZXJlIHRoaXMgcGx1Z2luJ3MgdmlldyBhcHBlYXJzXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInJpZ2h0XCIsIFwicmlnaHQgc2lkZSBwYW5lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGVmdFwiLFwibGVmdCBzaWRlIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWJcIixcIm5ldyB0YWIgaW4gbWFpbiBwYW5lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwic3BsaXRcIixcInNwbGl0dGVkIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJwb3BvdXRcIixcInBvcG91dCB3aW5kb3dcIilcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy52aWV3UG9zaXRpb24pXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdQb3NpdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUGVyaW9kaWMgTm90ZXNcdTVCRkVcdTVGRENcdTMwNkVcdTMwQUFcdTMwRjNcdTMwQUFcdTMwRDVcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlBlcmlvZGljIE5vdGVzXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghYXBwLnBsdWdpbnMucGx1Z2luc1sncGVyaW9kaWMtbm90ZXMnXSl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiUGVyaW9kaWMgTm90ZXMgY29tbXVuaXR5IHBsdWdpbiBpcyBub3QgZW5hYmxlZFwiLFxyXG4gICAgICAgICAgICAgICAgY2xzOlwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlckNoZWNrID0gIE51bWJlcihhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddPy5tYW5pZmVzdC52ZXJzaW9uLnNwbGl0KFwiLlwiKVswXSk7XHJcbiAgICAgICAgICAgIGlmICh2ZXJDaGVjayA+PSAxKSB7ICAgXHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZShcImNhbGVuZGFyIHNldHNcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVuYWJsZSBjYWxlbmRhciBzZXRzIGZlYXR1cmUuIFlvdSBoYXZlIHRvIGFjdGl2YXRlIGFuZCBjb25maWd1cmUgdGhlIGJldGEgdmVyc2lvbiBvZiB0aGUgUGVyaW9kaWMgTm90ZXMgUGx1Z2luIGZpcnN0LlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYWxlbmRhclNldHNFbmFibGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KHRydWUsdHJ1ZSx0cnVlKTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwicGVyaW9kaWMgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW5hYmxlIHdlZWtseS9tb250aGx5L3F1YXJ0ZXJseS95ZWFybHkgbm90ZXMuIFlvdSBoYXZlIHRvIGFjdGl2YXRlIGFuZCBjb25maWd1cmUgdGhlIFBlcmlvZGljIE5vdGVzIFBsdWdpbiBmaXJzdC5cIilcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcmlvZGljTm90ZXNFbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KHRydWUsdHJ1ZSx0cnVlKTsgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcmlvZGljTm90ZXNFbmFibGVkKXtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJTZWFyY2ggZHVyYXRpb24gZm9yIHBlcmlvZGljIG5vdGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJ3ZWVrbHkgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2Ygd2Vla3MgdG8gc2VhcmNoIHBlciBwYWdlIChkZWZhdWx0ID0gMTIpXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb24ud2VlaykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ud2VlaykpXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkIDw9IDAgfHwgcGFyc2VkID49MzY2KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb24ud2Vla1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmR1cmF0aW9uLndlZWsgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJtb250aGx5IG5vdGVzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwibnVtYmVyIG9mIG1vbnRocyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAxMilcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi5tb250aCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ubW9udGgpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PTM2Nil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLm1vbnRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ubW9udGggPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJxdWFydGVybHkgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2YgcXVhcnRlcnMgdG8gc2VhcmNoIHBlciBwYWdlIChkZWZhdWx0ID0gOClcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi5xdWFydGVyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5xdWFydGVyKSlcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi5xdWFydGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ucXVhcnRlciA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcInllYXJseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIm51bWJlciBvZiB5ZWFycyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAxMilcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi55ZWFyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi55ZWFyKSlcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi55ZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ueWVhciA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJhdHRhY2ggZGF0ZSByYW5nZSB0byB3ZWVrbHkgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZGlzcGxheSBkYXRlIHJhbmdlIG5leHQgdG8gd2Vla2x5IG5vdGVzJyBuYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaFdlZWtseU5vdGVzTmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9cdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEJcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIkhlYWRpbmdzXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctY2F0ZWdvcnlcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmhlYWRpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkhlYWRpbmcgbGV2ZWwgdG8gZGlzcGxheVwiLFxyXG4gICAgICAgICAgICAgICAgY2xzOlwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5oZWFkaW5nTGV2ZWwuZm9yRWFjaCggKHZhbHVlLCBpbmRleCwgYXJyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE5hbWUoYExldmVsJHsgaW5kZXggKyAxfWApXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGVhZGluZ0xldmVsW2luZGV4XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5oZWFkaW5nTGV2ZWxbIGluZGV4IF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJUbyBkaXNwbGF5IHRoaXMgc2VjdGlvbiwgYWN0aXZhdGUgJ1Nob3cgaGVhZGluZ3MnIGluIEJhc2ljcyBzZWN0aW9uLlwiLFxyXG4gICAgICAgICAgICAgICAgY2xzOlwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJQcmV2aWV3XCIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiSW5saW5lIHByZXZpZXdcIilcclxuICAgICAgICAuc2V0RGVzYyhcIlNob3cgYSBmZXcgc3Vic2VxdWVudCB3b3JkcyBuZXh0IHRvIHRoZSBvdXRsaW5lIGVsZW1lbnQgbmFtZVwiKVxyXG4gICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmxpbmVQcmV2aWV3KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZVByZXZpZXcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiVG9vbHRpcCBwcmV2aWV3XCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJTaG93IHN1YnNlcXVlbnQgc2VudGVuY2VzIGFzIGEgdG9vbHRpcCB3aGVuIGhvdmVyXCIpXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJUb29sdGlwIHByZXZpZXcgZGlyZWN0aW9uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcInNwZWNpZnkgdGhlIGRpcmVjdGlvbiB0byBkaXNwbGF5IHRvb2x0aXAgcHJldmlld1wiKVxyXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsZWZ0XCIsIFwibGVmdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJyaWdodFwiLFwicmlnaHRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiYm90dG9tXCIsXCJib3R0b21cIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidG9wXCIsXCJ0b3BcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXdEaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFx1MzBENVx1MzBBM1x1MzBFQlx1MzBCRlx1MzBGQ1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiU2ltcGxlIGZpbHRlclwiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkhlYWRpbmdzIHRvIGlnbm9yZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkhlYWRpbmdzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUuaGVhZGluZy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLmhlYWRpbmcgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTGlua3MgdG8gaWdub3JlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiTGlua3Mgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0lnbm9yZS5saW5rLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUubGluayA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlRhZ3MgdG8gaWdub3JlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwidGFncyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLnRhZy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLnRhZyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkxpc3QgaXRlbXMgdG8gaWdub3JlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiTGlzdCBpdGVtcyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLmxpc3RJdGVtcy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLmxpc3RJdGVtcyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbmNsdWRlIC8gRXhjbHVkZVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiSW5jbHVkZVwiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJJZiB5b3Ugc3BlY2lmeSBvbmUgb3V0bGluZSBlbGVtZW50IHR5cGUgYW5kIHdvcmRzIHRvIGluY2x1ZGUsIG9ubHkgZWxlbWVudHMgd2hpY2ggYmVsb25nIHRvIHRoZSBpbmNsdWRlZCBlbGVtZW50cyBhcmUgZGlzcGxheWVkLlwiLFxyXG4gICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiKipOT1RFKio6IElmIEluY2x1ZGUgZmlsdGVyIGlzIHNldCBpbmNvcnJlY3RseSwgYSBudW1iZXIgb2Ygb3V0bGluZXMgbWF5IG5vdCBiZSBkaXNwbGF5ZWQuIEluIHN1Y2ggYSBjYXNlLCB0cnkgc2V0dGluZyAnRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlJyB0byAnbm8gSW5jbHVkZSBmaWx0ZXInLlwiLFxyXG4gICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICB9KTtcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIkVsZW1lbnQgdHlwZSBmb3IgaW5jbHVkZVwiKVxyXG4gICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJub25lXCIsIFwibm8gSW5jbHVkZSBmaWx0ZXJcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJoZWFkaW5nXCIsXCJoZWFkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlua1wiLFwibGlua1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInRhZ1wiLFwidGFnXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlzdEl0ZW1zXCIsXCJsaXN0SXRlbXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT25seSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZU9ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVPbmx5ICE9ICdub25lJyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIldvcmRzIHRvIGluY2x1ZGVcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiT25seSBlbGVtZW50cyBzcGVjaWZpZWQgaW4gJ0VsZW1lbnQgdHlwZSBmb3IgaW5jbHVkZScgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgd2lsbCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSW5jbHVkZS5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSW5jbHVkZSA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJbmNsdWRlIHRoZSBiZWdpbm5pbmcgcGFydFwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgLnNldERlc2MoXCJTcGVjaWZ5IHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgYmVnaW5uaW5nIHBhcnRzIG9mIGVhY2ggZGFpbHkgbm90ZSB3aXRoIG5vIGVsZW1lbnQgdG8gaW5jbHVkZSBcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZUJlZ2lubmluZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVCZWdpbm5pbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiRXhjbHVkZVwiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJTcGVjaWZpZWQgb3V0bGluZSBlbGVtZW50cyBhbmQgZWxlbWVudHMgYmVsb25naW5nIHRvIHRoYXQgZWxlbWVudCB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiRXhjbHVzaW9uIGVuZHMgYXRcIilcclxuICAgICAgICAuc2V0RGVzYyhcIkV4Y2x1ZGluZyBlbGVtZW50cyBzcGVjaWZpZWQgYmVsb3cgZW5kcyBhdCB0aGUgc2VsZWN0ZWQgdHlwZSBvZiBlbGVtZW50cy4gSWYgeW91IHNwZWNpZmllZCAnRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlJyBhYm92ZSwgdGhpcyB2YWx1ZSBpcyBpZ25vcmVkIGFuZCBleGNsdWRlaW5nIGVsZW1lbnRzIGVuZHMgYXQgdGhhdCB0eXBlIG9mIGVsZW1lbnRzLlwiKVxyXG4gICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJub25lXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhlYWRpbmdcIixcImhlYWRpbmdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5rXCIsXCJsaW5rXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJ0YWdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaXN0SXRlbXNcIixcImxpc3RJdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByaW1lRWxlbWVudClcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJpbWVFbGVtZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkhlYWRpbmdzIHRvIGV4Y2x1ZGVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJIZWFkaW5ncyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyBhbmQgZWxlbWVudHMgd2hpY2ggYmVsb25nIHRvIHRoZW0gd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGUuaGVhZGluZy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5oZWFkaW5nID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluayl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkxpbmtzIHRvIGV4Y2x1ZGVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaW5rcyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyBhbmQgZWxlbWVudHMgd2hpY2ggYmVsb25nIHRvIHRoZW0gd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGUubGluay5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saW5rID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlRhZ3MgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcInRhZ3Mgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgYW5kIGVsZW1lbnRzIHdoaWNoIGJlbG9uZyB0byB0aGVtIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLnRhZy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS50YWcgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saXN0SXRlbXMpe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJMaXN0IGl0ZW1zIHRvIGV4Y2x1ZGVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaXN0IGl0ZW1zIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIGFuZCBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlbSB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saXN0SXRlbXMuam9pbignXFxuJykpO1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGUubGlzdEl0ZW1zID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFx1NTkxNlx1ODlCM1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBoZWFkaW5nXHUzMDZFXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZCXHUzMDQyXHUzMDhGXHUzMDVCXHUzMDY2XHU0RUQ2XHUzMDZFXHU4OTgxXHU3RDIwXHUzMDkyXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHUzMDU5XHUzMDhCXHUzMDRCXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJJbmRlbnQgb3RoZXIgdGhhbiBoZWFkaW5nc1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiV2hldGhlciBvdGhlciBlbGVtZW50cyBzaG91bGQgYmUgaW5kZW50ZWQgdG8gcHJlY2VkaW5nIGhlYWRpbmdzXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjBcIixcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCIxXCIsXCJmb2xsb3cgcHJlY2VkaW5nIGhlYWRpbmdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCIyXCIsXCJwcmVjZWRpbmcgaGVhZGluZyArIDFcIilcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50Rm9sbG93SGVhZGluZykpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50Rm9sbG93SGVhZGluZyA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJOb3Rlc1wiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiSWNvblwiKVxyXG4gICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZmlsZVwiLFwiZmlsZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNhbGVuZGFyXCIsXCJjYWxlbmRhclwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNhbGVuZGFyLWRheXNcIixcImNhbGVuZGFyLWRheXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLm5vdGUpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5ub3RlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLm5vdGUgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLm5vdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubm90ZSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5ub3RlID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1ODk4Qlx1NTFGQVx1MzA1N1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiSGVhZGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8uYWRkT3B0aW9uKFwiaGVhZGluZ1wiLFwiaGVhZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJoYXNoXCIsXCJoYXNoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNoZXZyb24tcmlnaHRcIixcImNoZXZyb24tcmlnaHRcIilcclxuICAgICAgICAgICAgICAgICAgICAvLy5hZGRPcHRpb24oXCJoZWFkaW5nd2l0aG51bWJlclwiLFwiaGVhZGluZyB3aXRoIG51bWJlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5oZWFkaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24uaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24uaGVhZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5oZWFkaW5nID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXguaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5oZWFkaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXguaGVhZGluZyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXguaGVhZGluZyAhPSAnJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlJlcGVhdCBoZWFkaW5nIHByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsZXZlbFwiLFwiYXMgbWFueSB0aW1lcyBhcyBpdHMgbGV2ZWxcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsZXZlbG1pbnVzMVwiLFwibGV2ZWwgLSAxXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVwZWF0SGVhZGluZ1ByZWZpeClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVwZWF0SGVhZGluZ1ByZWZpeCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkFkZCBpbmRlbnRcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluZGVudC5oZWFkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50LmhlYWRpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFx1MzBFQVx1MzBGM1x1MzBBRlxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluayl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiTGlua3NcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpbmtcIixcImxpbmtcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGluay0yXCIsXCJsaW5rLTJcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY3VzdG9tXCIsXCJjdXN0b21cIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saW5rKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGluayA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saW5rID09ICdjdXN0b20nKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpbmspO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubGluayA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4LmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LmxpbmsgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEJGXHUzMEIwXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy50YWcpe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlRhZ3NcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInRhZ1wiLFwidGFnXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhhc2hcIixcImhhc2hcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY3VzdG9tXCIsXCJjdXN0b21cIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFnID09ICdjdXN0b20nKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLnRhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhZyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4LnRhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YWcgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEVBXHUzMEI5XHUzMEM4XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJMaXN0IGl0ZW1zXCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSWNvblwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJub25lXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaXN0XCIsXCJsaXN0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNoZXZyb24tcmlnaHRcIixcImNoZXZyb24tcmlnaHRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibWludXNcIixcIm1pbnVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNpcmNsZS1kb3RcIixcImNpcmNsZS1kb3RcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiYXN0ZXJpc2tcIixcImFzdGVyaXNrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGlzdEl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGlzdEl0ZW1zID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpc3RJdGVtcyA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5saXN0SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpc3RJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5saXN0SXRlbXMgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5saXN0SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGlzdEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGlzdEl0ZW1zID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vXHU2NzJBXHU1QjhDXHU0RTg2XHUzMEJGXHUzMEI5XHUzMEFGXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiVGFza3NcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInNxdWFyZVwiLFwic3F1YXJlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNpcmNsZVwiLFwiY2lyY2xlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpc3QtY2hlY2tzXCIsXCJsaXN0LWNoZWNrc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2spXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2sgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24udGFzaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgudGFzaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFzayA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkFkZCBjaGVja2JveCB0ZXh0IHRvIHByZWZpeFwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcImFkZCBbIF0gb3IgW3hdXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGRDaGVja2JveFRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGRDaGVja2JveFRleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9cdTVCOENcdTRFODZcdTZFMDhcdTMwN0ZcdTMwQkZcdTMwQjlcdTMwQUZcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJDb21wbGV0ZWQgdGFza3NcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNoZWNrLXNxdWFyZVwiLFwiY2hlY2stc3F1YXJlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNoZWNrLWNpcmNsZVwiLFwiY2hlY2stY2lyY2xlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImNoZWNrXCIsXCJjaGVja1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2tEb25lKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFza0RvbmUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFza0RvbmUgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24udGFza0RvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2tEb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2tEb25lID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgudGFza0RvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgudGFza0RvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrRG9uZSA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJPdGhlcnNcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJTaG93IG9ubHkgLm1kIGZpbGVzXCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJUdXJuIG9uIGlmIG5vbi1tZCBmaWxlcyBhcmUgZGlzcGxheWVkIGluIHRoZSB2aWV3XCIpXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1hcmtkb3duT25seSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXJrZG93bk9ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJTaG93IG9ubHkgZXhhY3RseSBtYXRjaGVkIGZpbGVzXCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJUdXJuIG9uIGlmIHlvdSBkbyBub3Qgd2FudCB0byBzZWUgZmlsZXMgdGhhdCBkbyBub3QgZXhhY3RseSBtYXRjaCB0aGUgZm9ybWF0XCIpXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4YWN0TWF0Y2hPbmx5KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmV4YWN0TWF0Y2hPbmx5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIkRlYnVnXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJzaG93IGRlYnVnIGluZm9ybWF0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImRpc3BsYXkgZGVidWcgaW5mb3JtYXRpb24gaW4gdGhlIGNvbnNvbGVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RlYnVnSW5mbylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0RlYnVnSW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFFQSxXQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTztBQUV0RCxRQUFJLFdBQVcsUUFBUTtBQUV2QixRQUFNLDRCQUE0QjtBQUNsQyxRQUFNLDZCQUE2QjtBQUNuQyxRQUFNLDhCQUE4QjtBQUNwQyxRQUFNLGdDQUFnQztBQUN0QyxRQUFNLDZCQUE2QjtBQUVuQyw0Q0FBd0MsYUFBYTtBQVpyRDtBQWNJLFlBQU0sZ0JBQWdCLE9BQU8sSUFBSSxRQUFRLFVBQVU7QUFDbkQsYUFBTyxpQkFBaUIsMkJBQWMsYUFBZCxtQkFBeUIsaUJB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
