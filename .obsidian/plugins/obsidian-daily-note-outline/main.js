/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/obsidian-daily-notes-interface/dist/main.js
var require_main = __commonJS({
  "node_modules/obsidian-daily-notes-interface/dist/main.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var obsidian = require("obsidian");
    var DEFAULT_DAILY_NOTE_FORMAT = "YYYY-MM-DD";
    var DEFAULT_WEEKLY_NOTE_FORMAT = "gggg-[W]ww";
    var DEFAULT_MONTHLY_NOTE_FORMAT = "YYYY-MM";
    var DEFAULT_QUARTERLY_NOTE_FORMAT = "YYYY-[Q]Q";
    var DEFAULT_YEARLY_NOTE_FORMAT = "YYYY";
    function shouldUsePeriodicNotesSettings(periodicity) {
      var _a, _b;
      const periodicNotes = window.app.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a[periodicity]) == null ? void 0 : _b.enabled);
    }
    function getDailyNoteSettings() {
      var _a, _b, _c, _d;
      try {
        const { internalPlugins, plugins } = window.app;
        if (shouldUsePeriodicNotesSettings("daily")) {
          const { format: format2, folder: folder2, template: template2 } = ((_b = (_a = plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.daily) || {};
          return {
            format: format2 || DEFAULT_DAILY_NOTE_FORMAT,
            folder: (folder2 == null ? void 0 : folder2.trim()) || "",
            template: (template2 == null ? void 0 : template2.trim()) || ""
          };
        }
        const { folder, format, template } = ((_d = (_c = internalPlugins.getPluginById("daily-notes")) == null ? void 0 : _c.instance) == null ? void 0 : _d.options) || {};
        return {
          format: format || DEFAULT_DAILY_NOTE_FORMAT,
          folder: (folder == null ? void 0 : folder.trim()) || "",
          template: (template == null ? void 0 : template.trim()) || ""
        };
      } catch (err) {
        console.info("No custom daily note settings found!", err);
      }
    }
    function getWeeklyNoteSettings() {
      var _a, _b, _c, _d, _e, _f, _g;
      try {
        const pluginManager = window.app.plugins;
        const calendarSettings = (_a = pluginManager.getPlugin("calendar")) == null ? void 0 : _a.options;
        const periodicNotesSettings = (_c = (_b = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _b.settings) == null ? void 0 : _c.weekly;
        if (shouldUsePeriodicNotesSettings("weekly")) {
          return {
            format: periodicNotesSettings.format || DEFAULT_WEEKLY_NOTE_FORMAT,
            folder: ((_d = periodicNotesSettings.folder) == null ? void 0 : _d.trim()) || "",
            template: ((_e = periodicNotesSettings.template) == null ? void 0 : _e.trim()) || ""
          };
        }
        const settings = calendarSettings || {};
        return {
          format: settings.weeklyNoteFormat || DEFAULT_WEEKLY_NOTE_FORMAT,
          folder: ((_f = settings.weeklyNoteFolder) == null ? void 0 : _f.trim()) || "",
          template: ((_g = settings.weeklyNoteTemplate) == null ? void 0 : _g.trim()) || ""
        };
      } catch (err) {
        console.info("No custom weekly note settings found!", err);
      }
    }
    function getMonthlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("monthly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.monthly) || {};
        return {
          format: settings.format || DEFAULT_MONTHLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom monthly note settings found!", err);
      }
    }
    function getQuarterlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("quarterly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.quarterly) || {};
        return {
          format: settings.format || DEFAULT_QUARTERLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom quarterly note settings found!", err);
      }
    }
    function getYearlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("yearly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.yearly) || {};
        return {
          format: settings.format || DEFAULT_YEARLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom yearly note settings found!", err);
      }
    }
    function join2(...partSegments) {
      let parts = [];
      for (let i = 0, l = partSegments.length; i < l; i++) {
        parts = parts.concat(partSegments[i].split("/"));
      }
      const newParts = [];
      for (let i = 0, l = parts.length; i < l; i++) {
        const part = parts[i];
        if (!part || part === ".")
          continue;
        else
          newParts.push(part);
      }
      if (parts[0] === "")
        newParts.unshift("");
      return newParts.join("/");
    }
    function basename(fullPath) {
      let base = fullPath.substring(fullPath.lastIndexOf("/") + 1);
      if (base.lastIndexOf(".") != -1)
        base = base.substring(0, base.lastIndexOf("."));
      return base;
    }
    function ensureFolderExists2(path) {
      return __async(this, null, function* () {
        const dirs = path.replace(/\\/g, "/").split("/");
        dirs.pop();
        if (dirs.length) {
          const dir = join2(...dirs);
          if (!window.app.vault.getAbstractFileByPath(dir)) {
            yield window.app.vault.createFolder(dir);
          }
        }
      });
    }
    function getNotePath(directory, filename) {
      return __async(this, null, function* () {
        if (!filename.endsWith(".md")) {
          filename += ".md";
        }
        const path = obsidian.normalizePath(join2(directory, filename));
        yield ensureFolderExists2(path);
        return path;
      });
    }
    function getTemplateInfo(template) {
      return __async(this, null, function* () {
        const { metadataCache, vault } = window.app;
        const templatePath = obsidian.normalizePath(template);
        if (templatePath === "/") {
          return Promise.resolve(["", null]);
        }
        try {
          const templateFile = metadataCache.getFirstLinkpathDest(templatePath, "");
          const contents = yield vault.cachedRead(templateFile);
          const IFoldInfo = window.app.foldManager.load(templateFile);
          return [contents, IFoldInfo];
        } catch (err) {
          console.error(`Failed to read the daily note template '${templatePath}'`, err);
          new obsidian.Notice("Failed to read the daily note template");
          return ["", null];
        }
      });
    }
    function getDateUID3(date, granularity = "day") {
      const ts = date.clone().startOf(granularity).format();
      return `${granularity}-${ts}`;
    }
    function removeEscapedCharacters(format) {
      return format.replace(/\[[^\]]*\]/g, "");
    }
    function isFormatAmbiguous(format, granularity) {
      if (granularity === "week") {
        const cleanFormat = removeEscapedCharacters(format);
        return /w{1,2}/i.test(cleanFormat) && (/M{1,4}/.test(cleanFormat) || /D{1,4}/.test(cleanFormat));
      }
      return false;
    }
    function getDateFromFile2(file, granularity) {
      return getDateFromFilename(file.basename, granularity);
    }
    function getDateFromPath(path, granularity) {
      return getDateFromFilename(basename(path), granularity);
    }
    function getDateFromFilename(filename, granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      };
      const format = getSettings[granularity]().format.split("/").pop();
      const noteDate = window.moment(filename, format, true);
      if (!noteDate.isValid()) {
        return null;
      }
      if (isFormatAmbiguous(format, granularity)) {
        if (granularity === "week") {
          const cleanFormat = removeEscapedCharacters(format);
          if (/w{1,2}/i.test(cleanFormat)) {
            return window.moment(filename, format.replace(/M{1,4}/g, "").replace(/D{1,4}/g, ""), false);
          }
        }
      }
      return noteDate;
    }
    var DailyNotesFolderMissingError = class extends Error {
    };
    function createDailyNote3(date) {
      return __async(this, null, function* () {
        const app2 = window.app;
        const { vault } = app2;
        const moment2 = window.moment;
        const { template, format, folder } = getDailyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, moment2().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = moment2();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)));
          app2.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getDailyNote2(date, dailyNotes) {
      var _a;
      return (_a = dailyNotes[getDateUID3(date, "day")]) != null ? _a : null;
    }
    function getAllDailyNotes2() {
      const { vault } = window.app;
      const { folder } = getDailyNoteSettings();
      const dailyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!dailyNotesFolder) {
        throw new DailyNotesFolderMissingError("Failed to find daily notes folder");
      }
      const dailyNotes = {};
      obsidian.Vault.recurseChildren(dailyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "day");
          if (date) {
            const dateString = getDateUID3(date, "day");
            dailyNotes[dateString] = note;
          }
        }
      });
      return dailyNotes;
    }
    var WeeklyNotesFolderMissingError = class extends Error {
    };
    function getDaysOfWeek2() {
      const { moment: moment2 } = window;
      let weekStart = moment2.localeData()._week.dow;
      const daysOfWeek = [
        "sunday",
        "monday",
        "tuesday",
        "wednesday",
        "thursday",
        "friday",
        "saturday"
      ];
      while (weekStart) {
        daysOfWeek.push(daysOfWeek.shift());
        weekStart--;
      }
      return daysOfWeek;
    }
    function getDayOfWeekNumericalValue2(dayOfWeekName) {
      return getDaysOfWeek2().indexOf(dayOfWeekName.toLowerCase());
    }
    function createWeeklyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getWeeklyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
            const day = getDayOfWeekNumericalValue2(dayOfWeek);
            return date.weekday(day).format(momentFormat.trim());
          }));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getWeeklyNote(date, weeklyNotes) {
      var _a;
      return (_a = weeklyNotes[getDateUID3(date, "week")]) != null ? _a : null;
    }
    function getAllWeeklyNotes2() {
      const weeklyNotes = {};
      if (!appHasWeeklyNotesPluginLoaded()) {
        return weeklyNotes;
      }
      const { vault } = window.app;
      const { folder } = getWeeklyNoteSettings();
      const weeklyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!weeklyNotesFolder) {
        throw new WeeklyNotesFolderMissingError("Failed to find weekly notes folder");
      }
      obsidian.Vault.recurseChildren(weeklyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "week");
          if (date) {
            const dateString = getDateUID3(date, "week");
            weeklyNotes[dateString] = note;
          }
        }
      });
      return weeklyNotes;
    }
    var MonthlyNotesFolderMissingError = class extends Error {
    };
    function createMonthlyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getMonthlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getMonthlyNote(date, monthlyNotes) {
      var _a;
      return (_a = monthlyNotes[getDateUID3(date, "month")]) != null ? _a : null;
    }
    function getAllMonthlyNotes2() {
      const monthlyNotes = {};
      if (!appHasMonthlyNotesPluginLoaded()) {
        return monthlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getMonthlyNoteSettings();
      const monthlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!monthlyNotesFolder) {
        throw new MonthlyNotesFolderMissingError("Failed to find monthly notes folder");
      }
      obsidian.Vault.recurseChildren(monthlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "month");
          if (date) {
            const dateString = getDateUID3(date, "month");
            monthlyNotes[dateString] = note;
          }
        }
      });
      return monthlyNotes;
    }
    var QuarterlyNotesFolderMissingError = class extends Error {
    };
    function createQuarterlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getQuarterlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getQuarterlyNote(date, quarterly) {
      var _a;
      return (_a = quarterly[getDateUID3(date, "quarter")]) != null ? _a : null;
    }
    function getAllQuarterlyNotes2() {
      const quarterly = {};
      if (!appHasQuarterlyNotesPluginLoaded()) {
        return quarterly;
      }
      const { vault } = window.app;
      const { folder } = getQuarterlyNoteSettings();
      const quarterlyFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!quarterlyFolder) {
        throw new QuarterlyNotesFolderMissingError("Failed to find quarterly notes folder");
      }
      obsidian.Vault.recurseChildren(quarterlyFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "quarter");
          if (date) {
            const dateString = getDateUID3(date, "quarter");
            quarterly[dateString] = note;
          }
        }
      });
      return quarterly;
    }
    var YearlyNotesFolderMissingError = class extends Error {
    };
    function createYearlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getYearlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getYearlyNote(date, yearlyNotes) {
      var _a;
      return (_a = yearlyNotes[getDateUID3(date, "year")]) != null ? _a : null;
    }
    function getAllYearlyNotes2() {
      const yearlyNotes = {};
      if (!appHasYearlyNotesPluginLoaded()) {
        return yearlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getYearlyNoteSettings();
      const yearlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!yearlyNotesFolder) {
        throw new YearlyNotesFolderMissingError("Failed to find yearly notes folder");
      }
      obsidian.Vault.recurseChildren(yearlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "year");
          if (date) {
            const dateString = getDateUID3(date, "year");
            yearlyNotes[dateString] = note;
          }
        }
      });
      return yearlyNotes;
    }
    function appHasDailyNotesPluginLoaded2() {
      var _a, _b;
      const { app: app2 } = window;
      const dailyNotesPlugin = app2.internalPlugins.plugins["daily-notes"];
      if (dailyNotesPlugin && dailyNotesPlugin.enabled) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.daily) == null ? void 0 : _b.enabled);
    }
    function appHasWeeklyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      if (app2.plugins.getPlugin("calendar")) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.weekly) == null ? void 0 : _b.enabled);
    }
    function appHasMonthlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.monthly) == null ? void 0 : _b.enabled);
    }
    function appHasQuarterlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.quarterly) == null ? void 0 : _b.enabled);
    }
    function appHasYearlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.yearly) == null ? void 0 : _b.enabled);
    }
    function getPeriodicNoteSettings(granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      }[granularity];
      return getSettings();
    }
    function createPeriodicNote2(granularity, date) {
      const createFn = {
        day: createDailyNote3,
        month: createMonthlyNote,
        week: createWeeklyNote
      };
      return createFn[granularity](date);
    }
    exports.DEFAULT_DAILY_NOTE_FORMAT = DEFAULT_DAILY_NOTE_FORMAT;
    exports.DEFAULT_MONTHLY_NOTE_FORMAT = DEFAULT_MONTHLY_NOTE_FORMAT;
    exports.DEFAULT_QUARTERLY_NOTE_FORMAT = DEFAULT_QUARTERLY_NOTE_FORMAT;
    exports.DEFAULT_WEEKLY_NOTE_FORMAT = DEFAULT_WEEKLY_NOTE_FORMAT;
    exports.DEFAULT_YEARLY_NOTE_FORMAT = DEFAULT_YEARLY_NOTE_FORMAT;
    exports.appHasDailyNotesPluginLoaded = appHasDailyNotesPluginLoaded2;
    exports.appHasMonthlyNotesPluginLoaded = appHasMonthlyNotesPluginLoaded;
    exports.appHasQuarterlyNotesPluginLoaded = appHasQuarterlyNotesPluginLoaded;
    exports.appHasWeeklyNotesPluginLoaded = appHasWeeklyNotesPluginLoaded;
    exports.appHasYearlyNotesPluginLoaded = appHasYearlyNotesPluginLoaded;
    exports.createDailyNote = createDailyNote3;
    exports.createMonthlyNote = createMonthlyNote;
    exports.createPeriodicNote = createPeriodicNote2;
    exports.createQuarterlyNote = createQuarterlyNote2;
    exports.createWeeklyNote = createWeeklyNote;
    exports.createYearlyNote = createYearlyNote2;
    exports.getAllDailyNotes = getAllDailyNotes2;
    exports.getAllMonthlyNotes = getAllMonthlyNotes2;
    exports.getAllQuarterlyNotes = getAllQuarterlyNotes2;
    exports.getAllWeeklyNotes = getAllWeeklyNotes2;
    exports.getAllYearlyNotes = getAllYearlyNotes2;
    exports.getDailyNote = getDailyNote2;
    exports.getDailyNoteSettings = getDailyNoteSettings;
    exports.getDateFromFile = getDateFromFile2;
    exports.getDateFromPath = getDateFromPath;
    exports.getDateUID = getDateUID3;
    exports.getMonthlyNote = getMonthlyNote;
    exports.getMonthlyNoteSettings = getMonthlyNoteSettings;
    exports.getPeriodicNoteSettings = getPeriodicNoteSettings;
    exports.getQuarterlyNote = getQuarterlyNote;
    exports.getQuarterlyNoteSettings = getQuarterlyNoteSettings;
    exports.getTemplateInfo = getTemplateInfo;
    exports.getWeeklyNote = getWeeklyNote;
    exports.getWeeklyNoteSettings = getWeeklyNoteSettings;
    exports.getYearlyNote = getYearlyNote;
    exports.getYearlyNoteSettings = getYearlyNoteSettings;
  }
});

// node_modules/moment/moment.js
var require_moment = __commonJS({
  "node_modules/moment/moment.js"(exports, module2) {
    (function(global, factory) {
      typeof exports === "object" && typeof module2 !== "undefined" ? module2.exports = factory() : typeof define === "function" && define.amd ? define(factory) : global.moment = factory();
    })(exports, function() {
      "use strict";
      var hookCallback;
      function hooks() {
        return hookCallback.apply(null, arguments);
      }
      function setHookCallback(callback) {
        hookCallback = callback;
      }
      function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === "[object Array]";
      }
      function isObject(input) {
        return input != null && Object.prototype.toString.call(input) === "[object Object]";
      }
      function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
      }
      function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
          return Object.getOwnPropertyNames(obj).length === 0;
        } else {
          var k;
          for (k in obj) {
            if (hasOwnProp(obj, k)) {
              return false;
            }
          }
          return true;
        }
      }
      function isUndefined(input) {
        return input === void 0;
      }
      function isNumber(input) {
        return typeof input === "number" || Object.prototype.toString.call(input) === "[object Number]";
      }
      function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === "[object Date]";
      }
      function map(arr, fn) {
        var res = [], i, arrLen = arr.length;
        for (i = 0; i < arrLen; ++i) {
          res.push(fn(arr[i], i));
        }
        return res;
      }
      function extend(a, b) {
        for (var i in b) {
          if (hasOwnProp(b, i)) {
            a[i] = b[i];
          }
        }
        if (hasOwnProp(b, "toString")) {
          a.toString = b.toString;
        }
        if (hasOwnProp(b, "valueOf")) {
          a.valueOf = b.valueOf;
        }
        return a;
      }
      function createUTC(input, format2, locale2, strict) {
        return createLocalOrUTC(input, format2, locale2, strict, true).utc();
      }
      function defaultParsingFlags() {
        return {
          empty: false,
          unusedTokens: [],
          unusedInput: [],
          overflow: -2,
          charsLeftOver: 0,
          nullInput: false,
          invalidEra: null,
          invalidMonth: null,
          invalidFormat: false,
          userInvalidated: false,
          iso: false,
          parsedDateParts: [],
          era: null,
          meridiem: null,
          rfc2822: false,
          weekdayMismatch: false
        };
      }
      function getParsingFlags(m) {
        if (m._pf == null) {
          m._pf = defaultParsingFlags();
        }
        return m._pf;
      }
      var some;
      if (Array.prototype.some) {
        some = Array.prototype.some;
      } else {
        some = function(fun) {
          var t = Object(this), len = t.length >>> 0, i;
          for (i = 0; i < len; i++) {
            if (i in t && fun.call(this, t[i], i, t)) {
              return true;
            }
          }
          return false;
        };
      }
      function isValid(m) {
        if (m._isValid == null) {
          var flags = getParsingFlags(m), parsedParts = some.call(flags.parsedDateParts, function(i) {
            return i != null;
          }), isNowValid = !isNaN(m._d.getTime()) && flags.overflow < 0 && !flags.empty && !flags.invalidEra && !flags.invalidMonth && !flags.invalidWeekday && !flags.weekdayMismatch && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || flags.meridiem && parsedParts);
          if (m._strict) {
            isNowValid = isNowValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === void 0;
          }
          if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
          } else {
            return isNowValid;
          }
        }
        return m._isValid;
      }
      function createInvalid(flags) {
        var m = createUTC(NaN);
        if (flags != null) {
          extend(getParsingFlags(m), flags);
        } else {
          getParsingFlags(m).userInvalidated = true;
        }
        return m;
      }
      var momentProperties = hooks.momentProperties = [], updateInProgress = false;
      function copyConfig(to2, from2) {
        var i, prop, val, momentPropertiesLen = momentProperties.length;
        if (!isUndefined(from2._isAMomentObject)) {
          to2._isAMomentObject = from2._isAMomentObject;
        }
        if (!isUndefined(from2._i)) {
          to2._i = from2._i;
        }
        if (!isUndefined(from2._f)) {
          to2._f = from2._f;
        }
        if (!isUndefined(from2._l)) {
          to2._l = from2._l;
        }
        if (!isUndefined(from2._strict)) {
          to2._strict = from2._strict;
        }
        if (!isUndefined(from2._tzm)) {
          to2._tzm = from2._tzm;
        }
        if (!isUndefined(from2._isUTC)) {
          to2._isUTC = from2._isUTC;
        }
        if (!isUndefined(from2._offset)) {
          to2._offset = from2._offset;
        }
        if (!isUndefined(from2._pf)) {
          to2._pf = getParsingFlags(from2);
        }
        if (!isUndefined(from2._locale)) {
          to2._locale = from2._locale;
        }
        if (momentPropertiesLen > 0) {
          for (i = 0; i < momentPropertiesLen; i++) {
            prop = momentProperties[i];
            val = from2[prop];
            if (!isUndefined(val)) {
              to2[prop] = val;
            }
          }
        }
        return to2;
      }
      function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
          this._d = new Date(NaN);
        }
        if (updateInProgress === false) {
          updateInProgress = true;
          hooks.updateOffset(this);
          updateInProgress = false;
        }
      }
      function isMoment(obj) {
        return obj instanceof Moment || obj != null && obj._isAMomentObject != null;
      }
      function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false && typeof console !== "undefined" && console.warn) {
          console.warn("Deprecation warning: " + msg);
        }
      }
      function deprecate(msg, fn) {
        var firstTime = true;
        return extend(function() {
          if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(null, msg);
          }
          if (firstTime) {
            var args = [], arg, i, key, argLen = arguments.length;
            for (i = 0; i < argLen; i++) {
              arg = "";
              if (typeof arguments[i] === "object") {
                arg += "\n[" + i + "] ";
                for (key in arguments[0]) {
                  if (hasOwnProp(arguments[0], key)) {
                    arg += key + ": " + arguments[0][key] + ", ";
                  }
                }
                arg = arg.slice(0, -2);
              } else {
                arg = arguments[i];
              }
              args.push(arg);
            }
            warn(msg + "\nArguments: " + Array.prototype.slice.call(args).join("") + "\n" + new Error().stack);
            firstTime = false;
          }
          return fn.apply(this, arguments);
        }, fn);
      }
      var deprecations = {};
      function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
          hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
          warn(msg);
          deprecations[name] = true;
        }
      }
      hooks.suppressDeprecationWarnings = false;
      hooks.deprecationHandler = null;
      function isFunction(input) {
        return typeof Function !== "undefined" && input instanceof Function || Object.prototype.toString.call(input) === "[object Function]";
      }
      function set(config) {
        var prop, i;
        for (i in config) {
          if (hasOwnProp(config, i)) {
            prop = config[i];
            if (isFunction(prop)) {
              this[i] = prop;
            } else {
              this["_" + i] = prop;
            }
          }
        }
        this._config = config;
        this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source);
      }
      function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
          if (hasOwnProp(childConfig, prop)) {
            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
              res[prop] = {};
              extend(res[prop], parentConfig[prop]);
              extend(res[prop], childConfig[prop]);
            } else if (childConfig[prop] != null) {
              res[prop] = childConfig[prop];
            } else {
              delete res[prop];
            }
          }
        }
        for (prop in parentConfig) {
          if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {
            res[prop] = extend({}, res[prop]);
          }
        }
        return res;
      }
      function Locale(config) {
        if (config != null) {
          this.set(config);
        }
      }
      var keys;
      if (Object.keys) {
        keys = Object.keys;
      } else {
        keys = function(obj) {
          var i, res = [];
          for (i in obj) {
            if (hasOwnProp(obj, i)) {
              res.push(i);
            }
          }
          return res;
        };
      }
      var defaultCalendar = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
      };
      function calendar(key, mom, now2) {
        var output = this._calendar[key] || this._calendar["sameElse"];
        return isFunction(output) ? output.call(mom, now2) : output;
      }
      function zeroFill(number, targetLength, forceSign) {
        var absNumber = "" + Math.abs(number), zerosToFill = targetLength - absNumber.length, sign2 = number >= 0;
        return (sign2 ? forceSign ? "+" : "" : "-") + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
      }
      var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, formatFunctions = {}, formatTokenFunctions = {};
      function addFormatToken(token2, padded, ordinal2, callback) {
        var func = callback;
        if (typeof callback === "string") {
          func = function() {
            return this[callback]();
          };
        }
        if (token2) {
          formatTokenFunctions[token2] = func;
        }
        if (padded) {
          formatTokenFunctions[padded[0]] = function() {
            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
          };
        }
        if (ordinal2) {
          formatTokenFunctions[ordinal2] = function() {
            return this.localeData().ordinal(func.apply(this, arguments), token2);
          };
        }
      }
      function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
          return input.replace(/^\[|\]$/g, "");
        }
        return input.replace(/\\/g, "");
      }
      function makeFormatFunction(format2) {
        var array = format2.match(formattingTokens), i, length;
        for (i = 0, length = array.length; i < length; i++) {
          if (formatTokenFunctions[array[i]]) {
            array[i] = formatTokenFunctions[array[i]];
          } else {
            array[i] = removeFormattingTokens(array[i]);
          }
        }
        return function(mom) {
          var output = "", i2;
          for (i2 = 0; i2 < length; i2++) {
            output += isFunction(array[i2]) ? array[i2].call(mom, format2) : array[i2];
          }
          return output;
        };
      }
      function formatMoment(m, format2) {
        if (!m.isValid()) {
          return m.localeData().invalidDate();
        }
        format2 = expandFormat(format2, m.localeData());
        formatFunctions[format2] = formatFunctions[format2] || makeFormatFunction(format2);
        return formatFunctions[format2](m);
      }
      function expandFormat(format2, locale2) {
        var i = 5;
        function replaceLongDateFormatTokens(input) {
          return locale2.longDateFormat(input) || input;
        }
        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format2)) {
          format2 = format2.replace(localFormattingTokens, replaceLongDateFormatTokens);
          localFormattingTokens.lastIndex = 0;
          i -= 1;
        }
        return format2;
      }
      var defaultLongDateFormat = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
      };
      function longDateFormat(key) {
        var format2 = this._longDateFormat[key], formatUpper = this._longDateFormat[key.toUpperCase()];
        if (format2 || !formatUpper) {
          return format2;
        }
        this._longDateFormat[key] = formatUpper.match(formattingTokens).map(function(tok) {
          if (tok === "MMMM" || tok === "MM" || tok === "DD" || tok === "dddd") {
            return tok.slice(1);
          }
          return tok;
        }).join("");
        return this._longDateFormat[key];
      }
      var defaultInvalidDate = "Invalid date";
      function invalidDate() {
        return this._invalidDate;
      }
      var defaultOrdinal = "%d", defaultDayOfMonthOrdinalParse = /\d{1,2}/;
      function ordinal(number) {
        return this._ordinal.replace("%d", number);
      }
      var defaultRelativeTime = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        ss: "%d seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        w: "a week",
        ww: "%d weeks",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
      };
      function relativeTime(number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return isFunction(output) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
      }
      function pastFuture(diff2, output) {
        var format2 = this._relativeTime[diff2 > 0 ? "future" : "past"];
        return isFunction(format2) ? format2(output) : format2.replace(/%s/i, output);
      }
      var aliases = {};
      function addUnitAlias(unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + "s"] = aliases[shorthand] = unit;
      }
      function normalizeUnits(units) {
        return typeof units === "string" ? aliases[units] || aliases[units.toLowerCase()] : void 0;
      }
      function normalizeObjectUnits(inputObject) {
        var normalizedInput = {}, normalizedProp, prop;
        for (prop in inputObject) {
          if (hasOwnProp(inputObject, prop)) {
            normalizedProp = normalizeUnits(prop);
            if (normalizedProp) {
              normalizedInput[normalizedProp] = inputObject[prop];
            }
          }
        }
        return normalizedInput;
      }
      var priorities = {};
      function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
      }
      function getPrioritizedUnits(unitsObj) {
        var units = [], u;
        for (u in unitsObj) {
          if (hasOwnProp(unitsObj, u)) {
            units.push({ unit: u, priority: priorities[u] });
          }
        }
        units.sort(function(a, b) {
          return a.priority - b.priority;
        });
        return units;
      }
      function isLeapYear(year) {
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
      }
      function absFloor(number) {
        if (number < 0) {
          return Math.ceil(number) || 0;
        } else {
          return Math.floor(number);
        }
      }
      function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion, value = 0;
        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
          value = absFloor(coercedNumber);
        }
        return value;
      }
      function makeGetSet(unit, keepTime) {
        return function(value) {
          if (value != null) {
            set$1(this, unit, value);
            hooks.updateOffset(this, keepTime);
            return this;
          } else {
            return get(this, unit);
          }
        };
      }
      function get(mom, unit) {
        return mom.isValid() ? mom._d["get" + (mom._isUTC ? "UTC" : "") + unit]() : NaN;
      }
      function set$1(mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
          if (unit === "FullYear" && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
            value = toInt(value);
            mom._d["set" + (mom._isUTC ? "UTC" : "") + unit](value, mom.month(), daysInMonth(value, mom.month()));
          } else {
            mom._d["set" + (mom._isUTC ? "UTC" : "") + unit](value);
          }
        }
      }
      function stringGet(units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
          return this[units]();
        }
        return this;
      }
      function stringSet(units, value) {
        if (typeof units === "object") {
          units = normalizeObjectUnits(units);
          var prioritized = getPrioritizedUnits(units), i, prioritizedLen = prioritized.length;
          for (i = 0; i < prioritizedLen; i++) {
            this[prioritized[i].unit](units[prioritized[i].unit]);
          }
        } else {
          units = normalizeUnits(units);
          if (isFunction(this[units])) {
            return this[units](value);
          }
        }
        return this;
      }
      var match1 = /\d/, match2 = /\d\d/, match3 = /\d{3}/, match4 = /\d{4}/, match6 = /[+-]?\d{6}/, match1to2 = /\d\d?/, match3to4 = /\d\d\d\d?/, match5to6 = /\d\d\d\d\d\d?/, match1to3 = /\d{1,3}/, match1to4 = /\d{1,4}/, match1to6 = /[+-]?\d{1,6}/, matchUnsigned = /\d+/, matchSigned = /[+-]?\d+/, matchOffset = /Z|[+-]\d\d:?\d\d/gi, matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi, matchTimestamp = /[+-]?\d+(\.\d{1,3})?/, matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, regexes;
      regexes = {};
      function addRegexToken(token2, regex, strictRegex) {
        regexes[token2] = isFunction(regex) ? regex : function(isStrict, localeData2) {
          return isStrict && strictRegex ? strictRegex : regex;
        };
      }
      function getParseRegexForToken(token2, config) {
        if (!hasOwnProp(regexes, token2)) {
          return new RegExp(unescapeFormat(token2));
        }
        return regexes[token2](config._strict, config._locale);
      }
      function unescapeFormat(s) {
        return regexEscape(s.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(matched, p1, p2, p3, p4) {
          return p1 || p2 || p3 || p4;
        }));
      }
      function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
      }
      var tokens = {};
      function addParseToken(token2, callback) {
        var i, func = callback, tokenLen;
        if (typeof token2 === "string") {
          token2 = [token2];
        }
        if (isNumber(callback)) {
          func = function(input, array) {
            array[callback] = toInt(input);
          };
        }
        tokenLen = token2.length;
        for (i = 0; i < tokenLen; i++) {
          tokens[token2[i]] = func;
        }
      }
      function addWeekParseToken(token2, callback) {
        addParseToken(token2, function(input, array, config, token3) {
          config._w = config._w || {};
          callback(input, config._w, config, token3);
        });
      }
      function addTimeToArrayFromToken(token2, input, config) {
        if (input != null && hasOwnProp(tokens, token2)) {
          tokens[token2](input, config._a, config, token2);
        }
      }
      var YEAR = 0, MONTH = 1, DATE = 2, HOUR = 3, MINUTE = 4, SECOND = 5, MILLISECOND = 6, WEEK = 7, WEEKDAY = 8;
      function mod(n, x) {
        return (n % x + x) % x;
      }
      var indexOf;
      if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
      } else {
        indexOf = function(o) {
          var i;
          for (i = 0; i < this.length; ++i) {
            if (this[i] === o) {
              return i;
            }
          }
          return -1;
        };
      }
      function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
          return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? isLeapYear(year) ? 29 : 28 : 31 - modMonth % 7 % 2;
      }
      addFormatToken("M", ["MM", 2], "Mo", function() {
        return this.month() + 1;
      });
      addFormatToken("MMM", 0, 0, function(format2) {
        return this.localeData().monthsShort(this, format2);
      });
      addFormatToken("MMMM", 0, 0, function(format2) {
        return this.localeData().months(this, format2);
      });
      addUnitAlias("month", "M");
      addUnitPriority("month", 8);
      addRegexToken("M", match1to2);
      addRegexToken("MM", match1to2, match2);
      addRegexToken("MMM", function(isStrict, locale2) {
        return locale2.monthsShortRegex(isStrict);
      });
      addRegexToken("MMMM", function(isStrict, locale2) {
        return locale2.monthsRegex(isStrict);
      });
      addParseToken(["M", "MM"], function(input, array) {
        array[MONTH] = toInt(input) - 1;
      });
      addParseToken(["MMM", "MMMM"], function(input, array, config, token2) {
        var month = config._locale.monthsParse(input, token2, config._strict);
        if (month != null) {
          array[MONTH] = month;
        } else {
          getParsingFlags(config).invalidMonth = input;
        }
      });
      var defaultLocaleMonths = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), defaultLocaleMonthsShort = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, defaultMonthsShortRegex = matchWord, defaultMonthsRegex = matchWord;
      function localeMonths(m, format2) {
        if (!m) {
          return isArray(this._months) ? this._months : this._months["standalone"];
        }
        return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format2) ? "format" : "standalone"][m.month()];
      }
      function localeMonthsShort(m, format2) {
        if (!m) {
          return isArray(this._monthsShort) ? this._monthsShort : this._monthsShort["standalone"];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format2) ? "format" : "standalone"][m.month()];
      }
      function handleStrictParse(monthName, format2, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
          this._monthsParse = [];
          this._longMonthsParse = [];
          this._shortMonthsParse = [];
          for (i = 0; i < 12; ++i) {
            mom = createUTC([2e3, i]);
            this._shortMonthsParse[i] = this.monthsShort(mom, "").toLocaleLowerCase();
            this._longMonthsParse[i] = this.months(mom, "").toLocaleLowerCase();
          }
        }
        if (strict) {
          if (format2 === "MMM") {
            ii = indexOf.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
          } else {
            ii = indexOf.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
          }
        } else {
          if (format2 === "MMM") {
            ii = indexOf.call(this._shortMonthsParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
          } else {
            ii = indexOf.call(this._longMonthsParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
          }
        }
      }
      function localeMonthsParse(monthName, format2, strict) {
        var i, mom, regex;
        if (this._monthsParseExact) {
          return handleStrictParse.call(this, monthName, format2, strict);
        }
        if (!this._monthsParse) {
          this._monthsParse = [];
          this._longMonthsParse = [];
          this._shortMonthsParse = [];
        }
        for (i = 0; i < 12; i++) {
          mom = createUTC([2e3, i]);
          if (strict && !this._longMonthsParse[i]) {
            this._longMonthsParse[i] = new RegExp("^" + this.months(mom, "").replace(".", "") + "$", "i");
            this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(mom, "").replace(".", "") + "$", "i");
          }
          if (!strict && !this._monthsParse[i]) {
            regex = "^" + this.months(mom, "") + "|^" + this.monthsShort(mom, "");
            this._monthsParse[i] = new RegExp(regex.replace(".", ""), "i");
          }
          if (strict && format2 === "MMMM" && this._longMonthsParse[i].test(monthName)) {
            return i;
          } else if (strict && format2 === "MMM" && this._shortMonthsParse[i].test(monthName)) {
            return i;
          } else if (!strict && this._monthsParse[i].test(monthName)) {
            return i;
          }
        }
      }
      function setMonth(mom, value) {
        var dayOfMonth;
        if (!mom.isValid()) {
          return mom;
        }
        if (typeof value === "string") {
          if (/^\d+$/.test(value)) {
            value = toInt(value);
          } else {
            value = mom.localeData().monthsParse(value);
            if (!isNumber(value)) {
              return mom;
            }
          }
        }
        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d["set" + (mom._isUTC ? "UTC" : "") + "Month"](value, dayOfMonth);
        return mom;
      }
      function getSetMonth(value) {
        if (value != null) {
          setMonth(this, value);
          hooks.updateOffset(this, true);
          return this;
        } else {
          return get(this, "Month");
        }
      }
      function getDaysInMonth() {
        return daysInMonth(this.year(), this.month());
      }
      function monthsShortRegex(isStrict) {
        if (this._monthsParseExact) {
          if (!hasOwnProp(this, "_monthsRegex")) {
            computeMonthsParse.call(this);
          }
          if (isStrict) {
            return this._monthsShortStrictRegex;
          } else {
            return this._monthsShortRegex;
          }
        } else {
          if (!hasOwnProp(this, "_monthsShortRegex")) {
            this._monthsShortRegex = defaultMonthsShortRegex;
          }
          return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;
        }
      }
      function monthsRegex(isStrict) {
        if (this._monthsParseExact) {
          if (!hasOwnProp(this, "_monthsRegex")) {
            computeMonthsParse.call(this);
          }
          if (isStrict) {
            return this._monthsStrictRegex;
          } else {
            return this._monthsRegex;
          }
        } else {
          if (!hasOwnProp(this, "_monthsRegex")) {
            this._monthsRegex = defaultMonthsRegex;
          }
          return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;
        }
      }
      function computeMonthsParse() {
        function cmpLenRev(a, b) {
          return b.length - a.length;
        }
        var shortPieces = [], longPieces = [], mixedPieces = [], i, mom;
        for (i = 0; i < 12; i++) {
          mom = createUTC([2e3, i]);
          shortPieces.push(this.monthsShort(mom, ""));
          longPieces.push(this.months(mom, ""));
          mixedPieces.push(this.months(mom, ""));
          mixedPieces.push(this.monthsShort(mom, ""));
        }
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
          shortPieces[i] = regexEscape(shortPieces[i]);
          longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
          mixedPieces[i] = regexEscape(mixedPieces[i]);
        }
        this._monthsRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp("^(" + longPieces.join("|") + ")", "i");
        this._monthsShortStrictRegex = new RegExp("^(" + shortPieces.join("|") + ")", "i");
      }
      addFormatToken("Y", 0, 0, function() {
        var y = this.year();
        return y <= 9999 ? zeroFill(y, 4) : "+" + y;
      });
      addFormatToken(0, ["YY", 2], 0, function() {
        return this.year() % 100;
      });
      addFormatToken(0, ["YYYY", 4], 0, "year");
      addFormatToken(0, ["YYYYY", 5], 0, "year");
      addFormatToken(0, ["YYYYYY", 6, true], 0, "year");
      addUnitAlias("year", "y");
      addUnitPriority("year", 1);
      addRegexToken("Y", matchSigned);
      addRegexToken("YY", match1to2, match2);
      addRegexToken("YYYY", match1to4, match4);
      addRegexToken("YYYYY", match1to6, match6);
      addRegexToken("YYYYYY", match1to6, match6);
      addParseToken(["YYYYY", "YYYYYY"], YEAR);
      addParseToken("YYYY", function(input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
      });
      addParseToken("YY", function(input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
      });
      addParseToken("Y", function(input, array) {
        array[YEAR] = parseInt(input, 10);
      });
      function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
      }
      hooks.parseTwoDigitYear = function(input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2e3);
      };
      var getSetYear = makeGetSet("FullYear", true);
      function getIsLeapYear() {
        return isLeapYear(this.year());
      }
      function createDate(y, m, d, h, M, s, ms) {
        var date;
        if (y < 100 && y >= 0) {
          date = new Date(y + 400, m, d, h, M, s, ms);
          if (isFinite(date.getFullYear())) {
            date.setFullYear(y);
          }
        } else {
          date = new Date(y, m, d, h, M, s, ms);
        }
        return date;
      }
      function createUTCDate(y) {
        var date, args;
        if (y < 100 && y >= 0) {
          args = Array.prototype.slice.call(arguments);
          args[0] = y + 400;
          date = new Date(Date.UTC.apply(null, args));
          if (isFinite(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
          }
        } else {
          date = new Date(Date.UTC.apply(null, arguments));
        }
        return date;
      }
      function firstWeekOffset(year, dow, doy) {
        var fwd = 7 + dow - doy, fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;
        return -fwdlw + fwd - 1;
      }
      function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7, weekOffset = firstWeekOffset(year, dow, doy), dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset, resYear, resDayOfYear;
        if (dayOfYear <= 0) {
          resYear = year - 1;
          resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
          resYear = year + 1;
          resDayOfYear = dayOfYear - daysInYear(year);
        } else {
          resYear = year;
          resDayOfYear = dayOfYear;
        }
        return {
          year: resYear,
          dayOfYear: resDayOfYear
        };
      }
      function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy), week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1, resWeek, resYear;
        if (week < 1) {
          resYear = mom.year() - 1;
          resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
          resWeek = week - weeksInYear(mom.year(), dow, doy);
          resYear = mom.year() + 1;
        } else {
          resYear = mom.year();
          resWeek = week;
        }
        return {
          week: resWeek,
          year: resYear
        };
      }
      function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy), weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
      }
      addFormatToken("w", ["ww", 2], "wo", "week");
      addFormatToken("W", ["WW", 2], "Wo", "isoWeek");
      addUnitAlias("week", "w");
      addUnitAlias("isoWeek", "W");
      addUnitPriority("week", 5);
      addUnitPriority("isoWeek", 5);
      addRegexToken("w", match1to2);
      addRegexToken("ww", match1to2, match2);
      addRegexToken("W", match1to2);
      addRegexToken("WW", match1to2, match2);
      addWeekParseToken(["w", "ww", "W", "WW"], function(input, week, config, token2) {
        week[token2.substr(0, 1)] = toInt(input);
      });
      function localeWeek(mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
      }
      var defaultLocaleWeek = {
        dow: 0,
        doy: 6
      };
      function localeFirstDayOfWeek() {
        return this._week.dow;
      }
      function localeFirstDayOfYear() {
        return this._week.doy;
      }
      function getSetWeek(input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, "d");
      }
      function getSetISOWeek(input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, "d");
      }
      addFormatToken("d", 0, "do", "day");
      addFormatToken("dd", 0, 0, function(format2) {
        return this.localeData().weekdaysMin(this, format2);
      });
      addFormatToken("ddd", 0, 0, function(format2) {
        return this.localeData().weekdaysShort(this, format2);
      });
      addFormatToken("dddd", 0, 0, function(format2) {
        return this.localeData().weekdays(this, format2);
      });
      addFormatToken("e", 0, 0, "weekday");
      addFormatToken("E", 0, 0, "isoWeekday");
      addUnitAlias("day", "d");
      addUnitAlias("weekday", "e");
      addUnitAlias("isoWeekday", "E");
      addUnitPriority("day", 11);
      addUnitPriority("weekday", 11);
      addUnitPriority("isoWeekday", 11);
      addRegexToken("d", match1to2);
      addRegexToken("e", match1to2);
      addRegexToken("E", match1to2);
      addRegexToken("dd", function(isStrict, locale2) {
        return locale2.weekdaysMinRegex(isStrict);
      });
      addRegexToken("ddd", function(isStrict, locale2) {
        return locale2.weekdaysShortRegex(isStrict);
      });
      addRegexToken("dddd", function(isStrict, locale2) {
        return locale2.weekdaysRegex(isStrict);
      });
      addWeekParseToken(["dd", "ddd", "dddd"], function(input, week, config, token2) {
        var weekday = config._locale.weekdaysParse(input, token2, config._strict);
        if (weekday != null) {
          week.d = weekday;
        } else {
          getParsingFlags(config).invalidWeekday = input;
        }
      });
      addWeekParseToken(["d", "e", "E"], function(input, week, config, token2) {
        week[token2] = toInt(input);
      });
      function parseWeekday(input, locale2) {
        if (typeof input !== "string") {
          return input;
        }
        if (!isNaN(input)) {
          return parseInt(input, 10);
        }
        input = locale2.weekdaysParse(input);
        if (typeof input === "number") {
          return input;
        }
        return null;
      }
      function parseIsoWeekday(input, locale2) {
        if (typeof input === "string") {
          return locale2.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
      }
      function shiftWeekdays(ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
      }
      var defaultLocaleWeekdays = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), defaultLocaleWeekdaysShort = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), defaultLocaleWeekdaysMin = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), defaultWeekdaysRegex = matchWord, defaultWeekdaysShortRegex = matchWord, defaultWeekdaysMinRegex = matchWord;
      function localeWeekdays(m, format2) {
        var weekdays = isArray(this._weekdays) ? this._weekdays : this._weekdays[m && m !== true && this._weekdays.isFormat.test(format2) ? "format" : "standalone"];
        return m === true ? shiftWeekdays(weekdays, this._week.dow) : m ? weekdays[m.day()] : weekdays;
      }
      function localeWeekdaysShort(m) {
        return m === true ? shiftWeekdays(this._weekdaysShort, this._week.dow) : m ? this._weekdaysShort[m.day()] : this._weekdaysShort;
      }
      function localeWeekdaysMin(m) {
        return m === true ? shiftWeekdays(this._weekdaysMin, this._week.dow) : m ? this._weekdaysMin[m.day()] : this._weekdaysMin;
      }
      function handleStrictParse$1(weekdayName, format2, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
          this._weekdaysParse = [];
          this._shortWeekdaysParse = [];
          this._minWeekdaysParse = [];
          for (i = 0; i < 7; ++i) {
            mom = createUTC([2e3, 1]).day(i);
            this._minWeekdaysParse[i] = this.weekdaysMin(mom, "").toLocaleLowerCase();
            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, "").toLocaleLowerCase();
            this._weekdaysParse[i] = this.weekdays(mom, "").toLocaleLowerCase();
          }
        }
        if (strict) {
          if (format2 === "dddd") {
            ii = indexOf.call(this._weekdaysParse, llc);
            return ii !== -1 ? ii : null;
          } else if (format2 === "ddd") {
            ii = indexOf.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
          } else {
            ii = indexOf.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
          }
        } else {
          if (format2 === "dddd") {
            ii = indexOf.call(this._weekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
          } else if (format2 === "ddd") {
            ii = indexOf.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._weekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
          } else {
            ii = indexOf.call(this._minWeekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._weekdaysParse, llc);
            if (ii !== -1) {
              return ii;
            }
            ii = indexOf.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
          }
        }
      }
      function localeWeekdaysParse(weekdayName, format2, strict) {
        var i, mom, regex;
        if (this._weekdaysParseExact) {
          return handleStrictParse$1.call(this, weekdayName, format2, strict);
        }
        if (!this._weekdaysParse) {
          this._weekdaysParse = [];
          this._minWeekdaysParse = [];
          this._shortWeekdaysParse = [];
          this._fullWeekdaysParse = [];
        }
        for (i = 0; i < 7; i++) {
          mom = createUTC([2e3, 1]).day(i);
          if (strict && !this._fullWeekdaysParse[i]) {
            this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(mom, "").replace(".", "\\.?") + "$", "i");
            this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(mom, "").replace(".", "\\.?") + "$", "i");
            this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(mom, "").replace(".", "\\.?") + "$", "i");
          }
          if (!this._weekdaysParse[i]) {
            regex = "^" + this.weekdays(mom, "") + "|^" + this.weekdaysShort(mom, "") + "|^" + this.weekdaysMin(mom, "");
            this._weekdaysParse[i] = new RegExp(regex.replace(".", ""), "i");
          }
          if (strict && format2 === "dddd" && this._fullWeekdaysParse[i].test(weekdayName)) {
            return i;
          } else if (strict && format2 === "ddd" && this._shortWeekdaysParse[i].test(weekdayName)) {
            return i;
          } else if (strict && format2 === "dd" && this._minWeekdaysParse[i].test(weekdayName)) {
            return i;
          } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
            return i;
          }
        }
      }
      function getSetDayOfWeek(input) {
        if (!this.isValid()) {
          return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
          input = parseWeekday(input, this.localeData());
          return this.add(input - day, "d");
        } else {
          return day;
        }
      }
      function getSetLocaleDayOfWeek(input) {
        if (!this.isValid()) {
          return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, "d");
      }
      function getSetISODayOfWeek(input) {
        if (!this.isValid()) {
          return input != null ? this : NaN;
        }
        if (input != null) {
          var weekday = parseIsoWeekday(input, this.localeData());
          return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
          return this.day() || 7;
        }
      }
      function weekdaysRegex(isStrict) {
        if (this._weekdaysParseExact) {
          if (!hasOwnProp(this, "_weekdaysRegex")) {
            computeWeekdaysParse.call(this);
          }
          if (isStrict) {
            return this._weekdaysStrictRegex;
          } else {
            return this._weekdaysRegex;
          }
        } else {
          if (!hasOwnProp(this, "_weekdaysRegex")) {
            this._weekdaysRegex = defaultWeekdaysRegex;
          }
          return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;
        }
      }
      function weekdaysShortRegex(isStrict) {
        if (this._weekdaysParseExact) {
          if (!hasOwnProp(this, "_weekdaysRegex")) {
            computeWeekdaysParse.call(this);
          }
          if (isStrict) {
            return this._weekdaysShortStrictRegex;
          } else {
            return this._weekdaysShortRegex;
          }
        } else {
          if (!hasOwnProp(this, "_weekdaysShortRegex")) {
            this._weekdaysShortRegex = defaultWeekdaysShortRegex;
          }
          return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
      }
      function weekdaysMinRegex(isStrict) {
        if (this._weekdaysParseExact) {
          if (!hasOwnProp(this, "_weekdaysRegex")) {
            computeWeekdaysParse.call(this);
          }
          if (isStrict) {
            return this._weekdaysMinStrictRegex;
          } else {
            return this._weekdaysMinRegex;
          }
        } else {
          if (!hasOwnProp(this, "_weekdaysMinRegex")) {
            this._weekdaysMinRegex = defaultWeekdaysMinRegex;
          }
          return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
      }
      function computeWeekdaysParse() {
        function cmpLenRev(a, b) {
          return b.length - a.length;
        }
        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [], i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
          mom = createUTC([2e3, 1]).day(i);
          minp = regexEscape(this.weekdaysMin(mom, ""));
          shortp = regexEscape(this.weekdaysShort(mom, ""));
          longp = regexEscape(this.weekdays(mom, ""));
          minPieces.push(minp);
          shortPieces.push(shortp);
          longPieces.push(longp);
          mixedPieces.push(minp);
          mixedPieces.push(shortp);
          mixedPieces.push(longp);
        }
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        this._weekdaysRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;
        this._weekdaysStrictRegex = new RegExp("^(" + longPieces.join("|") + ")", "i");
        this._weekdaysShortStrictRegex = new RegExp("^(" + shortPieces.join("|") + ")", "i");
        this._weekdaysMinStrictRegex = new RegExp("^(" + minPieces.join("|") + ")", "i");
      }
      function hFormat() {
        return this.hours() % 12 || 12;
      }
      function kFormat() {
        return this.hours() || 24;
      }
      addFormatToken("H", ["HH", 2], 0, "hour");
      addFormatToken("h", ["hh", 2], 0, hFormat);
      addFormatToken("k", ["kk", 2], 0, kFormat);
      addFormatToken("hmm", 0, 0, function() {
        return "" + hFormat.apply(this) + zeroFill(this.minutes(), 2);
      });
      addFormatToken("hmmss", 0, 0, function() {
        return "" + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
      });
      addFormatToken("Hmm", 0, 0, function() {
        return "" + this.hours() + zeroFill(this.minutes(), 2);
      });
      addFormatToken("Hmmss", 0, 0, function() {
        return "" + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
      });
      function meridiem(token2, lowercase) {
        addFormatToken(token2, 0, 0, function() {
          return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
      }
      meridiem("a", true);
      meridiem("A", false);
      addUnitAlias("hour", "h");
      addUnitPriority("hour", 13);
      function matchMeridiem(isStrict, locale2) {
        return locale2._meridiemParse;
      }
      addRegexToken("a", matchMeridiem);
      addRegexToken("A", matchMeridiem);
      addRegexToken("H", match1to2);
      addRegexToken("h", match1to2);
      addRegexToken("k", match1to2);
      addRegexToken("HH", match1to2, match2);
      addRegexToken("hh", match1to2, match2);
      addRegexToken("kk", match1to2, match2);
      addRegexToken("hmm", match3to4);
      addRegexToken("hmmss", match5to6);
      addRegexToken("Hmm", match3to4);
      addRegexToken("Hmmss", match5to6);
      addParseToken(["H", "HH"], HOUR);
      addParseToken(["k", "kk"], function(input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
      });
      addParseToken(["a", "A"], function(input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
      });
      addParseToken(["h", "hh"], function(input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
      });
      addParseToken("hmm", function(input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
      });
      addParseToken("hmmss", function(input, array, config) {
        var pos1 = input.length - 4, pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
      });
      addParseToken("Hmm", function(input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
      });
      addParseToken("Hmmss", function(input, array, config) {
        var pos1 = input.length - 4, pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
      });
      function localeIsPM(input) {
        return (input + "").toLowerCase().charAt(0) === "p";
      }
      var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i, getSetHour = makeGetSet("Hours", true);
      function localeMeridiem(hours2, minutes2, isLower) {
        if (hours2 > 11) {
          return isLower ? "pm" : "PM";
        } else {
          return isLower ? "am" : "AM";
        }
      }
      var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,
        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,
        week: defaultLocaleWeek,
        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,
        meridiemParse: defaultLocaleMeridiemParse
      };
      var locales = {}, localeFamilies = {}, globalLocale;
      function commonPrefix(arr1, arr2) {
        var i, minl = Math.min(arr1.length, arr2.length);
        for (i = 0; i < minl; i += 1) {
          if (arr1[i] !== arr2[i]) {
            return i;
          }
        }
        return minl;
      }
      function normalizeLocale(key) {
        return key ? key.toLowerCase().replace("_", "-") : key;
      }
      function chooseLocale(names) {
        var i = 0, j, next, locale2, split;
        while (i < names.length) {
          split = normalizeLocale(names[i]).split("-");
          j = split.length;
          next = normalizeLocale(names[i + 1]);
          next = next ? next.split("-") : null;
          while (j > 0) {
            locale2 = loadLocale(split.slice(0, j).join("-"));
            if (locale2) {
              return locale2;
            }
            if (next && next.length >= j && commonPrefix(split, next) >= j - 1) {
              break;
            }
            j--;
          }
          i++;
        }
        return globalLocale;
      }
      function isLocaleNameSane(name) {
        return name.match("^[^/\\\\]*$") != null;
      }
      function loadLocale(name) {
        var oldLocale = null, aliasedRequire;
        if (locales[name] === void 0 && typeof module2 !== "undefined" && module2 && module2.exports && isLocaleNameSane(name)) {
          try {
            oldLocale = globalLocale._abbr;
            aliasedRequire = require;
            aliasedRequire("./locale/" + name);
            getSetGlobalLocale(oldLocale);
          } catch (e) {
            locales[name] = null;
          }
        }
        return locales[name];
      }
      function getSetGlobalLocale(key, values) {
        var data;
        if (key) {
          if (isUndefined(values)) {
            data = getLocale(key);
          } else {
            data = defineLocale(key, values);
          }
          if (data) {
            globalLocale = data;
          } else {
            if (typeof console !== "undefined" && console.warn) {
              console.warn("Locale " + key + " not found. Did you forget to load it?");
            }
          }
        }
        return globalLocale._abbr;
      }
      function defineLocale(name, config) {
        if (config !== null) {
          var locale2, parentConfig = baseConfig;
          config.abbr = name;
          if (locales[name] != null) {
            deprecateSimple("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");
            parentConfig = locales[name]._config;
          } else if (config.parentLocale != null) {
            if (locales[config.parentLocale] != null) {
              parentConfig = locales[config.parentLocale]._config;
            } else {
              locale2 = loadLocale(config.parentLocale);
              if (locale2 != null) {
                parentConfig = locale2._config;
              } else {
                if (!localeFamilies[config.parentLocale]) {
                  localeFamilies[config.parentLocale] = [];
                }
                localeFamilies[config.parentLocale].push({
                  name,
                  config
                });
                return null;
              }
            }
          }
          locales[name] = new Locale(mergeConfigs(parentConfig, config));
          if (localeFamilies[name]) {
            localeFamilies[name].forEach(function(x) {
              defineLocale(x.name, x.config);
            });
          }
          getSetGlobalLocale(name);
          return locales[name];
        } else {
          delete locales[name];
          return null;
        }
      }
      function updateLocale(name, config) {
        if (config != null) {
          var locale2, tmpLocale, parentConfig = baseConfig;
          if (locales[name] != null && locales[name].parentLocale != null) {
            locales[name].set(mergeConfigs(locales[name]._config, config));
          } else {
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
              parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            if (tmpLocale == null) {
              config.abbr = name;
            }
            locale2 = new Locale(config);
            locale2.parentLocale = locales[name];
            locales[name] = locale2;
          }
          getSetGlobalLocale(name);
        } else {
          if (locales[name] != null) {
            if (locales[name].parentLocale != null) {
              locales[name] = locales[name].parentLocale;
              if (name === getSetGlobalLocale()) {
                getSetGlobalLocale(name);
              }
            } else if (locales[name] != null) {
              delete locales[name];
            }
          }
        }
        return locales[name];
      }
      function getLocale(key) {
        var locale2;
        if (key && key._locale && key._locale._abbr) {
          key = key._locale._abbr;
        }
        if (!key) {
          return globalLocale;
        }
        if (!isArray(key)) {
          locale2 = loadLocale(key);
          if (locale2) {
            return locale2;
          }
          key = [key];
        }
        return chooseLocale(key);
      }
      function listLocales() {
        return keys(locales);
      }
      function checkOverflow(m) {
        var overflow, a = m._a;
        if (a && getParsingFlags(m).overflow === -2) {
          overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;
          if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
            overflow = DATE;
          }
          if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
            overflow = WEEK;
          }
          if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
            overflow = WEEKDAY;
          }
          getParsingFlags(m).overflow = overflow;
        }
        return m;
      }
      var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, tzRegex = /Z|[+-]\d\d(?::?\d\d)?/, isoDates = [
        ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
        ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
        ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
        ["GGGG-[W]WW", /\d{4}-W\d\d/, false],
        ["YYYY-DDD", /\d{4}-\d{3}/],
        ["YYYY-MM", /\d{4}-\d\d/, false],
        ["YYYYYYMMDD", /[+-]\d{10}/],
        ["YYYYMMDD", /\d{8}/],
        ["GGGG[W]WWE", /\d{4}W\d{3}/],
        ["GGGG[W]WW", /\d{4}W\d{2}/, false],
        ["YYYYDDD", /\d{7}/],
        ["YYYYMM", /\d{6}/, false],
        ["YYYY", /\d{4}/, false]
      ], isoTimes = [
        ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
        ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
        ["HH:mm:ss", /\d\d:\d\d:\d\d/],
        ["HH:mm", /\d\d:\d\d/],
        ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
        ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
        ["HHmmss", /\d\d\d\d\d\d/],
        ["HHmm", /\d\d\d\d/],
        ["HH", /\d\d/]
      ], aspNetJsonRegex = /^\/?Date\((-?\d+)/i, rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
      };
      function configFromISO(config) {
        var i, l, string = config._i, match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string), allowTime, dateFormat, timeFormat, tzFormat, isoDatesLen = isoDates.length, isoTimesLen = isoTimes.length;
        if (match) {
          getParsingFlags(config).iso = true;
          for (i = 0, l = isoDatesLen; i < l; i++) {
            if (isoDates[i][1].exec(match[1])) {
              dateFormat = isoDates[i][0];
              allowTime = isoDates[i][2] !== false;
              break;
            }
          }
          if (dateFormat == null) {
            config._isValid = false;
            return;
          }
          if (match[3]) {
            for (i = 0, l = isoTimesLen; i < l; i++) {
              if (isoTimes[i][1].exec(match[3])) {
                timeFormat = (match[2] || " ") + isoTimes[i][0];
                break;
              }
            }
            if (timeFormat == null) {
              config._isValid = false;
              return;
            }
          }
          if (!allowTime && timeFormat != null) {
            config._isValid = false;
            return;
          }
          if (match[4]) {
            if (tzRegex.exec(match[4])) {
              tzFormat = "Z";
            } else {
              config._isValid = false;
              return;
            }
          }
          config._f = dateFormat + (timeFormat || "") + (tzFormat || "");
          configFromStringAndFormat(config);
        } else {
          config._isValid = false;
        }
      }
      function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
          untruncateYear(yearStr),
          defaultLocaleMonthsShort.indexOf(monthStr),
          parseInt(dayStr, 10),
          parseInt(hourStr, 10),
          parseInt(minuteStr, 10)
        ];
        if (secondStr) {
          result.push(parseInt(secondStr, 10));
        }
        return result;
      }
      function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
          return 2e3 + year;
        } else if (year <= 999) {
          return 1900 + year;
        }
        return year;
      }
      function preprocessRFC2822(s) {
        return s.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
      }
      function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
          var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr), weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
          if (weekdayProvided !== weekdayActual) {
            getParsingFlags(config).weekdayMismatch = true;
            config._isValid = false;
            return false;
          }
        }
        return true;
      }
      function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
          return obsOffsets[obsOffset];
        } else if (militaryOffset) {
          return 0;
        } else {
          var hm = parseInt(numOffset, 10), m = hm % 100, h = (hm - m) / 100;
          return h * 60 + m;
        }
      }
      function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i)), parsedArray;
        if (match) {
          parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
          if (!checkWeekday(match[1], parsedArray, config)) {
            return;
          }
          config._a = parsedArray;
          config._tzm = calculateOffset(match[8], match[9], match[10]);
          config._d = createUTCDate.apply(null, config._a);
          config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
          getParsingFlags(config).rfc2822 = true;
        } else {
          config._isValid = false;
        }
      }
      function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);
        if (matched !== null) {
          config._d = new Date(+matched[1]);
          return;
        }
        configFromISO(config);
        if (config._isValid === false) {
          delete config._isValid;
        } else {
          return;
        }
        configFromRFC2822(config);
        if (config._isValid === false) {
          delete config._isValid;
        } else {
          return;
        }
        if (config._strict) {
          config._isValid = false;
        } else {
          hooks.createFromInputFallback(config);
        }
      }
      hooks.createFromInputFallback = deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(config) {
        config._d = new Date(config._i + (config._useUTC ? " UTC" : ""));
      });
      function defaults(a, b, c) {
        if (a != null) {
          return a;
        }
        if (b != null) {
          return b;
        }
        return c;
      }
      function currentDateArray(config) {
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
          return [
            nowValue.getUTCFullYear(),
            nowValue.getUTCMonth(),
            nowValue.getUTCDate()
          ];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
      }
      function configFromArray(config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;
        if (config._d) {
          return;
        }
        currentDate = currentDateArray(config);
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
          dayOfYearFromWeekInfo(config);
        }
        if (config._dayOfYear != null) {
          yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);
          if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
            getParsingFlags(config)._overflowDayOfYear = true;
          }
          date = createUTCDate(yearToUse, 0, config._dayOfYear);
          config._a[MONTH] = date.getUTCMonth();
          config._a[DATE] = date.getUTCDate();
        }
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
          config._a[i] = input[i] = currentDate[i];
        }
        for (; i < 7; i++) {
          config._a[i] = input[i] = config._a[i] == null ? i === 2 ? 1 : 0 : config._a[i];
        }
        if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {
          config._nextDay = true;
          config._a[HOUR] = 0;
        }
        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();
        if (config._tzm != null) {
          config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }
        if (config._nextDay) {
          config._a[HOUR] = 24;
        }
        if (config._w && typeof config._w.d !== "undefined" && config._w.d !== expectedWeekday) {
          getParsingFlags(config).weekdayMismatch = true;
        }
      }
      function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;
        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
          dow = 1;
          doy = 4;
          weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
          week = defaults(w.W, 1);
          weekday = defaults(w.E, 1);
          if (weekday < 1 || weekday > 7) {
            weekdayOverflow = true;
          }
        } else {
          dow = config._locale._week.dow;
          doy = config._locale._week.doy;
          curWeek = weekOfYear(createLocal(), dow, doy);
          weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);
          week = defaults(w.w, curWeek.week);
          if (w.d != null) {
            weekday = w.d;
            if (weekday < 0 || weekday > 6) {
              weekdayOverflow = true;
            }
          } else if (w.e != null) {
            weekday = w.e + dow;
            if (w.e < 0 || w.e > 6) {
              weekdayOverflow = true;
            }
          } else {
            weekday = dow;
          }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
          getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
          getParsingFlags(config)._overflowWeekday = true;
        } else {
          temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
          config._a[YEAR] = temp.year;
          config._dayOfYear = temp.dayOfYear;
        }
      }
      hooks.ISO_8601 = function() {
      };
      hooks.RFC_2822 = function() {
      };
      function configFromStringAndFormat(config) {
        if (config._f === hooks.ISO_8601) {
          configFromISO(config);
          return;
        }
        if (config._f === hooks.RFC_2822) {
          configFromRFC2822(config);
          return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;
        var string = "" + config._i, i, parsedInput, tokens2, token2, skipped, stringLength = string.length, totalParsedInputLength = 0, era, tokenLen;
        tokens2 = expandFormat(config._f, config._locale).match(formattingTokens) || [];
        tokenLen = tokens2.length;
        for (i = 0; i < tokenLen; i++) {
          token2 = tokens2[i];
          parsedInput = (string.match(getParseRegexForToken(token2, config)) || [])[0];
          if (parsedInput) {
            skipped = string.substr(0, string.indexOf(parsedInput));
            if (skipped.length > 0) {
              getParsingFlags(config).unusedInput.push(skipped);
            }
            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
            totalParsedInputLength += parsedInput.length;
          }
          if (formatTokenFunctions[token2]) {
            if (parsedInput) {
              getParsingFlags(config).empty = false;
            } else {
              getParsingFlags(config).unusedTokens.push(token2);
            }
            addTimeToArrayFromToken(token2, parsedInput, config);
          } else if (config._strict && !parsedInput) {
            getParsingFlags(config).unusedTokens.push(token2);
          }
        }
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
          getParsingFlags(config).unusedInput.push(string);
        }
        if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {
          getParsingFlags(config).bigHour = void 0;
        }
        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);
        era = getParsingFlags(config).era;
        if (era !== null) {
          config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);
        }
        configFromArray(config);
        checkOverflow(config);
      }
      function meridiemFixWrap(locale2, hour, meridiem2) {
        var isPm;
        if (meridiem2 == null) {
          return hour;
        }
        if (locale2.meridiemHour != null) {
          return locale2.meridiemHour(hour, meridiem2);
        } else if (locale2.isPM != null) {
          isPm = locale2.isPM(meridiem2);
          if (isPm && hour < 12) {
            hour += 12;
          }
          if (!isPm && hour === 12) {
            hour = 0;
          }
          return hour;
        } else {
          return hour;
        }
      }
      function configFromStringAndArray(config) {
        var tempConfig, bestMoment, scoreToBeat, i, currentScore, validFormatFound, bestFormatIsValid = false, configfLen = config._f.length;
        if (configfLen === 0) {
          getParsingFlags(config).invalidFormat = true;
          config._d = new Date(NaN);
          return;
        }
        for (i = 0; i < configfLen; i++) {
          currentScore = 0;
          validFormatFound = false;
          tempConfig = copyConfig({}, config);
          if (config._useUTC != null) {
            tempConfig._useUTC = config._useUTC;
          }
          tempConfig._f = config._f[i];
          configFromStringAndFormat(tempConfig);
          if (isValid(tempConfig)) {
            validFormatFound = true;
          }
          currentScore += getParsingFlags(tempConfig).charsLeftOver;
          currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;
          getParsingFlags(tempConfig).score = currentScore;
          if (!bestFormatIsValid) {
            if (scoreToBeat == null || currentScore < scoreToBeat || validFormatFound) {
              scoreToBeat = currentScore;
              bestMoment = tempConfig;
              if (validFormatFound) {
                bestFormatIsValid = true;
              }
            }
          } else {
            if (currentScore < scoreToBeat) {
              scoreToBeat = currentScore;
              bestMoment = tempConfig;
            }
          }
        }
        extend(config, bestMoment || tempConfig);
      }
      function configFromObject(config) {
        if (config._d) {
          return;
        }
        var i = normalizeObjectUnits(config._i), dayOrDate = i.day === void 0 ? i.date : i.day;
        config._a = map([i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond], function(obj) {
          return obj && parseInt(obj, 10);
        });
        configFromArray(config);
      }
      function createFromConfig(config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
          res.add(1, "d");
          res._nextDay = void 0;
        }
        return res;
      }
      function prepareConfig(config) {
        var input = config._i, format2 = config._f;
        config._locale = config._locale || getLocale(config._l);
        if (input === null || format2 === void 0 && input === "") {
          return createInvalid({ nullInput: true });
        }
        if (typeof input === "string") {
          config._i = input = config._locale.preparse(input);
        }
        if (isMoment(input)) {
          return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
          config._d = input;
        } else if (isArray(format2)) {
          configFromStringAndArray(config);
        } else if (format2) {
          configFromStringAndFormat(config);
        } else {
          configFromInput(config);
        }
        if (!isValid(config)) {
          config._d = null;
        }
        return config;
      }
      function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
          config._d = new Date(hooks.now());
        } else if (isDate(input)) {
          config._d = new Date(input.valueOf());
        } else if (typeof input === "string") {
          configFromString(config);
        } else if (isArray(input)) {
          config._a = map(input.slice(0), function(obj) {
            return parseInt(obj, 10);
          });
          configFromArray(config);
        } else if (isObject(input)) {
          configFromObject(config);
        } else if (isNumber(input)) {
          config._d = new Date(input);
        } else {
          hooks.createFromInputFallback(config);
        }
      }
      function createLocalOrUTC(input, format2, locale2, strict, isUTC) {
        var c = {};
        if (format2 === true || format2 === false) {
          strict = format2;
          format2 = void 0;
        }
        if (locale2 === true || locale2 === false) {
          strict = locale2;
          locale2 = void 0;
        }
        if (isObject(input) && isObjectEmpty(input) || isArray(input) && input.length === 0) {
          input = void 0;
        }
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale2;
        c._i = input;
        c._f = format2;
        c._strict = strict;
        return createFromConfig(c);
      }
      function createLocal(input, format2, locale2, strict) {
        return createLocalOrUTC(input, format2, locale2, strict, false);
      }
      var prototypeMin = deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
          return other < this ? this : other;
        } else {
          return createInvalid();
        }
      }), prototypeMax = deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
          return other > this ? this : other;
        } else {
          return createInvalid();
        }
      });
      function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
          moments = moments[0];
        }
        if (!moments.length) {
          return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
          if (!moments[i].isValid() || moments[i][fn](res)) {
            res = moments[i];
          }
        }
        return res;
      }
      function min() {
        var args = [].slice.call(arguments, 0);
        return pickBy("isBefore", args);
      }
      function max() {
        var args = [].slice.call(arguments, 0);
        return pickBy("isAfter", args);
      }
      var now = function() {
        return Date.now ? Date.now() : +new Date();
      };
      var ordering = [
        "year",
        "quarter",
        "month",
        "week",
        "day",
        "hour",
        "minute",
        "second",
        "millisecond"
      ];
      function isDurationValid(m) {
        var key, unitHasDecimal = false, i, orderLen = ordering.length;
        for (key in m) {
          if (hasOwnProp(m, key) && !(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
            return false;
          }
        }
        for (i = 0; i < orderLen; ++i) {
          if (m[ordering[i]]) {
            if (unitHasDecimal) {
              return false;
            }
            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
              unitHasDecimal = true;
            }
          }
        }
        return true;
      }
      function isValid$1() {
        return this._isValid;
      }
      function createInvalid$1() {
        return createDuration(NaN);
      }
      function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration), years2 = normalizedInput.year || 0, quarters = normalizedInput.quarter || 0, months2 = normalizedInput.month || 0, weeks2 = normalizedInput.week || normalizedInput.isoWeek || 0, days2 = normalizedInput.day || 0, hours2 = normalizedInput.hour || 0, minutes2 = normalizedInput.minute || 0, seconds2 = normalizedInput.second || 0, milliseconds2 = normalizedInput.millisecond || 0;
        this._isValid = isDurationValid(normalizedInput);
        this._milliseconds = +milliseconds2 + seconds2 * 1e3 + minutes2 * 6e4 + hours2 * 1e3 * 60 * 60;
        this._days = +days2 + weeks2 * 7;
        this._months = +months2 + quarters * 3 + years2 * 12;
        this._data = {};
        this._locale = getLocale();
        this._bubble();
      }
      function isDuration(obj) {
        return obj instanceof Duration;
      }
      function absRound(number) {
        if (number < 0) {
          return Math.round(-1 * number) * -1;
        } else {
          return Math.round(number);
        }
      }
      function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length), lengthDiff = Math.abs(array1.length - array2.length), diffs = 0, i;
        for (i = 0; i < len; i++) {
          if (dontConvert && array1[i] !== array2[i] || !dontConvert && toInt(array1[i]) !== toInt(array2[i])) {
            diffs++;
          }
        }
        return diffs + lengthDiff;
      }
      function offset(token2, separator) {
        addFormatToken(token2, 0, 0, function() {
          var offset2 = this.utcOffset(), sign2 = "+";
          if (offset2 < 0) {
            offset2 = -offset2;
            sign2 = "-";
          }
          return sign2 + zeroFill(~~(offset2 / 60), 2) + separator + zeroFill(~~offset2 % 60, 2);
        });
      }
      offset("Z", ":");
      offset("ZZ", "");
      addRegexToken("Z", matchShortOffset);
      addRegexToken("ZZ", matchShortOffset);
      addParseToken(["Z", "ZZ"], function(input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
      });
      var chunkOffset = /([\+\-]|\d\d)/gi;
      function offsetFromString(matcher, string) {
        var matches = (string || "").match(matcher), chunk, parts, minutes2;
        if (matches === null) {
          return null;
        }
        chunk = matches[matches.length - 1] || [];
        parts = (chunk + "").match(chunkOffset) || ["-", 0, 0];
        minutes2 = +(parts[1] * 60) + toInt(parts[2]);
        return minutes2 === 0 ? 0 : parts[0] === "+" ? minutes2 : -minutes2;
      }
      function cloneWithOffset(input, model) {
        var res, diff2;
        if (model._isUTC) {
          res = model.clone();
          diff2 = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
          res._d.setTime(res._d.valueOf() + diff2);
          hooks.updateOffset(res, false);
          return res;
        } else {
          return createLocal(input).local();
        }
      }
      function getDateOffset(m) {
        return -Math.round(m._d.getTimezoneOffset());
      }
      hooks.updateOffset = function() {
      };
      function getSetOffset(input, keepLocalTime, keepMinutes) {
        var offset2 = this._offset || 0, localAdjust;
        if (!this.isValid()) {
          return input != null ? this : NaN;
        }
        if (input != null) {
          if (typeof input === "string") {
            input = offsetFromString(matchShortOffset, input);
            if (input === null) {
              return this;
            }
          } else if (Math.abs(input) < 16 && !keepMinutes) {
            input = input * 60;
          }
          if (!this._isUTC && keepLocalTime) {
            localAdjust = getDateOffset(this);
          }
          this._offset = input;
          this._isUTC = true;
          if (localAdjust != null) {
            this.add(localAdjust, "m");
          }
          if (offset2 !== input) {
            if (!keepLocalTime || this._changeInProgress) {
              addSubtract(this, createDuration(input - offset2, "m"), 1, false);
            } else if (!this._changeInProgress) {
              this._changeInProgress = true;
              hooks.updateOffset(this, true);
              this._changeInProgress = null;
            }
          }
          return this;
        } else {
          return this._isUTC ? offset2 : getDateOffset(this);
        }
      }
      function getSetZone(input, keepLocalTime) {
        if (input != null) {
          if (typeof input !== "string") {
            input = -input;
          }
          this.utcOffset(input, keepLocalTime);
          return this;
        } else {
          return -this.utcOffset();
        }
      }
      function setOffsetToUTC(keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
      }
      function setOffsetToLocal(keepLocalTime) {
        if (this._isUTC) {
          this.utcOffset(0, keepLocalTime);
          this._isUTC = false;
          if (keepLocalTime) {
            this.subtract(getDateOffset(this), "m");
          }
        }
        return this;
      }
      function setOffsetToParsedOffset() {
        if (this._tzm != null) {
          this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === "string") {
          var tZone = offsetFromString(matchOffset, this._i);
          if (tZone != null) {
            this.utcOffset(tZone);
          } else {
            this.utcOffset(0, true);
          }
        }
        return this;
      }
      function hasAlignedHourOffset(input) {
        if (!this.isValid()) {
          return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;
        return (this.utcOffset() - input) % 60 === 0;
      }
      function isDaylightSavingTime() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
      }
      function isDaylightSavingTimeShifted() {
        if (!isUndefined(this._isDSTShifted)) {
          return this._isDSTShifted;
        }
        var c = {}, other;
        copyConfig(c, this);
        c = prepareConfig(c);
        if (c._a) {
          other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
          this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;
        } else {
          this._isDSTShifted = false;
        }
        return this._isDSTShifted;
      }
      function isLocal() {
        return this.isValid() ? !this._isUTC : false;
      }
      function isUtcOffset() {
        return this.isValid() ? this._isUTC : false;
      }
      function isUtc() {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
      }
      var aspNetRegex = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
      function createDuration(input, key) {
        var duration = input, match = null, sign2, ret, diffRes;
        if (isDuration(input)) {
          duration = {
            ms: input._milliseconds,
            d: input._days,
            M: input._months
          };
        } else if (isNumber(input) || !isNaN(+input)) {
          duration = {};
          if (key) {
            duration[key] = +input;
          } else {
            duration.milliseconds = +input;
          }
        } else if (match = aspNetRegex.exec(input)) {
          sign2 = match[1] === "-" ? -1 : 1;
          duration = {
            y: 0,
            d: toInt(match[DATE]) * sign2,
            h: toInt(match[HOUR]) * sign2,
            m: toInt(match[MINUTE]) * sign2,
            s: toInt(match[SECOND]) * sign2,
            ms: toInt(absRound(match[MILLISECOND] * 1e3)) * sign2
          };
        } else if (match = isoRegex.exec(input)) {
          sign2 = match[1] === "-" ? -1 : 1;
          duration = {
            y: parseIso(match[2], sign2),
            M: parseIso(match[3], sign2),
            w: parseIso(match[4], sign2),
            d: parseIso(match[5], sign2),
            h: parseIso(match[6], sign2),
            m: parseIso(match[7], sign2),
            s: parseIso(match[8], sign2)
          };
        } else if (duration == null) {
          duration = {};
        } else if (typeof duration === "object" && ("from" in duration || "to" in duration)) {
          diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));
          duration = {};
          duration.ms = diffRes.milliseconds;
          duration.M = diffRes.months;
        }
        ret = new Duration(duration);
        if (isDuration(input) && hasOwnProp(input, "_locale")) {
          ret._locale = input._locale;
        }
        if (isDuration(input) && hasOwnProp(input, "_isValid")) {
          ret._isValid = input._isValid;
        }
        return ret;
      }
      createDuration.fn = Duration.prototype;
      createDuration.invalid = createInvalid$1;
      function parseIso(inp, sign2) {
        var res = inp && parseFloat(inp.replace(",", "."));
        return (isNaN(res) ? 0 : res) * sign2;
      }
      function positiveMomentsDifference(base, other) {
        var res = {};
        res.months = other.month() - base.month() + (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, "M").isAfter(other)) {
          --res.months;
        }
        res.milliseconds = +other - +base.clone().add(res.months, "M");
        return res;
      }
      function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
          return { milliseconds: 0, months: 0 };
        }
        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
          res = positiveMomentsDifference(base, other);
        } else {
          res = positiveMomentsDifference(other, base);
          res.milliseconds = -res.milliseconds;
          res.months = -res.months;
        }
        return res;
      }
      function createAdder(direction, name) {
        return function(val, period) {
          var dur, tmp;
          if (period !== null && !isNaN(+period)) {
            deprecateSimple(name, "moment()." + name + "(period, number) is deprecated. Please use moment()." + name + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");
            tmp = val;
            val = period;
            period = tmp;
          }
          dur = createDuration(val, period);
          addSubtract(this, dur, direction);
          return this;
        };
      }
      function addSubtract(mom, duration, isAdding, updateOffset) {
        var milliseconds2 = duration._milliseconds, days2 = absRound(duration._days), months2 = absRound(duration._months);
        if (!mom.isValid()) {
          return;
        }
        updateOffset = updateOffset == null ? true : updateOffset;
        if (months2) {
          setMonth(mom, get(mom, "Month") + months2 * isAdding);
        }
        if (days2) {
          set$1(mom, "Date", get(mom, "Date") + days2 * isAdding);
        }
        if (milliseconds2) {
          mom._d.setTime(mom._d.valueOf() + milliseconds2 * isAdding);
        }
        if (updateOffset) {
          hooks.updateOffset(mom, days2 || months2);
        }
      }
      var add = createAdder(1, "add"), subtract = createAdder(-1, "subtract");
      function isString(input) {
        return typeof input === "string" || input instanceof String;
      }
      function isMomentInput(input) {
        return isMoment(input) || isDate(input) || isString(input) || isNumber(input) || isNumberOrStringArray(input) || isMomentInputObject(input) || input === null || input === void 0;
      }
      function isMomentInputObject(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input), propertyTest = false, properties = [
          "years",
          "year",
          "y",
          "months",
          "month",
          "M",
          "days",
          "day",
          "d",
          "dates",
          "date",
          "D",
          "hours",
          "hour",
          "h",
          "minutes",
          "minute",
          "m",
          "seconds",
          "second",
          "s",
          "milliseconds",
          "millisecond",
          "ms"
        ], i, property, propertyLen = properties.length;
        for (i = 0; i < propertyLen; i += 1) {
          property = properties[i];
          propertyTest = propertyTest || hasOwnProp(input, property);
        }
        return objectTest && propertyTest;
      }
      function isNumberOrStringArray(input) {
        var arrayTest = isArray(input), dataTypeTest = false;
        if (arrayTest) {
          dataTypeTest = input.filter(function(item) {
            return !isNumber(item) && isString(input);
          }).length === 0;
        }
        return arrayTest && dataTypeTest;
      }
      function isCalendarSpec(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input), propertyTest = false, properties = [
          "sameDay",
          "nextDay",
          "lastDay",
          "nextWeek",
          "lastWeek",
          "sameElse"
        ], i, property;
        for (i = 0; i < properties.length; i += 1) {
          property = properties[i];
          propertyTest = propertyTest || hasOwnProp(input, property);
        }
        return objectTest && propertyTest;
      }
      function getCalendarFormat(myMoment, now2) {
        var diff2 = myMoment.diff(now2, "days", true);
        return diff2 < -6 ? "sameElse" : diff2 < -1 ? "lastWeek" : diff2 < 0 ? "lastDay" : diff2 < 1 ? "sameDay" : diff2 < 2 ? "nextDay" : diff2 < 7 ? "nextWeek" : "sameElse";
      }
      function calendar$1(time, formats) {
        if (arguments.length === 1) {
          if (!arguments[0]) {
            time = void 0;
            formats = void 0;
          } else if (isMomentInput(arguments[0])) {
            time = arguments[0];
            formats = void 0;
          } else if (isCalendarSpec(arguments[0])) {
            formats = arguments[0];
            time = void 0;
          }
        }
        var now2 = time || createLocal(), sod = cloneWithOffset(now2, this).startOf("day"), format2 = hooks.calendarFormat(this, sod) || "sameElse", output = formats && (isFunction(formats[format2]) ? formats[format2].call(this, now2) : formats[format2]);
        return this.format(output || this.localeData().calendar(format2, this, createLocal(now2)));
      }
      function clone() {
        return new Moment(this);
      }
      function isAfter(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
          return false;
        }
        units = normalizeUnits(units) || "millisecond";
        if (units === "millisecond") {
          return this.valueOf() > localInput.valueOf();
        } else {
          return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
      }
      function isBefore(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
          return false;
        }
        units = normalizeUnits(units) || "millisecond";
        if (units === "millisecond") {
          return this.valueOf() < localInput.valueOf();
        } else {
          return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
      }
      function isBetween(from2, to2, units, inclusivity) {
        var localFrom = isMoment(from2) ? from2 : createLocal(from2), localTo = isMoment(to2) ? to2 : createLocal(to2);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
          return false;
        }
        inclusivity = inclusivity || "()";
        return (inclusivity[0] === "(" ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) && (inclusivity[1] === ")" ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
      }
      function isSame(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input), inputMs;
        if (!(this.isValid() && localInput.isValid())) {
          return false;
        }
        units = normalizeUnits(units) || "millisecond";
        if (units === "millisecond") {
          return this.valueOf() === localInput.valueOf();
        } else {
          inputMs = localInput.valueOf();
          return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
      }
      function isSameOrAfter(input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
      }
      function isSameOrBefore(input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
      }
      function diff(input, units, asFloat) {
        var that, zoneDelta, output;
        if (!this.isValid()) {
          return NaN;
        }
        that = cloneWithOffset(input, this);
        if (!that.isValid()) {
          return NaN;
        }
        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;
        units = normalizeUnits(units);
        switch (units) {
          case "year":
            output = monthDiff(this, that) / 12;
            break;
          case "month":
            output = monthDiff(this, that);
            break;
          case "quarter":
            output = monthDiff(this, that) / 3;
            break;
          case "second":
            output = (this - that) / 1e3;
            break;
          case "minute":
            output = (this - that) / 6e4;
            break;
          case "hour":
            output = (this - that) / 36e5;
            break;
          case "day":
            output = (this - that - zoneDelta) / 864e5;
            break;
          case "week":
            output = (this - that - zoneDelta) / 6048e5;
            break;
          default:
            output = this - that;
        }
        return asFloat ? output : absFloor(output);
      }
      function monthDiff(a, b) {
        if (a.date() < b.date()) {
          return -monthDiff(b, a);
        }
        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()), anchor = a.clone().add(wholeMonthDiff, "months"), anchor2, adjust;
        if (b - anchor < 0) {
          anchor2 = a.clone().add(wholeMonthDiff - 1, "months");
          adjust = (b - anchor) / (anchor - anchor2);
        } else {
          anchor2 = a.clone().add(wholeMonthDiff + 1, "months");
          adjust = (b - anchor) / (anchor2 - anchor);
        }
        return -(wholeMonthDiff + adjust) || 0;
      }
      hooks.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
      hooks.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
      function toString() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
      }
      function toISOString(keepOffset) {
        if (!this.isValid()) {
          return null;
        }
        var utc = keepOffset !== true, m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
          return formatMoment(m, utc ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ");
        }
        if (isFunction(Date.prototype.toISOString)) {
          if (utc) {
            return this.toDate().toISOString();
          } else {
            return new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", formatMoment(m, "Z"));
          }
        }
        return formatMoment(m, utc ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ");
      }
      function inspect() {
        if (!this.isValid()) {
          return "moment.invalid(/* " + this._i + " */)";
        }
        var func = "moment", zone = "", prefix, year, datetime, suffix;
        if (!this.isLocal()) {
          func = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone";
          zone = "Z";
        }
        prefix = "[" + func + '("]';
        year = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY";
        datetime = "-MM-DD[T]HH:mm:ss.SSS";
        suffix = zone + '[")]';
        return this.format(prefix + year + datetime + suffix);
      }
      function format(inputString) {
        if (!inputString) {
          inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
      }
      function from(time, withoutSuffix) {
        if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {
          return createDuration({ to: this, from: time }).locale(this.locale()).humanize(!withoutSuffix);
        } else {
          return this.localeData().invalidDate();
        }
      }
      function fromNow(withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
      }
      function to(time, withoutSuffix) {
        if (this.isValid() && (isMoment(time) && time.isValid() || createLocal(time).isValid())) {
          return createDuration({ from: this, to: time }).locale(this.locale()).humanize(!withoutSuffix);
        } else {
          return this.localeData().invalidDate();
        }
      }
      function toNow(withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
      }
      function locale(key) {
        var newLocaleData;
        if (key === void 0) {
          return this._locale._abbr;
        } else {
          newLocaleData = getLocale(key);
          if (newLocaleData != null) {
            this._locale = newLocaleData;
          }
          return this;
        }
      }
      var lang = deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(key) {
        if (key === void 0) {
          return this.localeData();
        } else {
          return this.locale(key);
        }
      });
      function localeData() {
        return this._locale;
      }
      var MS_PER_SECOND = 1e3, MS_PER_MINUTE = 60 * MS_PER_SECOND, MS_PER_HOUR = 60 * MS_PER_MINUTE, MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;
      function mod$1(dividend, divisor) {
        return (dividend % divisor + divisor) % divisor;
      }
      function localStartOfDate(y, m, d) {
        if (y < 100 && y >= 0) {
          return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
          return new Date(y, m, d).valueOf();
        }
      }
      function utcStartOfDate(y, m, d) {
        if (y < 100 && y >= 0) {
          return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
          return Date.UTC(y, m, d);
        }
      }
      function startOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === void 0 || units === "millisecond" || !this.isValid()) {
          return this;
        }
        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;
        switch (units) {
          case "year":
            time = startOfDate(this.year(), 0, 1);
            break;
          case "quarter":
            time = startOfDate(this.year(), this.month() - this.month() % 3, 1);
            break;
          case "month":
            time = startOfDate(this.year(), this.month(), 1);
            break;
          case "week":
            time = startOfDate(this.year(), this.month(), this.date() - this.weekday());
            break;
          case "isoWeek":
            time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
            break;
          case "day":
          case "date":
            time = startOfDate(this.year(), this.month(), this.date());
            break;
          case "hour":
            time = this._d.valueOf();
            time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);
            break;
          case "minute":
            time = this._d.valueOf();
            time -= mod$1(time, MS_PER_MINUTE);
            break;
          case "second":
            time = this._d.valueOf();
            time -= mod$1(time, MS_PER_SECOND);
            break;
        }
        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
      }
      function endOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === void 0 || units === "millisecond" || !this.isValid()) {
          return this;
        }
        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;
        switch (units) {
          case "year":
            time = startOfDate(this.year() + 1, 0, 1) - 1;
            break;
          case "quarter":
            time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
            break;
          case "month":
            time = startOfDate(this.year(), this.month() + 1, 1) - 1;
            break;
          case "week":
            time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
            break;
          case "isoWeek":
            time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
            break;
          case "day":
          case "date":
            time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
            break;
          case "hour":
            time = this._d.valueOf();
            time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;
            break;
          case "minute":
            time = this._d.valueOf();
            time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
            break;
          case "second":
            time = this._d.valueOf();
            time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
            break;
        }
        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
      }
      function valueOf() {
        return this._d.valueOf() - (this._offset || 0) * 6e4;
      }
      function unix() {
        return Math.floor(this.valueOf() / 1e3);
      }
      function toDate() {
        return new Date(this.valueOf());
      }
      function toArray() {
        var m = this;
        return [
          m.year(),
          m.month(),
          m.date(),
          m.hour(),
          m.minute(),
          m.second(),
          m.millisecond()
        ];
      }
      function toObject() {
        var m = this;
        return {
          years: m.year(),
          months: m.month(),
          date: m.date(),
          hours: m.hours(),
          minutes: m.minutes(),
          seconds: m.seconds(),
          milliseconds: m.milliseconds()
        };
      }
      function toJSON() {
        return this.isValid() ? this.toISOString() : null;
      }
      function isValid$2() {
        return isValid(this);
      }
      function parsingFlags() {
        return extend({}, getParsingFlags(this));
      }
      function invalidAt() {
        return getParsingFlags(this).overflow;
      }
      function creationData() {
        return {
          input: this._i,
          format: this._f,
          locale: this._locale,
          isUTC: this._isUTC,
          strict: this._strict
        };
      }
      addFormatToken("N", 0, 0, "eraAbbr");
      addFormatToken("NN", 0, 0, "eraAbbr");
      addFormatToken("NNN", 0, 0, "eraAbbr");
      addFormatToken("NNNN", 0, 0, "eraName");
      addFormatToken("NNNNN", 0, 0, "eraNarrow");
      addFormatToken("y", ["y", 1], "yo", "eraYear");
      addFormatToken("y", ["yy", 2], 0, "eraYear");
      addFormatToken("y", ["yyy", 3], 0, "eraYear");
      addFormatToken("y", ["yyyy", 4], 0, "eraYear");
      addRegexToken("N", matchEraAbbr);
      addRegexToken("NN", matchEraAbbr);
      addRegexToken("NNN", matchEraAbbr);
      addRegexToken("NNNN", matchEraName);
      addRegexToken("NNNNN", matchEraNarrow);
      addParseToken(["N", "NN", "NNN", "NNNN", "NNNNN"], function(input, array, config, token2) {
        var era = config._locale.erasParse(input, token2, config._strict);
        if (era) {
          getParsingFlags(config).era = era;
        } else {
          getParsingFlags(config).invalidEra = input;
        }
      });
      addRegexToken("y", matchUnsigned);
      addRegexToken("yy", matchUnsigned);
      addRegexToken("yyy", matchUnsigned);
      addRegexToken("yyyy", matchUnsigned);
      addRegexToken("yo", matchEraYearOrdinal);
      addParseToken(["y", "yy", "yyy", "yyyy"], YEAR);
      addParseToken(["yo"], function(input, array, config, token2) {
        var match;
        if (config._locale._eraYearOrdinalRegex) {
          match = input.match(config._locale._eraYearOrdinalRegex);
        }
        if (config._locale.eraYearOrdinalParse) {
          array[YEAR] = config._locale.eraYearOrdinalParse(input, match);
        } else {
          array[YEAR] = parseInt(input, 10);
        }
      });
      function localeEras(m, format2) {
        var i, l, date, eras = this._eras || getLocale("en")._eras;
        for (i = 0, l = eras.length; i < l; ++i) {
          switch (typeof eras[i].since) {
            case "string":
              date = hooks(eras[i].since).startOf("day");
              eras[i].since = date.valueOf();
              break;
          }
          switch (typeof eras[i].until) {
            case "undefined":
              eras[i].until = Infinity;
              break;
            case "string":
              date = hooks(eras[i].until).startOf("day").valueOf();
              eras[i].until = date.valueOf();
              break;
          }
        }
        return eras;
      }
      function localeErasParse(eraName, format2, strict) {
        var i, l, eras = this.eras(), name, abbr, narrow;
        eraName = eraName.toUpperCase();
        for (i = 0, l = eras.length; i < l; ++i) {
          name = eras[i].name.toUpperCase();
          abbr = eras[i].abbr.toUpperCase();
          narrow = eras[i].narrow.toUpperCase();
          if (strict) {
            switch (format2) {
              case "N":
              case "NN":
              case "NNN":
                if (abbr === eraName) {
                  return eras[i];
                }
                break;
              case "NNNN":
                if (name === eraName) {
                  return eras[i];
                }
                break;
              case "NNNNN":
                if (narrow === eraName) {
                  return eras[i];
                }
                break;
            }
          } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {
            return eras[i];
          }
        }
      }
      function localeErasConvertYear(era, year) {
        var dir = era.since <= era.until ? 1 : -1;
        if (year === void 0) {
          return hooks(era.since).year();
        } else {
          return hooks(era.since).year() + (year - era.offset) * dir;
        }
      }
      function getEraName() {
        var i, l, val, eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
          val = this.clone().startOf("day").valueOf();
          if (eras[i].since <= val && val <= eras[i].until) {
            return eras[i].name;
          }
          if (eras[i].until <= val && val <= eras[i].since) {
            return eras[i].name;
          }
        }
        return "";
      }
      function getEraNarrow() {
        var i, l, val, eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
          val = this.clone().startOf("day").valueOf();
          if (eras[i].since <= val && val <= eras[i].until) {
            return eras[i].narrow;
          }
          if (eras[i].until <= val && val <= eras[i].since) {
            return eras[i].narrow;
          }
        }
        return "";
      }
      function getEraAbbr() {
        var i, l, val, eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
          val = this.clone().startOf("day").valueOf();
          if (eras[i].since <= val && val <= eras[i].until) {
            return eras[i].abbr;
          }
          if (eras[i].until <= val && val <= eras[i].since) {
            return eras[i].abbr;
          }
        }
        return "";
      }
      function getEraYear() {
        var i, l, dir, val, eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
          dir = eras[i].since <= eras[i].until ? 1 : -1;
          val = this.clone().startOf("day").valueOf();
          if (eras[i].since <= val && val <= eras[i].until || eras[i].until <= val && val <= eras[i].since) {
            return (this.year() - hooks(eras[i].since).year()) * dir + eras[i].offset;
          }
        }
        return this.year();
      }
      function erasNameRegex(isStrict) {
        if (!hasOwnProp(this, "_erasNameRegex")) {
          computeErasParse.call(this);
        }
        return isStrict ? this._erasNameRegex : this._erasRegex;
      }
      function erasAbbrRegex(isStrict) {
        if (!hasOwnProp(this, "_erasAbbrRegex")) {
          computeErasParse.call(this);
        }
        return isStrict ? this._erasAbbrRegex : this._erasRegex;
      }
      function erasNarrowRegex(isStrict) {
        if (!hasOwnProp(this, "_erasNarrowRegex")) {
          computeErasParse.call(this);
        }
        return isStrict ? this._erasNarrowRegex : this._erasRegex;
      }
      function matchEraAbbr(isStrict, locale2) {
        return locale2.erasAbbrRegex(isStrict);
      }
      function matchEraName(isStrict, locale2) {
        return locale2.erasNameRegex(isStrict);
      }
      function matchEraNarrow(isStrict, locale2) {
        return locale2.erasNarrowRegex(isStrict);
      }
      function matchEraYearOrdinal(isStrict, locale2) {
        return locale2._eraYearOrdinalRegex || matchUnsigned;
      }
      function computeErasParse() {
        var abbrPieces = [], namePieces = [], narrowPieces = [], mixedPieces = [], i, l, eras = this.eras();
        for (i = 0, l = eras.length; i < l; ++i) {
          namePieces.push(regexEscape(eras[i].name));
          abbrPieces.push(regexEscape(eras[i].abbr));
          narrowPieces.push(regexEscape(eras[i].narrow));
          mixedPieces.push(regexEscape(eras[i].name));
          mixedPieces.push(regexEscape(eras[i].abbr));
          mixedPieces.push(regexEscape(eras[i].narrow));
        }
        this._erasRegex = new RegExp("^(" + mixedPieces.join("|") + ")", "i");
        this._erasNameRegex = new RegExp("^(" + namePieces.join("|") + ")", "i");
        this._erasAbbrRegex = new RegExp("^(" + abbrPieces.join("|") + ")", "i");
        this._erasNarrowRegex = new RegExp("^(" + narrowPieces.join("|") + ")", "i");
      }
      addFormatToken(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100;
      });
      addFormatToken(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100;
      });
      function addWeekYearFormatToken(token2, getter) {
        addFormatToken(0, [token2, token2.length], 0, getter);
      }
      addWeekYearFormatToken("gggg", "weekYear");
      addWeekYearFormatToken("ggggg", "weekYear");
      addWeekYearFormatToken("GGGG", "isoWeekYear");
      addWeekYearFormatToken("GGGGG", "isoWeekYear");
      addUnitAlias("weekYear", "gg");
      addUnitAlias("isoWeekYear", "GG");
      addUnitPriority("weekYear", 1);
      addUnitPriority("isoWeekYear", 1);
      addRegexToken("G", matchSigned);
      addRegexToken("g", matchSigned);
      addRegexToken("GG", match1to2, match2);
      addRegexToken("gg", match1to2, match2);
      addRegexToken("GGGG", match1to4, match4);
      addRegexToken("gggg", match1to4, match4);
      addRegexToken("GGGGG", match1to6, match6);
      addRegexToken("ggggg", match1to6, match6);
      addWeekParseToken(["gggg", "ggggg", "GGGG", "GGGGG"], function(input, week, config, token2) {
        week[token2.substr(0, 2)] = toInt(input);
      });
      addWeekParseToken(["gg", "GG"], function(input, week, config, token2) {
        week[token2] = hooks.parseTwoDigitYear(input);
      });
      function getSetWeekYear(input) {
        return getSetWeekYearHelper.call(this, input, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
      }
      function getSetISOWeekYear(input) {
        return getSetWeekYearHelper.call(this, input, this.isoWeek(), this.isoWeekday(), 1, 4);
      }
      function getISOWeeksInYear() {
        return weeksInYear(this.year(), 1, 4);
      }
      function getISOWeeksInISOWeekYear() {
        return weeksInYear(this.isoWeekYear(), 1, 4);
      }
      function getWeeksInYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
      }
      function getWeeksInWeekYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);
      }
      function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
          return weekOfYear(this, dow, doy).year;
        } else {
          weeksTarget = weeksInYear(input, dow, doy);
          if (week > weeksTarget) {
            week = weeksTarget;
          }
          return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
      }
      function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy), date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);
        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
      }
      addFormatToken("Q", 0, "Qo", "quarter");
      addUnitAlias("quarter", "Q");
      addUnitPriority("quarter", 7);
      addRegexToken("Q", match1);
      addParseToken("Q", function(input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
      });
      function getSetQuarter(input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
      }
      addFormatToken("D", ["DD", 2], "Do", "date");
      addUnitAlias("date", "D");
      addUnitPriority("date", 9);
      addRegexToken("D", match1to2);
      addRegexToken("DD", match1to2, match2);
      addRegexToken("Do", function(isStrict, locale2) {
        return isStrict ? locale2._dayOfMonthOrdinalParse || locale2._ordinalParse : locale2._dayOfMonthOrdinalParseLenient;
      });
      addParseToken(["D", "DD"], DATE);
      addParseToken("Do", function(input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
      });
      var getSetDayOfMonth = makeGetSet("Date", true);
      addFormatToken("DDD", ["DDDD", 3], "DDDo", "dayOfYear");
      addUnitAlias("dayOfYear", "DDD");
      addUnitPriority("dayOfYear", 4);
      addRegexToken("DDD", match1to3);
      addRegexToken("DDDD", match3);
      addParseToken(["DDD", "DDDD"], function(input, array, config) {
        config._dayOfYear = toInt(input);
      });
      function getSetDayOfYear(input) {
        var dayOfYear = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return input == null ? dayOfYear : this.add(input - dayOfYear, "d");
      }
      addFormatToken("m", ["mm", 2], 0, "minute");
      addUnitAlias("minute", "m");
      addUnitPriority("minute", 14);
      addRegexToken("m", match1to2);
      addRegexToken("mm", match1to2, match2);
      addParseToken(["m", "mm"], MINUTE);
      var getSetMinute = makeGetSet("Minutes", false);
      addFormatToken("s", ["ss", 2], 0, "second");
      addUnitAlias("second", "s");
      addUnitPriority("second", 15);
      addRegexToken("s", match1to2);
      addRegexToken("ss", match1to2, match2);
      addParseToken(["s", "ss"], SECOND);
      var getSetSecond = makeGetSet("Seconds", false);
      addFormatToken("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
      });
      addFormatToken(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10);
      });
      addFormatToken(0, ["SSS", 3], 0, "millisecond");
      addFormatToken(0, ["SSSS", 4], 0, function() {
        return this.millisecond() * 10;
      });
      addFormatToken(0, ["SSSSS", 5], 0, function() {
        return this.millisecond() * 100;
      });
      addFormatToken(0, ["SSSSSS", 6], 0, function() {
        return this.millisecond() * 1e3;
      });
      addFormatToken(0, ["SSSSSSS", 7], 0, function() {
        return this.millisecond() * 1e4;
      });
      addFormatToken(0, ["SSSSSSSS", 8], 0, function() {
        return this.millisecond() * 1e5;
      });
      addFormatToken(0, ["SSSSSSSSS", 9], 0, function() {
        return this.millisecond() * 1e6;
      });
      addUnitAlias("millisecond", "ms");
      addUnitPriority("millisecond", 16);
      addRegexToken("S", match1to3, match1);
      addRegexToken("SS", match1to3, match2);
      addRegexToken("SSS", match1to3, match3);
      var token, getSetMillisecond;
      for (token = "SSSS"; token.length <= 9; token += "S") {
        addRegexToken(token, matchUnsigned);
      }
      function parseMs(input, array) {
        array[MILLISECOND] = toInt(("0." + input) * 1e3);
      }
      for (token = "S"; token.length <= 9; token += "S") {
        addParseToken(token, parseMs);
      }
      getSetMillisecond = makeGetSet("Milliseconds", false);
      addFormatToken("z", 0, 0, "zoneAbbr");
      addFormatToken("zz", 0, 0, "zoneName");
      function getZoneAbbr() {
        return this._isUTC ? "UTC" : "";
      }
      function getZoneName() {
        return this._isUTC ? "Coordinated Universal Time" : "";
      }
      var proto = Moment.prototype;
      proto.add = add;
      proto.calendar = calendar$1;
      proto.clone = clone;
      proto.diff = diff;
      proto.endOf = endOf;
      proto.format = format;
      proto.from = from;
      proto.fromNow = fromNow;
      proto.to = to;
      proto.toNow = toNow;
      proto.get = stringGet;
      proto.invalidAt = invalidAt;
      proto.isAfter = isAfter;
      proto.isBefore = isBefore;
      proto.isBetween = isBetween;
      proto.isSame = isSame;
      proto.isSameOrAfter = isSameOrAfter;
      proto.isSameOrBefore = isSameOrBefore;
      proto.isValid = isValid$2;
      proto.lang = lang;
      proto.locale = locale;
      proto.localeData = localeData;
      proto.max = prototypeMax;
      proto.min = prototypeMin;
      proto.parsingFlags = parsingFlags;
      proto.set = stringSet;
      proto.startOf = startOf;
      proto.subtract = subtract;
      proto.toArray = toArray;
      proto.toObject = toObject;
      proto.toDate = toDate;
      proto.toISOString = toISOString;
      proto.inspect = inspect;
      if (typeof Symbol !== "undefined" && Symbol.for != null) {
        proto[Symbol.for("nodejs.util.inspect.custom")] = function() {
          return "Moment<" + this.format() + ">";
        };
      }
      proto.toJSON = toJSON;
      proto.toString = toString;
      proto.unix = unix;
      proto.valueOf = valueOf;
      proto.creationData = creationData;
      proto.eraName = getEraName;
      proto.eraNarrow = getEraNarrow;
      proto.eraAbbr = getEraAbbr;
      proto.eraYear = getEraYear;
      proto.year = getSetYear;
      proto.isLeapYear = getIsLeapYear;
      proto.weekYear = getSetWeekYear;
      proto.isoWeekYear = getSetISOWeekYear;
      proto.quarter = proto.quarters = getSetQuarter;
      proto.month = getSetMonth;
      proto.daysInMonth = getDaysInMonth;
      proto.week = proto.weeks = getSetWeek;
      proto.isoWeek = proto.isoWeeks = getSetISOWeek;
      proto.weeksInYear = getWeeksInYear;
      proto.weeksInWeekYear = getWeeksInWeekYear;
      proto.isoWeeksInYear = getISOWeeksInYear;
      proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;
      proto.date = getSetDayOfMonth;
      proto.day = proto.days = getSetDayOfWeek;
      proto.weekday = getSetLocaleDayOfWeek;
      proto.isoWeekday = getSetISODayOfWeek;
      proto.dayOfYear = getSetDayOfYear;
      proto.hour = proto.hours = getSetHour;
      proto.minute = proto.minutes = getSetMinute;
      proto.second = proto.seconds = getSetSecond;
      proto.millisecond = proto.milliseconds = getSetMillisecond;
      proto.utcOffset = getSetOffset;
      proto.utc = setOffsetToUTC;
      proto.local = setOffsetToLocal;
      proto.parseZone = setOffsetToParsedOffset;
      proto.hasAlignedHourOffset = hasAlignedHourOffset;
      proto.isDST = isDaylightSavingTime;
      proto.isLocal = isLocal;
      proto.isUtcOffset = isUtcOffset;
      proto.isUtc = isUtc;
      proto.isUTC = isUtc;
      proto.zoneAbbr = getZoneAbbr;
      proto.zoneName = getZoneName;
      proto.dates = deprecate("dates accessor is deprecated. Use date instead.", getSetDayOfMonth);
      proto.months = deprecate("months accessor is deprecated. Use month instead", getSetMonth);
      proto.years = deprecate("years accessor is deprecated. Use year instead", getSetYear);
      proto.zone = deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", getSetZone);
      proto.isDSTShifted = deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", isDaylightSavingTimeShifted);
      function createUnix(input) {
        return createLocal(input * 1e3);
      }
      function createInZone() {
        return createLocal.apply(null, arguments).parseZone();
      }
      function preParsePostFormat(string) {
        return string;
      }
      var proto$1 = Locale.prototype;
      proto$1.calendar = calendar;
      proto$1.longDateFormat = longDateFormat;
      proto$1.invalidDate = invalidDate;
      proto$1.ordinal = ordinal;
      proto$1.preparse = preParsePostFormat;
      proto$1.postformat = preParsePostFormat;
      proto$1.relativeTime = relativeTime;
      proto$1.pastFuture = pastFuture;
      proto$1.set = set;
      proto$1.eras = localeEras;
      proto$1.erasParse = localeErasParse;
      proto$1.erasConvertYear = localeErasConvertYear;
      proto$1.erasAbbrRegex = erasAbbrRegex;
      proto$1.erasNameRegex = erasNameRegex;
      proto$1.erasNarrowRegex = erasNarrowRegex;
      proto$1.months = localeMonths;
      proto$1.monthsShort = localeMonthsShort;
      proto$1.monthsParse = localeMonthsParse;
      proto$1.monthsRegex = monthsRegex;
      proto$1.monthsShortRegex = monthsShortRegex;
      proto$1.week = localeWeek;
      proto$1.firstDayOfYear = localeFirstDayOfYear;
      proto$1.firstDayOfWeek = localeFirstDayOfWeek;
      proto$1.weekdays = localeWeekdays;
      proto$1.weekdaysMin = localeWeekdaysMin;
      proto$1.weekdaysShort = localeWeekdaysShort;
      proto$1.weekdaysParse = localeWeekdaysParse;
      proto$1.weekdaysRegex = weekdaysRegex;
      proto$1.weekdaysShortRegex = weekdaysShortRegex;
      proto$1.weekdaysMinRegex = weekdaysMinRegex;
      proto$1.isPM = localeIsPM;
      proto$1.meridiem = localeMeridiem;
      function get$1(format2, index, field, setter) {
        var locale2 = getLocale(), utc = createUTC().set(setter, index);
        return locale2[field](utc, format2);
      }
      function listMonthsImpl(format2, index, field) {
        if (isNumber(format2)) {
          index = format2;
          format2 = void 0;
        }
        format2 = format2 || "";
        if (index != null) {
          return get$1(format2, index, field, "month");
        }
        var i, out = [];
        for (i = 0; i < 12; i++) {
          out[i] = get$1(format2, i, field, "month");
        }
        return out;
      }
      function listWeekdaysImpl(localeSorted, format2, index, field) {
        if (typeof localeSorted === "boolean") {
          if (isNumber(format2)) {
            index = format2;
            format2 = void 0;
          }
          format2 = format2 || "";
        } else {
          format2 = localeSorted;
          index = format2;
          localeSorted = false;
          if (isNumber(format2)) {
            index = format2;
            format2 = void 0;
          }
          format2 = format2 || "";
        }
        var locale2 = getLocale(), shift = localeSorted ? locale2._week.dow : 0, i, out = [];
        if (index != null) {
          return get$1(format2, (index + shift) % 7, field, "day");
        }
        for (i = 0; i < 7; i++) {
          out[i] = get$1(format2, (i + shift) % 7, field, "day");
        }
        return out;
      }
      function listMonths(format2, index) {
        return listMonthsImpl(format2, index, "months");
      }
      function listMonthsShort(format2, index) {
        return listMonthsImpl(format2, index, "monthsShort");
      }
      function listWeekdays(localeSorted, format2, index) {
        return listWeekdaysImpl(localeSorted, format2, index, "weekdays");
      }
      function listWeekdaysShort(localeSorted, format2, index) {
        return listWeekdaysImpl(localeSorted, format2, index, "weekdaysShort");
      }
      function listWeekdaysMin(localeSorted, format2, index) {
        return listWeekdaysImpl(localeSorted, format2, index, "weekdaysMin");
      }
      getSetGlobalLocale("en", {
        eras: [
          {
            since: "0001-01-01",
            until: Infinity,
            offset: 1,
            name: "Anno Domini",
            narrow: "AD",
            abbr: "AD"
          },
          {
            since: "0000-12-31",
            until: -Infinity,
            offset: 1,
            name: "Before Christ",
            narrow: "BC",
            abbr: "BC"
          }
        ],
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(number) {
          var b = number % 10, output = toInt(number % 100 / 10) === 1 ? "th" : b === 1 ? "st" : b === 2 ? "nd" : b === 3 ? "rd" : "th";
          return number + output;
        }
      });
      hooks.lang = deprecate("moment.lang is deprecated. Use moment.locale instead.", getSetGlobalLocale);
      hooks.langData = deprecate("moment.langData is deprecated. Use moment.localeData instead.", getLocale);
      var mathAbs = Math.abs;
      function abs() {
        var data = this._data;
        this._milliseconds = mathAbs(this._milliseconds);
        this._days = mathAbs(this._days);
        this._months = mathAbs(this._months);
        data.milliseconds = mathAbs(data.milliseconds);
        data.seconds = mathAbs(data.seconds);
        data.minutes = mathAbs(data.minutes);
        data.hours = mathAbs(data.hours);
        data.months = mathAbs(data.months);
        data.years = mathAbs(data.years);
        return this;
      }
      function addSubtract$1(duration, input, value, direction) {
        var other = createDuration(input, value);
        duration._milliseconds += direction * other._milliseconds;
        duration._days += direction * other._days;
        duration._months += direction * other._months;
        return duration._bubble();
      }
      function add$1(input, value) {
        return addSubtract$1(this, input, value, 1);
      }
      function subtract$1(input, value) {
        return addSubtract$1(this, input, value, -1);
      }
      function absCeil(number) {
        if (number < 0) {
          return Math.floor(number);
        } else {
          return Math.ceil(number);
        }
      }
      function bubble() {
        var milliseconds2 = this._milliseconds, days2 = this._days, months2 = this._months, data = this._data, seconds2, minutes2, hours2, years2, monthsFromDays;
        if (!(milliseconds2 >= 0 && days2 >= 0 && months2 >= 0 || milliseconds2 <= 0 && days2 <= 0 && months2 <= 0)) {
          milliseconds2 += absCeil(monthsToDays(months2) + days2) * 864e5;
          days2 = 0;
          months2 = 0;
        }
        data.milliseconds = milliseconds2 % 1e3;
        seconds2 = absFloor(milliseconds2 / 1e3);
        data.seconds = seconds2 % 60;
        minutes2 = absFloor(seconds2 / 60);
        data.minutes = minutes2 % 60;
        hours2 = absFloor(minutes2 / 60);
        data.hours = hours2 % 24;
        days2 += absFloor(hours2 / 24);
        monthsFromDays = absFloor(daysToMonths(days2));
        months2 += monthsFromDays;
        days2 -= absCeil(monthsToDays(monthsFromDays));
        years2 = absFloor(months2 / 12);
        months2 %= 12;
        data.days = days2;
        data.months = months2;
        data.years = years2;
        return this;
      }
      function daysToMonths(days2) {
        return days2 * 4800 / 146097;
      }
      function monthsToDays(months2) {
        return months2 * 146097 / 4800;
      }
      function as(units) {
        if (!this.isValid()) {
          return NaN;
        }
        var days2, months2, milliseconds2 = this._milliseconds;
        units = normalizeUnits(units);
        if (units === "month" || units === "quarter" || units === "year") {
          days2 = this._days + milliseconds2 / 864e5;
          months2 = this._months + daysToMonths(days2);
          switch (units) {
            case "month":
              return months2;
            case "quarter":
              return months2 / 3;
            case "year":
              return months2 / 12;
          }
        } else {
          days2 = this._days + Math.round(monthsToDays(this._months));
          switch (units) {
            case "week":
              return days2 / 7 + milliseconds2 / 6048e5;
            case "day":
              return days2 + milliseconds2 / 864e5;
            case "hour":
              return days2 * 24 + milliseconds2 / 36e5;
            case "minute":
              return days2 * 1440 + milliseconds2 / 6e4;
            case "second":
              return days2 * 86400 + milliseconds2 / 1e3;
            case "millisecond":
              return Math.floor(days2 * 864e5) + milliseconds2;
            default:
              throw new Error("Unknown unit " + units);
          }
        }
      }
      function valueOf$1() {
        if (!this.isValid()) {
          return NaN;
        }
        return this._milliseconds + this._days * 864e5 + this._months % 12 * 2592e6 + toInt(this._months / 12) * 31536e6;
      }
      function makeAs(alias) {
        return function() {
          return this.as(alias);
        };
      }
      var asMilliseconds = makeAs("ms"), asSeconds = makeAs("s"), asMinutes = makeAs("m"), asHours = makeAs("h"), asDays = makeAs("d"), asWeeks = makeAs("w"), asMonths = makeAs("M"), asQuarters = makeAs("Q"), asYears = makeAs("y");
      function clone$1() {
        return createDuration(this);
      }
      function get$2(units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + "s"]() : NaN;
      }
      function makeGetter(name) {
        return function() {
          return this.isValid() ? this._data[name] : NaN;
        };
      }
      var milliseconds = makeGetter("milliseconds"), seconds = makeGetter("seconds"), minutes = makeGetter("minutes"), hours = makeGetter("hours"), days = makeGetter("days"), months = makeGetter("months"), years = makeGetter("years");
      function weeks() {
        return absFloor(this.days() / 7);
      }
      var round = Math.round, thresholds = {
        ss: 44,
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        w: null,
        M: 11
      };
      function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale2) {
        return locale2.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
      }
      function relativeTime$1(posNegDuration, withoutSuffix, thresholds2, locale2) {
        var duration = createDuration(posNegDuration).abs(), seconds2 = round(duration.as("s")), minutes2 = round(duration.as("m")), hours2 = round(duration.as("h")), days2 = round(duration.as("d")), months2 = round(duration.as("M")), weeks2 = round(duration.as("w")), years2 = round(duration.as("y")), a = seconds2 <= thresholds2.ss && ["s", seconds2] || seconds2 < thresholds2.s && ["ss", seconds2] || minutes2 <= 1 && ["m"] || minutes2 < thresholds2.m && ["mm", minutes2] || hours2 <= 1 && ["h"] || hours2 < thresholds2.h && ["hh", hours2] || days2 <= 1 && ["d"] || days2 < thresholds2.d && ["dd", days2];
        if (thresholds2.w != null) {
          a = a || weeks2 <= 1 && ["w"] || weeks2 < thresholds2.w && ["ww", weeks2];
        }
        a = a || months2 <= 1 && ["M"] || months2 < thresholds2.M && ["MM", months2] || years2 <= 1 && ["y"] || ["yy", years2];
        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale2;
        return substituteTimeAgo.apply(null, a);
      }
      function getSetRelativeTimeRounding(roundingFunction) {
        if (roundingFunction === void 0) {
          return round;
        }
        if (typeof roundingFunction === "function") {
          round = roundingFunction;
          return true;
        }
        return false;
      }
      function getSetRelativeTimeThreshold(threshold, limit) {
        if (thresholds[threshold] === void 0) {
          return false;
        }
        if (limit === void 0) {
          return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === "s") {
          thresholds.ss = limit - 1;
        }
        return true;
      }
      function humanize(argWithSuffix, argThresholds) {
        if (!this.isValid()) {
          return this.localeData().invalidDate();
        }
        var withSuffix = false, th = thresholds, locale2, output;
        if (typeof argWithSuffix === "object") {
          argThresholds = argWithSuffix;
          argWithSuffix = false;
        }
        if (typeof argWithSuffix === "boolean") {
          withSuffix = argWithSuffix;
        }
        if (typeof argThresholds === "object") {
          th = Object.assign({}, thresholds, argThresholds);
          if (argThresholds.s != null && argThresholds.ss == null) {
            th.ss = argThresholds.s - 1;
          }
        }
        locale2 = this.localeData();
        output = relativeTime$1(this, !withSuffix, th, locale2);
        if (withSuffix) {
          output = locale2.pastFuture(+this, output);
        }
        return locale2.postformat(output);
      }
      var abs$1 = Math.abs;
      function sign(x) {
        return (x > 0) - (x < 0) || +x;
      }
      function toISOString$1() {
        if (!this.isValid()) {
          return this.localeData().invalidDate();
        }
        var seconds2 = abs$1(this._milliseconds) / 1e3, days2 = abs$1(this._days), months2 = abs$1(this._months), minutes2, hours2, years2, s, total = this.asSeconds(), totalSign, ymSign, daysSign, hmsSign;
        if (!total) {
          return "P0D";
        }
        minutes2 = absFloor(seconds2 / 60);
        hours2 = absFloor(minutes2 / 60);
        seconds2 %= 60;
        minutes2 %= 60;
        years2 = absFloor(months2 / 12);
        months2 %= 12;
        s = seconds2 ? seconds2.toFixed(3).replace(/\.?0+$/, "") : "";
        totalSign = total < 0 ? "-" : "";
        ymSign = sign(this._months) !== sign(total) ? "-" : "";
        daysSign = sign(this._days) !== sign(total) ? "-" : "";
        hmsSign = sign(this._milliseconds) !== sign(total) ? "-" : "";
        return totalSign + "P" + (years2 ? ymSign + years2 + "Y" : "") + (months2 ? ymSign + months2 + "M" : "") + (days2 ? daysSign + days2 + "D" : "") + (hours2 || minutes2 || seconds2 ? "T" : "") + (hours2 ? hmsSign + hours2 + "H" : "") + (minutes2 ? hmsSign + minutes2 + "M" : "") + (seconds2 ? hmsSign + s + "S" : "");
      }
      var proto$2 = Duration.prototype;
      proto$2.isValid = isValid$1;
      proto$2.abs = abs;
      proto$2.add = add$1;
      proto$2.subtract = subtract$1;
      proto$2.as = as;
      proto$2.asMilliseconds = asMilliseconds;
      proto$2.asSeconds = asSeconds;
      proto$2.asMinutes = asMinutes;
      proto$2.asHours = asHours;
      proto$2.asDays = asDays;
      proto$2.asWeeks = asWeeks;
      proto$2.asMonths = asMonths;
      proto$2.asQuarters = asQuarters;
      proto$2.asYears = asYears;
      proto$2.valueOf = valueOf$1;
      proto$2._bubble = bubble;
      proto$2.clone = clone$1;
      proto$2.get = get$2;
      proto$2.milliseconds = milliseconds;
      proto$2.seconds = seconds;
      proto$2.minutes = minutes;
      proto$2.hours = hours;
      proto$2.days = days;
      proto$2.weeks = weeks;
      proto$2.months = months;
      proto$2.years = years;
      proto$2.humanize = humanize;
      proto$2.toISOString = toISOString$1;
      proto$2.toString = toISOString$1;
      proto$2.toJSON = toISOString$1;
      proto$2.locale = locale;
      proto$2.localeData = localeData;
      proto$2.toIsoString = deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", toISOString$1);
      proto$2.lang = lang;
      addFormatToken("X", 0, 0, "unix");
      addFormatToken("x", 0, 0, "valueOf");
      addRegexToken("x", matchSigned);
      addRegexToken("X", matchTimestamp);
      addParseToken("X", function(input, array, config) {
        config._d = new Date(parseFloat(input) * 1e3);
      });
      addParseToken("x", function(input, array, config) {
        config._d = new Date(toInt(input));
      });
      hooks.version = "2.29.4";
      setHookCallback(createLocal);
      hooks.fn = proto;
      hooks.min = min;
      hooks.max = max;
      hooks.now = now;
      hooks.utc = createUTC;
      hooks.unix = createUnix;
      hooks.months = listMonths;
      hooks.isDate = isDate;
      hooks.locale = getSetGlobalLocale;
      hooks.invalid = createInvalid;
      hooks.duration = createDuration;
      hooks.isMoment = isMoment;
      hooks.weekdays = listWeekdays;
      hooks.parseZone = createInZone;
      hooks.localeData = getLocale;
      hooks.isDuration = isDuration;
      hooks.monthsShort = listMonthsShort;
      hooks.weekdaysMin = listWeekdaysMin;
      hooks.defineLocale = defineLocale;
      hooks.updateLocale = updateLocale;
      hooks.locales = listLocales;
      hooks.weekdaysShort = listWeekdaysShort;
      hooks.normalizeUnits = normalizeUnits;
      hooks.relativeTimeRounding = getSetRelativeTimeRounding;
      hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
      hooks.calendarFormat = getCalendarFormat;
      hooks.prototype = proto;
      hooks.HTML5_FMT = {
        DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
        DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
        DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
        DATE: "YYYY-MM-DD",
        TIME: "HH:mm",
        TIME_SECONDS: "HH:mm:ss",
        TIME_MS: "HH:mm:ss.SSS",
        WEEK: "GGGG-[W]WW",
        MONTH: "YYYY-MM"
      };
      return hooks;
    });
  }
});

// src/main.ts
__export(exports, {
  DAYS_PER_UNIT: () => DAYS_PER_UNIT,
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  GRANULARITY_LIST: () => GRANULARITY_LIST,
  GRANULARITY_TO_PERIODICITY: () => GRANULARITY_TO_PERIODICITY,
  default: () => DailyNoteOutlinePlugin3
});
var import_obsidian6 = __toModule(require("obsidian"));

// src/view.ts
var import_obsidian3 = __toModule(require("obsidian"));
var import_obsidian4 = __toModule(require("obsidian"));
var import_obsidian_daily_notes_interface2 = __toModule(require_main());
var import_moment = __toModule(require_moment());

// src/createAndOpenDailyNote.ts
var import_obsidian_daily_notes_interface = __toModule(require_main());
function createAndOpenDailyNote(granularity, date, allFiles) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    const createFile = () => __async(this, null, function* () {
      let newNote;
      switch (granularity) {
        case "quarter":
          newNote = yield (0, import_obsidian_daily_notes_interface.createQuarterlyNote)(date);
          break;
        case "year":
          newNote = yield (0, import_obsidian_daily_notes_interface.createYearlyNote)(date);
          break;
        default:
          newNote = yield (0, import_obsidian_daily_notes_interface.createPeriodicNote)(granularity, date);
      }
      yield workspace.getLeaf().openFile(newNote);
    });
    const dailynote = allFiles[(0, import_obsidian_daily_notes_interface.getDateUID)(date, granularity)];
    if (!dailynote) {
      yield createFile();
    } else {
      yield workspace.getLeaf().openFile(dailynote);
    }
  });
}

// src/modalExtract.ts
var import_obsidian = __toModule(require("obsidian"));
var ModalExtract = class extends import_obsidian.Modal {
  constructor(app2, plugin, onSubmit) {
    super(app2);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    this.inputedValue = this.plugin.settings.wordsToExtract;
    const { contentEl } = this;
    contentEl.createEl("br");
    new import_obsidian.Setting(contentEl).setName("Extract by word or phrase:").addText((text) => {
      text.setValue(this.plugin.settings.wordsToExtract).inputEl.select();
      text.onChange((value) => {
        this.inputedValue = value;
      });
    });
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("Extract").setCta().onClick(() => __async(this, null, function* () {
      this.executeExtract();
    }))).addButton((btn) => btn.setButtonText("Cancel").onClick(() => {
      this.close();
    }));
    this.scope.register([], "Enter", (evt) => {
      this.executeExtract();
    });
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  executeExtract() {
    return __async(this, null, function* () {
      this.close();
      this.plugin.settings.wordsToExtract = this.inputedValue;
      yield this.plugin.saveSettings();
      this.onSubmit(true);
    });
  }
};

// src/createAndOpenPeriodicNote.ts
var import_obsidian2 = __toModule(require("obsidian"));
var DEFAULT_NOTE_FORMAT = {
  day: "YYYY-MM-DD",
  week: "gggg-[W]ww",
  month: "YYYY-MM",
  quarter: "YYYY-[Q]Q",
  year: "YYYY"
};
function createAndOpenPeriodicNote(granularity, date, calendarSet) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    let file = window.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNote(calendarSet.id, granularity, date);
    if (!file) {
      const config = calendarSet[granularity];
      const format = calendarSet[granularity].format;
      const filename = date.format(format ? format : DEFAULT_NOTE_FORMAT[granularity]);
      const templateContents = yield getTemplateContents(window.app, config.templatePath);
      const renderedContents = applyTemplateTransformations(filename, granularity, date, format, templateContents);
      const destPath = yield getNoteCreationPath(window.app, filename, config);
      file = yield window.app.vault.create(destPath, renderedContents);
    }
    yield workspace.getLeaf().openFile(file);
  });
}
function getTemplateContents(app2, templatePath) {
  return __async(this, null, function* () {
    const { metadataCache, vault } = app2;
    const normalizedTemplatePath = (0, import_obsidian2.normalizePath)(templatePath != null ? templatePath : "");
    if (templatePath === "/") {
      return Promise.resolve("");
    }
    try {
      const templateFile = metadataCache.getFirstLinkpathDest(normalizedTemplatePath, "");
      return templateFile ? vault.cachedRead(templateFile) : "";
    } catch (err) {
      console.error(`Failed to read the daily note template '${normalizedTemplatePath}'`, err);
      new import_obsidian2.Notice("Failed to read the daily note template");
      return "";
    }
  });
}
function applyTemplateTransformations(filename, granularity, date, format, rawTemplateContents) {
  let templateContents = rawTemplateContents;
  templateContents = rawTemplateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename);
  if (granularity === "day") {
    templateContents = templateContents.replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const currentDate = date.clone().set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        currentDate.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return currentDate.format(momentFormat.substring(1).trim());
      }
      return currentDate.format(format);
    });
  }
  if (granularity === "week") {
    templateContents = templateContents.replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
      const day = getDayOfWeekNumericalValue(dayOfWeek);
      return date.weekday(day).format(momentFormat.trim());
    });
  }
  if (granularity === "month") {
    templateContents = templateContents.replace(/{{\s*(month)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("month").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "quarter") {
    templateContents = templateContents.replace(/{{\s*(quarter)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("quarter").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "year") {
    templateContents = templateContents.replace(/{{\s*(year)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("year").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  return templateContents;
}
function getNoteCreationPath(app2, filename, periodicConfig) {
  return __async(this, null, function* () {
    var _a;
    const directory = (_a = periodicConfig.folder) != null ? _a : "";
    const filenameWithExt = !filename.endsWith(".md") ? `${filename}.md` : filename;
    const path = (0, import_obsidian2.normalizePath)(join(directory, filenameWithExt));
    yield ensureFolderExists(app2, path);
    return path;
  });
}
function join(...partSegments) {
  let parts = [];
  for (let i = 0, l = partSegments.length; i < l; i++) {
    parts = parts.concat(partSegments[i].split("/"));
  }
  const newParts = [];
  for (let i = 0, l = parts.length; i < l; i++) {
    const part = parts[i];
    if (!part || part === ".")
      continue;
    else
      newParts.push(part);
  }
  if (parts[0] === "")
    newParts.unshift("");
  return newParts.join("/");
}
function ensureFolderExists(app2, path) {
  return __async(this, null, function* () {
    const dirs = path.replace(/\\/g, "/").split("/");
    dirs.pop();
    if (dirs.length) {
      const dir = join(...dirs);
      if (!app2.vault.getAbstractFileByPath(dir)) {
        yield app2.vault.createFolder(dir);
      }
    }
  });
}
function getDaysOfWeek() {
  const { moment: moment2 } = window;
  let weekStart = moment2.localeData()._week.dow;
  const daysOfWeek = [
    "sunday",
    "monday",
    "tuesday",
    "wednesday",
    "thursday",
    "friday",
    "saturday"
  ];
  while (weekStart) {
    const day = daysOfWeek.shift();
    if (day)
      daysOfWeek.push(day);
    weekStart--;
  }
  return daysOfWeek;
}
function getDayOfWeekNumericalValue(dayOfWeekName) {
  return getDaysOfWeek().indexOf(dayOfWeekName.toLowerCase());
}

// src/view.ts
var DailyNoteOutlineViewType = "daily-note-outline";
var DailyNoteOutlineView = class extends import_obsidian4.ItemView {
  constructor(leaf, plugin, settings) {
    super(leaf);
    this.searchRange = {
      latest: (0, import_moment.default)(),
      earliest: (0, import_moment.default)()
    };
    this.extractMode = false;
    this.extractTask = false;
    this.activeSet = 0;
    this.activeGranularity = 0;
    this.plugin = plugin;
    this.settings = settings;
  }
  getViewType() {
    return DailyNoteOutlineViewType;
  }
  getDisplayText() {
    return "Daily Note Outline";
  }
  getIcon() {
    return "calendar-clock";
  }
  onOpen() {
    return __async(this, null, function* () {
      this.initView();
      const debouncerRequestRefresh = (0, import_obsidian3.debounce)(this.autoRefresh, 2e3, true);
      this.flagRedraw = false;
      this.flagRegetAll = false;
      this.registerEvent(this.app.metadataCache.on("changed", (file) => {
        if (this.targetFiles.includes(file)) {
          this.flagRedraw = true;
          debouncerRequestRefresh.call(this);
        }
      }));
      this.registerEvent(this.app.vault.on("create", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.vault.on("delete", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
    });
  }
  onClose() {
    return __async(this, null, function* () {
    });
  }
  setState(state, result) {
    var __superGet = (key) => super[key];
    return __async(this, null, function* () {
      if (state.activeSet) {
        this.activeSet = state.activeSet;
      }
      if (state.activeGranularity) {
        this.activeGranularity = state.activeGranularity;
      }
      return __superGet("setState").call(this, state, result);
    });
  }
  getState() {
    return {
      activeSet: this.activeSet,
      activeGranularity: this.activeGranularity
    };
  }
  initView() {
    return __async(this, null, function* () {
      yield this.bootDelay();
      this.verPN = yield this.checkPeriodicNotes();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    });
  }
  bootDelay() {
    return __async(this, null, function* () {
      return new Promise((resolve) => {
        setTimeout(resolve, 200);
      });
    });
  }
  autoRefresh() {
    return __async(this, null, function* () {
      if (!(this.flagRedraw || this.flagRegetAll)) {
        return;
      }
      this.refreshView(this.flagRegetAll, this.flagRegetAll, true);
      this.flagRegetAll = false;
      this.flagRedraw = false;
    });
  }
  refreshView(regetAll, getTarget, getOutline) {
    return __async(this, null, function* () {
      var _a;
      yield this.checkPeriodicNotes();
      if (this.verPN != 2) {
        if (regetAll) {
          this.allDailyNotes = this.getAllNotes();
        }
        if (getTarget) {
          this.targetFiles = this.getTargetFiles(this.allDailyNotes, GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      } else {
        if (!this.calendarSets[this.activeSet]) {
          this.activeSet = 0;
        }
        if (!((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled)) {
          this.activeGranularity = 0;
        }
        if (getTarget) {
          this.targetFiles = this.getTargetPeriodicNotes(this.calendarSets[this.activeSet], GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      }
    });
  }
  getTargetFiles(allFiles, granularity) {
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame((0, import_moment.default)(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      if (allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]) {
        files.push(allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]);
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getTargetPeriodicNotes(calendarSet, granularity) {
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame((0, import_moment.default)(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      const caches = this.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNotes(calendarSet.id, granularity, checkDate);
      if (caches) {
        for (const file of caches) {
          if (!file.filePath.startsWith(calendarSet[granularity].folder.concat("/")) && calendarSet[granularity].folder) {
            continue;
          }
          const fileobj = this.app.vault.getAbstractFileByPath(file.filePath);
          if (fileobj instanceof import_obsidian4.TFile) {
            files.push(fileobj);
          }
        }
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getFileInfo(files) {
    return __async(this, null, function* () {
      let fileInfo = [];
      for (let i = 0; i < files.length; i++) {
        const content = yield this.app.vault.cachedRead(files[i]);
        const lines = content.split("\n");
        let info = {
          date: (0, import_obsidian_daily_notes_interface2.getDateFromFile)(files[i], GRANULARITY_LIST[this.activeGranularity]),
          lines,
          numOfLines: lines.length
        };
        if (this.verPN == 2) {
          info.date = this.app.plugins.getPlugin("periodic-notes").cache.cachedFiles.get(this.calendarSets[this.activeSet].id).get(files[i].path).date;
        }
        fileInfo.push(info);
      }
      return fileInfo;
    });
  }
  getOutline(files) {
    return __async(this, null, function* () {
      let data = [];
      for (let i = 0; i < files.length; i++) {
        const cache = this.app.metadataCache.getFileCache(files[i]);
        data[i] = [];
        if (cache.hasOwnProperty("headings")) {
          for (let j = 0; j < cache.headings.length; j++) {
            const element = {
              typeOfElement: "heading",
              position: cache.headings[j].position,
              displayText: cache.headings[j].heading,
              level: cache.headings[j].level
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("links")) {
          for (let j = 0; j < cache.links.length; j++) {
            const element = {
              typeOfElement: "link",
              position: cache.links[j].position,
              displayText: cache.links[j].displayText == "" ? cache.links[j].original.substring(1, cache.links[j].original.indexOf("]")) : cache.links[j].displayText,
              link: cache.links[j].link
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("listItems")) {
          for (let j = 0; j < cache.listItems.length; j++) {
            let listLevel = 0;
            if (cache.listItems[j].parent > 0) {
              listLevel = 2;
            } else if (j > 0) {
              if (!(Math.abs(cache.listItems[j].parent) == cache.listItems[j].position.start.line) && cache.listItems[j].position.start.line - cache.listItems[j - 1].position.start.line == 1) {
                listLevel = 1;
              }
            }
            const element = {
              typeOfElement: "listItems",
              position: cache.listItems[j].position,
              displayText: this.fileInfo[i].lines[cache.listItems[j].position.start.line].replace(/^(\s|\t)*-\s(\[.\]\s)*/, ""),
              level: listLevel,
              task: cache.listItems[j].task
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("tags")) {
          for (let j = 0; j < cache.tags.length; j++) {
            const element = {
              typeOfElement: "tag",
              position: cache.tags[j].position,
              displayText: cache.tags[j].tag.substring(1)
            };
            data[i].push(element);
          }
        }
        data[i].sort((a, b) => {
          return a.position.start.offset - b.position.start.offset;
        });
      }
      return data;
    });
  }
  drawUI() {
    const navHeader = createDiv("nav-header");
    const navButtonContainer = navHeader.createDiv("nav-buttons-container");
    const granularity = GRANULARITY_LIST[this.activeGranularity];
    let navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "previous notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-left", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.subtract(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.subtract(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "next notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-right", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.add(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.add(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "home";
    (0, import_obsidian3.setIcon)(navActionButton, "home", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "refresh";
    (0, import_obsidian3.setIcon)(navActionButton, "refresh-cw", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "open settings";
    (0, import_obsidian3.setIcon)(navActionButton, "settings", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.app.setting.open();
      this.app.setting.openTabById(this.plugin.manifest.id);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    let labelForToday = "create/open ";
    let labelForNext = "create/open ";
    if (granularity == "day") {
      labelForToday = labelForToday + "today's ";
      labelForNext = labelForNext + "tomorrow's ";
    } else {
      labelForToday = labelForToday + "present ";
      labelForNext = labelForNext + "next ";
    }
    labelForToday = labelForToday + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    labelForNext = labelForNext + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    if (this.verPN == 2) {
      labelForToday = labelForToday + " for " + this.calendarSets[this.activeSet].id;
      labelForNext = labelForNext + " for " + this.calendarSets[this.activeSet].id;
    }
    navActionButton.ariaLabel = labelForToday;
    (0, import_obsidian3.setIcon)(navActionButton, "calendar-plus", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault;
      const date = (0, import_moment.default)();
      if (this.verPN == 2) {
        createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
      } else {
        createAndOpenDailyNote(granularity, date, this.allDailyNotes);
      }
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle(labelForNext).setIcon("calendar-plus").onClick(() => __async(this, null, function* () {
        const date = (0, import_moment.default)().add(1, granularity);
        if (this.verPN == 2) {
          createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
        } else {
          createAndOpenDailyNote(granularity, date, this.allDailyNotes);
        }
      })));
      menu.showAtMouseEvent(event);
    });
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    if (!this.extractMode) {
      navActionButton.ariaLabel = "extract";
      (0, import_obsidian3.setIcon)(navActionButton, "search", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        event.preventDefault;
        const onSubmit = (enableExtract) => {
          if (enableExtract) {
            this.extractMode = true;
            this.refreshView(false, false, false);
          }
        };
        new ModalExtract(this.app, this.plugin, onSubmit).open();
      }));
    } else {
      navActionButton.ariaLabel = "unextract";
      (0, import_obsidian3.setIcon)(navActionButton, "x-circle", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        this.extractMode = false;
        this.extractTask = false;
        this.refreshView(false, false, false);
      }));
    }
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle("extract tasks").setIcon("check-square").onClick(() => __async(this, null, function* () {
        this.extractMode = true;
        this.extractTask = true;
        this.refreshView(false, false, false);
      })));
      menu.showAtMouseEvent(event);
    });
    const navDateRange = navHeader.createDiv("nav-date-range");
    let latest = this.searchRange.latest.clone();
    let earliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      earliest = latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
      if (latest.isSame((0, import_moment.default)(), "day")) {
        latest = latest.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
    }
    if (this.settings.initialSearchType == "forward") {
      latest = earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    const dateRange = earliest.format("YYYY/MM/DD [-] ") + latest.format(earliest.isSame(latest, "year") ? "MM/DD" : "YYYY/MM/DD");
    navDateRange.createDiv("nav-date-range-content").setText(dateRange);
    navDateRange.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      const onsetDate = (0, import_moment.default)(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        this.searchRange.latest = (0, import_moment.default)().startOf("day");
        this.searchRange.earliest = (0, import_moment.default)().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
      this.refreshView(false, true, true);
    }));
    if (this.settings.periodicNotesEnabled) {
      const navGranularity = navHeader.createDiv("nav-date-range");
      navGranularity.createDiv("nav-date-range-content").setText(GRANULARITY_LIST[this.activeGranularity]);
      navGranularity.addEventListener("click", (evet) => {
        var _a, _b, _c;
        const initialGranularity = this.activeGranularity;
        do {
          this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
        } while ((this.verPN == 2 && !((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && !((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _c.enabled)) && this.activeGranularity != initialGranularity);
        this.app.workspace.requestSaveLayout();
        this.refreshView(true, true, true);
      });
      navGranularity.addEventListener("contextmenu", (event) => {
        var _a, _b, _c;
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < GRANULARITY_LIST.length; i++) {
          if (this.verPN == 2 && ((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[i]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && ((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[i]]]) == null ? void 0 : _c.enabled)) {
            const icon = i == this.activeGranularity ? "check" : "";
            menu.addItem((item) => item.setTitle(GRANULARITY_LIST[i]).setIcon(icon).onClick(() => {
              this.activeGranularity = i;
              this.app.workspace.requestSaveLayout();
              this.refreshView(true, true, true);
            }));
          }
        }
        menu.showAtMouseEvent(event);
      });
    }
    if (this.settings.calendarSetsEnabled) {
      const navCalendarSet = navHeader.createDiv("nav-date-range");
      navCalendarSet.createDiv("nav-date-range-content").setText(this.calendarSets[this.activeSet].id);
      navCalendarSet.addEventListener("click", (evet) => {
        this.activeSet = (this.activeSet + 1) % this.calendarSets.length;
        this.app.workspace.requestSaveLayout();
        this.refreshView(false, true, true);
      });
      navCalendarSet.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < this.calendarSets.length; i++) {
          const icon = i == this.activeSet ? "check" : "";
          menu.addItem((item) => item.setTitle(this.calendarSets[i].id).setIcon(icon).onClick(() => {
            this.activeSet = i;
            this.app.workspace.requestSaveLayout();
            this.refreshView(false, true, true);
          }));
        }
        menu.showAtMouseEvent(event);
      });
    }
    this.contentEl.empty();
    this.contentEl.appendChild(navHeader);
  }
  drawOutline(files, info, data) {
    var _a;
    const containerEl = createDiv("nav-files-container node-insert-event");
    const rootEl = containerEl.createDiv("nav-folder mod-root");
    const rootChildrenEl = rootEl.createDiv("nav-folder-children");
    if (files.length == 0) {
      rootChildrenEl.createEl("h4", {
        text: "No daily/periodic note found"
      });
    }
    let includeMode = this.settings.includeOnly != "none" && (Boolean(this.settings.wordsToInclude.length) || this.settings.includeBeginning);
    let maxLevel = this.settings.headingLevel.indexOf(true);
    for (let i = 0; i < files.length; i++) {
      const dailyNoteEl = rootChildrenEl.createDiv("nav-folder");
      const dailyNoteTitleEl = dailyNoteEl.createDiv("nav-folder-title");
      const dailyNoteChildrenEl = dailyNoteEl.createDiv("nav-folder-children");
      switch (this.settings.icon.note) {
        case "none":
          break;
        case "custom":
          (0, import_obsidian3.setIcon)(dailyNoteTitleEl, this.settings.customIcon.note);
          break;
        default:
          if (this.settings.icon.note) {
            (0, import_obsidian3.setIcon)(dailyNoteTitleEl, this.settings.icon.note);
          }
          break;
      }
      let name = files[i].basename;
      if (this.settings.attachWeeklyNotesName && GRANULARITY_LIST[this.activeGranularity] == "week") {
        name = name + " (" + this.fileInfo[i].date.clone().startOf("week").format("MM/DD [-] ") + this.fileInfo[i].date.clone().endOf("week").format("MM/DD") + ")";
      }
      dailyNoteTitleEl.createDiv("nav-folder-title-content").setText(name);
      switch (this.settings.displayFileInfo) {
        case "lines":
          dailyNoteTitleEl.dataset.subinfo = info[i].numOfLines.toString();
          break;
        case "days":
          let basedate = this.settings.initialSearchType == "backward" ? (0, import_moment.default)() : this.settings.onset;
          dailyNoteTitleEl.dataset.subinfo = Math.abs(info[i].date.diff(basedate.startOf(GRANULARITY_LIST[this.activeGranularity]), GRANULARITY_LIST[this.activeGranularity])).toString();
          break;
        case "none":
          break;
        default:
          break;
      }
      dailyNoteTitleEl.addEventListener("click", (event) => {
        event.preventDefault();
        this.app.workspace.getLeaf().openFile(files[i]);
      }, false);
      dailyNoteTitleEl.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("tab").openFile(files[i]);
        }));
        menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("split").openFile(files[i]);
        }));
        this.app.workspace.trigger("file-menu", menu, files[i], "link-context-menu");
        menu.showAtMouseEvent(event);
      });
      let isIncluded = this.settings.includeBeginning;
      let includeModeHeadingLevel;
      let isExcluded = false;
      let excludeType;
      let excludeModeHeadingLevel;
      let primeType = this.settings.includeOnly == "none" ? this.settings.primeElement : this.settings.includeOnly;
      let isExtracted = false;
      if (data[i].length > 0) {
        elementloop:
          for (let j = 0; j < data[i].length; j++) {
            const element = data[i][j].typeOfElement;
            if (includeMode && this.settings.includeOnly == element) {
              if (isIncluded == true && element == "heading" && data[i][j].level > includeModeHeadingLevel) {
              } else {
                isIncluded = false;
                for (const value of this.settings.wordsToInclude) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isIncluded = true;
                    if (element == "heading") {
                      includeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (!isIncluded) {
              continue;
            }
            if (!isExcluded || isExcluded && (excludeType == element || primeType == element)) {
              if (element == "heading" && data[i][j].level > excludeModeHeadingLevel) {
              } else {
                isExcluded = false;
                for (const value of this.settings.wordsToExclude[element]) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isExcluded = true;
                    excludeType = element;
                    if (element == "heading") {
                      excludeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (isExcluded) {
              continue;
            }
            if (this.settings.showElements[element] == false) {
              continue;
            }
            for (const value of this.settings.wordsToIgnore[element]) {
              if (value && data[i][j].displayText.includes(value)) {
                continue elementloop;
              }
            }
            if (this.extractMode == true) {
              if (this.extractTask == false && !data[i][j].displayText.includes(this.settings.wordsToExtract)) {
                continue;
              } else if (this.extractTask == true && data[i][j].task === void 0) {
                continue;
              } else {
                isExtracted = true;
              }
            }
            if (element == "heading") {
              if (!this.settings.headingLevel[data[i][j].level - 1]) {
                continue;
              }
            }
            if (element == "link") {
            }
            if (element == "tag") {
            }
            if (element == "listItems") {
              if (this.settings.hideCompletedTasks == true && data[i][j].task == "x") {
                continue;
              } else if (this.settings.taskOnly == true && data[i][j].task === void 0) {
                continue;
              } else if (this.settings.allTasks == false || data[i][j].task === void 0) {
                if (data[i][j].level == 2 || data[i][j].level == 1 && this.settings.allRootItems == false) {
                  continue;
                }
              }
            }
            const outlineEl = dailyNoteChildrenEl.createDiv("nav-file");
            const outlineTitle = outlineEl.createDiv("nav-file-title nav-action-button");
            switch (this.settings.icon[element]) {
              case "none":
                break;
              case "headingwithnumber":
                (0, import_obsidian3.setIcon)(outlineTitle, `heading-${data[i][j].level}`);
                break;
              case "custom":
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.customIcon[element]);
                break;
              default:
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon[element]);
                break;
            }
            if (element == "listItems" && data[i][j].task !== void 0) {
              if (data[i][j].task == "x") {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.taskDone == "custom" ? this.settings.customIcon.taskDone : this.settings.icon.taskDone);
              } else {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.task == "custom" ? this.settings.customIcon.task : this.settings.icon.task);
              }
            }
            let prefix = this.settings.prefix[element];
            if (element == "heading") {
              switch (this.settings.repeatHeadingPrefix) {
                case "level":
                  prefix = prefix.repeat(data[i][j].level);
                  break;
                case "levelminus1":
                  prefix = prefix.repeat(data[i][j].level - 1);
                  break;
              }
            }
            if (element == "heading" && this.settings.indent.heading == true) {
              outlineTitle.style.paddingLeft = `${(data[i][j].level - maxLevel - 1) * 1.5 + 0.5}em`;
            }
            if (element == "link" && data[i][j].position.start.line == ((_a = data[i][j - 1]) == null ? void 0 : _a.position.start.line)) {
              outlineTitle.style.paddingLeft = "2em";
            }
            if (element == "listItems" && data[i][j].task !== void 0) {
              prefix = data[i][j].task == "x" ? this.settings.prefix.taskDone : this.settings.prefix.task;
              if (this.settings.addCheckboxText) {
                prefix = prefix + "[" + data[i][j].task + "] ";
              }
            }
            let dispText = this.stripMarkdownSympol(data[i][j].displayText);
            outlineTitle.createDiv("nav-file-title-content").setText(prefix + dispText);
            if (this.settings.inlinePreview) {
              let previewText = "";
              if ((element == "link" || element == "tag") && data[i][j].position.end.col < info[i].lines[data[i][j].position.start.line].length) {
                previewText = info[i].lines[data[i][j].position.start.line].slice(data[i][j].position.end.col);
              } else {
                previewText = data[i][j].position.start.line < info[i].numOfLines - 1 ? info[i].lines[data[i][j].position.start.line + 1] : "";
              }
              outlineTitle.createDiv("nav-file-title-preview").setText(previewText);
            }
            if (this.settings.tooltipPreview) {
              let previewText2 = "";
              let endLine = info[i].numOfLines - 1;
              let k = j + 1;
              endpreviewloop:
                while (k < data[i].length) {
                  if (this.settings.showElements[data[i][k].typeOfElement]) {
                    if (data[i][k].typeOfElement == "listItems" && (data[i][k].level >= 2 || this.settings.allRootItems == false && data[i][k].level == 1 && (this.settings.allTasks == false || data[i][k].task === void 0) || this.settings.taskOnly && data[i][k].task === void 0 || this.settings.hideCompletedTasks && data[i][k].task == "x")) {
                      k++;
                      continue;
                    } else if (data[i][k].typeOfElement == "heading" && this.settings.headingLevel[data[i][k].level - 1] == false) {
                      k++;
                      continue;
                    } else {
                      for (const value of this.settings.wordsToIgnore[data[i][k].typeOfElement]) {
                        if (value && data[i][k].displayText.includes(value)) {
                          k++;
                          continue endpreviewloop;
                        }
                      }
                      endLine = data[i][k].position.start.line - 1;
                      break;
                    }
                  }
                  k++;
                }
              for (let l = data[i][j].position.start.line; l <= endLine; l++) {
                previewText2 = previewText2 + info[i].lines[l] + "\n";
              }
              previewText2 = previewText2.replace(/\n$|\n(?=\n)/g, "");
              outlineTitle.ariaLabel = previewText2;
              outlineTitle.setAttribute("aria-label-position", this.settings.tooltipPreviewDirection);
              outlineTitle.setAttribute("aria-label-classes", "daily-note-preview");
            }
            outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
              event.preventDefault();
              yield this.app.workspace.getLeaf().openFile(files[i]);
              const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
              if (view) {
                view.editor.focus();
                view.editor.setCursor(data[i][j].position.start.line, data[i][j].position.start.col);
                view.editor.scrollIntoView({
                  from: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  },
                  to: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  }
                }, true);
              }
            }), false);
            outlineTitle.addEventListener("mouseover", (event) => {
              this.app.workspace.trigger("hover-link", {
                event,
                source: DailyNoteOutlineViewType,
                hoverParent: rootEl,
                targetEl: outlineTitle,
                linktext: files[i].path,
                state: { scroll: data[i][j].position.start.line }
              });
            });
            outlineTitle.addEventListener("contextmenu", (event) => {
              const menu = new import_obsidian3.Menu();
              menu.addItem((item) => item.setTitle("Extract").setIcon("search").onClick(() => __async(this, null, function* () {
                this.plugin.settings.wordsToExtract = data[i][j].displayText;
                yield this.plugin.saveSettings();
                this.extractMode = true;
                this.extractTask = false;
                this.refreshView(false, false, false);
              })));
              menu.addSeparator();
              menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("tab").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("split").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("window").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.showAtMouseEvent(event);
            });
          }
      } else {
        if (this.extractMode == false) {
          for (let j = 0; j < info[i].lines.length; j++) {
            if (info[i].lines[j] == "") {
              continue;
            } else {
              const outlineEl = dailyNoteChildrenEl.createDiv("nav-file");
              const outlineTitle = outlineEl.createDiv("nav-file-title nav-action-button");
              outlineTitle.createDiv("nav-file-title-content").setText(info[i].lines[j]);
              outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
                event.preventDefault();
                yield this.app.workspace.getLeaf().openFile(files[i]);
              }), false);
              break;
            }
          }
        }
      }
      if (this.extractMode == true && isExtracted == false) {
        dailyNoteEl.remove();
      }
    }
    this.contentEl.appendChild(containerEl);
  }
  scrollToElement(line, col) {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
    if (view) {
      view.editor.focus();
      view.editor.setCursor(line, col);
      view.editor.scrollIntoView({
        from: {
          line,
          ch: 0
        },
        to: {
          line,
          ch: 0
        }
      }, true);
    }
  }
  stripMarkdownSympol(text) {
    return text.replace(/(\[\[)|(\]\])/g, "");
  }
  resetSearchRange() {
    if (this.settings.initialSearchType == "forward") {
      const onsetDate = (0, import_moment.default)(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        new import_obsidian3.Notice("onset date is invalid");
        this.searchRange.latest = (0, import_moment.default)().startOf("day");
        this.searchRange.earliest = (0, import_moment.default)().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
    }
    if (this.settings.initialSearchType == "backward") {
      this.searchRange.latest = (0, import_moment.default)().startOf("day");
      this.searchRange.earliest = (0, import_moment.default)().startOf("day").subtract(this.settings.duration.day - 1, "days");
    }
  }
  checkPeriodicNotes() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d;
      if (app.plugins.plugins["periodic-notes"]) {
        if (Number(app.plugins.plugins["periodic-notes"].manifest.version.split(".")[0]) >= 1) {
          this.calendarSets = (_a = this.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.calendarSetManager.getCalendarSets();
          if (!this.calendarSets) {
            new import_obsidian3.Notice("failed to import calendar sets to Daily Note Outline");
          }
          const initialGranularity = this.activeGranularity;
          while (!((_b = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _b.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          return 2;
        } else {
          this.settings.calendarSetsEnabled = false;
          this.activeSet = 0;
          yield this.plugin.saveSettings();
          const initialGranularity = this.activeGranularity;
          while (!((_d = (_c = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _c[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _d.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          return 1;
        }
      } else {
        this.settings.periodicNotesEnabled = false;
        this.settings.calendarSetsEnabled = false;
        this.activeGranularity = 0;
        this.activeSet = 0;
        yield this.plugin.saveSettings();
        return 0;
      }
    });
  }
  getAllNotes() {
    switch (this.activeGranularity) {
      case 0:
        return (0, import_obsidian_daily_notes_interface2.getAllDailyNotes)();
      case 1:
        return (0, import_obsidian_daily_notes_interface2.getAllWeeklyNotes)();
      case 2:
        return (0, import_obsidian_daily_notes_interface2.getAllMonthlyNotes)();
      case 3:
        return (0, import_obsidian_daily_notes_interface2.getAllQuarterlyNotes)();
      case 4:
        return (0, import_obsidian_daily_notes_interface2.getAllYearlyNotes)();
    }
  }
};

// src/setting.ts
var import_obsidian5 = __toModule(require("obsidian"));
var import_obsidian_daily_notes_interface3 = __toModule(require_main());
var DailyNoteOutlineSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    var _a;
    let { containerEl } = this;
    containerEl.empty();
    if (!(0, import_obsidian_daily_notes_interface3.appHasDailyNotesPluginLoaded)()) {
      this.containerEl.createDiv("settings-banner", (banner) => {
        banner.createEl("h3", {
          text: "Daily Notes plugin not enabled"
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Basics",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Initial search type").setDesc("search backward from today / forward from a specific date").addDropdown((dropdown) => {
      dropdown.addOption("backward", "backward").addOption("forward", "forward").setValue(this.plugin.settings.initialSearchType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.initialSearchType = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Search duration").setDesc("number of days to search per page (default = 28)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.duration.day)).setValue(String(this.plugin.settings.duration.day));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0 || parsed >= 366) {
          parsed = DEFAULT_SETTINGS.duration.day;
        }
        this.plugin.settings.duration.day = parsed;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Include future daily notes").setClass("setting-indent").setDesc("in backward search, include n days of future daily notes (default = 5)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.offset)).setValue(String(this.plugin.settings.offset));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let inputedValue = Number(e.target.value);
        if (inputedValue < 0) {
          inputedValue = 0;
        } else if (inputedValue >= 366) {
          inputedValue = 366;
        }
        this.plugin.settings.offset = inputedValue;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Onset date").setClass("setting-indent").setDesc("onset date in forward search (YYYY-MM-DD)").addText((text) => {
      text.setPlaceholder(DEFAULT_SETTINGS.onset).setValue(this.plugin.settings.onset).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.onset = value;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show headings").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.heading).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.heading = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show links").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.link).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.link = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.tag).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.tag = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show list items & tasks").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.listItems).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.listItems = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("Show all root list items").setDesc("if disabled, only top item of the list is displayed").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allRootItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allRootItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Show all tasks").setDesc("show all task items regardless of their level").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Task only").setDesc("if enabled, normal list items are hidden").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.taskOnly).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.taskOnly = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Hide completed tasks").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.hideCompletedTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.hideCompletedTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    new import_obsidian5.Setting(containerEl).setName("Display file information").setDesc("display the number of lines of the file / distance from the base date with the file name").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("lines", "lines").addOption("days", "distance").setValue(this.plugin.settings.displayFileInfo).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.displayFileInfo = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Position of the plugin view").setDesc("Specify default position where this plugin's view appears").addDropdown((dropdown) => {
      dropdown.addOption("right", "right side pane").addOption("left", "left side pane").addOption("tab", "new tab in main pane").addOption("split", "splitted pane").addOption("popout", "popout window").setValue(this.plugin.settings.viewPosition).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.viewPosition = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Periodic Notes",
      cls: "setting-category"
    });
    if (!app.plugins.plugins["periodic-notes"]) {
      this.containerEl.createEl("p", {
        text: "Periodic Notes community plugin is not enabled",
        cls: "setting-item-description"
      });
    } else {
      const verCheck = Number((_a = app.plugins.plugins["periodic-notes"]) == null ? void 0 : _a.manifest.version.split(".")[0]);
      if (verCheck >= 1) {
        new import_obsidian5.Setting(containerEl).setName("calendar sets").setDesc("enable calendar sets feature. You have to activate and configure the beta version of the Periodic Notes Plugin first.").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.calendarSetsEnabled).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.calendarSetsEnabled = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(true, true, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("periodic notes").setDesc("enable weekly/monthly/quarterly/yearly notes. You have to activate and configure the Periodic Notes Plugin first.").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.periodicNotesEnabled).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.periodicNotesEnabled = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.resetSearchRange();
          this.plugin.view.refreshView(true, true, true);
        }));
      });
      if (this.plugin.settings.periodicNotesEnabled) {
        this.containerEl.createEl("p", {
          text: "Search duration for periodic notes",
          cls: "setting-category"
        });
        new import_obsidian5.Setting(containerEl).setName("weekly notes").setClass("setting-indent").setDesc("number of weeks to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.week)).setValue(String(this.plugin.settings.duration.week));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.week;
            }
            this.plugin.settings.duration.week = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("monthly notes").setClass("setting-indent").setDesc("number of months to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.month)).setValue(String(this.plugin.settings.duration.month));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.month;
            }
            this.plugin.settings.duration.month = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("quarterly notes").setClass("setting-indent").setDesc("number of quarters to search per page (default = 8)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.quarter)).setValue(String(this.plugin.settings.duration.quarter));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.quarter;
            }
            this.plugin.settings.duration.quarter = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("yearly notes").setClass("setting-indent").setDesc("number of years to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.year)).setValue(String(this.plugin.settings.duration.year));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.year;
            }
            this.plugin.settings.duration.year = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("attach date range to weekly notes").setDesc("display date range next to weekly notes' name").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.attachWeeklyNotesName).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.attachWeeklyNotesName = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Headings",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Heading level to display",
        cls: "setting-item-description"
      });
      this.plugin.settings.headingLevel.forEach((value, index, arry) => {
        new import_obsidian5.Setting(containerEl).setName(`Level${index + 1}`).setClass("setting-indent").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.headingLevel[index]).onChange((value2) => __async(this, null, function* () {
            this.plugin.settings.headingLevel[index] = value2;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      });
    } else {
      this.containerEl.createEl("p", {
        text: "To display this section, activate 'Show headings' in Basics section.",
        cls: "setting-item-description"
      });
    }
    this.containerEl.createEl("h4", {
      text: "Preview"
    });
    new import_obsidian5.Setting(containerEl).setName("Inline preview").setDesc("Show a few subsequent words next to the outline element name").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.inlinePreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.inlinePreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Tooltip preview").setDesc("Show subsequent sentences as a tooltip when hover").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tooltipPreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.tooltipPreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.tooltipPreview) {
      new import_obsidian5.Setting(containerEl).setName("Tooltip preview direction").setClass("setting-indent").setDesc("specify the direction to display tooltip preview").addDropdown((dropdown) => {
        dropdown.addOption("left", "left").addOption("right", "right").addOption("bottom", "bottom").addOption("top", "top").setValue(this.plugin.settings.tooltipPreviewDirection).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.tooltipPreviewDirection = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Simple filter",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to ignore").setDesc("Headings which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to ignore").setDesc("Links which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to ignore").setDesc("tags which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to ignore").setDesc("List items which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Include",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "If you specify one outline element type and words to include, only elements which belong to the included elements are displayed.",
      cls: "setting-item-description"
    });
    this.containerEl.createEl("p", {
      text: "**NOTE**: If Include filter is set incorrectly, a number of outlines may not be displayed. In such a case, try setting 'Element type for include' to 'no Include filter'.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Element type for include").addDropdown((dropdown) => {
      dropdown.addOption("none", "no Include filter").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.includeOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.includeOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.includeOnly != "none") {
      new import_obsidian5.Setting(containerEl).setName("Words to include").setClass("setting-indent").setDesc("Only elements specified in 'Element type for include' which include listed words will be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToInclude.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToInclude = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Include the beginning part").setClass("setting-indent").setDesc("Specify whether to include the beginning parts of each daily note with no element to include ").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.includeBeginning).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.includeBeginning = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Exclude",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "Specified outline elements and elements belonging to that element will not be displayed.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Exclusion ends at").setDesc("Excluding elements specified below ends at the selected type of elements. If you specified 'Element type for include' above, this value is ignored and excludeing elements ends at that type of elements.").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.primeElement).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.primeElement = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to exclude").setDesc("Headings which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to exclude").setDesc("Links which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to exclude").setDesc("tags which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to exclude").setDesc("List items which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Appearnce",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "Notes",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("file", "file").addOption("calendar", "calendar").addOption("calendar-days", "calendar-days").setValue(this.plugin.settings.icon.note).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.icon.note = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.icon.note == "custom") {
      new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.customIcon.note).setValue(this.plugin.settings.customIcon.note);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customIcon.note = inputedValue;
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Headings",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("hash", "hash").addOption("chevron-right", "chevron-right").addOption("custom", "custom").setValue(this.plugin.settings.icon.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.heading == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.heading).setValue(this.plugin.settings.customIcon.heading);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.heading = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.heading).setValue(this.plugin.settings.prefix.heading);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.heading = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      if (this.plugin.settings.prefix.heading != "") {
        new import_obsidian5.Setting(containerEl).setName("Repeat heading prefix").setClass("setting-indent-2").addDropdown((dropdown) => {
          dropdown.addOption("none", "none").addOption("level", "as many times as its level").addOption("levelminus1", "level - 1").setValue(this.plugin.settings.repeatHeadingPrefix).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.repeatHeadingPrefix = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Add indent").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.indent.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.indent.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "Links",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("link", "link").addOption("link-2", "link-2").addOption("custom", "custom").setValue(this.plugin.settings.icon.link).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.link = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.link == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.link).setValue(this.plugin.settings.customIcon.link);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.link = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.link).setValue(this.plugin.settings.prefix.link);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.link = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      this.containerEl.createEl("p", {
        text: "Tags",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("tag", "tag").addOption("hash", "hash").addOption("custom", "custom").setValue(this.plugin.settings.icon.tag).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.tag = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.tag == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.tag).setValue(this.plugin.settings.customIcon.tag);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.tag = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.tag).setValue(this.plugin.settings.prefix.tag);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.tag = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "List items",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("list", "list").addOption("chevron-right", "chevron-right").addOption("minus", "minus").addOption("circle-dot", "circle-dot").addOption("asterisk", "asterisk").addOption("custom", "custom").setValue(this.plugin.settings.icon.listItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.listItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.listItems == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.listItems).setValue(this.plugin.settings.customIcon.listItems);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.listItems = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.listItems).setValue(this.plugin.settings.prefix.listItems);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.listItems = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      this.containerEl.createEl("p", {
        text: "Tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("square", "square").addOption("circle", "circle").addOption("list-checks", "list-checks").addOption("custom", "custom").setValue(this.plugin.settings.icon.task).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.task = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.task == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.task).setValue(this.plugin.settings.customIcon.task);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.task = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.task).setValue(this.plugin.settings.prefix.task);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.task = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Add checkbox text to prefix").setDesc("add [ ] or [x]").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.addCheckboxText).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.addCheckboxText = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      this.containerEl.createEl("p", {
        text: "Completed tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("check-square", "check-square").addOption("check-circle", "check-circle").addOption("check", "check").addOption("custom", "custom").setValue(this.plugin.settings.icon.taskDone).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.taskDone = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.taskDone == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.taskDone).setValue(this.plugin.settings.customIcon.taskDone);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.taskDone = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.taskDone).setValue(this.plugin.settings.prefix.taskDone);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.taskDone = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  initialSearchType: "backward",
  offset: 7,
  onset: "2020-03-30",
  duration: {
    day: 28,
    week: 12,
    month: 12,
    quarter: 8,
    year: 3
  },
  showElements: {
    heading: true,
    link: true,
    tag: true,
    listItems: true
  },
  headingLevel: [true, true, true, false, false, false],
  allRootItems: false,
  allTasks: true,
  taskOnly: false,
  hideCompletedTasks: false,
  displayFileInfo: "lines",
  viewPosition: "right",
  wordsToIgnore: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  inlinePreview: true,
  tooltipPreview: true,
  tooltipPreviewDirection: "left",
  includeOnly: "none",
  wordsToInclude: [],
  includeBeginning: true,
  primeElement: "none",
  wordsToExclude: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  wordsToExtract: "",
  icon: {
    heading: "none",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  customIcon: {
    heading: "hash",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  indent: {
    heading: true,
    link: true,
    listItems: true
  },
  prefix: {
    heading: "",
    link: "",
    tag: "",
    listItems: "",
    task: "",
    taskDone: ""
  },
  repeatHeadingPrefix: "none",
  addCheckboxText: false,
  periodicNotesEnabled: true,
  calendarSetsEnabled: true,
  attachWeeklyNotesName: true
};
var DAYS_PER_UNIT = {
  day: 1,
  week: 7,
  month: 30,
  quarter: 90,
  year: 365
};
var GRANULARITY_LIST = ["day", "week", "month", "quarter", "year"];
var GRANULARITY_TO_PERIODICITY = {
  day: "daily",
  week: "weekly",
  month: "monthly",
  quarter: "quarterly",
  year: "yearly"
};
var DailyNoteOutlinePlugin3 = class extends import_obsidian6.Plugin {
  constructor() {
    super(...arguments);
    this.checkView = () => __async(this, null, function* () {
      let [leaf] = this.app.workspace.getLeavesOfType(DailyNoteOutlineViewType);
      if (!leaf) {
        switch (this.settings.viewPosition) {
          case "right":
            leaf = this.app.workspace.getRightLeaf(false);
            break;
          case "left":
            leaf = this.app.workspace.getLeftLeaf(false);
            break;
          case "tab":
            leaf = this.app.workspace.getLeaf("tab");
            break;
          case "split":
            leaf = this.app.workspace.getLeaf("split");
            break;
          case "popout":
            leaf = this.app.workspace.getLeaf("window");
            break;
        }
        yield leaf.setViewState({ type: DailyNoteOutlineViewType });
      }
      this.app.workspace.revealLeaf(leaf);
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.registerView(DailyNoteOutlineViewType, (leaf) => this.view = new DailyNoteOutlineView(leaf, this, this.settings));
      this.addCommand({
        id: "daily-note-outline-open",
        name: "Open Outline",
        callback: () => __async(this, null, function* () {
          this.checkView();
        })
      });
      if (this.app.workspace.layoutReady) {
        this.checkView();
      } else {
        this.registerEvent(this.app.workspace.on("layout-ready", this.checkView));
      }
      this.addSettingTab(new DailyNoteOutlineSettingTab(this.app, this));
    });
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(DailyNoteOutlineViewType);
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
      if (typeof this.settings.duration === "number") {
        this.settings.duration = DEFAULT_SETTINGS.duration;
      }
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
};
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZS9kaXN0L21haW4uanMiLCAibm9kZV9tb2R1bGVzL21vbWVudC9tb21lbnQuanMiLCAic3JjL21haW4udHMiLCAic3JjL3ZpZXcudHMiLCAic3JjL2NyZWF0ZUFuZE9wZW5EYWlseU5vdGUudHMiLCAic3JjL21vZGFsRXh0cmFjdC50cyIsICJzcmMvY3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZS50cyIsICJzcmMvc2V0dGluZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgb2JzaWRpYW4gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuXG5jb25zdCBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NLUREXCI7XG5jb25zdCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCA9IFwiZ2dnZy1bV113d1wiO1xuY29uc3QgREVGQVVMVF9NT05USExZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NXCI7XG5jb25zdCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWS1bUV1RXCI7XG5jb25zdCBERUZBVUxUX1lFQVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWVwiO1xuXG5mdW5jdGlvbiBzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MocGVyaW9kaWNpdHkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSB3aW5kb3cuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik7XG4gICAgcmV0dXJuIHBlcmlvZGljTm90ZXMgJiYgcGVyaW9kaWNOb3Rlcy5zZXR0aW5ncz8uW3BlcmlvZGljaXR5XT8uZW5hYmxlZDtcbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBkYWlseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0RGFpbHlOb3RlU2V0dGluZ3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgeyBpbnRlcm5hbFBsdWdpbnMsIHBsdWdpbnMgfSA9IHdpbmRvdy5hcHA7XG4gICAgICAgIGlmIChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJkYWlseVwiKSkge1xuICAgICAgICAgICAgY29uc3QgeyBmb3JtYXQsIGZvbGRlciwgdGVtcGxhdGUgfSA9IHBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy5kYWlseSB8fCB7fTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IGZvbGRlcj8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBmb2xkZXIsIGZvcm1hdCwgdGVtcGxhdGUgfSA9IGludGVybmFsUGx1Z2lucy5nZXRQbHVnaW5CeUlkKFwiZGFpbHktbm90ZXNcIik/Lmluc3RhbmNlPy5vcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIGRhaWx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFkIHRoZSB1c2VyIHNldHRpbmdzIGZvciB0aGUgYHdlZWtseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0V2Vla2x5Tm90ZVNldHRpbmdzKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcImNhbGVuZGFyXCIpPy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwZXJpb2RpY05vdGVzU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ud2Vla2x5O1xuICAgICAgICBpZiAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwid2Vla2x5XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogcGVyaW9kaWNOb3Rlc1NldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IHBlcmlvZGljTm90ZXNTZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBwZXJpb2RpY05vdGVzU2V0dGluZ3MudGVtcGxhdGU/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbGVuZGFyU2V0dGluZ3MgfHwge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLndlZWtseU5vdGVGb3JtYXQgfHwgREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQsXG4gICAgICAgICAgICBmb2xkZXI6IHNldHRpbmdzLndlZWtseU5vdGVGb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLndlZWtseU5vdGVUZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHdlZWtseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwibW9udGhseVwiKSAmJlxuICAgICAgICAgICAgcGx1Z2luTWFuYWdlci5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uc2V0dGluZ3M/Lm1vbnRobHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfTU9OVEhMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIG1vbnRobHkgbm90ZSBzZXR0aW5ncyBmb3VuZCFcIiwgZXJyKTtcbiAgICB9XG59XG4vKipcbiAqIFJlYWQgdGhlIHVzZXIgc2V0dGluZ3MgZm9yIHRoZSBgcGVyaW9kaWMtbm90ZXNgIHBsdWdpblxuICogdG8ga2VlcCBiZWhhdmlvciBvZiBjcmVhdGluZyBhIG5ldyBub3RlIGluLXN5bmMuXG4gKi9cbmZ1bmN0aW9uIGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwicXVhcnRlcmx5XCIpICYmXG4gICAgICAgICAgICBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ucXVhcnRlcmx5KSB8fFxuICAgICAgICAgICAge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHF1YXJ0ZXJseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0WWVhcmx5Tm90ZVNldHRpbmdzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGx1Z2luTWFuYWdlciA9IHdpbmRvdy5hcHAucGx1Z2lucztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJ5ZWFybHlcIikgJiZcbiAgICAgICAgICAgIHBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy55ZWFybHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFULFxuICAgICAgICAgICAgZm9sZGVyOiBzZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLnRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmluZm8oXCJObyBjdXN0b20geWVhcmx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuXG4vLyBDcmVkaXQ6IEBjcmVhdGlvbml4L3BhdGguanNcbmZ1bmN0aW9uIGpvaW4oLi4ucGFydFNlZ21lbnRzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGlucHV0cyBpbnRvIGEgbGlzdCBvZiBwYXRoIGNvbW1hbmRzLlxuICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFydFNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBwYXJ0cyA9IHBhcnRzLmNvbmNhdChwYXJ0U2VnbWVudHNbaV0uc3BsaXQoXCIvXCIpKTtcbiAgICB9XG4gICAgLy8gSW50ZXJwcmV0IHRoZSBwYXRoIGNvbW1hbmRzIHRvIGdldCB0aGUgbmV3IHJlc29sdmVkIHBhdGguXG4gICAgY29uc3QgbmV3UGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzXG4gICAgICAgIC8vIEFsc28gcmVtb3ZlIFwiLlwiIHNlZ21lbnRzXG4gICAgICAgIGlmICghcGFydCB8fCBwYXJ0ID09PSBcIi5cIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBQdXNoIG5ldyBwYXRoIHNlZ21lbnRzLlxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgICAvLyBQcmVzZXJ2ZSB0aGUgaW5pdGlhbCBzbGFzaCBpZiB0aGVyZSB3YXMgb25lLlxuICAgIGlmIChwYXJ0c1swXSA9PT0gXCJcIilcbiAgICAgICAgbmV3UGFydHMudW5zaGlmdChcIlwiKTtcbiAgICAvLyBUdXJuIGJhY2sgaW50byBhIHNpbmdsZSBzdHJpbmcgcGF0aC5cbiAgICByZXR1cm4gbmV3UGFydHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiBiYXNlbmFtZShmdWxsUGF0aCkge1xuICAgIGxldCBiYXNlID0gZnVsbFBhdGguc3Vic3RyaW5nKGZ1bGxQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIGlmIChiYXNlLmxhc3RJbmRleE9mKFwiLlwiKSAhPSAtMSlcbiAgICAgICAgYmFzZSA9IGJhc2Uuc3Vic3RyaW5nKDAsIGJhc2UubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICByZXR1cm4gYmFzZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZvbGRlckV4aXN0cyhwYXRoKSB7XG4gICAgY29uc3QgZGlycyA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGRpcnMucG9wKCk7IC8vIHJlbW92ZSBiYXNlbmFtZVxuICAgIGlmIChkaXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkaXIgPSBqb2luKC4uLmRpcnMpO1xuICAgICAgICBpZiAoIXdpbmRvdy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGRpcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBnZXROb3RlUGF0aChkaXJlY3RvcnksIGZpbGVuYW1lKSB7XG4gICAgaWYgKCFmaWxlbmFtZS5lbmRzV2l0aChcIi5tZFwiKSkge1xuICAgICAgICBmaWxlbmFtZSArPSBcIi5tZFwiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gb2JzaWRpYW4ubm9ybWFsaXplUGF0aChqb2luKGRpcmVjdG9yeSwgZmlsZW5hbWUpKTtcbiAgICBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMocGF0aCk7XG4gICAgcmV0dXJuIHBhdGg7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IG1ldGFkYXRhQ2FjaGUsIHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgodGVtcGxhdGUpO1xuICAgIGlmICh0ZW1wbGF0ZVBhdGggPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1wiXCIsIG51bGxdKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVGaWxlID0gbWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdCh0ZW1wbGF0ZVBhdGgsIFwiXCIpO1xuICAgICAgICBjb25zdCBjb250ZW50cyA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGVGaWxlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgSUZvbGRJbmZvID0gd2luZG93LmFwcC5mb2xkTWFuYWdlci5sb2FkKHRlbXBsYXRlRmlsZSk7XG4gICAgICAgIHJldHVybiBbY29udGVudHMsIElGb2xkSW5mb107XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGUgJyR7dGVtcGxhdGVQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGVcIik7XG4gICAgICAgIHJldHVybiBbXCJcIiwgbnVsbF07XG4gICAgfVxufVxuXG4vKipcbiAqIGRhdGVVSUQgaXMgYSB3YXkgb2Ygd2Vla2x5IGlkZW50aWZ5aW5nIGRhaWx5L3dlZWtseS9tb250aGx5IG5vdGVzLlxuICogVGhleSBhcmUgcHJlZml4ZWQgd2l0aCB0aGUgZ3JhbnVsYXJpdHkgdG8gYXZvaWQgYW1iaWd1aXR5LlxuICovXG5mdW5jdGlvbiBnZXREYXRlVUlEKGRhdGUsIGdyYW51bGFyaXR5ID0gXCJkYXlcIikge1xuICAgIGNvbnN0IHRzID0gZGF0ZS5jbG9uZSgpLnN0YXJ0T2YoZ3JhbnVsYXJpdHkpLmZvcm1hdCgpO1xuICAgIHJldHVybiBgJHtncmFudWxhcml0eX0tJHt0c31gO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXNjYXBlZENoYXJhY3RlcnMoZm9ybWF0KSB7XG4gICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXFtbXlxcXV0qXFxdL2csIFwiXCIpOyAvLyByZW1vdmUgZXZlcnl0aGluZyB3aXRoaW4gYnJhY2tldHNcbn1cbi8qKlxuICogWFhYOiBXaGVuIHBhcnNpbmcgZGF0ZXMgdGhhdCBjb250YWluIGJvdGggd2VlayBudW1iZXJzIGFuZCBtb250aHMsXG4gKiBNb21lbnQgY2hvc2VzIHRvIGlnbm9yZSB0aGUgd2VlayBudW1iZXJzLiBGb3IgdGhlIHdlZWsgZGF0ZVVJRCwgd2VcbiAqIHdhbnQgdGhlIG9wcG9zaXRlIGJlaGF2aW9yLiBTdHJpcCB0aGUgTU1NIGZyb20gdGhlIGZvcm1hdCB0byBwYXRjaC5cbiAqL1xuZnVuY3Rpb24gaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkge1xuICAgIGlmIChncmFudWxhcml0eSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICByZXR1cm4gKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSAmJlxuICAgICAgICAgICAgKC9NezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpIHx8IC9EezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tRmlsZShmaWxlLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGUuYmFzZW5hbWUsIGdyYW51bGFyaXR5KTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tUGF0aChwYXRoLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGJhc2VuYW1lKHBhdGgpLCBncmFudWxhcml0eSk7XG59XG5mdW5jdGlvbiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGVuYW1lLCBncmFudWxhcml0eSkge1xuICAgIGNvbnN0IGdldFNldHRpbmdzID0ge1xuICAgICAgICBkYXk6IGdldERhaWx5Tm90ZVNldHRpbmdzLFxuICAgICAgICB3ZWVrOiBnZXRXZWVrbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIG1vbnRoOiBnZXRNb250aGx5Tm90ZVNldHRpbmdzLFxuICAgICAgICBxdWFydGVyOiBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHllYXI6IGdldFllYXJseU5vdGVTZXR0aW5ncyxcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdCA9IGdldFNldHRpbmdzW2dyYW51bGFyaXR5XSgpLmZvcm1hdC5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgY29uc3Qgbm90ZURhdGUgPSB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBmb3JtYXQsIHRydWUpO1xuICAgIGlmICghbm90ZURhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkpIHtcbiAgICAgICAgaWYgKGdyYW51bGFyaXR5ID09PSBcIndlZWtcIikge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBcbiAgICAgICAgICAgICAgICAvLyBJZiBmb3JtYXQgY29udGFpbnMgd2VlaywgcmVtb3ZlIGRheSAmIG1vbnRoIGZvcm1hdHRpbmdcbiAgICAgICAgICAgICAgICBmb3JtYXQucmVwbGFjZSgvTXsxLDR9L2csIFwiXCIpLnJlcGxhY2UoL0R7MSw0fS9nLCBcIlwiKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3RlRGF0ZTtcbn1cblxuY2xhc3MgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBtaW1pY3MgdGhlIGJlaGF2aW9yIG9mIHRoZSBkYWlseS1ub3RlcyBwbHVnaW5cbiAqIHNvIGl0IHdpbGwgcmVwbGFjZSB7e2RhdGV9fSwge3t0aXRsZX19LCBhbmQge3t0aW1lfX0gd2l0aCB0aGVcbiAqIGZvcm1hdHRlZCB0aW1lc3RhbXAuXG4gKlxuICogTm90ZTogaXQgaGFzIGFuIGFkZGVkIGJvbnVzIHRoYXQgaXQncyBub3QgJ3RvZGF5JyBzcGVjaWZpYy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGFpbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCBhcHAgPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IGFwcDtcbiAgICBjb25zdCBtb21lbnQgPSB3aW5kb3cubW9tZW50O1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXREYWlseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIG1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBtb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnllc3RlcmRheVxccyp9fS9naSwgZGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsIFwiZGF5XCIpLmZvcm1hdChmb3JtYXQpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRvbW9ycm93XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuYWRkKDEsIFwiZFwiKS5mb3JtYXQoZm9ybWF0KSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBhcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXREYWlseU5vdGUoZGF0ZSwgZGFpbHlOb3Rlcykge1xuICAgIHJldHVybiBkYWlseU5vdGVzW2dldERhdGVVSUQoZGF0ZSwgXCJkYXlcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxEYWlseU5vdGVzKCkge1xuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIGRhaWx5IG5vdGVzIGluIHRoZSBkYWlseSBub3RlIGZvbGRlclxuICAgICAqL1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldERhaWx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgZGFpbHlOb3Rlc0ZvbGRlciA9IHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChvYnNpZGlhbi5ub3JtYWxpemVQYXRoKGZvbGRlcikpO1xuICAgIGlmICghZGFpbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIGRhaWx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgY29uc3QgZGFpbHlOb3RlcyA9IHt9O1xuICAgIG9ic2lkaWFuLlZhdWx0LnJlY3Vyc2VDaGlsZHJlbihkYWlseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwiZGF5XCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcImRheVwiKTtcbiAgICAgICAgICAgICAgICBkYWlseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYWlseU5vdGVzO1xufVxuXG5jbGFzcyBXZWVrbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmZ1bmN0aW9uIGdldERheXNPZldlZWsoKSB7XG4gICAgY29uc3QgeyBtb21lbnQgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCB3ZWVrU3RhcnQgPSBtb21lbnQubG9jYWxlRGF0YSgpLl93ZWVrLmRvdztcbiAgICBjb25zdCBkYXlzT2ZXZWVrID0gW1xuICAgICAgICBcInN1bmRheVwiLFxuICAgICAgICBcIm1vbmRheVwiLFxuICAgICAgICBcInR1ZXNkYXlcIixcbiAgICAgICAgXCJ3ZWRuZXNkYXlcIixcbiAgICAgICAgXCJ0aHVyc2RheVwiLFxuICAgICAgICBcImZyaWRheVwiLFxuICAgICAgICBcInNhdHVyZGF5XCIsXG4gICAgXTtcbiAgICB3aGlsZSAod2Vla1N0YXJ0KSB7XG4gICAgICAgIGRheXNPZldlZWsucHVzaChkYXlzT2ZXZWVrLnNoaWZ0KCkpO1xuICAgICAgICB3ZWVrU3RhcnQtLTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXNPZldlZWs7XG59XG5mdW5jdGlvbiBnZXREYXlPZldlZWtOdW1lcmljYWxWYWx1ZShkYXlPZldlZWtOYW1lKSB7XG4gICAgcmV0dXJuIGdldERheXNPZldlZWsoKS5pbmRleE9mKGRheU9mV2Vla05hbWUudG9Mb3dlckNhc2UoKSk7XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXZWVrbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRXZWVrbHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSlcXHMqOiguKj8pfX0vZ2ksIChfLCBkYXlPZldlZWssIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlLndlZWtkYXkoZGF5KS5mb3JtYXQobW9tZW50Rm9ybWF0LnRyaW0oKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFdlZWtseU5vdGUoZGF0ZSwgd2Vla2x5Tm90ZXMpIHtcbiAgICByZXR1cm4gd2Vla2x5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxXZWVrbHlOb3RlcygpIHtcbiAgICBjb25zdCB3ZWVrbHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gd2Vla2x5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFdlZWtseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHdlZWtseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF3ZWVrbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgV2Vla2x5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB3ZWVrbHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4od2Vla2x5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ3ZWVrXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIik7XG4gICAgICAgICAgICAgICAgd2Vla2x5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdlZWtseU5vdGVzO1xufVxuXG5jbGFzcyBNb250aGx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1vbnRobHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgW3RlbXBsYXRlQ29udGVudHMsIElGb2xkSW5mb10gPSBhd2FpdCBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gZGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IGF3YWl0IGdldE5vdGVQYXRoKGZvbGRlciwgZmlsZW5hbWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgdmF1bHQuY3JlYXRlKG5vcm1hbGl6ZWRQYXRoLCB0ZW1wbGF0ZUNvbnRlbnRzXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqKGRhdGV8dGltZSlcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSwgKF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBkYXRlLmNsb25lKCkuc2V0KHtcbiAgICAgICAgICAgICAgICBob3VyOiBub3cuZ2V0KFwiaG91clwiKSxcbiAgICAgICAgICAgICAgICBtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2FsYykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlLmFkZChwYXJzZUludCh0aW1lRGVsdGEsIDEwKSwgdW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9tZW50Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqZGF0ZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB3aW5kb3cuYXBwLmZvbGRNYW5hZ2VyLnNhdmUoY3JlYXRlZEZpbGUsIElGb2xkSW5mbyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVkRmlsZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGZpbGU6ICcke25vcm1hbGl6ZWRQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiVW5hYmxlIHRvIGNyZWF0ZSBuZXcgZmlsZS5cIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGUoZGF0ZSwgbW9udGhseU5vdGVzKSB7XG4gICAgcmV0dXJuIG1vbnRobHlOb3Rlc1tnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxNb250aGx5Tm90ZXMoKSB7XG4gICAgY29uc3QgbW9udGhseU5vdGVzID0ge307XG4gICAgaWYgKCFhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gbW9udGhseU5vdGVzO1xuICAgIH1cbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgbW9udGhseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFtb250aGx5Tm90ZXNGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1vbnRobHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIG1vbnRobHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4obW9udGhseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICAgICAgbW9udGhseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtb250aGx5Tm90ZXM7XG59XG5cbmNsYXNzIFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIG1pbWljcyB0aGUgYmVoYXZpb3Igb2YgdGhlIGRhaWx5LW5vdGVzIHBsdWdpblxuICogc28gaXQgd2lsbCByZXBsYWNlIHt7ZGF0ZX19LCB7e3RpdGxlfX0sIGFuZCB7e3RpbWV9fSB3aXRoIHRoZVxuICogZm9ybWF0dGVkIHRpbWVzdGFtcC5cbiAqXG4gKiBOb3RlOiBpdCBoYXMgYW4gYWRkZWQgYm9udXMgdGhhdCBpdCdzIG5vdCAndG9kYXknIHNwZWNpZmljLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVRdWFydGVybHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccypkYXRlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aW1lXFxzKn19L2dpLCB3aW5kb3cubW9tZW50KCkuZm9ybWF0KFwiSEg6bW1cIikpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGl0bGVcXHMqfX0vZ2ksIGZpbGVuYW1lKSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHdpbmRvdy5hcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRRdWFydGVybHlOb3RlKGRhdGUsIHF1YXJ0ZXJseSkge1xuICAgIHJldHVybiBxdWFydGVybHlbZ2V0RGF0ZVVJRChkYXRlLCBcInF1YXJ0ZXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxRdWFydGVybHlOb3RlcygpIHtcbiAgICBjb25zdCBxdWFydGVybHkgPSB7fTtcbiAgICBpZiAoIWFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHF1YXJ0ZXJseTtcbiAgICB9XG4gICAgY29uc3QgeyB2YXVsdCB9ID0gd2luZG93LmFwcDtcbiAgICBjb25zdCB7IGZvbGRlciB9ID0gZ2V0UXVhcnRlcmx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgcXVhcnRlcmx5Rm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFxdWFydGVybHlGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yKFwiRmFpbGVkIHRvIGZpbmQgcXVhcnRlcmx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgb2JzaWRpYW4uVmF1bHQucmVjdXJzZUNoaWxkcmVuKHF1YXJ0ZXJseUZvbGRlciwgKG5vdGUpID0+IHtcbiAgICAgICAgaWYgKG5vdGUgaW5zdGFuY2VvZiBvYnNpZGlhbi5URmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGdldERhdGVGcm9tRmlsZShub3RlLCBcInF1YXJ0ZXJcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwicXVhcnRlclwiKTtcbiAgICAgICAgICAgICAgICBxdWFydGVybHlbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1YXJ0ZXJseTtcbn1cblxuY2xhc3MgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVllYXJseU5vdGUoZGF0ZSkge1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyB0ZW1wbGF0ZSwgZm9ybWF0LCBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihkYXRlfHRpbWUpXFxzKigoWystXVxcZCspKFt5cW13ZGhzXSkpP1xccyooOi4rPyk/fX0vZ2ksIChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIHdpbmRvdy5tb21lbnQoKS5mb3JtYXQoXCJISDptbVwiKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFllYXJseU5vdGUoZGF0ZSwgeWVhcmx5Tm90ZXMpIHtcbiAgICByZXR1cm4geWVhcmx5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxZZWFybHlOb3RlcygpIHtcbiAgICBjb25zdCB5ZWFybHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4geWVhcmx5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHllYXJseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF5ZWFybHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB5ZWFybHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4oeWVhcmx5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ5ZWFyXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIik7XG4gICAgICAgICAgICAgICAgeWVhcmx5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHllYXJseU5vdGVzO1xufVxuXG5mdW5jdGlvbiBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkKCkge1xuICAgIGNvbnN0IHsgYXBwIH0gPSB3aW5kb3c7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBkYWlseU5vdGVzUGx1Z2luID0gYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zW1wiZGFpbHktbm90ZXNcIl07XG4gICAgaWYgKGRhaWx5Tm90ZXNQbHVnaW4gJiYgZGFpbHlOb3Rlc1BsdWdpbi5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5kYWlseT8uZW5hYmxlZDtcbn1cbi8qKlxuICogWFhYOiBcIldlZWtseSBOb3Rlc1wiIGxpdmUgaW4gZWl0aGVyIHRoZSBDYWxlbmRhciBwbHVnaW4gb3IgdGhlIHBlcmlvZGljLW5vdGVzIHBsdWdpbi5cbiAqIENoZWNrIGJvdGggdW50aWwgdGhlIHdlZWtseSBub3RlcyBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgQ2FsZW5kYXIgcGx1Z2luLlxuICovXG5mdW5jdGlvbiBhcHBIYXNXZWVrbHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaWYgKGFwcC5wbHVnaW5zLmdldFBsdWdpbihcImNhbGVuZGFyXCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy53ZWVrbHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5tb250aGx5Py5lbmFibGVkO1xufVxuZnVuY3Rpb24gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5xdWFydGVybHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNZZWFybHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGVyaW9kaWNOb3RlcyA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpO1xuICAgIHJldHVybiBwZXJpb2RpY05vdGVzICYmIHBlcmlvZGljTm90ZXMuc2V0dGluZ3M/LnllYXJseT8uZW5hYmxlZDtcbn1cbmZ1bmN0aW9uIGdldFBlcmlvZGljTm90ZVNldHRpbmdzKGdyYW51bGFyaXR5KSB7XG4gICAgY29uc3QgZ2V0U2V0dGluZ3MgPSB7XG4gICAgICAgIGRheTogZ2V0RGFpbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHdlZWs6IGdldFdlZWtseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgbW9udGg6IGdldE1vbnRobHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHF1YXJ0ZXI6IGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgeWVhcjogZ2V0WWVhcmx5Tm90ZVNldHRpbmdzLFxuICAgIH1bZ3JhbnVsYXJpdHldO1xuICAgIHJldHVybiBnZXRTZXR0aW5ncygpO1xufVxuZnVuY3Rpb24gY3JlYXRlUGVyaW9kaWNOb3RlKGdyYW51bGFyaXR5LCBkYXRlKSB7XG4gICAgY29uc3QgY3JlYXRlRm4gPSB7XG4gICAgICAgIGRheTogY3JlYXRlRGFpbHlOb3RlLFxuICAgICAgICBtb250aDogY3JlYXRlTW9udGhseU5vdGUsXG4gICAgICAgIHdlZWs6IGNyZWF0ZVdlZWtseU5vdGUsXG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlRm5bZ3JhbnVsYXJpdHldKGRhdGUpO1xufVxuXG5leHBvcnRzLkRFRkFVTFRfREFJTFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUO1xuZXhwb3J0cy5ERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfUVVBUlRFUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9RVUFSVEVSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfV0VFS0xZX05PVEVfRk9STUFUID0gREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9ZRUFSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLmFwcEhhc0RhaWx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkO1xuZXhwb3J0cy5hcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1dlZWtseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1llYXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmNyZWF0ZURhaWx5Tm90ZSA9IGNyZWF0ZURhaWx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlTW9udGhseU5vdGUgPSBjcmVhdGVNb250aGx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlUGVyaW9kaWNOb3RlID0gY3JlYXRlUGVyaW9kaWNOb3RlO1xuZXhwb3J0cy5jcmVhdGVRdWFydGVybHlOb3RlID0gY3JlYXRlUXVhcnRlcmx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlV2Vla2x5Tm90ZSA9IGNyZWF0ZVdlZWtseU5vdGU7XG5leHBvcnRzLmNyZWF0ZVllYXJseU5vdGUgPSBjcmVhdGVZZWFybHlOb3RlO1xuZXhwb3J0cy5nZXRBbGxEYWlseU5vdGVzID0gZ2V0QWxsRGFpbHlOb3RlcztcbmV4cG9ydHMuZ2V0QWxsTW9udGhseU5vdGVzID0gZ2V0QWxsTW9udGhseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxRdWFydGVybHlOb3RlcyA9IGdldEFsbFF1YXJ0ZXJseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxXZWVrbHlOb3RlcyA9IGdldEFsbFdlZWtseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxZZWFybHlOb3RlcyA9IGdldEFsbFllYXJseU5vdGVzO1xuZXhwb3J0cy5nZXREYWlseU5vdGUgPSBnZXREYWlseU5vdGU7XG5leHBvcnRzLmdldERhaWx5Tm90ZVNldHRpbmdzID0gZ2V0RGFpbHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldERhdGVGcm9tRmlsZSA9IGdldERhdGVGcm9tRmlsZTtcbmV4cG9ydHMuZ2V0RGF0ZUZyb21QYXRoID0gZ2V0RGF0ZUZyb21QYXRoO1xuZXhwb3J0cy5nZXREYXRlVUlEID0gZ2V0RGF0ZVVJRDtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGUgPSBnZXRNb250aGx5Tm90ZTtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGVTZXR0aW5ncyA9IGdldE1vbnRobHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFBlcmlvZGljTm90ZVNldHRpbmdzID0gZ2V0UGVyaW9kaWNOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFF1YXJ0ZXJseU5vdGUgPSBnZXRRdWFydGVybHlOb3RlO1xuZXhwb3J0cy5nZXRRdWFydGVybHlOb3RlU2V0dGluZ3MgPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFRlbXBsYXRlSW5mbyA9IGdldFRlbXBsYXRlSW5mbztcbmV4cG9ydHMuZ2V0V2Vla2x5Tm90ZSA9IGdldFdlZWtseU5vdGU7XG5leHBvcnRzLmdldFdlZWtseU5vdGVTZXR0aW5ncyA9IGdldFdlZWtseU5vdGVTZXR0aW5ncztcbmV4cG9ydHMuZ2V0WWVhcmx5Tm90ZSA9IGdldFllYXJseU5vdGU7XG5leHBvcnRzLmdldFllYXJseU5vdGVTZXR0aW5ncyA9IGdldFllYXJseU5vdGVTZXR0aW5ncztcbiIsICIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMjkuNFxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGhvb2tDYWxsYmFjaztcblxuICAgIGZ1bmN0aW9uIGhvb2tzKCkge1xuICAgICAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbiAgICAvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICBmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fFxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgICAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpbnB1dCAhPSBudWxsICYmXG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoID09PSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGs7XG4gICAgICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBrKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGFyckxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnJMZW47ICsraSkge1xuICAgICAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgICAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVtcHR5OiBmYWxzZSxcbiAgICAgICAgICAgIHVudXNlZFRva2VuczogW10sXG4gICAgICAgICAgICB1bnVzZWRJbnB1dDogW10sXG4gICAgICAgICAgICBvdmVyZmxvdzogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0OiBmYWxzZSxcbiAgICAgICAgICAgIGludmFsaWRFcmE6IG51bGwsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGg6IG51bGwsXG4gICAgICAgICAgICBpbnZhbGlkRm9ybWF0OiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXJJbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpc286IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzOiBbXSxcbiAgICAgICAgICAgIGVyYTogbnVsbCxcbiAgICAgICAgICAgIG1lcmlkaWVtOiBudWxsLFxuICAgICAgICAgICAgcmZjMjgyMjogZmFsc2UsXG4gICAgICAgICAgICB3ZWVrZGF5TWlzbWF0Y2g6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5fcGY7XG4gICAgfVxuXG4gICAgdmFyIHNvbWU7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyksXG4gICAgICAgICAgICAgICAgbGVuID0gdC5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICAgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pLFxuICAgICAgICAgICAgICAgIHBhcnNlZFBhcnRzID0gc29tZS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID1cbiAgICAgICAgICAgICAgICAgICAgIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG4gICAgICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRXJhICYmXG4gICAgICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAgICAgICAgICFmbGFncy53ZWVrZGF5TWlzbWF0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgICAgICAgICAhZmxhZ3MudXNlckludmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID1cbiAgICAgICAgICAgICAgICAgICAgaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkKGZsYWdzKSB7XG4gICAgICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbiAgICAvLyBzbyB3ZSBjYW4gcHJvcGVybHkgY2xvbmUgb3Vyc2VsdmVzLlxuICAgIHZhciBtb21lbnRQcm9wZXJ0aWVzID0gKGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXSksXG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBwcm9wLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgbW9tZW50UHJvcGVydGllc0xlbiA9IG1vbWVudFByb3BlcnRpZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9tZW50UHJvcGVydGllc0xlbiA+IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuXG4gICAgLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbiAgICBmdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAgICAgLy8gb2JqZWN0cy5cbiAgICAgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTW9tZW50KG9iaikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGFyZ0xlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGFyZ3VtZW50c1swXSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgICAgICAgIG1zZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuQXJndW1lbnRzOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0eXBlb2YgRnVuY3Rpb24gIT09ICd1bmRlZmluZWQnICYmIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY29uZmlnLCBpKSkge1xuICAgICAgICAgICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgK1xuICAgICAgICAgICAgICAgIC9cXGR7MSwyfS8uc291cmNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICAgICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSxcbiAgICAgICAgICAgIHByb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cztcblxuICAgIGlmIChPYmplY3Qua2V5cykge1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIHJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5OiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXk6ICdbVG9tb3Jyb3cgYXRdIExUJyxcbiAgICAgICAgbmV4dFdlZWs6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5OiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlazogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuICAgICAgICBzYW1lRWxzZTogJ0wnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxlbmRhcihrZXksIG1vbSwgbm93KSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICAgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgK1xuICAgICAgICAgICAgYWJzTnVtYmVyXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdHRpbmdUb2tlbnMgPVxuICAgICAgICAgICAgLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xOezEsNX18WVlZWVlZfFlZWVlZfFlZWVl8WVl8eXsyLDR9fHlvP3xnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZyxcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZyxcbiAgICAgICAgZm9ybWF0RnVuY3Rpb25zID0ge30sXG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4odG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKFxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgIHRva2VuXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJyxcbiAgICAgICAgICAgICAgICBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IGlzRnVuY3Rpb24oYXJyYXlbaV0pXG4gICAgICAgICAgICAgICAgICAgID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgOiBhcnJheVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG4gICAgZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPVxuICAgICAgICAgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgICAgICB2YXIgaSA9IDU7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTOiAnaDptbTpzcyBBJyxcbiAgICAgICAgTFQ6ICdoOm1tIEEnLFxuICAgICAgICBMOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgICAgIExMTEw6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXJcbiAgICAgICAgICAgIC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodG9rKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0b2sgPT09ICdNTU1NJyB8fFxuICAgICAgICAgICAgICAgICAgICB0b2sgPT09ICdNTScgfHxcbiAgICAgICAgICAgICAgICAgICAgdG9rID09PSAnREQnIHx8XG4gICAgICAgICAgICAgICAgICAgIHRvayA9PT0gJ2RkZGQnXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2suc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0b2s7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJyxcbiAgICAgICAgZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG4gICAgZnVuY3Rpb24gb3JkaW5hbChudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgICAgICBmdXR1cmU6ICdpbiAlcycsXG4gICAgICAgIHBhc3Q6ICclcyBhZ28nLFxuICAgICAgICBzOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgICAgIHNzOiAnJWQgc2Vjb25kcycsXG4gICAgICAgIG06ICdhIG1pbnV0ZScsXG4gICAgICAgIG1tOiAnJWQgbWludXRlcycsXG4gICAgICAgIGg6ICdhbiBob3VyJyxcbiAgICAgICAgaGg6ICclZCBob3VycycsXG4gICAgICAgIGQ6ICdhIGRheScsXG4gICAgICAgIGRkOiAnJWQgZGF5cycsXG4gICAgICAgIHc6ICdhIHdlZWsnLFxuICAgICAgICB3dzogJyVkIHdlZWtzJyxcbiAgICAgICAgTTogJ2EgbW9udGgnLFxuICAgICAgICBNTTogJyVkIG1vbnRocycsXG4gICAgICAgIHk6ICdhIHllYXInLFxuICAgICAgICB5eTogJyVkIHllYXJzJyxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dClcbiAgICAgICAgICAgID8gb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSlcbiAgICAgICAgICAgIDogb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZShkaWZmLCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIGFsaWFzZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICAgICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbiAgICB9XG5cbiAgICB2YXIgcHJpb3JpdGllcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgICAgIHZhciB1bml0cyA9IFtdLFxuICAgICAgICAgICAgdTtcbiAgICAgICAgZm9yICh1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcCh1bml0c09iaiwgdSkpIHtcbiAgICAgICAgICAgICAgICB1bml0cy5wdXNoKHsgdW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVuaXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgICAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJzRmxvb3IobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldFNldCh1bml0LCBrZWVwVGltZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldChtb20sIHVuaXQpIHtcbiAgICAgICAgcmV0dXJuIG1vbS5pc1ZhbGlkKClcbiAgICAgICAgICAgID8gbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKClcbiAgICAgICAgICAgIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCQxKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG1vbS5pc1ZhbGlkKCkgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHVuaXQgPT09ICdGdWxsWWVhcicgJiZcbiAgICAgICAgICAgICAgICBpc0xlYXBZZWFyKG1vbS55ZWFyKCkpICYmXG4gICAgICAgICAgICAgICAgbW9tLm1vbnRoKCkgPT09IDEgJiZcbiAgICAgICAgICAgICAgICBtb20uZGF0ZSgpID09PSAyOVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbW9tLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIGRheXNJbk1vbnRoKHZhbHVlLCBtb20ubW9udGgoKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc3RyaW5nR2V0KHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cmluZ1NldCh1bml0cywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyksXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBwcmlvcml0aXplZExlbiA9IHByaW9yaXRpemVkLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcmlvcml0aXplZExlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSA9IC9cXGQvLCAvLyAgICAgICAwIC0gOVxuICAgICAgICBtYXRjaDIgPSAvXFxkXFxkLywgLy8gICAgICAwMCAtIDk5XG4gICAgICAgIG1hdGNoMyA9IC9cXGR7M30vLCAvLyAgICAgMDAwIC0gOTk5XG4gICAgICAgIG1hdGNoNCA9IC9cXGR7NH0vLCAvLyAgICAwMDAwIC0gOTk5OVxuICAgICAgICBtYXRjaDYgPSAvWystXT9cXGR7Nn0vLCAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoMXRvMiA9IC9cXGRcXGQ/LywgLy8gICAgICAgMCAtIDk5XG4gICAgICAgIG1hdGNoM3RvNCA9IC9cXGRcXGRcXGRcXGQ/LywgLy8gICAgIDk5OSAtIDk5OTlcbiAgICAgICAgbWF0Y2g1dG82ID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vLCAvLyAgIDk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoMXRvMyA9IC9cXGR7MSwzfS8sIC8vICAgICAgIDAgLSA5OTlcbiAgICAgICAgbWF0Y2gxdG80ID0gL1xcZHsxLDR9LywgLy8gICAgICAgMCAtIDk5OTlcbiAgICAgICAgbWF0Y2gxdG82ID0gL1srLV0/XFxkezEsNn0vLCAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgICAgIG1hdGNoVW5zaWduZWQgPSAvXFxkKy8sIC8vICAgICAgIDAgLSBpbmZcbiAgICAgICAgbWF0Y2hTaWduZWQgPSAvWystXT9cXGQrLywgLy8gICAgLWluZiAtIGluZlxuICAgICAgICBtYXRjaE9mZnNldCA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naSwgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG4gICAgICAgIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naSwgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbiAgICAgICAgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vLCAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuICAgICAgICAvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cbiAgICAgICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgICAgICBtYXRjaFdvcmQgPVxuICAgICAgICAgICAgL1swLTldezAsMjU2fVsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRjA3XFx1RkYxMC1cXHVGRkVGXXsxLDI1Nn18W1xcdTA2MDAtXFx1MDZGRlxcL117MSwyNTZ9KFxccyo/W1xcdTA2MDAtXFx1MDZGRl17MSwyNTZ9KXsxLDJ9L2ksXG4gICAgICAgIHJlZ2V4ZXM7XG5cbiAgICByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRSZWdleFRva2VuKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICAgICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KVxuICAgICAgICAgICAgPyByZWdleFxuICAgICAgICAgICAgOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpc1N0cmljdCAmJiBzdHJpY3RSZWdleCA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgICAgICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuICAgIH1cblxuICAgIC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgICAgIHJldHVybiByZWdleEVzY2FwZShcbiAgICAgICAgICAgIHNcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnXFxcXCcsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHZhciB0b2tlbnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgZnVuYyA9IGNhbGxiYWNrLFxuICAgICAgICAgICAgdG9rZW5MZW47XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRva2VuTGVuID0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5MZW47IGkrKykge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbih0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgWUVBUiA9IDAsXG4gICAgICAgIE1PTlRIID0gMSxcbiAgICAgICAgREFURSA9IDIsXG4gICAgICAgIEhPVVIgPSAzLFxuICAgICAgICBNSU5VVEUgPSA0LFxuICAgICAgICBTRUNPTkQgPSA1LFxuICAgICAgICBNSUxMSVNFQ09ORCA9IDYsXG4gICAgICAgIFdFRUsgPSA3LFxuICAgICAgICBXRUVLREFZID0gODtcblxuICAgIGZ1bmN0aW9uIG1vZChuLCB4KSB7XG4gICAgICAgIHJldHVybiAoKG4gJSB4KSArIHgpICUgeDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXhPZjtcblxuICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgICAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgICAgaWYgKGlzTmFOKHllYXIpIHx8IGlzTmFOKG1vbnRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kTW9udGggPSBtb2QobW9udGgsIDEyKTtcbiAgICAgICAgeWVhciArPSAobW9udGggLSBtb2RNb250aCkgLyAxMjtcbiAgICAgICAgcmV0dXJuIG1vZE1vbnRoID09PSAxXG4gICAgICAgICAgICA/IGlzTGVhcFllYXIoeWVhcilcbiAgICAgICAgICAgICAgICA/IDI5XG4gICAgICAgICAgICAgICAgOiAyOFxuICAgICAgICAgICAgOiAzMSAtICgobW9kTW9udGggJSA3KSAlIDIpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignTScsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tb250aHNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tb250aHNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9XG4gICAgICAgICAgICAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoXG4gICAgICAgICAgICAgICAgJ18nXG4gICAgICAgICAgICApLFxuICAgICAgICBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPVxuICAgICAgICAgICAgJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpLFxuICAgICAgICBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vLFxuICAgICAgICBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZCxcbiAgICAgICAgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzKG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocylcbiAgICAgICAgICAgICAgICA/IHRoaXMuX21vbnRoc1xuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzWydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKVxuICAgICAgICAgICAgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXVxuICAgICAgICAgICAgOiB0aGlzLl9tb250aHNbXG4gICAgICAgICAgICAgICAgICAodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KVxuICAgICAgICAgICAgICAgICAgICAgID8gJ2Zvcm1hdCdcbiAgICAgICAgICAgICAgICAgICAgICA6ICdzdGFuZGFsb25lJ1xuICAgICAgICAgICAgICBdW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTaG9ydFxuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzU2hvcnRbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydClcbiAgICAgICAgICAgID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXVxuICAgICAgICAgICAgOiB0aGlzLl9tb250aHNTaG9ydFtcbiAgICAgICAgICAgICAgICAgIE1PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSdcbiAgICAgICAgICAgICAgXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBpaSxcbiAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KFxuICAgICAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsXG4gICAgICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgICAgICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTU0nICYmXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ01NTScgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzZXRNb250aChtb20sIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl9tb250aHNTdHJpY3RSZWdleFxuICAgICAgICAgICAgICAgIDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbG9uZ1BpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJyxcbiAgICAgICAgICAgICdpJ1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICAgICAnaSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICAgICAgcmV0dXJuIHkgPD0gOTk5OSA/IHplcm9GaWxsKHksIDQpIDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCA0XSwgMCwgJ3llYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgNV0sIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID1cbiAgICAgICAgICAgIGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICBob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xuICAgIH07XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbiAgICBmdW5jdGlvbiBnZXRJc0xlYXBZZWFyKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgICAgICAvLyBjYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE4MTM0OFxuICAgICAgICB2YXIgZGF0ZTtcbiAgICAgICAgLy8gdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ICsgNDAwLCBtLCBkLCBoLCBNLCBzLCBtcyk7XG4gICAgICAgICAgICBpZiAoaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSh5KSB7XG4gICAgICAgIHZhciBkYXRlLCBhcmdzO1xuICAgICAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgYXJnc1swXSA9IHkgKyA0MDA7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLFxuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyO1xuXG4gICAgICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuICAgICAgICAgICAgcmVzV2VlayxcbiAgICAgICAgICAgIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICAgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3cnLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oXG4gICAgICAgIFsndycsICd3dycsICdXJywgJ1dXJ10sXG4gICAgICAgIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWsobW9tKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICAgICAgZG93OiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95OiA2LCAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiA2dGggaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrKGlucHV0KSB7XG4gICAgICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWsoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdkJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdlJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdFJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdkZCcsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG4gICAgYWRkUmVnZXhUb2tlbignZGRkJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbiAgICB9XG5cbiAgICAvLyBMT0NBTEVTXG4gICAgZnVuY3Rpb24gc2hpZnRXZWVrZGF5cyh3cywgbikge1xuICAgICAgICByZXR1cm4gd3Muc2xpY2UobiwgNykuY29uY2F0KHdzLnNsaWNlKDAsIG4pKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID1cbiAgICAgICAgICAgICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKSxcbiAgICAgICAgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpLFxuICAgICAgICBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyksXG4gICAgICAgIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgICAgICBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkLFxuICAgICAgICBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzKG0sIGZvcm1hdCkge1xuICAgICAgICB2YXIgd2Vla2RheXMgPSBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKVxuICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1xuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1tcbiAgICAgICAgICAgICAgICAgIG0gJiYgbSAhPT0gdHJ1ZSAmJiB0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgICA/ICdmb3JtYXQnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnc3RhbmRhbG9uZSdcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgICAgID8gc2hpZnRXZWVrZGF5cyh3ZWVrZGF5cywgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gd2Vla2RheXNbbS5kYXkoKV1cbiAgICAgICAgICAgIDogd2Vla2RheXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydChtKSB7XG4gICAgICAgIHJldHVybiBtID09PSB0cnVlXG4gICAgICAgICAgICA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXVxuICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluKG0pIHtcbiAgICAgICAgcmV0dXJuIG0gPT09IHRydWVcbiAgICAgICAgICAgID8gc2hpZnRXZWVrZGF5cyh0aGlzLl93ZWVrZGF5c01pbiwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IG1cbiAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV1cbiAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBpaSxcbiAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4oXG4gICAgICAgICAgICAgICAgICAgIG1vbSxcbiAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICApLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KFxuICAgICAgICAgICAgICAgICAgICBtb20sXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICAgICAgJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgICAgICdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLFxuICAgICAgICAgICAgICAgICAgICAnaSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsXG4gICAgICAgICAgICAgICAgICAgICdpJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICAgICAgICAgICdeJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheXMobW9tLCAnJykgK1xuICAgICAgICAgICAgICAgICAgICAnfF4nICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICtcbiAgICAgICAgICAgICAgICAgICAgJ3xeJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RyaWN0ICYmXG4gICAgICAgICAgICAgICAgZm9ybWF0ID09PSAnZGRkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHN0cmljdCAmJlxuICAgICAgICAgICAgICAgIGZvcm1hdCA9PT0gJ2RkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBzdHJpY3QgJiZcbiAgICAgICAgICAgICAgICBmb3JtYXQgPT09ICdkZCcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdlZWtkYXlzUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4XG4gICAgICAgICAgICAgICAgOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdFxuICAgICAgICAgICAgICAgID8gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleFxuICAgICAgICAgICAgICAgIDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlKCkge1xuICAgICAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluUGllY2VzID0gW10sXG4gICAgICAgICAgICBzaG9ydFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbG9uZ1BpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBtb20sXG4gICAgICAgICAgICBtaW5wLFxuICAgICAgICAgICAgc2hvcnRwLFxuICAgICAgICAgICAgbG9uZ3A7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgbWlucCA9IHJlZ2V4RXNjYXBlKHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykpO1xuICAgICAgICAgICAgc2hvcnRwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdwID0gcmVnZXhFc2NhcGUodGhpcy53ZWVrZGF5cyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICAgICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAgICAgJ2knXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLFxuICAgICAgICAgICAgJ2knXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICAgICAnaSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICcnICtcbiAgICAgICAgICAgIGhGb3JtYXQuYXBwbHkodGhpcykgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKVxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJycgK1xuICAgICAgICAgICAgdGhpcy5ob3VycygpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMilcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbShcbiAgICAgICAgICAgICAgICB0aGlzLmhvdXJzKCksXG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVzKCksXG4gICAgICAgICAgICAgICAgbG93ZXJjYXNlXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtZXJpZGllbSgnYScsIHRydWUpO1xuICAgIG1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgZnVuY3Rpb24gbWF0Y2hNZXJpZGllbShpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0EnLCBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdIJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdrJywgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdraycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2snLCAna2snXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGFycmF5W0hPVVJdID0ga0lucHV0ID09PSAyNCA/IDAgOiBrSW5wdXQ7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNCxcbiAgICAgICAgICAgIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQsXG4gICAgICAgICAgICBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICAgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaSxcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG4gICAgICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgICAgIC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuICAgICAgICAvLyB0aGlzIHJ1bGUuXG4gICAgICAgIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG4gICAgICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSxcbiAgICAgICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICAgICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgICAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgICAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgICAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgICAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgICAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSxcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge30sXG4gICAgICAgIGxvY2FsZUZhbWlsaWVzID0ge30sXG4gICAgICAgIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIGNvbW1vblByZWZpeChhcnIxLCBhcnIyKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbWlubCA9IE1hdGgubWluKGFycjEubGVuZ3RoLCBhcnIyLmxlbmd0aCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtaW5sOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmIChhcnIxW2ldICE9PSBhcnIyW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbmw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG4gICAgfVxuXG4gICAgLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4gICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG4gICAgZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAmJlxuICAgICAgICAgICAgICAgICAgICBuZXh0Lmxlbmd0aCA+PSBqICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vblByZWZpeChzcGxpdCwgbmV4dCkgPj0gaiAtIDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMb2NhbGVOYW1lU2FuZShuYW1lKSB7XG4gICAgICAgIC8vIFByZXZlbnQgbmFtZXMgdGhhdCBsb29rIGxpa2UgZmlsZXN5c3RlbSBwYXRocywgaS5lIGNvbnRhaW4gJy8nIG9yICdcXCdcbiAgICAgICAgcmV0dXJuIG5hbWUubWF0Y2goJ15bXi9cXFxcXFxcXF0qJCcpICE9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsLFxuICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmU7XG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJlxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgJiZcbiAgICAgICAgICAgIGlzTG9jYWxlTmFtZVNhbmUobmFtZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIG5vdCBmb3VuZCB0byBhdm9pZCByZXBlYXRpbmcgZXhwZW5zaXZlIGZpbGUgcmVxdWlyZSBjYWxsIGNhdXNpbmcgaGlnaCBDUFVcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRyeWluZyB0byBmaW5kIGVuLVVTLCBlbl9VUywgZW4tdXMgZm9yIGV2ZXJ5IGZvcm1hdCBjYWxsXG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG51bGw7IC8vIG51bGwgbWVhbnMgbm90IGZvdW5kXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4gICAgLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbiAgICAvLyBsb2NhbGUga2V5LlxuICAgIGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZShrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vd2FybiB1c2VyIGlmIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGJ1dCB0aGUgbG9jYWxlIGNvdWxkIG5vdCBiZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0xvY2FsZSAnICsga2V5ICsgJyBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIGxvYWQgaXQ/J1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlLFxuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKFxuICAgICAgICAgICAgICAgICAgICAnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuICAgICAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGNvbmZpZy5wYXJlbnRMb2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZS5fY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXG4gICAgICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSxcbiAgICAgICAgICAgICAgICB0bXBMb2NhbGUsXG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcblxuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCAmJiBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGNoaWxkIGxvY2FsZSBpbi1wbGFjZSB0byBhdm9pZCBtZW1vcnktbGVha3NcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdLnNldChtZXJnZUNvbmZpZ3MobG9jYWxlc1tuYW1lXS5fY29uZmlnLCBjb25maWcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0bXBMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBpZiAodG1wTG9jYWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlTG9jYWxlIGlzIGNhbGxlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBhYmJyIHNvIGl0IHdpbGwgaGF2ZSBhIG5hbWUgKGdldHRlcnMgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvdGhlcndpc2UpLlxuICAgICAgICAgICAgICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gZ2V0U2V0R2xvYmFsTG9jYWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyhtKSB7XG4gICAgICAgIHZhciBvdmVyZmxvdyxcbiAgICAgICAgICAgIGEgPSBtLl9hO1xuXG4gICAgICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgICAgICBhW01PTlRIXSA8IDAgfHwgYVtNT05USF0gPiAxMVxuICAgICAgICAgICAgICAgICAgICA/IE1PTlRIXG4gICAgICAgICAgICAgICAgICAgIDogYVtEQVRFXSA8IDEgfHwgYVtEQVRFXSA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKVxuICAgICAgICAgICAgICAgICAgICA/IERBVEVcbiAgICAgICAgICAgICAgICAgICAgOiBhW0hPVVJdIDwgMCB8fFxuICAgICAgICAgICAgICAgICAgICAgIGFbSE9VUl0gPiAyNCB8fFxuICAgICAgICAgICAgICAgICAgICAgIChhW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoYVtNSU5VVEVdICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW1NFQ09ORF0gIT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdICE9PSAwKSlcbiAgICAgICAgICAgICAgICAgICAgPyBIT1VSXG4gICAgICAgICAgICAgICAgICAgIDogYVtNSU5VVEVdIDwgMCB8fCBhW01JTlVURV0gPiA1OVxuICAgICAgICAgICAgICAgICAgICA/IE1JTlVURVxuICAgICAgICAgICAgICAgICAgICA6IGFbU0VDT05EXSA8IDAgfHwgYVtTRUNPTkRdID4gNTlcbiAgICAgICAgICAgICAgICAgICAgPyBTRUNPTkRcbiAgICAgICAgICAgICAgICAgICAgOiBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTlcbiAgICAgICAgICAgICAgICAgICAgPyBNSUxMSVNFQ09ORFxuICAgICAgICAgICAgICAgICAgICA6IC0xO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJlxuICAgICAgICAgICAgICAgIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIGlzbyA4NjAxIHJlZ2V4XG4gICAgLy8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG4gICAgdmFyIGV4dGVuZGVkSXNvUmVnZXggPVxuICAgICAgICAgICAgL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoWystXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC8sXG4gICAgICAgIGJhc2ljSXNvUmVnZXggPVxuICAgICAgICAgICAgL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZHwpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbKy1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLyxcbiAgICAgICAgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LyxcbiAgICAgICAgaXNvRGF0ZXMgPSBbXG4gICAgICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgICAgICAgICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgICAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICAgICAgICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgICAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgICAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgICAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgICAgICAgICBbJ1lZWVlEREQnLCAvXFxkezd9L10sXG4gICAgICAgICAgICBbJ1lZWVlNTScsIC9cXGR7Nn0vLCBmYWxzZV0sXG4gICAgICAgICAgICBbJ1lZWVknLCAvXFxkezR9LywgZmFsc2VdLFxuICAgICAgICBdLFxuICAgICAgICAvLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG4gICAgICAgIGlzb1RpbWVzID0gW1xuICAgICAgICAgICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgICAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgICAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG4gICAgICAgICAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgICAgIFsnSEgnLCAvXFxkXFxkL10sXG4gICAgICAgIF0sXG4gICAgICAgIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoLT9cXGQrKS9pLFxuICAgICAgICAvLyBSRkMgMjgyMiByZWdleDogRm9yIGRldGFpbHMgc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMyODIyI3NlY3Rpb24tMy4zXG4gICAgICAgIHJmYzI4MjIgPVxuICAgICAgICAgICAgL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLyxcbiAgICAgICAgb2JzT2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIFVUOiAwLFxuICAgICAgICAgICAgR01UOiAwLFxuICAgICAgICAgICAgRURUOiAtNCAqIDYwLFxuICAgICAgICAgICAgRVNUOiAtNSAqIDYwLFxuICAgICAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICAgICAgQ1NUOiAtNiAqIDYwLFxuICAgICAgICAgICAgTURUOiAtNiAqIDYwLFxuICAgICAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICAgICAgUERUOiAtNyAqIDYwLFxuICAgICAgICAgICAgUFNUOiAtOCAqIDYwLFxuICAgICAgICB9O1xuXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLFxuICAgICAgICAgICAgZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgIHRpbWVGb3JtYXQsXG4gICAgICAgICAgICB0ekZvcm1hdCxcbiAgICAgICAgICAgIGlzb0RhdGVzTGVuID0gaXNvRGF0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgaXNvVGltZXNMZW4gPSBpc29UaW1lcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb0RhdGVzTGVuOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzTGVuOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhcbiAgICAgICAgeWVhclN0cixcbiAgICAgICAgbW9udGhTdHIsXG4gICAgICAgIGRheVN0cixcbiAgICAgICAgaG91clN0cixcbiAgICAgICAgbWludXRlU3RyLFxuICAgICAgICBzZWNvbmRTdHJcbiAgICApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKSxcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoc2Vjb25kU3RyKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpIHtcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XG4gICAgICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgICAgICByZXR1cm4gMjAwMCArIHllYXI7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWVhcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgIHJldHVybiBzXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwoW14oKV0qXFwpfFtcXG5cXHRdL2csICcgJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHNcXHMqLywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tXZWVrZGF5KHdlZWtkYXlTdHIsIHBhcnNlZElucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKHdlZWtkYXlTdHIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVuZGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgICAgIHZhciB3ZWVrZGF5UHJvdmlkZWQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydC5pbmRleE9mKHdlZWtkYXlTdHIpLFxuICAgICAgICAgICAgICAgIHdlZWtkYXlBY3R1YWwgPSBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkSW5wdXRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZElucHV0WzFdLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRJbnB1dFsyXVxuICAgICAgICAgICAgICAgICkuZ2V0RGF5KCk7XG4gICAgICAgICAgICBpZiAod2Vla2RheVByb3ZpZGVkICE9PSB3ZWVrZGF5QWN0dWFsKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KG9ic09mZnNldCwgbWlsaXRhcnlPZmZzZXQsIG51bU9mZnNldCkge1xuICAgICAgICBpZiAob2JzT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzT2Zmc2V0c1tvYnNPZmZzZXRdO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbGl0YXJ5T2Zmc2V0KSB7XG4gICAgICAgICAgICAvLyB0aGUgb25seSBhbGxvd2VkIG1pbGl0YXJ5IHR6IGlzIFpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGhtID0gcGFyc2VJbnQobnVtT2Zmc2V0LCAxMCksXG4gICAgICAgICAgICAgICAgbSA9IGhtICUgMTAwLFxuICAgICAgICAgICAgICAgIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgICAgIHJldHVybiBoICogNjAgKyBtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSksXG4gICAgICAgICAgICBwYXJzZWRBcnJheTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBwYXJzZWRBcnJheSA9IGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoXG4gICAgICAgICAgICAgICAgbWF0Y2hbNF0sXG4gICAgICAgICAgICAgICAgbWF0Y2hbM10sXG4gICAgICAgICAgICAgICAgbWF0Y2hbMl0sXG4gICAgICAgICAgICAgICAgbWF0Y2hbNV0sXG4gICAgICAgICAgICAgICAgbWF0Y2hbNl0sXG4gICAgICAgICAgICAgICAgbWF0Y2hbN11cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIWNoZWNrV2Vla2RheShtYXRjaFsxXSwgcGFyc2VkQXJyYXksIGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IHBhcnNlZEFycmF5O1xuICAgICAgICAgICAgY29uZmlnLl90em0gPSBjYWxjdWxhdGVPZmZzZXQobWF0Y2hbOF0sIG1hdGNoWzldLCBtYXRjaFsxMF0pO1xuXG4gICAgICAgICAgICBjb25maWcuX2QgPSBjcmVhdGVVVENEYXRlLmFwcGx5KG51bGwsIGNvbmZpZy5fYSk7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5yZmMyODIyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIDEpIEFTUC5ORVQsIDIpIElTTywgMykgUkZDIDI4MjIgZm9ybWF0cywgb3IgNCkgb3B0aW9uYWwgZmFsbGJhY2sgaWYgcGFyc2luZyBpc24ndCBzdHJpY3RcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG4gICAgICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9zdHJpY3QpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gUkZDMjgyMi9JU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAgICAgICAgICdkaXNjb3VyYWdlZC4gUGxlYXNlIHJlZmVyIHRvIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuICAgICAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgICAgICAgICBub3dWYWx1ZS5nZXRVVENEYXRlKCksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbiAgICAvLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuICAgIC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuICAgIC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgaW5wdXQgPSBbXSxcbiAgICAgICAgICAgIGN1cnJlbnREYXRlLFxuICAgICAgICAgICAgZXhwZWN0ZWRXZWVrZGF5LFxuICAgICAgICAgICAgeWVhclRvVXNlO1xuXG4gICAgICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciAhPSBudWxsKSB7XG4gICAgICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpIHx8XG4gICAgICAgICAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPT09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID1cbiAgICAgICAgICAgICAgICBjb25maWcuX2FbaV0gPT0gbnVsbCA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICApO1xuICAgICAgICBleHBlY3RlZFdlZWtkYXkgPSBjb25maWcuX3VzZVVUQ1xuICAgICAgICAgICAgPyBjb25maWcuX2QuZ2V0VVRDRGF5KClcbiAgICAgICAgICAgIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX3cgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fdy5kICE9PSBleHBlY3RlZFdlZWtkYXlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3csIGN1cldlZWs7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyhcbiAgICAgICAgICAgICAgICB3LkdHLFxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSxcbiAgICAgICAgICAgICAgICB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICAgICAgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblxuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2lubmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuICAgIGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgUkZDIDI4MjIgZm9ybVxuICAgIGhvb2tzLlJGQ18yODIyID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5SRkNfMjgyMikge1xuICAgICAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2EgPSBbXTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBwYXJzZWRJbnB1dCxcbiAgICAgICAgICAgIHRva2VucyxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgc2tpcHBlZCxcbiAgICAgICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMCxcbiAgICAgICAgICAgIGVyYSxcbiAgICAgICAgICAgIHRva2VuTGVuO1xuXG4gICAgICAgIHRva2VucyA9XG4gICAgICAgICAgICBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG4gICAgICAgIHRva2VuTGVuID0gdG9rZW5zLmxlbmd0aDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2VuTGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHxcbiAgICAgICAgICAgICAgICBbXSlbMF07XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPVxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoXG4gICAgICAgICAgICBjb25maWcuX2xvY2FsZSxcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSxcbiAgICAgICAgICAgIGNvbmZpZy5fbWVyaWRpZW1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBoYW5kbGUgZXJhXG4gICAgICAgIGVyYSA9IGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVyYTtcbiAgICAgICAgaWYgKGVyYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gY29uZmlnLl9sb2NhbGUuZXJhc0NvbnZlcnRZZWFyKGVyYSwgY29uZmlnLl9hW1lFQVJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcbiAgICAgICAgdmFyIGlzUG07XG5cbiAgICAgICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgICAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgICAgIGJlc3RNb21lbnQsXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUsXG4gICAgICAgICAgICB2YWxpZEZvcm1hdEZvdW5kLFxuICAgICAgICAgICAgYmVzdEZvcm1hdElzVmFsaWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ2ZMZW4gPSBjb25maWcuX2YubGVuZ3RoO1xuXG4gICAgICAgIGlmIChjb25maWdmTGVuID09PSAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnZkxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICAgICAgdmFsaWRGb3JtYXRGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRGb3JtYXRGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoIWJlc3RGb3JtYXRJc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0IHx8XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkRm9ybWF0Rm91bmRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRGb3JtYXRGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdEZvcm1hdElzVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpLFxuICAgICAgICAgICAgZGF5T3JEYXRlID0gaS5kYXkgPT09IHVuZGVmaW5lZCA/IGkuZGF0ZSA6IGkuZGF5O1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoXG4gICAgICAgICAgICBbaS55ZWFyLCBpLm1vbnRoLCBkYXlPckRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnKGNvbmZpZykge1xuICAgICAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICAgICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHsgbnVsbElucHV0OiB0cnVlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuICAgICAgICB2YXIgYyA9IHt9O1xuXG4gICAgICAgIGlmIChmb3JtYXQgPT09IHRydWUgfHwgZm9ybWF0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RyaWN0ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWwoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgIC8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4gICAgLy8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuICAgIC8vXG4gICAgLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuICAgIC8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG4gICAgZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgICAgIHZhciByZXMsIGk7XG4gICAgICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG4gICAgICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXMgPSBtb21lbnRzWzBdO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG4gICAgZnVuY3Rpb24gbWluKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1heCgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArbmV3IERhdGUoKTtcbiAgICB9O1xuXG4gICAgdmFyIG9yZGVyaW5nID0gW1xuICAgICAgICAneWVhcicsXG4gICAgICAgICdxdWFydGVyJyxcbiAgICAgICAgJ21vbnRoJyxcbiAgICAgICAgJ3dlZWsnLFxuICAgICAgICAnZGF5JyxcbiAgICAgICAgJ2hvdXInLFxuICAgICAgICAnbWludXRlJyxcbiAgICAgICAgJ3NlY29uZCcsXG4gICAgICAgICdtaWxsaXNlY29uZCcsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgICAgIHZhciBrZXksXG4gICAgICAgICAgICB1bml0SGFzRGVjaW1hbCA9IGZhbHNlLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIG9yZGVyTGVuID0gb3JkZXJpbmcubGVuZ3RoO1xuICAgICAgICBmb3IgKGtleSBpbiBtKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaGFzT3duUHJvcChtLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhPZi5jYWxsKG9yZGVyaW5nLCBrZXkpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAobVtrZXldID09IG51bGwgfHwgIWlzTmFOKG1ba2V5XSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9yZGVyTGVuOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCBub3JtYWxpemVkSW5wdXQuaXNvV2VlayB8fCAwLFxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGlzRHVyYXRpb25WYWxpZChub3JtYWxpemVkSW5wdXQpO1xuXG4gICAgICAgIC8vIHJlcHJlc2VudGF0aW9uIGZvciBkYXRlQWRkUmVtb3ZlXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9XG4gICAgICAgICAgICArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICsgd2Vla3MgKiA3O1xuICAgICAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRvIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgICAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgICAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICsgcXVhcnRlcnMgKiAzICsgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic1JvdW5kKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGlmZnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGZ1bmN0aW9uIG9mZnNldCh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKSxcbiAgICAgICAgICAgICAgICBzaWduID0gJysnO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHNpZ24gK1xuICAgICAgICAgICAgICAgIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgK1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvciArXG4gICAgICAgICAgICAgICAgemVyb0ZpbGwofn5vZmZzZXQgJSA2MCwgMilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyB0aW1lem9uZSBjaHVua2VyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4gICAgLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG4gICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKSxcbiAgICAgICAgICAgIGNodW5rLFxuICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICBtaW51dGVzO1xuXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNodW5rID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgICAgICBwYXJ0cyA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgICAgIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID8gMCA6IHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgICAgIHZhciByZXMsIGRpZmY7XG4gICAgICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgICAgICBkaWZmID1cbiAgICAgICAgICAgICAgICAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC52YWx1ZU9mKClcbiAgICAgICAgICAgICAgICAgICAgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuICAgIC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuICAgIGhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG4gICAgLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbiAgICAvLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG4gICAgLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuICAgIC8vXG4gICAgLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG4gICAgLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG4gICAgLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuICAgIC8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG4gICAgZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lLCBrZWVwTWludXRlcykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICBsb2NhbEFkanVzdDtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYgJiYgIWtlZXBNaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZShpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwoa2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYyA9IHt9LFxuICAgICAgICAgICAgb3RoZXI7XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9XG4gICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkKCkgJiYgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0Y09mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1V0YygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oLXxcXCspPyg/OihcXGQqKVsuIF0pPyhcXGQrKTooXFxkKykoPzo6KFxcZCspKFxcLlxcZCopPyk/JC8sXG4gICAgICAgIC8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4gICAgICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAgICAgLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuICAgICAgICBpc29SZWdleCA9XG4gICAgICAgICAgICAvXigtfFxcKyk/UCg/OihbLStdP1swLTksLl0qKVkpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVcpPyg/OihbLStdP1swLTksLl0qKUQpPyg/OlQoPzooWy0rXT9bMC05LC5dKilIKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilTKT8pPyQvO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlRHVyYXRpb24oaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgICAgIGQ6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE06IGlucHV0Ll9tb250aHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSB8fCAhaXNOYU4oK2lucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gK2lucHV0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSAraW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gbWF0Y2hbMV0gPT09ICctJyA/IC0xIDogMTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgZDogdG9JbnQobWF0Y2hbREFURV0pICogc2lnbixcbiAgICAgICAgICAgICAgICBoOiB0b0ludChtYXRjaFtIT1VSXSkgKiBzaWduLFxuICAgICAgICAgICAgICAgIG06IHRvSW50KG1hdGNoW01JTlVURV0pICogc2lnbixcbiAgICAgICAgICAgICAgICBzOiB0b0ludChtYXRjaFtTRUNPTkRdKSAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbXM6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24sIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBpc29SZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSBtYXRjaFsxXSA9PT0gJy0nID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeTogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIE06IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgICAgICB3OiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIGg6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBtOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgczogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbChkdXJhdGlvbi50bylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfaXNWYWxpZCcpKSB7XG4gICAgICAgICAgICByZXQuX2lzVmFsaWQgPSBpbnB1dC5faXNWYWxpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG4gICAgY3JlYXRlRHVyYXRpb24uaW52YWxpZCA9IGNyZWF0ZUludmFsaWQkMTtcblxuICAgIGZ1bmN0aW9uIHBhcnNlSXNvKGlucCwgc2lnbikge1xuICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgICAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzID0ge307XG5cbiAgICAgICAgcmVzLm1vbnRocyA9XG4gICAgICAgICAgICBvdGhlci5tb250aCgpIC0gYmFzZS5tb250aCgpICsgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgICAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gK2Jhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKTtcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXM7XG4gICAgICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAnbW9tZW50KCkuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdG1wID0gdmFsO1xuICAgICAgICAgICAgICAgIHZhbCA9IHBlcmlvZDtcbiAgICAgICAgICAgICAgICBwZXJpb2QgPSB0bXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFN1YnRyYWN0KG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhZGQgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyksXG4gICAgICAgIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBTdHJpbmc7XG4gICAgfVxuXG4gICAgLy8gdHlwZSBNb21lbnRJbnB1dCA9IE1vbWVudCB8IERhdGUgfCBzdHJpbmcgfCBudW1iZXIgfCAobnVtYmVyIHwgc3RyaW5nKVtdIHwgTW9tZW50SW5wdXRPYmplY3QgfCB2b2lkOyAvLyBudWxsIHwgdW5kZWZpbmVkXG4gICAgZnVuY3Rpb24gaXNNb21lbnRJbnB1dChpbnB1dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNNb21lbnQoaW5wdXQpIHx8XG4gICAgICAgICAgICBpc0RhdGUoaW5wdXQpIHx8XG4gICAgICAgICAgICBpc1N0cmluZyhpbnB1dCkgfHxcbiAgICAgICAgICAgIGlzTnVtYmVyKGlucHV0KSB8fFxuICAgICAgICAgICAgaXNOdW1iZXJPclN0cmluZ0FycmF5KGlucHV0KSB8fFxuICAgICAgICAgICAgaXNNb21lbnRJbnB1dE9iamVjdChpbnB1dCkgfHxcbiAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8XG4gICAgICAgICAgICBpbnB1dCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnRJbnB1dE9iamVjdChpbnB1dCkge1xuICAgICAgICB2YXIgb2JqZWN0VGVzdCA9IGlzT2JqZWN0KGlucHV0KSAmJiAhaXNPYmplY3RFbXB0eShpbnB1dCksXG4gICAgICAgICAgICBwcm9wZXJ0eVRlc3QgPSBmYWxzZSxcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAgICAgJ3llYXJzJyxcbiAgICAgICAgICAgICAgICAneWVhcicsXG4gICAgICAgICAgICAgICAgJ3knLFxuICAgICAgICAgICAgICAgICdtb250aHMnLFxuICAgICAgICAgICAgICAgICdtb250aCcsXG4gICAgICAgICAgICAgICAgJ00nLFxuICAgICAgICAgICAgICAgICdkYXlzJyxcbiAgICAgICAgICAgICAgICAnZGF5JyxcbiAgICAgICAgICAgICAgICAnZCcsXG4gICAgICAgICAgICAgICAgJ2RhdGVzJyxcbiAgICAgICAgICAgICAgICAnZGF0ZScsXG4gICAgICAgICAgICAgICAgJ0QnLFxuICAgICAgICAgICAgICAgICdob3VycycsXG4gICAgICAgICAgICAgICAgJ2hvdXInLFxuICAgICAgICAgICAgICAgICdoJyxcbiAgICAgICAgICAgICAgICAnbWludXRlcycsXG4gICAgICAgICAgICAgICAgJ21pbnV0ZScsXG4gICAgICAgICAgICAgICAgJ20nLFxuICAgICAgICAgICAgICAgICdzZWNvbmRzJyxcbiAgICAgICAgICAgICAgICAnc2Vjb25kJyxcbiAgICAgICAgICAgICAgICAncycsXG4gICAgICAgICAgICAgICAgJ21pbGxpc2Vjb25kcycsXG4gICAgICAgICAgICAgICAgJ21pbGxpc2Vjb25kJyxcbiAgICAgICAgICAgICAgICAnbXMnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgIHByb3BlcnR5TGVuID0gcHJvcGVydGllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHByb3BlcnR5TGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5VGVzdCA9IHByb3BlcnR5VGVzdCB8fCBoYXNPd25Qcm9wKGlucHV0LCBwcm9wZXJ0eSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqZWN0VGVzdCAmJiBwcm9wZXJ0eVRlc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNOdW1iZXJPclN0cmluZ0FycmF5KGlucHV0KSB7XG4gICAgICAgIHZhciBhcnJheVRlc3QgPSBpc0FycmF5KGlucHV0KSxcbiAgICAgICAgICAgIGRhdGFUeXBlVGVzdCA9IGZhbHNlO1xuICAgICAgICBpZiAoYXJyYXlUZXN0KSB7XG4gICAgICAgICAgICBkYXRhVHlwZVRlc3QgPVxuICAgICAgICAgICAgICAgIGlucHV0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzTnVtYmVyKGl0ZW0pICYmIGlzU3RyaW5nKGlucHV0KTtcbiAgICAgICAgICAgICAgICB9KS5sZW5ndGggPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5VGVzdCAmJiBkYXRhVHlwZVRlc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDYWxlbmRhclNwZWMoaW5wdXQpIHtcbiAgICAgICAgdmFyIG9iamVjdFRlc3QgPSBpc09iamVjdChpbnB1dCkgJiYgIWlzT2JqZWN0RW1wdHkoaW5wdXQpLFxuICAgICAgICAgICAgcHJvcGVydHlUZXN0ID0gZmFsc2UsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgICAgICdzYW1lRGF5JyxcbiAgICAgICAgICAgICAgICAnbmV4dERheScsXG4gICAgICAgICAgICAgICAgJ2xhc3REYXknLFxuICAgICAgICAgICAgICAgICduZXh0V2VlaycsXG4gICAgICAgICAgICAgICAgJ2xhc3RXZWVrJyxcbiAgICAgICAgICAgICAgICAnc2FtZUVsc2UnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBwcm9wZXJ0eTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHlUZXN0ID0gcHJvcGVydHlUZXN0IHx8IGhhc093blByb3AoaW5wdXQsIHByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmplY3RUZXN0ICYmIHByb3BlcnR5VGVzdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBkaWZmIDwgLTZcbiAgICAgICAgICAgID8gJ3NhbWVFbHNlJ1xuICAgICAgICAgICAgOiBkaWZmIDwgLTFcbiAgICAgICAgICAgID8gJ2xhc3RXZWVrJ1xuICAgICAgICAgICAgOiBkaWZmIDwgMFxuICAgICAgICAgICAgPyAnbGFzdERheSdcbiAgICAgICAgICAgIDogZGlmZiA8IDFcbiAgICAgICAgICAgID8gJ3NhbWVEYXknXG4gICAgICAgICAgICA6IGRpZmYgPCAyXG4gICAgICAgICAgICA/ICduZXh0RGF5J1xuICAgICAgICAgICAgOiBkaWZmIDwgN1xuICAgICAgICAgICAgPyAnbmV4dFdlZWsnXG4gICAgICAgICAgICA6ICdzYW1lRWxzZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIkMSh0aW1lLCBmb3JtYXRzKSB7XG4gICAgICAgIC8vIFN1cHBvcnQgZm9yIHNpbmdsZSBwYXJhbWV0ZXIsIGZvcm1hdHMgb25seSBvdmVybG9hZCB0byB0aGUgY2FsZW5kYXIgZnVuY3Rpb25cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgdGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBmb3JtYXRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc01vbWVudElucHV0KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgICAgICB0aW1lID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIGZvcm1hdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ2FsZW5kYXJTcGVjKGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXRzID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIHRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAgICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJyxcbiAgICAgICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICAgICAgZm9ybWF0cyAmJlxuICAgICAgICAgICAgICAgIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSlcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpXG4gICAgICAgICAgICAgICAgICAgIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQoXG4gICAgICAgICAgICBvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FmdGVyKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQmVmb3JlKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JldHdlZW4oZnJvbSwgdG8sIHVuaXRzLCBpbmNsdXNpdml0eSkge1xuICAgICAgICB2YXIgbG9jYWxGcm9tID0gaXNNb21lbnQoZnJvbSkgPyBmcm9tIDogY3JlYXRlTG9jYWwoZnJvbSksXG4gICAgICAgICAgICBsb2NhbFRvID0gaXNNb21lbnQodG8pID8gdG8gOiBjcmVhdGVMb2NhbCh0byk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsRnJvbS5pc1ZhbGlkKCkgJiYgbG9jYWxUby5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGluY2x1c2l2aXR5WzBdID09PSAnKCdcbiAgICAgICAgICAgICAgICA/IHRoaXMuaXNBZnRlcihsb2NhbEZyb20sIHVuaXRzKVxuICAgICAgICAgICAgICAgIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXG4gICAgICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJ1xuICAgICAgICAgICAgICAgID8gdGhpcy5pc0JlZm9yZShsb2NhbFRvLCB1bml0cylcbiAgICAgICAgICAgICAgICA6ICF0aGlzLmlzQWZ0ZXIobG9jYWxUbywgdW5pdHMpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZShpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcbiAgICAgICAgICAgIGlucHV0TXM7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmXG4gICAgICAgICAgICAgICAgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCwgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZihpbnB1dCwgdW5pdHMsIGFzRmxvYXQpIHtcbiAgICAgICAgdmFyIHRoYXQsIHpvbmVEZWx0YSwgb3V0cHV0O1xuXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAxMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMWUzO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAxMDAwXG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDM2ZTU7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA4NjRlNTtcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTtcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcyAtIHRoYXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhEaWZmKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZGF0ZSgpIDwgYi5kYXRlKCkpIHtcbiAgICAgICAgICAgIC8vIGVuZC1vZi1tb250aCBjYWxjdWxhdGlvbnMgd29yayBjb3JyZWN0IHdoZW4gdGhlIHN0YXJ0IG1vbnRoIGhhcyBtb3JlXG4gICAgICAgICAgICAvLyBkYXlzIHRoYW4gdGhlIGVuZCBtb250aC5cbiAgICAgICAgICAgIHJldHVybiAtbW9udGhEaWZmKGIsIGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9IChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG4gICAgICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICAgIGFkanVzdDtcblxuICAgICAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG4gICAgfVxuXG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JU09TdHJpbmcoa2VlcE9mZnNldCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXRjID0ga2VlcE9mZnNldCAhPT0gdHJ1ZSxcbiAgICAgICAgICAgIG0gPSB1dGMgPyB0aGlzLmNsb25lKCkudXRjKCkgOiB0aGlzO1xuICAgICAgICBpZiAobS55ZWFyKCkgPCAwIHx8IG0ueWVhcigpID4gOTk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChcbiAgICAgICAgICAgICAgICBtLFxuICAgICAgICAgICAgICAgIHV0Y1xuICAgICAgICAgICAgICAgICAgICA/ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nXG4gICAgICAgICAgICAgICAgICAgIDogJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIGlmICh1dGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkgKyB0aGlzLnV0Y09mZnNldCgpICogNjAgKiAxMDAwKVxuICAgICAgICAgICAgICAgICAgICAudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnWicsIGZvcm1hdE1vbWVudChtLCAnWicpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIHV0YyA/ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyA6ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICAgICAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zcGVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnVuYyA9ICdtb21lbnQnLFxuICAgICAgICAgICAgem9uZSA9ICcnLFxuICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgeWVhcixcbiAgICAgICAgICAgIGRhdGV0aW1lLFxuICAgICAgICAgICAgc3VmZml4O1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgICAgICBmdW5jID0gdGhpcy51dGNPZmZzZXQoKSA9PT0gMCA/ICdtb21lbnQudXRjJyA6ICdtb21lbnQucGFyc2Vab25lJztcbiAgICAgICAgICAgIHpvbmUgPSAnWic7XG4gICAgICAgIH1cbiAgICAgICAgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICAgICAgeWVhciA9IDAgPD0gdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgICAgICBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgICAgICBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXQoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKClcbiAgICAgICAgICAgICAgICA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGNcbiAgICAgICAgICAgICAgICA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbSh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fCBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHsgdG86IHRoaXMsIGZyb206IHRpbWUgfSlcbiAgICAgICAgICAgICAgICAubG9jYWxlKHRoaXMubG9jYWxlKCkpXG4gICAgICAgICAgICAgICAgLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbU5vdyh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG8odGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHwgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7IGZyb206IHRoaXMsIHRvOiB0aW1lIH0pXG4gICAgICAgICAgICAgICAgLmxvY2FsZSh0aGlzLmxvY2FsZSgpKVxuICAgICAgICAgICAgICAgIC5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvTm93KHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuICAgIC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbiAgICAvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgZnVuY3Rpb24gbG9jYWxlKGtleSkge1xuICAgICAgICB2YXIgbmV3TG9jYWxlRGF0YTtcblxuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG4gICAgICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG5cbiAgICB2YXIgTVNfUEVSX1NFQ09ORCA9IDEwMDAsXG4gICAgICAgIE1TX1BFUl9NSU5VVEUgPSA2MCAqIE1TX1BFUl9TRUNPTkQsXG4gICAgICAgIE1TX1BFUl9IT1VSID0gNjAgKiBNU19QRVJfTUlOVVRFLFxuICAgICAgICBNU19QRVJfNDAwX1lFQVJTID0gKDM2NSAqIDQwMCArIDk3KSAqIDI0ICogTVNfUEVSX0hPVVI7XG5cbiAgICAvLyBhY3R1YWwgbW9kdWxvIC0gaGFuZGxlcyBuZWdhdGl2ZSBudW1iZXJzIChmb3IgZGF0ZXMgYmVmb3JlIDE5NzApOlxuICAgIGZ1bmN0aW9uIG1vZCQxKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICAgIHJldHVybiAoKGRpdmlkZW5kICUgZGl2aXNvcikgKyBkaXZpc29yKSAlIGRpdmlzb3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0Y1N0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAgICAgLy8gRGF0ZS5VVEMgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIHJldHVybiBEYXRlLlVUQyh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSwgbSwgZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mKHVuaXRzKSB7XG4gICAgICAgIHZhciB0aW1lLCBzdGFydE9mRGF0ZTtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgMCwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCkgLSAodGhpcy5tb250aCgpICUgMyksXG4gICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKCkgLSB0aGlzLndlZWtkYXkoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCB0aGlzLmRhdGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMShcbiAgICAgICAgICAgICAgICAgICAgdGltZSArICh0aGlzLl9pc1VUQyA/IDAgOiB0aGlzLnV0Y09mZnNldCgpICogTVNfUEVSX01JTlVURSksXG4gICAgICAgICAgICAgICAgICAgIE1TX1BFUl9IT1VSXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEodGltZSwgTVNfUEVSX01JTlVURSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUsIE1TX1BFUl9TRUNPTkQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZE9mKHVuaXRzKSB7XG4gICAgICAgIHZhciB0aW1lLCBzdGFydE9mRGF0ZTtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSArIDEsIDAsIDEpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPVxuICAgICAgICAgICAgICAgICAgICBzdGFydE9mRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aCgpIC0gKHRoaXMubW9udGgoKSAlIDMpICsgMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgKyAxLCAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRPZkRhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkgKyA3XG4gICAgICAgICAgICAgICAgICAgICkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0T2ZEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoKSAtICh0aGlzLmlzb1dlZWtkYXkoKSAtIDEpICsgN1xuICAgICAgICAgICAgICAgICAgICApIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPVxuICAgICAgICAgICAgICAgICAgICBNU19QRVJfSE9VUiAtXG4gICAgICAgICAgICAgICAgICAgIG1vZCQxKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSArICh0aGlzLl9pc1VUQyA/IDAgOiB0aGlzLnV0Y09mZnNldCgpICogTVNfUEVSX01JTlVURSksXG4gICAgICAgICAgICAgICAgICAgICAgICBNU19QRVJfSE9VUlxuICAgICAgICAgICAgICAgICAgICApIC1cbiAgICAgICAgICAgICAgICAgICAgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX01JTlVURSAtIG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX1NFQ09ORCAtIG1vZCQxKHRpbWUsIE1TX1BFUl9TRUNPTkQpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0RhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9BcnJheSgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbS55ZWFyKCksXG4gICAgICAgICAgICBtLm1vbnRoKCksXG4gICAgICAgICAgICBtLmRhdGUoKSxcbiAgICAgICAgICAgIG0uaG91cigpLFxuICAgICAgICAgICAgbS5taW51dGUoKSxcbiAgICAgICAgICAgIG0uc2Vjb25kKCksXG4gICAgICAgICAgICBtLm1pbGxpc2Vjb25kKCksXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDIoKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkQXQoKSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKCdOJywgMCwgMCwgJ2VyYUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignTk4nLCAwLCAwLCAnZXJhQWJicicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdOTk4nLCAwLCAwLCAnZXJhQWJicicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdOTk5OJywgMCwgMCwgJ2VyYU5hbWUnKTtcbiAgICBhZGRGb3JtYXRUb2tlbignTk5OTk4nLCAwLCAwLCAnZXJhTmFycm93Jyk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigneScsIFsneScsIDFdLCAneW8nLCAnZXJhWWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd5JywgWyd5eScsIDJdLCAwLCAnZXJhWWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd5JywgWyd5eXknLCAzXSwgMCwgJ2VyYVllYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneScsIFsneXl5eScsIDRdLCAwLCAnZXJhWWVhcicpO1xuXG4gICAgYWRkUmVnZXhUb2tlbignTicsIG1hdGNoRXJhQWJicik7XG4gICAgYWRkUmVnZXhUb2tlbignTk4nLCBtYXRjaEVyYUFiYnIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ05OTicsIG1hdGNoRXJhQWJicik7XG4gICAgYWRkUmVnZXhUb2tlbignTk5OTicsIG1hdGNoRXJhTmFtZSk7XG4gICAgYWRkUmVnZXhUb2tlbignTk5OTk4nLCBtYXRjaEVyYU5hcnJvdyk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFxuICAgICAgICBbJ04nLCAnTk4nLCAnTk5OJywgJ05OTk4nLCAnTk5OTk4nXSxcbiAgICAgICAgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgdmFyIGVyYSA9IGNvbmZpZy5fbG9jYWxlLmVyYXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgICAgIGlmIChlcmEpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lcmEgPSBlcmE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRFcmEgPSBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBhZGRSZWdleFRva2VuKCd5JywgbWF0Y2hVbnNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbigneXknLCBtYXRjaFVuc2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCd5eXknLCBtYXRjaFVuc2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCd5eXl5JywgbWF0Y2hVbnNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbigneW8nLCBtYXRjaEVyYVllYXJPcmRpbmFsKTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWyd5JywgJ3l5JywgJ3l5eScsICd5eXl5J10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWyd5byddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgaWYgKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KSB7XG4gICAgICAgICAgICBtYXRjaCA9IGlucHV0Lm1hdGNoKGNvbmZpZy5fbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuX2xvY2FsZS5lcmFZZWFyT3JkaW5hbFBhcnNlKSB7XG4gICAgICAgICAgICBhcnJheVtZRUFSXSA9IGNvbmZpZy5fbG9jYWxlLmVyYVllYXJPcmRpbmFsUGFyc2UoaW5wdXQsIG1hdGNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRXJhcyhtLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLl9lcmFzIHx8IGdldExvY2FsZSgnZW4nKS5fZXJhcztcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gaG9va3MoZXJhc1tpXS5zaW5jZSkuc3RhcnRPZignZGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgIGVyYXNbaV0uc2luY2UgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgICAgICAgICBlcmFzW2ldLnVudGlsID0gK0luZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBob29rcyhlcmFzW2ldLnVudGlsKS5zdGFydE9mKCdkYXknKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgICAgIGVyYXNbaV0udW50aWwgPSBkYXRlLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVyYXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRXJhc1BhcnNlKGVyYU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLmVyYXMoKSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhYmJyLFxuICAgICAgICAgICAgbmFycm93O1xuICAgICAgICBlcmFOYW1lID0gZXJhTmFtZS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgbmFtZSA9IGVyYXNbaV0ubmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYWJiciA9IGVyYXNbaV0uYWJici50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgbmFycm93ID0gZXJhc1tpXS5uYXJyb3cudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdOTic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ05OTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJiciA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTk5OTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTk5OTk4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hcnJvdyA9PT0gZXJhTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChbbmFtZSwgYWJiciwgbmFycm93XS5pbmRleE9mKGVyYU5hbWUpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZUVyYXNDb252ZXJ0WWVhcihlcmEsIHllYXIpIHtcbiAgICAgICAgdmFyIGRpciA9IGVyYS5zaW5jZSA8PSBlcmEudW50aWwgPyArMSA6IC0xO1xuICAgICAgICBpZiAoeWVhciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9va3MoZXJhLnNpbmNlKS55ZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaG9va3MoZXJhLnNpbmNlKS55ZWFyKCkgKyAoeWVhciAtIGVyYS5vZmZzZXQpICogZGlyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhTmFtZSgpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICB2YWwgPSB0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgICAgICBpZiAoZXJhc1tpXS5zaW5jZSA8PSB2YWwgJiYgdmFsIDw9IGVyYXNbaV0udW50aWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJhc1tpXS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRFcmFOYXJyb3coKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLmxvY2FsZURhdGEoKS5lcmFzKCk7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICAgICAgdmFsID0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICAgICAgaWYgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFycm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVyYXNbaV0udW50aWwgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnNpbmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0ubmFycm93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVyYUFiYnIoKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGVyYXMgPSB0aGlzLmxvY2FsZURhdGEoKS5lcmFzKCk7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgLy8gdHJ1bmNhdGUgdGltZVxuICAgICAgICAgICAgdmFsID0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpLnZhbHVlT2YoKTtcblxuICAgICAgICAgICAgaWYgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyYXNbaV0uYWJicjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcmFzW2ldLnVudGlsIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS5zaW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcmFzW2ldLmFiYnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RXJhWWVhcigpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZGlyLFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMubG9jYWxlRGF0YSgpLmVyYXMoKTtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGVyYXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICBkaXIgPSBlcmFzW2ldLnNpbmNlIDw9IGVyYXNbaV0udW50aWwgPyArMSA6IC0xO1xuXG4gICAgICAgICAgICAvLyB0cnVuY2F0ZSB0aW1lXG4gICAgICAgICAgICB2YWwgPSB0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykudmFsdWVPZigpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGVyYXNbaV0uc2luY2UgPD0gdmFsICYmIHZhbCA8PSBlcmFzW2ldLnVudGlsKSB8fFxuICAgICAgICAgICAgICAgIChlcmFzW2ldLnVudGlsIDw9IHZhbCAmJiB2YWwgPD0gZXJhc1tpXS5zaW5jZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnllYXIoKSAtIGhvb2tzKGVyYXNbaV0uc2luY2UpLnllYXIoKSkgKiBkaXIgK1xuICAgICAgICAgICAgICAgICAgICBlcmFzW2ldLm9mZnNldFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJhc05hbWVSZWdleChpc1N0cmljdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19lcmFzTmFtZVJlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVFcmFzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNTdHJpY3QgPyB0aGlzLl9lcmFzTmFtZVJlZ2V4IDogdGhpcy5fZXJhc1JlZ2V4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVyYXNBYmJyUmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfZXJhc0FiYnJSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlRXJhc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID8gdGhpcy5fZXJhc0FiYnJSZWdleCA6IHRoaXMuX2VyYXNSZWdleDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlcmFzTmFycm93UmVnZXgoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfZXJhc05hcnJvd1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVFcmFzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNTdHJpY3QgPyB0aGlzLl9lcmFzTmFycm93UmVnZXggOiB0aGlzLl9lcmFzUmVnZXg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF0Y2hFcmFBYmJyKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5lcmFzQWJiclJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXRjaEVyYU5hbWUoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmVyYXNOYW1lUmVnZXgoaXNTdHJpY3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hdGNoRXJhTmFycm93KGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5lcmFzTmFycm93UmVnZXgoaXNTdHJpY3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hdGNoRXJhWWVhck9yZGluYWwoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLl9lcmFZZWFyT3JkaW5hbFJlZ2V4IHx8IG1hdGNoVW5zaWduZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZUVyYXNQYXJzZSgpIHtcbiAgICAgICAgdmFyIGFiYnJQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIG5hbWVQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIG5hcnJvd1BpZWNlcyA9IFtdLFxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZXJhcyA9IHRoaXMuZXJhcygpO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBlcmFzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgbmFtZVBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0ubmFtZSkpO1xuICAgICAgICAgICAgYWJiclBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0uYWJicikpO1xuICAgICAgICAgICAgbmFycm93UGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5uYXJyb3cpKTtcblxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChyZWdleEVzY2FwZShlcmFzW2ldLm5hbWUpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gocmVnZXhFc2NhcGUoZXJhc1tpXS5hYmJyKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHJlZ2V4RXNjYXBlKGVyYXNbaV0ubmFycm93KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lcmFzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX2VyYXNOYW1lUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBuYW1lUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fZXJhc0FiYnJSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGFiYnJQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9lcmFzTmFycm93UmVnZXggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJ14oJyArIG5hcnJvd1BpZWNlcy5qb2luKCd8JykgKyAnKScsXG4gICAgICAgICAgICAnaSdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbih0b2tlbiwgZ2V0dGVyKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbiAgICB9XG5cbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignZycsIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdHRycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdnZycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHJywgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHR0cnLCBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihcbiAgICAgICAgWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSxcbiAgICAgICAgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3lcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhcihpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHRoaXMuaXNvV2VlaygpLFxuICAgICAgICAgICAgdGhpcy5pc29XZWVrZGF5KCksXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgNFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyKCkge1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5JU09XZWVrWWVhcigpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMuaXNvV2Vla1llYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luV2Vla1llYXIoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy53ZWVrWWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICAgICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgICAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcbiAgICAgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgICAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG4gICAgYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGxcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpXG4gICAgICAgICAgICA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgKHRoaXMubW9udGgoKSAlIDMpKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRCcsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHJldHVybiBpc1N0cmljdFxuICAgICAgICAgICAgPyBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2UgfHwgbG9jYWxlLl9vcmRpbmFsUGFyc2VcbiAgICAgICAgICAgIDogbG9jYWxlLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudDtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0pO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEREQnLCBtYXRjaDF0bzMpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9XG4gICAgICAgICAgICBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgICAgICh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1XG4gICAgICAgICAgICApICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZChpbnB1dCAtIGRheU9mWWVhciwgJ2QnKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignbScsIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdTJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG4gICAgfSk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1MnLCBtYXRjaDF0bzMsIG1hdGNoMSk7XG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG4gICAgdmFyIHRva2VuLCBnZXRTZXRNaWxsaXNlY29uZDtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG5cbiAgICBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCd6JywgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJicigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xuICAgIH1cblxuICAgIHZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5hZGQgPSBhZGQ7XG4gICAgcHJvdG8uY2FsZW5kYXIgPSBjYWxlbmRhciQxO1xuICAgIHByb3RvLmNsb25lID0gY2xvbmU7XG4gICAgcHJvdG8uZGlmZiA9IGRpZmY7XG4gICAgcHJvdG8uZW5kT2YgPSBlbmRPZjtcbiAgICBwcm90by5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgcHJvdG8uZnJvbSA9IGZyb207XG4gICAgcHJvdG8uZnJvbU5vdyA9IGZyb21Ob3c7XG4gICAgcHJvdG8udG8gPSB0bztcbiAgICBwcm90by50b05vdyA9IHRvTm93O1xuICAgIHByb3RvLmdldCA9IHN0cmluZ0dldDtcbiAgICBwcm90by5pbnZhbGlkQXQgPSBpbnZhbGlkQXQ7XG4gICAgcHJvdG8uaXNBZnRlciA9IGlzQWZ0ZXI7XG4gICAgcHJvdG8uaXNCZWZvcmUgPSBpc0JlZm9yZTtcbiAgICBwcm90by5pc0JldHdlZW4gPSBpc0JldHdlZW47XG4gICAgcHJvdG8uaXNTYW1lID0gaXNTYW1lO1xuICAgIHByb3RvLmlzU2FtZU9yQWZ0ZXIgPSBpc1NhbWVPckFmdGVyO1xuICAgIHByb3RvLmlzU2FtZU9yQmVmb3JlID0gaXNTYW1lT3JCZWZvcmU7XG4gICAgcHJvdG8uaXNWYWxpZCA9IGlzVmFsaWQkMjtcbiAgICBwcm90by5sYW5nID0gbGFuZztcbiAgICBwcm90by5sb2NhbGUgPSBsb2NhbGU7XG4gICAgcHJvdG8ubG9jYWxlRGF0YSA9IGxvY2FsZURhdGE7XG4gICAgcHJvdG8ubWF4ID0gcHJvdG90eXBlTWF4O1xuICAgIHByb3RvLm1pbiA9IHByb3RvdHlwZU1pbjtcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgPSBwYXJzaW5nRmxhZ3M7XG4gICAgcHJvdG8uc2V0ID0gc3RyaW5nU2V0O1xuICAgIHByb3RvLnN0YXJ0T2YgPSBzdGFydE9mO1xuICAgIHByb3RvLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgcHJvdG8udG9BcnJheSA9IHRvQXJyYXk7XG4gICAgcHJvdG8udG9PYmplY3QgPSB0b09iamVjdDtcbiAgICBwcm90by50b0RhdGUgPSB0b0RhdGU7XG4gICAgcHJvdG8udG9JU09TdHJpbmcgPSB0b0lTT1N0cmluZztcbiAgICBwcm90by5pbnNwZWN0ID0gaW5zcGVjdDtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLmZvciAhPSBudWxsKSB7XG4gICAgICAgIHByb3RvW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdNb21lbnQ8JyArIHRoaXMuZm9ybWF0KCkgKyAnPic7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHByb3RvLnRvSlNPTiA9IHRvSlNPTjtcbiAgICBwcm90by50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIHByb3RvLnVuaXggPSB1bml4O1xuICAgIHByb3RvLnZhbHVlT2YgPSB2YWx1ZU9mO1xuICAgIHByb3RvLmNyZWF0aW9uRGF0YSA9IGNyZWF0aW9uRGF0YTtcbiAgICBwcm90by5lcmFOYW1lID0gZ2V0RXJhTmFtZTtcbiAgICBwcm90by5lcmFOYXJyb3cgPSBnZXRFcmFOYXJyb3c7XG4gICAgcHJvdG8uZXJhQWJiciA9IGdldEVyYUFiYnI7XG4gICAgcHJvdG8uZXJhWWVhciA9IGdldEVyYVllYXI7XG4gICAgcHJvdG8ueWVhciA9IGdldFNldFllYXI7XG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG4gICAgcHJvdG8ud2Vla1llYXIgPSBnZXRTZXRXZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG4gICAgcHJvdG8ubW9udGggPSBnZXRTZXRNb250aDtcbiAgICBwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuICAgIHByb3RvLndlZWsgPSBwcm90by53ZWVrcyA9IGdldFNldFdlZWs7XG4gICAgcHJvdG8uaXNvV2VlayA9IHByb3RvLmlzb1dlZWtzID0gZ2V0U2V0SVNPV2VlaztcbiAgICBwcm90by53ZWVrc0luWWVhciA9IGdldFdlZWtzSW5ZZWFyO1xuICAgIHByb3RvLndlZWtzSW5XZWVrWWVhciA9IGdldFdlZWtzSW5XZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuICAgIHByb3RvLmlzb1dlZWtzSW5JU09XZWVrWWVhciA9IGdldElTT1dlZWtzSW5JU09XZWVrWWVhcjtcbiAgICBwcm90by5kYXRlID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBwcm90by5kYXkgPSBwcm90by5kYXlzID0gZ2V0U2V0RGF5T2ZXZWVrO1xuICAgIHByb3RvLndlZWtkYXkgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG4gICAgcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBwcm90by5kYXlPZlllYXIgPSBnZXRTZXREYXlPZlllYXI7XG4gICAgcHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcbiAgICBwcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuICAgIHByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG4gICAgcHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcbiAgICBwcm90by51dGNPZmZzZXQgPSBnZXRTZXRPZmZzZXQ7XG4gICAgcHJvdG8udXRjID0gc2V0T2Zmc2V0VG9VVEM7XG4gICAgcHJvdG8ubG9jYWwgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIHByb3RvLnBhcnNlWm9uZSA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xuICAgIHByb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG4gICAgcHJvdG8uaXNEU1QgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbiAgICBwcm90by5pc0xvY2FsID0gaXNMb2NhbDtcbiAgICBwcm90by5pc1V0Y09mZnNldCA9IGlzVXRjT2Zmc2V0O1xuICAgIHByb3RvLmlzVXRjID0gaXNVdGM7XG4gICAgcHJvdG8uaXNVVEMgPSBpc1V0YztcbiAgICBwcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xuICAgIHByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG4gICAgcHJvdG8uZGF0ZXMgPSBkZXByZWNhdGUoXG4gICAgICAgICdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsXG4gICAgICAgIGdldFNldERheU9mTW9udGhcbiAgICApO1xuICAgIHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsXG4gICAgICAgIGdldFNldE1vbnRoXG4gICAgKTtcbiAgICBwcm90by55ZWFycyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ3llYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQnLFxuICAgICAgICBnZXRTZXRZZWFyXG4gICAgKTtcbiAgICBwcm90by56b25lID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLFxuICAgICAgICBnZXRTZXRab25lXG4gICAgKTtcbiAgICBwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoXG4gICAgICAgICdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJyxcbiAgICAgICAgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkXG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVuaXgoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5ab25lKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xuXG4gICAgcHJvdG8kMS5jYWxlbmRhciA9IGNhbGVuZGFyO1xuICAgIHByb3RvJDEubG9uZ0RhdGVGb3JtYXQgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90byQxLmludmFsaWREYXRlID0gaW52YWxpZERhdGU7XG4gICAgcHJvdG8kMS5vcmRpbmFsID0gb3JkaW5hbDtcbiAgICBwcm90byQxLnByZXBhcnNlID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvJDEucG9zdGZvcm1hdCA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSA9IHJlbGF0aXZlVGltZTtcbiAgICBwcm90byQxLnBhc3RGdXR1cmUgPSBwYXN0RnV0dXJlO1xuICAgIHByb3RvJDEuc2V0ID0gc2V0O1xuICAgIHByb3RvJDEuZXJhcyA9IGxvY2FsZUVyYXM7XG4gICAgcHJvdG8kMS5lcmFzUGFyc2UgPSBsb2NhbGVFcmFzUGFyc2U7XG4gICAgcHJvdG8kMS5lcmFzQ29udmVydFllYXIgPSBsb2NhbGVFcmFzQ29udmVydFllYXI7XG4gICAgcHJvdG8kMS5lcmFzQWJiclJlZ2V4ID0gZXJhc0FiYnJSZWdleDtcbiAgICBwcm90byQxLmVyYXNOYW1lUmVnZXggPSBlcmFzTmFtZVJlZ2V4O1xuICAgIHByb3RvJDEuZXJhc05hcnJvd1JlZ2V4ID0gZXJhc05hcnJvd1JlZ2V4O1xuXG4gICAgcHJvdG8kMS5tb250aHMgPSBsb2NhbGVNb250aHM7XG4gICAgcHJvdG8kMS5tb250aHNTaG9ydCA9IGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvJDEubW9udGhzUGFyc2UgPSBsb2NhbGVNb250aHNQYXJzZTtcbiAgICBwcm90byQxLm1vbnRoc1JlZ2V4ID0gbW9udGhzUmVnZXg7XG4gICAgcHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ID0gbW9udGhzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICBwcm90byQxLndlZWtkYXlzID0gbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pbiA9IGxvY2FsZVdlZWtkYXlzTWluO1xuICAgIHByb3RvJDEud2Vla2RheXNTaG9ydCA9IGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1BhcnNlID0gbG9jYWxlV2Vla2RheXNQYXJzZTtcblxuICAgIHByb3RvJDEud2Vla2RheXNSZWdleCA9IHdlZWtkYXlzUmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggPSB3ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ID0gd2Vla2RheXNNaW5SZWdleDtcblxuICAgIHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG4gICAgZnVuY3Rpb24gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgICAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgICAgICB1dGMgPSBjcmVhdGVVVEMoKS5zZXQoc2V0dGVyLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvLyAoKVxuICAgIC8vICg1KVxuICAgIC8vIChmbXQsIDUpXG4gICAgLy8gKGZtdClcbiAgICAvLyAodHJ1ZSlcbiAgICAvLyAodHJ1ZSwgNSlcbiAgICAvLyAodHJ1ZSwgZm10LCA1KVxuICAgIC8vICh0cnVlLCBmbXQpXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBvdXQgPSBbXTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRocyhmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0KGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RXZWVrZGF5cyhsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNTaG9ydCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbihsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbiAgICB9XG5cbiAgICBnZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBlcmFzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2luY2U6ICcwMDAxLTAxLTAxJyxcbiAgICAgICAgICAgICAgICB1bnRpbDogK0luZmluaXR5LFxuICAgICAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnQW5ubyBEb21pbmknLFxuICAgICAgICAgICAgICAgIG5hcnJvdzogJ0FEJyxcbiAgICAgICAgICAgICAgICBhYmJyOiAnQUQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzaW5jZTogJzAwMDAtMTItMzEnLFxuICAgICAgICAgICAgICAgIHVudGlsOiAtSW5maW5pdHksXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdCZWZvcmUgQ2hyaXN0JyxcbiAgICAgICAgICAgICAgICBuYXJyb3c6ICdCQycsXG4gICAgICAgICAgICAgICAgYWJicjogJ0JDJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxuICAgICAgICAgICAgICAgIG91dHB1dCA9XG4gICAgICAgICAgICAgICAgICAgIHRvSW50KChudW1iZXIgJSAxMDApIC8gMTApID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICd0aCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYiA9PT0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGIgPT09IDJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ25kJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBiID09PSAzXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdyZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RoJztcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbiAgICBob29rcy5sYW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLFxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGVcbiAgICApO1xuICAgIGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsXG4gICAgICAgIGdldExvY2FsZVxuICAgICk7XG5cbiAgICB2YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG4gICAgZnVuY3Rpb24gYWJzKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2RhdGE7XG5cbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuICAgICAgICB0aGlzLl9kYXlzID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICAgICAgdGhpcy5fbW9udGhzID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG4gICAgICAgIGRhdGEuc2Vjb25kcyA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICAgICAgZGF0YS5taW51dGVzID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuICAgICAgICBkYXRhLmhvdXJzID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICAgICAgZGF0YS5tb250aHMgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICAgICAgZGF0YS55ZWFycyA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QkMShkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblxuICAgICAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLl9kYXlzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gYWRkJDEoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbiAgICBmdW5jdGlvbiBzdWJ0cmFjdCQxKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNDZWlsKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSgpIHtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzLFxuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzLFxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RhdGEsXG4gICAgICAgICAgICBzZWNvbmRzLFxuICAgICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICAgIGhvdXJzLFxuICAgICAgICAgICAgeWVhcnMsXG4gICAgICAgICAgICBtb250aHNGcm9tRGF5cztcblxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbWl4IG9mIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB2YWx1ZXMsIGJ1YmJsZSBkb3duIGZpcnN0XG4gICAgICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMClcbiAgICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgICAgIG1vbnRocyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgICAgIHNlY29uZHMgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgICAgIG1pbnV0ZXMgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgPSBtaW51dGVzICUgNjA7XG5cbiAgICAgICAgaG91cnMgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBkYXRhLmhvdXJzID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzID0gZGF5cztcbiAgICAgICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgICAgIGRhdGEueWVhcnMgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMoZGF5cykge1xuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgICAgIC8vIDQwMCB5ZWFycyBoYXZlIDEyIG1vbnRocyA9PT0gNDgwMFxuICAgICAgICByZXR1cm4gKGRheXMgKiA0ODAwKSAvIDE0NjA5NztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aHNUb0RheXMobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gKG1vbnRocyAqIDE0NjA5NykgLyA0ODAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzKHVuaXRzKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRheXMsXG4gICAgICAgICAgICBtb250aHMsXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicgfHwgdW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aHM7XG4gICAgICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aHMgLyAzO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhzIC8gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyAvIDcgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiAyNCArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKiAxNDQwICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xuICAgICAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG4gICAgZnVuY3Rpb24gdmFsdWVPZiQxKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VBcyhhbGlhcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKSxcbiAgICAgICAgYXNTZWNvbmRzID0gbWFrZUFzKCdzJyksXG4gICAgICAgIGFzTWludXRlcyA9IG1ha2VBcygnbScpLFxuICAgICAgICBhc0hvdXJzID0gbWFrZUFzKCdoJyksXG4gICAgICAgIGFzRGF5cyA9IG1ha2VBcygnZCcpLFxuICAgICAgICBhc1dlZWtzID0gbWFrZUFzKCd3JyksXG4gICAgICAgIGFzTW9udGhzID0gbWFrZUFzKCdNJyksXG4gICAgICAgIGFzUXVhcnRlcnMgPSBtYWtlQXMoJ1EnKSxcbiAgICAgICAgYXNZZWFycyA9IG1ha2VBcygneScpO1xuXG4gICAgZnVuY3Rpb24gY2xvbmUkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCQyKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzW3VuaXRzICsgJ3MnXSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5fZGF0YVtuYW1lXSA6IE5hTjtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyksXG4gICAgICAgIHNlY29uZHMgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyksXG4gICAgICAgIG1pbnV0ZXMgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyksXG4gICAgICAgIGhvdXJzID0gbWFrZUdldHRlcignaG91cnMnKSxcbiAgICAgICAgZGF5cyA9IG1ha2VHZXR0ZXIoJ2RheXMnKSxcbiAgICAgICAgbW9udGhzID0gbWFrZUdldHRlcignbW9udGhzJyksXG4gICAgICAgIHllYXJzID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuICAgIGZ1bmN0aW9uIHdlZWtzKCkge1xuICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbiAgICB9XG5cbiAgICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kLFxuICAgICAgICB0aHJlc2hvbGRzID0ge1xuICAgICAgICAgICAgc3M6IDQ0LCAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICAgICAgICAgIHM6IDQ1LCAvLyBzZWNvbmRzIHRvIG1pbnV0ZVxuICAgICAgICAgICAgbTogNDUsIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgICAgICAgICAgaDogMjIsIC8vIGhvdXJzIHRvIGRheVxuICAgICAgICAgICAgZDogMjYsIC8vIGRheXMgdG8gbW9udGgvd2Vla1xuICAgICAgICAgICAgdzogbnVsbCwgLy8gd2Vla3MgdG8gbW9udGhcbiAgICAgICAgICAgIE06IDExLCAvLyBtb250aHMgdG8geWVhclxuICAgICAgICB9O1xuXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbiAgICBmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWxhdGl2ZVRpbWUkMShwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgdGhyZXNob2xkcywgbG9jYWxlKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKSxcbiAgICAgICAgICAgIHNlY29uZHMgPSByb3VuZChkdXJhdGlvbi5hcygncycpKSxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKSxcbiAgICAgICAgICAgIGhvdXJzID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSksXG4gICAgICAgICAgICBkYXlzID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSksXG4gICAgICAgICAgICBtb250aHMgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKSxcbiAgICAgICAgICAgIHdlZWtzID0gcm91bmQoZHVyYXRpb24uYXMoJ3cnKSksXG4gICAgICAgICAgICB5ZWFycyA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpLFxuICAgICAgICAgICAgYSA9XG4gICAgICAgICAgICAgICAgKHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSkgfHxcbiAgICAgICAgICAgICAgICAoc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3NzJywgc2Vjb25kc10pIHx8XG4gICAgICAgICAgICAgICAgKG1pbnV0ZXMgPD0gMSAmJiBbJ20nXSkgfHxcbiAgICAgICAgICAgICAgICAobWludXRlcyA8IHRocmVzaG9sZHMubSAmJiBbJ21tJywgbWludXRlc10pIHx8XG4gICAgICAgICAgICAgICAgKGhvdXJzIDw9IDEgJiYgWydoJ10pIHx8XG4gICAgICAgICAgICAgICAgKGhvdXJzIDwgdGhyZXNob2xkcy5oICYmIFsnaGgnLCBob3Vyc10pIHx8XG4gICAgICAgICAgICAgICAgKGRheXMgPD0gMSAmJiBbJ2QnXSkgfHxcbiAgICAgICAgICAgICAgICAoZGF5cyA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10pO1xuXG4gICAgICAgIGlmICh0aHJlc2hvbGRzLncgIT0gbnVsbCkge1xuICAgICAgICAgICAgYSA9XG4gICAgICAgICAgICAgICAgYSB8fFxuICAgICAgICAgICAgICAgICh3ZWVrcyA8PSAxICYmIFsndyddKSB8fFxuICAgICAgICAgICAgICAgICh3ZWVrcyA8IHRocmVzaG9sZHMudyAmJiBbJ3d3Jywgd2Vla3NdKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gYSB8fFxuICAgICAgICAgICAgKG1vbnRocyA8PSAxICYmIFsnTSddKSB8fFxuICAgICAgICAgICAgKG1vbnRocyA8IHRocmVzaG9sZHMuTSAmJiBbJ01NJywgbW9udGhzXSkgfHxcbiAgICAgICAgICAgICh5ZWFycyA8PSAxICYmIFsneSddKSB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgICAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcbiAgICAgICAgYVs0XSA9IGxvY2FsZTtcbiAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyhyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJvdW5kaW5nRnVuY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgaWYgKHRocmVzaG9sZCA9PT0gJ3MnKSB7XG4gICAgICAgICAgICB0aHJlc2hvbGRzLnNzID0gbGltaXQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGh1bWFuaXplKGFyZ1dpdGhTdWZmaXgsIGFyZ1RocmVzaG9sZHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2l0aFN1ZmZpeCA9IGZhbHNlLFxuICAgICAgICAgICAgdGggPSB0aHJlc2hvbGRzLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgIGlmICh0eXBlb2YgYXJnV2l0aFN1ZmZpeCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGFyZ1RocmVzaG9sZHMgPSBhcmdXaXRoU3VmZml4O1xuICAgICAgICAgICAgYXJnV2l0aFN1ZmZpeCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYXJnV2l0aFN1ZmZpeCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB3aXRoU3VmZml4ID0gYXJnV2l0aFN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGFyZ1RocmVzaG9sZHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aCA9IE9iamVjdC5hc3NpZ24oe30sIHRocmVzaG9sZHMsIGFyZ1RocmVzaG9sZHMpO1xuICAgICAgICAgICAgaWYgKGFyZ1RocmVzaG9sZHMucyAhPSBudWxsICYmIGFyZ1RocmVzaG9sZHMuc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoLnNzID0gYXJnVGhyZXNob2xkcy5zIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgdGgsIGxvY2FsZSk7XG5cbiAgICAgICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBzaWduKHgpIHtcbiAgICAgICAgcmV0dXJuICh4ID4gMCkgLSAoeCA8IDApIHx8ICt4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcbiAgICAgICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgICAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG4gICAgICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgICAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDAsXG4gICAgICAgICAgICBkYXlzID0gYWJzJDEodGhpcy5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnMkMSh0aGlzLl9tb250aHMpLFxuICAgICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICAgIGhvdXJzLFxuICAgICAgICAgICAgeWVhcnMsXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpLFxuICAgICAgICAgICAgdG90YWxTaWduLFxuICAgICAgICAgICAgeW1TaWduLFxuICAgICAgICAgICAgZGF5c1NpZ24sXG4gICAgICAgICAgICBobXNTaWduO1xuXG4gICAgICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAnUDBEJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgICAgICBtaW51dGVzID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgaG91cnMgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBzZWNvbmRzICU9IDYwO1xuICAgICAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgICAgIG1vbnRocyAlPSAxMjtcblxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgICAgICBzID0gc2Vjb25kcyA/IHNlY29uZHMudG9GaXhlZCgzKS5yZXBsYWNlKC9cXC4/MCskLywgJycpIDogJyc7XG5cbiAgICAgICAgdG90YWxTaWduID0gdG90YWwgPCAwID8gJy0nIDogJyc7XG4gICAgICAgIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgZGF5c1NpZ24gPSBzaWduKHRoaXMuX2RheXMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgICAgICBobXNTaWduID0gc2lnbih0aGlzLl9taWxsaXNlY29uZHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0b3RhbFNpZ24gK1xuICAgICAgICAgICAgJ1AnICtcbiAgICAgICAgICAgICh5ZWFycyA/IHltU2lnbiArIHllYXJzICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChtb250aHMgPyB5bVNpZ24gKyBtb250aHMgKyAnTScgOiAnJykgK1xuICAgICAgICAgICAgKGRheXMgPyBkYXlzU2lnbiArIGRheXMgKyAnRCcgOiAnJykgK1xuICAgICAgICAgICAgKGhvdXJzIHx8IG1pbnV0ZXMgfHwgc2Vjb25kcyA/ICdUJyA6ICcnKSArXG4gICAgICAgICAgICAoaG91cnMgPyBobXNTaWduICsgaG91cnMgKyAnSCcgOiAnJykgK1xuICAgICAgICAgICAgKG1pbnV0ZXMgPyBobXNTaWduICsgbWludXRlcyArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoc2Vjb25kcyA/IGhtc1NpZ24gKyBzICsgJ1MnIDogJycpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBwcm90byQyLmlzVmFsaWQgPSBpc1ZhbGlkJDE7XG4gICAgcHJvdG8kMi5hYnMgPSBhYnM7XG4gICAgcHJvdG8kMi5hZGQgPSBhZGQkMTtcbiAgICBwcm90byQyLnN1YnRyYWN0ID0gc3VidHJhY3QkMTtcbiAgICBwcm90byQyLmFzID0gYXM7XG4gICAgcHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuYXNTZWNvbmRzID0gYXNTZWNvbmRzO1xuICAgIHByb3RvJDIuYXNNaW51dGVzID0gYXNNaW51dGVzO1xuICAgIHByb3RvJDIuYXNIb3VycyA9IGFzSG91cnM7XG4gICAgcHJvdG8kMi5hc0RheXMgPSBhc0RheXM7XG4gICAgcHJvdG8kMi5hc1dlZWtzID0gYXNXZWVrcztcbiAgICBwcm90byQyLmFzTW9udGhzID0gYXNNb250aHM7XG4gICAgcHJvdG8kMi5hc1F1YXJ0ZXJzID0gYXNRdWFydGVycztcbiAgICBwcm90byQyLmFzWWVhcnMgPSBhc1llYXJzO1xuICAgIHByb3RvJDIudmFsdWVPZiA9IHZhbHVlT2YkMTtcbiAgICBwcm90byQyLl9idWJibGUgPSBidWJibGU7XG4gICAgcHJvdG8kMi5jbG9uZSA9IGNsb25lJDE7XG4gICAgcHJvdG8kMi5nZXQgPSBnZXQkMjtcbiAgICBwcm90byQyLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcztcbiAgICBwcm90byQyLnNlY29uZHMgPSBzZWNvbmRzO1xuICAgIHByb3RvJDIubWludXRlcyA9IG1pbnV0ZXM7XG4gICAgcHJvdG8kMi5ob3VycyA9IGhvdXJzO1xuICAgIHByb3RvJDIuZGF5cyA9IGRheXM7XG4gICAgcHJvdG8kMi53ZWVrcyA9IHdlZWtzO1xuICAgIHByb3RvJDIubW9udGhzID0gbW9udGhzO1xuICAgIHByb3RvJDIueWVhcnMgPSB5ZWFycztcbiAgICBwcm90byQyLmh1bWFuaXplID0gaHVtYW5pemU7XG4gICAgcHJvdG8kMi50b0lTT1N0cmluZyA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b1N0cmluZyA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b0pTT04gPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIubG9jYWxlID0gbG9jYWxlO1xuICAgIHByb3RvJDIubG9jYWxlRGF0YSA9IGxvY2FsZURhdGE7XG5cbiAgICBwcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLFxuICAgICAgICB0b0lTT1N0cmluZyQxXG4gICAgKTtcbiAgICBwcm90byQyLmxhbmcgPSBsYW5nO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbiAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQpICogMTAwMCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xuICAgIH0pO1xuXG4gICAgLy8hIG1vbWVudC5qc1xuXG4gICAgaG9va3MudmVyc2lvbiA9ICcyLjI5LjQnO1xuXG4gICAgc2V0SG9va0NhbGxiYWNrKGNyZWF0ZUxvY2FsKTtcblxuICAgIGhvb2tzLmZuID0gcHJvdG87XG4gICAgaG9va3MubWluID0gbWluO1xuICAgIGhvb2tzLm1heCA9IG1heDtcbiAgICBob29rcy5ub3cgPSBub3c7XG4gICAgaG9va3MudXRjID0gY3JlYXRlVVRDO1xuICAgIGhvb2tzLnVuaXggPSBjcmVhdGVVbml4O1xuICAgIGhvb2tzLm1vbnRocyA9IGxpc3RNb250aHM7XG4gICAgaG9va3MuaXNEYXRlID0gaXNEYXRlO1xuICAgIGhvb2tzLmxvY2FsZSA9IGdldFNldEdsb2JhbExvY2FsZTtcbiAgICBob29rcy5pbnZhbGlkID0gY3JlYXRlSW52YWxpZDtcbiAgICBob29rcy5kdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uO1xuICAgIGhvb2tzLmlzTW9tZW50ID0gaXNNb21lbnQ7XG4gICAgaG9va3Mud2Vla2RheXMgPSBsaXN0V2Vla2RheXM7XG4gICAgaG9va3MucGFyc2Vab25lID0gY3JlYXRlSW5ab25lO1xuICAgIGhvb2tzLmxvY2FsZURhdGEgPSBnZXRMb2NhbGU7XG4gICAgaG9va3MuaXNEdXJhdGlvbiA9IGlzRHVyYXRpb247XG4gICAgaG9va3MubW9udGhzU2hvcnQgPSBsaXN0TW9udGhzU2hvcnQ7XG4gICAgaG9va3Mud2Vla2RheXNNaW4gPSBsaXN0V2Vla2RheXNNaW47XG4gICAgaG9va3MuZGVmaW5lTG9jYWxlID0gZGVmaW5lTG9jYWxlO1xuICAgIGhvb2tzLnVwZGF0ZUxvY2FsZSA9IHVwZGF0ZUxvY2FsZTtcbiAgICBob29rcy5sb2NhbGVzID0gbGlzdExvY2FsZXM7XG4gICAgaG9va3Mud2Vla2RheXNTaG9ydCA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuICAgIGhvb2tzLm5vcm1hbGl6ZVVuaXRzID0gbm9ybWFsaXplVW5pdHM7XG4gICAgaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG4gICAgaG9va3MuY2FsZW5kYXJGb3JtYXQgPSBnZXRDYWxlbmRhckZvcm1hdDtcbiAgICBob29rcy5wcm90b3R5cGUgPSBwcm90bztcblxuICAgIC8vIGN1cnJlbnRseSBIVE1MNSBpbnB1dCB0eXBlIG9ubHkgc3VwcG9ydHMgMjQtaG91ciBmb3JtYXRzXG4gICAgaG9va3MuSFRNTDVfRk1UID0ge1xuICAgICAgICBEQVRFVElNRV9MT0NBTDogJ1lZWVktTU0tRERUSEg6bW0nLCAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgLz5cbiAgICAgICAgREFURVRJTUVfTE9DQUxfU0VDT05EUzogJ1lZWVktTU0tRERUSEg6bW06c3MnLCAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjFcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9NUzogJ1lZWVktTU0tRERUSEg6bW06c3MuU1NTJywgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIERBVEU6ICdZWVlZLU1NLUREJywgLy8gPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5cbiAgICAgICAgVElNRTogJ0hIOm1tJywgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5cbiAgICAgICAgVElNRV9TRUNPTkRTOiAnSEg6bW06c3MnLCAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIFRJTUVfTVM6ICdISDptbTpzcy5TU1MnLCAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBXRUVLOiAnR0dHRy1bV11XVycsIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgICAgIE1PTlRIOiAnWVlZWS1NTScsIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxuICAgIH07XG5cbiAgICByZXR1cm4gaG9va3M7XG5cbn0pKSk7XG4iLCAiaW1wb3J0IHsgUGx1Z2luLCBQb3MsIFRGaWxlLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLy8gRGFpbHkgTm90ZSBJbnRlcmZhY2VcclxuaW1wb3J0IHsgZ2V0QWxsRGFpbHlOb3RlcywgZ2V0RGFpbHlOb3RlLCBnZXREYXRlRnJvbUZpbGUsIElHcmFudWxhcml0eSB9IGZyb20gXCJvYnNpZGlhbi1kYWlseS1ub3Rlcy1pbnRlcmZhY2VcIjtcclxuLy8gbW9tZW50LmpzXHJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xyXG5cclxuaW1wb3J0IHsgRGFpbHlOb3RlT3V0bGluZVZpZXcsIERhaWx5Tm90ZU91dGxpbmVWaWV3VHlwZSB9IGZyb20gJ3NyYy92aWV3J1xyXG5pbXBvcnQgeyBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ1RhYiB9IGZyb20gJ3NyYy9zZXR0aW5nJ1xyXG5cclxuXHJcblxyXG4vLyBcdThBMkRcdTVCOUFcdTk4MDVcdTc2RUUgXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlOb3RlT3V0bGluZVNldHRpbmdzIHtcclxuXHRpbml0aWFsU2VhcmNoVHlwZTogc3RyaW5nOyAvL2ZvcndhcmQgb3IgYmFja3dhcmQgXHU3Mjc5XHU1QjlBXHU2NUU1XHUzMDRCXHUzMDg5XHU1MjREXHU2NUI5XHU2M0EyXHU3RDIyb3JcdTVGNTNcdTY1RTVcdTMwNEJcdTMwODlcdTVGOENcdTY1QjlcdTYzQTJcdTdEMjJcclxuXHRvZmZzZXQ6IG51bWJlcjtcdFx0Ly8gXHU2NzJBXHU2NzY1XHUzMDZFXHU2NUU1XHU0RUQ4XHUzMDgyXHU1NDJCXHUzMDgwXHU1ODM0XHU1NDA4XHU0RjU1XHU2NUU1XHU1MjA2XHU1NDJCXHUzMDgxXHUzMDhCXHUzMDRCIG51bWJlciBvZiBmdXR1cmUgZGF5cyB0byBzaG93IFxyXG5cdG9uc2V0OiBzdHJpbmc7XHRcdC8vIFx1NzI3OVx1NUI5QVx1NjVFNVx1MzA0Qlx1MzA4OWZvcndhcmRcdTMwNkJcdTYzQTJcdTdEMjJcdTMwNTlcdTMwOEJcdTU4MzRcdTU0MDhcdTMwNkVcdThENzdcdTcwQjlcdTY1RTUgb25zZXQgZGF0ZVxyXG5cdGR1cmF0aW9uOntcclxuXHRcdGRheTpudW1iZXI7XHJcblx0XHR3ZWVrOm51bWJlcjtcclxuXHRcdG1vbnRoOm51bWJlcjtcclxuXHRcdHF1YXJ0ZXI6bnVtYmVyO1xyXG5cdFx0eWVhcjpudW1iZXI7XHJcblx0fSAvLyBcdTYzQTJcdTdEMjJcdTY1RTVcdTY1NzAgbnVtYmVyIG9mIGRheXMgdG8gc2VhcmNoIHBlciBwYWdlXHJcblx0c2hvd0VsZW1lbnRzOntcclxuXHRcdGhlYWRpbmc6IGJvb2xlYW4sXHJcblx0XHRsaW5rOiBib29sZWFuLFxyXG5cdFx0dGFnOiBib29sZWFuLFxyXG5cdFx0bGlzdEl0ZW1zOiBib29sZWFuXHJcblx0fTtcclxuXHRoZWFkaW5nTGV2ZWw6IGJvb2xlYW5bXTtcclxuXHRhbGxSb290SXRlbXM6IGJvb2xlYW47XHJcblx0YWxsVGFza3M6IGJvb2xlYW47XHJcblx0dGFza09ubHk6IGJvb2xlYW47XHJcblx0aGlkZUNvbXBsZXRlZFRhc2tzOiBib29sZWFuO1xyXG5cdGRpc3BsYXlGaWxlSW5mbzogc3RyaW5nOyAvLyBub25lIHx8IGxpbmVzIHx8IGRheXNcclxuXHR2aWV3UG9zaXRpb246IHN0cmluZztcdC8vcmlnaHQgfHwgbGVmdCB8fCB0YWIgfHwgc3BsaXQgfHwgcG9wb3V0IFxyXG5cclxuXHR3b3Jkc1RvSWdub3JlOntcdC8vZmlsdGVyXHJcblx0XHRoZWFkaW5nOiBzdHJpbmdbXSxcclxuXHRcdGxpbms6IHN0cmluZ1tdLFxyXG5cdFx0dGFnOiBzdHJpbmdbXSxcclxuXHRcdGxpc3RJdGVtczogc3RyaW5nW11cclxuXHR9O1xyXG5cclxuXHRpbmxpbmVQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uOiBzdHJpbmc7IC8vIGxlZnQgfHwgcmlnaHRcclxuXHJcblxyXG5cdGluY2x1ZGVPbmx5OiBzdHJpbmc7XHQvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0luY2x1ZGU6IHN0cmluZ1tdO1xyXG5cdGluY2x1ZGVCZWdpbm5pbmc6IGJvb2xlYW47XHJcblxyXG5cdHByaW1lRWxlbWVudDogc3RyaW5nOyAvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0V4Y2x1ZGU6e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nW10sXHJcblx0XHRsaW5rOiBzdHJpbmdbXSxcclxuXHRcdHRhZzogc3RyaW5nW10sXHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZ1tdXHJcblx0fTtcclxuXHR3b3Jkc1RvRXh0cmFjdDogc3RyaW5nO1xyXG5cclxuXHRpY29uOntcdC8vaWNvbiBmb3IgZWFjaCB0eXBlIG9mIGVsZW1lbnRcclxuXHRcdGhlYWRpbmc6IHN0cmluZyxcclxuXHRcdGxpbms6IHN0cmluZyxcclxuXHRcdHRhZzogc3RyaW5nLFxyXG5cdFx0bGlzdEl0ZW1zOiBzdHJpbmcsXHJcblx0XHRub3RlOiBzdHJpbmcsXHJcblx0XHR0YXNrOiBzdHJpbmcsXHJcblx0XHR0YXNrRG9uZTogc3RyaW5nLFxyXG5cdH07XHJcblxyXG5cdGN1c3RvbUljb246e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nLFxyXG5cdFx0bGluazogc3RyaW5nLFxyXG5cdFx0dGFnOiBzdHJpbmcsXHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZyxcclxuXHRcdG5vdGU6IHN0cmluZyxcclxuXHRcdHRhc2s6IHN0cmluZyxcclxuXHRcdHRhc2tEb25lOiBzdHJpbmcsXHJcblx0fTtcclxuXHJcblx0aW5kZW50OntcclxuXHRcdGhlYWRpbmc6IGJvb2xlYW47XHJcblx0XHRsaW5rOiBib29sZWFuO1xyXG5cdFx0bGlzdEl0ZW1zOiBib29sZWFuO1xyXG5cdH07XHJcblx0cHJlZml4OntcclxuXHRcdGhlYWRpbmc6IHN0cmluZztcclxuXHRcdGxpbms6IHN0cmluZztcclxuXHRcdHRhZzogc3RyaW5nO1xyXG5cdFx0bGlzdEl0ZW1zOiBzdHJpbmc7XHJcblx0XHR0YXNrOiBzdHJpbmc7XHJcblx0XHR0YXNrRG9uZTogc3RyaW5nO1xyXG5cdH07XHJcblx0cmVwZWF0SGVhZGluZ1ByZWZpeDogc3RyaW5nOyAvLyBub25lLCBsZXZlbCwgbGV2ZWwtMVxyXG5cdGFkZENoZWNrYm94VGV4dDogYm9vbGVhbjtcclxuXHJcblx0cGVyaW9kaWNOb3Rlc0VuYWJsZWQ6IGJvb2xlYW47XHJcblx0Y2FsZW5kYXJTZXRzRW5hYmxlZDogYm9vbGVhbjtcclxuXHRhdHRhY2hXZWVrbHlOb3Rlc05hbWU6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8vIFx1OEEyRFx1NUI5QVx1OTgwNVx1NzZFRVx1MzBDN1x1MzBENVx1MzBBOVx1MzBFQlx1MzBDOFxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRGFpbHlOb3RlT3V0bGluZVNldHRpbmdzID0ge1xyXG5cdGluaXRpYWxTZWFyY2hUeXBlOiAnYmFja3dhcmQnLFxyXG5cdG9mZnNldDogNyxcclxuXHRvbnNldDogJzIwMjAtMDMtMzAnLFxyXG5cdGR1cmF0aW9uOiB7XHJcblx0XHRkYXk6MjgsXHJcblx0XHR3ZWVrOjEyLFxyXG5cdFx0bW9udGg6MTIsXHJcblx0XHRxdWFydGVyOjgsXHJcblx0XHR5ZWFyOjNcclxuXHR9LFxyXG5cdHNob3dFbGVtZW50czoge1xyXG5cdFx0aGVhZGluZzogdHJ1ZSxcclxuXHRcdGxpbms6IHRydWUsXHJcblx0XHR0YWc6IHRydWUsXHJcblx0XHRsaXN0SXRlbXM6IHRydWVcclxuXHR9LFxyXG5cdFxyXG5cdGhlYWRpbmdMZXZlbDogW3RydWUsIHRydWUsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdLFxyXG5cdGFsbFJvb3RJdGVtczogZmFsc2UsXHJcblx0YWxsVGFza3M6IHRydWUsXHJcblx0dGFza09ubHk6IGZhbHNlLFxyXG5cdGhpZGVDb21wbGV0ZWRUYXNrczogZmFsc2UsXHJcblx0ZGlzcGxheUZpbGVJbmZvOiAnbGluZXMnLFxyXG5cdHZpZXdQb3NpdGlvbjogJ3JpZ2h0JyxcclxuXHJcblx0d29yZHNUb0lnbm9yZTp7XHJcblx0XHRoZWFkaW5nOiBbXSxcclxuXHRcdGxpbms6IFtdLFxyXG5cdFx0dGFnOiBbXSxcclxuXHRcdGxpc3RJdGVtczogW11cclxuXHR9LFxyXG5cclxuXHRpbmxpbmVQcmV2aWV3OiB0cnVlLFxyXG5cdHRvb2x0aXBQcmV2aWV3OiB0cnVlLFxyXG5cdHRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uOiAnbGVmdCcsXHJcblxyXG5cdFxyXG5cdGluY2x1ZGVPbmx5OiAnbm9uZScsXHJcblx0d29yZHNUb0luY2x1ZGU6IFtdLFxyXG5cdGluY2x1ZGVCZWdpbm5pbmc6IHRydWUsXHJcblxyXG5cdHByaW1lRWxlbWVudDogJ25vbmUnLFxyXG5cdHdvcmRzVG9FeGNsdWRlOntcclxuXHRcdGhlYWRpbmc6IFtdLFxyXG5cdFx0bGluazogW10sXHJcblx0XHR0YWc6IFtdLFxyXG5cdFx0bGlzdEl0ZW1zOiBbXVxyXG5cdH0sXHJcblx0d29yZHNUb0V4dHJhY3Q6ICcnLFxyXG5cclxuXHRpY29uOntcdFxyXG5cdFx0aGVhZGluZzogJ25vbmUnLFxyXG5cdFx0bGluazogJ2xpbmsnLFxyXG5cdFx0dGFnOiAndGFnJyxcclxuXHRcdGxpc3RJdGVtczogJ2xpc3QnLFxyXG5cdFx0bm90ZTogJ2ZpbGUnLFxyXG5cdFx0dGFzazogJ3NxdWFyZScsXHJcblx0XHR0YXNrRG9uZTogJ2NoZWNrLXNxdWFyZSdcclxuXHR9LFxyXG5cdGN1c3RvbUljb246e1xyXG5cdFx0aGVhZGluZzogJ2hhc2gnLFxyXG5cdFx0bGluazogJ2xpbmsnLFxyXG5cdFx0dGFnOiAndGFnJyxcclxuXHRcdGxpc3RJdGVtczogJ2xpc3QnLFxyXG5cdFx0bm90ZTonZmlsZScsXHJcblx0XHR0YXNrOidzcXVhcmUnLFxyXG5cdFx0dGFza0RvbmU6J2NoZWNrLXNxdWFyZSdcclxuXHR9LFxyXG5cclxuXHRpbmRlbnQ6e1xyXG5cdFx0aGVhZGluZzogdHJ1ZSxcclxuXHRcdGxpbms6IHRydWUsXHJcblx0XHRsaXN0SXRlbXM6IHRydWUsXHJcblx0fSxcclxuXHRwcmVmaXg6e1xyXG5cdFx0aGVhZGluZzogJycsXHJcblx0XHRsaW5rOiAnJyxcclxuXHRcdHRhZzogJycsXHJcblx0XHRsaXN0SXRlbXM6ICcnLFxyXG5cdFx0dGFzazogJycsXHJcblx0XHR0YXNrRG9uZTogJydcclxuXHR9LFxyXG5cdHJlcGVhdEhlYWRpbmdQcmVmaXg6J25vbmUnLFxyXG5cdGFkZENoZWNrYm94VGV4dDogZmFsc2UsXHJcblxyXG5cdC8vIGRhaWx5Tm90ZUNvcmU6IHRydWUsXHJcblx0cGVyaW9kaWNOb3Rlc0VuYWJsZWQ6IHRydWUsXHJcblx0Y2FsZW5kYXJTZXRzRW5hYmxlZDogdHJ1ZSxcclxuXHRhdHRhY2hXZWVrbHlOb3Rlc05hbWU6IHRydWUsXHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVJbmZvIHtcclxuXHQvLyBmaWxlOlRGaWxlO1xyXG5cdGRhdGU6IG1vbWVudDtcclxuXHQvL2NvbnRlbnQ6IHN0cmluZztcclxuXHRsaW5lczogc3RyaW5nW107XHJcblx0bnVtT2ZMaW5lczogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3V0bGluZURhdGEge1x0XHJcblxyXG5cdHR5cGVPZkVsZW1lbnQ6J2hlYWRpbmcnfCdsaW5rJ3wndGFnJ3wnbGlzdEl0ZW1zJztcclxuXHRwb3NpdGlvbjpQb3M7XHJcblx0bGluaz86c3RyaW5nO1xyXG5cdGRpc3BsYXlUZXh0Pzogc3RyaW5nO1xyXG5cdC8vIGxldmVsIFx1RkYxQWxpc3RJdGVtc1x1MzA2Qlx1MzA2NFx1MzA0NFx1MzA2Nlx1MzA2RjBcdUZGMUFcdTMwQzhcdTMwQzNcdTMwRDdcdTMwMDExXHVGRjFBXHUzMEVCXHUzMEZDXHUzMEM4XHUzMDAxMlx1RkYxQVx1MzA1RFx1MzA4Q1x1NEVFNVx1NEUwQlxyXG5cdGxldmVsPzpudW1iZXI7XHJcblx0dGFzaz86IHN0cmluZ3x1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEQVlTX1BFUl9VTklUID17XHJcblx0ZGF5OiAxLFxyXG5cdHdlZWs6IDcsXHJcblx0bW9udGg6IDMwLFxyXG5cdHF1YXJ0ZXI6IDkwLFxyXG5cdHllYXI6MzY1XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBHUkFOVUxBUklUWV9MSVNUOiBJR3JhbnVsYXJpdHlbXSA9IFsnZGF5Jywnd2VlaycsJ21vbnRoJywncXVhcnRlcicsJ3llYXInXVxyXG5cclxuZXhwb3J0IGNvbnN0IEdSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZID0ge1xyXG5cdGRheTogJ2RhaWx5JyxcclxuXHR3ZWVrOiAnd2Vla2x5JyxcclxuXHRtb250aDogJ21vbnRobHknLFxyXG5cdHF1YXJ0ZXI6ICdxdWFydGVybHknLFxyXG5cdHllYXI6ICd5ZWFybHknXHJcbn0gXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYWlseU5vdGVPdXRsaW5lUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHJcblx0c2V0dGluZ3M6IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncztcclxuXHR2aWV3OiBEYWlseU5vdGVPdXRsaW5lVmlldztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0Ly9yZWdpc3RlciBjdXN0b21lIHZpZXcgYWNjb3JkaW5nIHRvIERldmxvcGVyIERvY3NcclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHREYWlseU5vdGVPdXRsaW5lVmlld1R5cGUsXHJcblx0XHRcdChsZWFmKSA9PiAodGhpcy52aWV3ID0gbmV3IERhaWx5Tm90ZU91dGxpbmVWaWV3KGxlYWYsIHRoaXMsIHRoaXMuc2V0dGluZ3MpKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvL1x1MzBCM1x1MzBERVx1MzBGM1x1MzBDOVx1OEZGRFx1NTJBMFxyXG5cdFx0Ly8gT3BlbiBPdXRsaW5lOiBcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg4NjhcdTc5M0FcdTc1MjhcdTMwNkVcdTMwQUJcdTMwQjlcdTMwQkZcdTMwRTBcdTMwRDNcdTMwRTVcdTMwRkNcdTMwOTJcdTk1OEJcdTMwNEZcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnZGFpbHktbm90ZS1vdXRsaW5lLW9wZW4nLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBPdXRsaW5lJyxcclxuXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKT0+IHtcclxuXHRcdFx0XHR0aGlzLmNoZWNrVmlldygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gLy8gZ2V0IFRvZGF5J3MgTm90ZTogRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFdGVzdFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1OTU4Qlx1NzY3QVx1NzUyOFx1MzBCM1x1MzBERVx1MzBGM1x1MzBDOVx1MzAwMlxyXG5cdFx0Ly8gLy8gXHU1MTY4RGFpbHlOb3RlXHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDVGXHUzMDZFXHUzMDYxXHUzMDAxXHU2NzJDXHU2NUU1XHU1MjA2XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDY2XHUzMDAxY29uc29sZVx1MzA2Qlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1MzAwMlxyXG5cdFx0XHJcblx0XHQvLyB0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0Ly8gXHRpZDogJ2RhaWx5LW5vdGUtb3V0bGluZS1nZXRUb2RheXNOb3RlJyxcclxuXHRcdC8vIFx0bmFtZTogXCJHZXQgVG9kYXkncyBOb3RlXCIsXHJcblx0XHQvLyBcdGNhbGxiYWNrOiBhc3luYyAoKT0+e1xyXG5cdFx0Ly8gXHRcdC8vIFx1NTE2OFx1MzA2Nlx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdGNvbnN0IGFsbERhaWx5Tm90ZXMgPSBnZXRBbGxEYWlseU5vdGVzKCk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2coYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2codHlwZW9mIGFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0Ly8gXHRcdGNvbnNvbGUubG9nKCdtb21lbnRcdTMwNURcdTMwNkVcdTMwN0VcdTMwN0UnLG1vbWVudCgpKTtcclxuXHRcdC8vIFx0XHRjb25zb2xlLmxvZyhgRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFXHUzMEFEXHUzMEZDXHUzMDZFXHU1RjYyXHU1RjBGXHUzMDZCXHUzMDAyZGF5LSR7bW9tZW50KCkuc3RhcnRPZignZGF5JykuZm9ybWF0KCl9YCk7XHJcblxyXG5cdFx0Ly8gXHRcdC8vXHU2NzJDXHU2NUU1XHUzMDZFXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHQvLyBcdFx0Y29uc3QgdG9kYXlzTm90ZSA9IGdldERhaWx5Tm90ZShtb21lbnQoKSwgYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHQvLyBcdFx0aWYgKHRvZGF5c05vdGUpe1xyXG5cdFx0Ly8gXHRcdFx0Y29uc29sZS5sb2codG9kYXlzTm90ZSlcclxuXHRcdC8vIFx0XHRcdC8vIFx1NjVFNVx1NEVEOFx1MzA2RVx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdFx0Y29uc3Qgbm90ZURhdGUgPSBnZXREYXRlRnJvbUZpbGUodG9kYXlzTm90ZSxcImRheVwiKTtcclxuXHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKGBcdTY1RTVcdTRFRDhcdTMwNkYgJHtub3RlRGF0ZX1cdTMwNjdcdTMwNTlgKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0Ly8gXHRcdFx0Y29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0b2RheXNOb3RlKTtcclxuXHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKCdjYWNoZTonLCBjYWNoZSk7XHJcblxyXG5cdFx0Ly8gXHRcdFx0Y29uc3Qgbm90ZSA9IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQodG9kYXlzTm90ZSk7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZyhub3RlKTtcclxuXHJcblx0XHQvLyBcdFx0fSBlbHNlIHtcclxuXHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKCdcdTRFQ0FcdTY1RTVcdTMwNkVcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNENcdTMwN0ZcdTMwNDJcdTMwNUZcdTMwOEFcdTMwN0VcdTMwNUJcdTMwOTMnKTtcclxuXHRcdC8vIFx0XHR9XHJcblx0XHQvLyBcdH1cclxuXHRcdC8vIH0pO1xyXG5cdFxyXG5cdC8vIHZpZXdcdTMwNkVcdTY2RjRcdTY1QjAoXHUzMEEyXHUzMEMzXHUzMEQ3XHUzMEM3XHUzMEZDXHUzMEM4XHU2NjQyXHU3NTI4KVxyXG5cdGlmICh0aGlzLmFwcC53b3Jrc3BhY2UubGF5b3V0UmVhZHkpe1xyXG5cdFx0dGhpcy5jaGVja1ZpZXcoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLndvcmtzcGFjZS5vbignbGF5b3V0LXJlYWR5JywgdGhpcy5jaGVja1ZpZXcpKTtcclxuXHR9XHJcblxyXG5cdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Ly8gRGV2ZWxvcGVyIERvY3NcdTMwNkJcdTVGOTNcdTMwNjNcdTMwNjZcdTMwQUJcdTMwQjlcdTMwQkZcdTMwRTBcdTMwRDNcdTMwRTVcdTMwRkNcdTMwOTJcdTMwQzdcdTMwQkZcdTMwQzNcdTMwQzFcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdFx0Ly8gdjAuNi4wXHU0RUU1XHU1MjREXHUzMDZFXHU4QTJEXHU1QjlBXHUzMEM3XHUzMEZDXHUzMEJGXHUzMDZCXHU1QkZFXHUzMDU3XHUzMDY2XHU0RTkyXHU2M0RCXHU2MDI3XHUzMDkyXHU3REFEXHU2MzAxXHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHUzMDZFXHU1QkZFXHU1RkRDXHJcblx0XHQvLyAwLjZcdUZGMEUwXHU0RUU1XHU1MjREXHUzMDZGZHVyYXRpb25cdTMwNkYgbnVtYmVyXHU1NzhCXHUzMDYwXHUzMDYzXHUzMDVGXHUzMDRDXHUzMDAxIGRheX55ZWFyXHUzMDZFXHUzMEQ3XHUzMEVEXHUzMEQxXHUzMEM2XHUzMEEzXHUzMDkyXHU2MzAxXHUzMDY0XHUzMEFBXHUzMEQ2XHUzMEI4XHUzMEE3XHUzMEFGXHUzMEM4XHUzMDZCXHU1OTA5XHU2NkY0XHUzMDU3XHUzMDVGXHUzMDAyXHJcblx0XHRpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MuZHVyYXRpb24gPT09IFwibnVtYmVyXCIpe1xyXG5cdFx0XHR0aGlzLnNldHRpbmdzLmR1cmF0aW9uID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRjaGVja1ZpZXcgPSBhc3luYygpOlByb21pc2U8dm9pZD4gPT4ge1xyXG5cclxuXHRcdGxldCBbbGVhZl0gPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKERhaWx5Tm90ZU91dGxpbmVWaWV3VHlwZSk7XHJcblx0XHRpZiAoIWxlYWYpIHtcclxuXHRcdFx0c3dpdGNoICh0aGlzLnNldHRpbmdzLnZpZXdQb3NpdGlvbikge1xyXG5cdFx0XHRcdGNhc2UgJ3JpZ2h0JzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2xlZnQnOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWZ0TGVhZihmYWxzZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICd0YWInOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ3NwbGl0JzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZignc3BsaXQnKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ3BvcG91dCc6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3dpbmRvdycpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiBEYWlseU5vdGVPdXRsaW5lVmlld1R5cGV9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG5cclxuXHR9IFxyXG5cdCBcclxufSIsICJpbXBvcnQgeyBNYXJrZG93blZpZXcsIE5vdGljZSwgc2V0SWNvbiwgZGVib3VuY2UsIERlYm91bmNlciwgTWVudSwgVmlld1N0YXRlUmVzdWx0LCBWaWV3fSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgVEZpbGV9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCB7IGdldEFsbERhaWx5Tm90ZXMsIGdldERhdGVGcm9tRmlsZSwgY3JlYXRlRGFpbHlOb3RlLCBnZXREYXRlVUlELCBcclxuXHRnZXRBbGxXZWVrbHlOb3RlcywgZ2V0QWxsTW9udGhseU5vdGVzLCBnZXRBbGxRdWFydGVybHlOb3RlcywgZ2V0QWxsWWVhcmx5Tm90ZXMsIElHcmFudWxhcml0eSB9IGZyb20gXCJvYnNpZGlhbi1kYWlseS1ub3Rlcy1pbnRlcmZhY2VcIjtcclxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcclxuXHJcbmltcG9ydCBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLCB7IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncywgT3V0bGluZURhdGEsIEZpbGVJbmZvLCBEQVlTX1BFUl9VTklULEdSQU5VTEFSSVRZX0xJU1QsIEdSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZfSBmcm9tICdzcmMvbWFpbic7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVBbmRPcGVuRGFpbHlOb3RlIH0gZnJvbSAnc3JjL2NyZWF0ZUFuZE9wZW5EYWlseU5vdGUnO1xyXG5pbXBvcnQgeyBNb2RhbEV4dHJhY3QgfSBmcm9tICdzcmMvbW9kYWxFeHRyYWN0JztcclxuXHJcbi8vIFBlcmlvZGljIE5vdGVzXHJcbmltcG9ydCB7dHlwZSBDYWxlbmRhclNldCx9IGZyb20gJ3NyYy9wZXJpb2RpY05vdGVzVHlwZXMnO1xyXG5pbXBvcnQgeyBjcmVhdGVBbmRPcGVuUGVyaW9kaWNOb3RlIH0gZnJvbSAnLi9jcmVhdGVBbmRPcGVuUGVyaW9kaWNOb3RlJztcclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlID0gJ2RhaWx5LW5vdGUtb3V0bGluZSc7XHJcblxyXG4vLyBTdGF0ZVx1MzA2N1x1NzNGRVx1NTcyOFx1ODg2OFx1NzkzQVx1NEUyRFx1MzA2RVx1N0M5Mlx1NUVBNlx1MzAwMVx1MzBBQlx1MzBFQ1x1MzBGM1x1MzBDMFx1MzBGQ1x1MzBCQlx1MzBDM1x1MzBDOFx1MzA5Mlx1NEZERFx1NjMwMVxyXG5pbnRlcmZhY2UgSURhaWx5Tm90ZU91dGxpbmVTdGF0ZSB7XHJcblx0YWN0aXZlU2V0OiBudW1iZXI7XHJcblx0YWN0aXZlR3JhbnVsYXJpdHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERhaWx5Tm90ZU91dGxpbmVWaWV3IGV4dGVuZHMgSXRlbVZpZXcgaW1wbGVtZW50cyBJRGFpbHlOb3RlT3V0bGluZVN0YXRlIHtcclxuXHRcclxuXHRwcml2YXRlIHBsdWdpbjogRGFpbHlOb3RlT3V0bGluZVBsdWdpbjtcdFx0XHJcblx0cHJpdmF0ZSBzZXR0aW5nczpEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3M7XHJcblxyXG5cdHByaXZhdGUgYWxsRGFpbHlOb3RlczogUmVjb3JkPHN0cmluZyxURmlsZT47XHJcblx0XHJcblx0cHJpdmF0ZSB0YXJnZXRGaWxlczogVEZpbGVbXTtcclxuXHRwcml2YXRlIGZpbGVJbmZvOiBGaWxlSW5mb1tdO1xyXG5cdHByaXZhdGUgc2VhcmNoUmFuZ2U6IHtcclxuXHRcdGxhdGVzdDogbW9tZW50LFxyXG5cdFx0ZWFybGllc3Q6IG1vbWVudFxyXG5cdH0gPSB7XHJcblx0XHRsYXRlc3Q6IG1vbWVudCgpLFxyXG5cdFx0ZWFybGllc3Q6IG1vbWVudCgpXHJcblx0fTtcclxuXHRwcml2YXRlIG91dGxpbmVEYXRhOiBPdXRsaW5lRGF0YVtdW107XHJcblxyXG5cdHByaXZhdGUgZmxhZ1JlZHJhdzogYm9vbGVhbjtcclxuXHRwcml2YXRlIGZsYWdSZWdldEFsbDogYm9vbGVhbjtcclxuXHJcblx0cHJpdmF0ZSBleHRyYWN0TW9kZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgZXh0cmFjdFRhc2s6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblx0Ly8gUGVyaW9kaWMgTm90ZXNcclxuXHR2ZXJQTjogbnVtYmVyOyAgLy8gUGVyaW9kaWMgTm90ZXMgcGx1Z2luXHUzMDZFXHUzMEQwXHUzMEZDXHUzMEI4XHUzMEU3XHUzMEYzICAwXHVGRjFBb2ZmICAxXHVGRjFBPDEuMC4wICAyOj49MS4wLjAgXHJcblx0Y2FsZW5kYXJTZXRzOiBDYWxlbmRhclNldFtdO1xyXG5cdGFjdGl2ZVNldDogbnVtYmVyID0gMDsgXHJcblx0YWN0aXZlR3JhbnVsYXJpdHk6IG51bWJlciA9IDA7IC8vIGRheSB8IHdlZWsgfCBtb250aCB8IHF1YXJ0ZXIgfCB5ZWFyIEdSQU5VTEFSSVRZX0xJU1RcdTMwNkVcdTZERkJcdTMwNDhcdTVCNTdcdTMwNjhcdTMwNTdcdTMwNjZcclxuICBcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdGxlYWY6IFdvcmtzcGFjZUxlYWYsXHJcblx0XHRwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW4sXHJcblx0XHRzZXR0aW5nczogRGFpbHlOb3RlT3V0bGluZVNldHRpbmdzLFxyXG5cdCkge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuXHR9XHJcbiAgXHJcblx0Z2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBEYWlseU5vdGVPdXRsaW5lVmlld1R5cGU7XHJcblx0fVxyXG4gIFxyXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gJ0RhaWx5IE5vdGUgT3V0bGluZSc7XHJcblx0fVxyXG4gIFxyXG5cdGdldEljb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiAnY2FsZW5kYXItY2xvY2snO1xyXG5cdH1cclxuXHJcblx0XHJcblx0YXN5bmMgb25PcGVuKCl7XHJcblxyXG5cdFx0dGhpcy5pbml0VmlldygpO1xyXG5cdFx0Ly8gIFx1NTIxRFx1NTZERVx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1NjNBMlx1N0QyMlx1NTFFNlx1NzQwNlx1MzA2RmluaXRWaWV3KClcdTMwNkJcdTc5RkJcdTUyRDVcdTMwNTdcdTMwMDFcdTVCOUZcdTg4NENcdTUyNERcdTMwNkJcdTMwOEZcdTMwNUFcdTMwNEJcdTMwNkJcdTMwQTZcdTMwQThcdTMwQTRcdTMwQzgoYm9vdERlbGF5KVx1MzA5Mlx1NTE2NVx1MzA4Q1x1MzA1Rlx1MzAwMlxyXG5cdFx0Ly8gIFx1MzA1RFx1MzA0Nlx1MzA1N1x1MzA2QVx1MzA0NFx1MzA2OFx1OEQ3N1x1NTJENVx1NjY0Mlx1MzA2Qlx1NTE2OFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA2RVx1MzBDN1x1MzBGQ1x1MzBCRlx1NTNENlx1NUY5N1x1MzA2Qlx1NTkzMVx1NjU1N1x1MzA1OVx1MzA4Qlx1MzA4OFx1MzA0Nlx1MzA2MFx1MzA2M1x1MzA1Rlx1MzA1Rlx1MzA4MVx1MzAwMlxyXG5cclxuXHRcdC8vXHU4MUVBXHU1MkQ1XHU2NkY0XHU2NUIwXHUzMDZFXHUzMDVGXHUzMDgxXHUzMDZFXHUzMEM3XHUzMEZDXHUzMEJGXHU1OTA5XHU2NkY0XHUzMDAxXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU4RkZEXHU1MkEwL1x1NTI0QVx1OTY2NFx1MzA2RVx1NzZFM1x1ODk5NiBvYnNlcnZlIGZpbGUgY2hhbmdlL2NyZWF0ZS9kZWxldGVcclxuXHRcdGNvbnN0IGRlYm91bmNlclJlcXVlc3RSZWZyZXNoOkRlYm91bmNlcjxbXT4gPSBkZWJvdW5jZSh0aGlzLmF1dG9SZWZyZXNoLDIwMDAsdHJ1ZSk7XHJcblx0XHR0aGlzLmZsYWdSZWRyYXcgPSBmYWxzZTtcclxuXHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gZmFsc2U7IFxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oJ2NoYW5nZWQnLCAoZmlsZSkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy50YXJnZXRGaWxlcy5pbmNsdWRlcyhmaWxlKSl7XHJcblx0XHRcdFx0dGhpcy5mbGFnUmVkcmF3ID0gdHJ1ZTtcclxuXHRcdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0XHR9XHJcblx0XHR9KSk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKCdjcmVhdGUnLChmaWxlKT0+e1xyXG5cdFx0XHR0aGlzLmZsYWdSZWdldEFsbCA9IHRydWU7XHJcblx0XHRcdGRlYm91bmNlclJlcXVlc3RSZWZyZXNoLmNhbGwodGhpcyk7XHJcblx0XHR9KSk7XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oJ2RlbGV0ZScsKGZpbGUpPT57XHJcblx0XHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gdHJ1ZTtcclxuXHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdH0pKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uQ2xvc2UoKXtcclxuXHRcdC8vIE5vdGhpbiB0byBjbGVhbiB1cFxyXG5cdH1cclxuXHJcblx0Ly8gaHR0cHM6Ly9saWFtY2EuaW4vT2JzaWRpYW4vQVBJK0ZBUS92aWV3cy9wZXJzaXN0aW5nK3lvdXIrdmlldytzdGF0ZVxyXG5cdGFzeW5jIHNldFN0YXRlKHN0YXRlOiBJRGFpbHlOb3RlT3V0bGluZVN0YXRlLCByZXN1bHQ6Vmlld1N0YXRlUmVzdWx0KTpQcm9taXNlPHZvaWQ+e1xyXG5cdFx0aWYgKHN0YXRlLmFjdGl2ZVNldCl7XHJcblx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gc3RhdGUuYWN0aXZlU2V0O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHN0YXRlLmFjdGl2ZUdyYW51bGFyaXR5KXtcclxuXHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9IHN0YXRlLmFjdGl2ZUdyYW51bGFyaXR5O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN1cGVyLnNldFN0YXRlKHN0YXRlLCByZXN1bHQpO1xyXG5cdH1cclxuXHJcblx0Z2V0U3RhdGUoKTogSURhaWx5Tm90ZU91dGxpbmVTdGF0ZSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRhY3RpdmVTZXQ6IHRoaXMuYWN0aXZlU2V0LFxyXG5cdFx0XHRhY3RpdmVHcmFudWxhcml0eTogdGhpcy5hY3RpdmVHcmFudWxhcml0eSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGluaXRWaWV3KCkge1xyXG5cdFx0YXdhaXQgdGhpcy5ib290RGVsYXkoKTsgLy9cdTVDMTFcdTMwNTdcdTVGODVcdTMwNUZcdTMwNkFcdTMwNDRcdTMwNjhcdThENzdcdTUyRDVcdTc2RjRcdTVGOENcdTMwNkZEYWlseSBOb3RlXHUzMDZFXHU1M0Q2XHU1Rjk3XHUzMDZCXHU1OTMxXHU2NTU3XHUzMDU5XHUzMDhCXHUzMDg4XHUzMDQ2XHUzMDYwXHJcblxyXG5cdFx0dGhpcy52ZXJQTiA9IGF3YWl0IHRoaXMuY2hlY2tQZXJpb2RpY05vdGVzKCk7XHJcblx0XHR0aGlzLnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlLCB0cnVlKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYm9vdERlbGF5KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4geyBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMCk7fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGF1dG9SZWZyZXNoKCl7XHJcblx0XHRpZiAoISh0aGlzLmZsYWdSZWRyYXcgfHwgdGhpcy5mbGFnUmVnZXRBbGwpKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVmcmVzaFZpZXcodGhpcy5mbGFnUmVnZXRBbGwsIHRoaXMuZmxhZ1JlZ2V0QWxsLCB0cnVlKTtcclxuXHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gZmFsc2U7XHJcblx0XHR0aGlzLmZsYWdSZWRyYXcgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBFQVx1MzBENVx1MzBFQ1x1MzBDM1x1MzBCN1x1MzBFNVx1MzBCQlx1MzBGM1x1MzBCRlx1MzBGQ1xyXG5cdC8vIHJlZ2V0QWxsXHUzMDRDdHJ1ZTogXHU1MTY4XHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHU3NkY0XHUzMDU5XHJcblx0Ly8gZ2V0VGFyZ2V0XHUzMDRDdHJ1ZTogXHU3M0ZFXHU1NzI4XHUzMDZFXHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDZCXHU1NDJCXHUzMDdFXHUzMDhDXHUzMDhCXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU3Mjc5XHU1QjlBXHJcblx0Ly8gZ2V0T3V0bGluZVx1MzA0Q3RydWU6IFx1NUJGRVx1OEM2MVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1N0ZBNFx1MzA2RVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NjBDNVx1NTgzMVx1MzAwMVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NjBDNVx1NTgzMVx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdC8vIFx1MzA1RFx1MzA2RVx1NUY4Q1VJXHU5MEU4XHU1MjA2XHUzMDY4XHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU5MEU4XHU1MjA2XHUzMDkyXHU2M0NGXHU3NTNCXHJcblx0YXN5bmMgcmVmcmVzaFZpZXcocmVnZXRBbGw6IGJvb2xlYW4sIGdldFRhcmdldDpib29sZWFuLCBnZXRPdXRsaW5lOmJvb2xlYW4pe1xyXG5cdFx0YXdhaXQgdGhpcy5jaGVja1BlcmlvZGljTm90ZXMoKTtcclxuXHJcblx0XHRpZiAodGhpcy52ZXJQTiAhPSAyKXtcclxuXHRcdFx0Ly8gY29yZSBkYWlseSBub3RlLyBwZXJpb2RpYyBub3RlcyBwbHVnaW4gdjAueCBcdTMwNkVcdTU4MzRcdTU0MDhcclxuXHRcdFx0aWYgKHJlZ2V0QWxsKXtcclxuXHRcdFx0XHR0aGlzLmFsbERhaWx5Tm90ZXMgPSB0aGlzLmdldEFsbE5vdGVzKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGdldFRhcmdldCl7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcyA9IHRoaXMuZ2V0VGFyZ2V0RmlsZXModGhpcy5hbGxEYWlseU5vdGVzLCBHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihnZXRPdXRsaW5lKXtcclxuXHRcdFx0XHR0aGlzLmZpbGVJbmZvID0gYXdhaXQgdGhpcy5nZXRGaWxlSW5mbyh0aGlzLnRhcmdldEZpbGVzKTtcclxuXHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhID0gYXdhaXQgdGhpcy5nZXRPdXRsaW5lKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZHJhd1VJKCk7XHJcblx0XHRcdHRoaXMuZHJhd091dGxpbmUodGhpcy50YXJnZXRGaWxlcywgdGhpcy5maWxlSW5mbywgdGhpcy5vdXRsaW5lRGF0YSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBwZXJpb2RpYyBub3RlcyBwbHVnaW4gdjEueFx1NUJGRVx1NUZEQ1xyXG5cdFx0XHRpZiAoIXRoaXMuY2FsZW5kYXJTZXRzW3RoaXMuYWN0aXZlU2V0XSl7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKXtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID0gMDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGdldFRhcmdldCl7XHJcblx0XHRcdFx0dGhpcy50YXJnZXRGaWxlcyA9IHRoaXMuZ2V0VGFyZ2V0UGVyaW9kaWNOb3Rlcyh0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0sIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGdldE91dGxpbmUpe1xyXG5cdFx0XHRcdHRoaXMuZmlsZUluZm8gPSBhd2FpdCB0aGlzLmdldEZpbGVJbmZvKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHRcdHRoaXMub3V0bGluZURhdGEgPSBhd2FpdCB0aGlzLmdldE91dGxpbmUodGhpcy50YXJnZXRGaWxlcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kcmF3VUkoKTtcclxuXHRcdFx0dGhpcy5kcmF3T3V0bGluZSh0aGlzLnRhcmdldEZpbGVzLCB0aGlzLmZpbGVJbmZvLCB0aGlzLm91dGxpbmVEYXRhKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHQvLyBcdTUzRDZcdTVGOTdcdTMwNTdcdTMwNUZcdTUxNjhcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNEJcdTMwODlcdTYzQTJcdTdEMjJcdTdCQzRcdTU2RjJcdTMwNkVcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTUyMDdcdTMwOEFcdTUxRkFcdTMwNTkgIFxyXG5cdC8vICh2ZXIwLngueFx1MzA2RXBlcmlvZGljIG5vdGVzXHUzMDZCXHUzMDgyXHU1QkZFXHU1RkRDXHUzMDAyKVxyXG5cdHByaXZhdGUgZ2V0VGFyZ2V0RmlsZXMoYWxsRmlsZXM6UmVjb3JkPHN0cmluZyxURmlsZT4sIGdyYW51bGFyaXR5OiBJR3JhbnVsYXJpdHkpOiBURmlsZVtde1xyXG5cclxuXHRcdGxldCBmaWxlczogVEZpbGVbXSA9IFtdO1xyXG5cdFx0bGV0IGNoZWNrRGF0ZSA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCk7XHJcblx0XHRsZXQgY2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0nYmFja3dhcmQnKXtcclxuXHRcdFx0aWYoY2hlY2tEYXRlLmlzU2FtZShtb21lbnQoKSwnZGF5Jykpe1xyXG5cdFx0XHRcdGNoZWNrRGF0ZS5hZGQoTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Mub2Zmc2V0L0RBWVNfUEVSX1VOSVRbZ3JhbnVsYXJpdHldKSxncmFudWxhcml0eSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBmb3J3YXJkIHNlYXJjaFx1MzA2RVx1MzA2OFx1MzA0RFxyXG5cdFx0XHRjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHdoaWxlIChjaGVja0RhdGUuaXNTYW1lT3JBZnRlcihjaGVja0RhdGVFYXJsaWVzdCxncmFudWxhcml0eSkpe1xyXG5cdFx0XHRpZiAoYWxsRmlsZXNbZ2V0RGF0ZVVJRChjaGVja0RhdGUsIGdyYW51bGFyaXR5KV0pe1xyXG5cdFx0XHRcdGZpbGVzLnB1c2goYWxsRmlsZXNbZ2V0RGF0ZVVJRChjaGVja0RhdGUsIGdyYW51bGFyaXR5KV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNoZWNrRGF0ZS5zdWJ0cmFjdCgxLGdyYW51bGFyaXR5KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblxyXG5cdC8vIFx1NjNBMlx1N0QyMlx1N0JDNFx1NTZGMlx1MzA2RVBlcmlvZGljIE5vdGVzXHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU5XHUzMDhCIFx1RkYwOHBlaXJvZGljIG5vdGVzIDEueC54XHU3NTI4XHVGRjA5XHJcblx0cHJpdmF0ZSBnZXRUYXJnZXRQZXJpb2RpY05vdGVzKGNhbGVuZGFyU2V0OiBDYWxlbmRhclNldCwgZ3JhbnVsYXJpdHk6IElHcmFudWxhcml0eSk6IFRGaWxlW117XHJcblx0XHRsZXQgZmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHJcblx0XHQvLyBkYXlcdTU3RkFcdTZFOTZcdTMwNkVcdTYzQTJcdTdEMjJcdTdCQzRcdTU2RjJcdTMwNjdcdTMwNDJcdTMwOEJzZWFyY2hSYW5nZVx1MzA5Mlx1NTE0M1x1MzA2Qlx1MzAwMVx1N0M5Mlx1NUVBNlx1MzA2Qlx1NUZEQ1x1MzA1OFx1MzA2Nlx1NjNBMlx1N0QyMlx1N0JDNFx1NTZGMlx1MzA5Mlx1NjJFMVx1NUYzNVx1MzA1N1x1MzA1Rlx1MzA4Mlx1MzA2RVx1MzA5MmNoZWNrRGF0ZSxjaGVja0RhdGVFYXJsaWVzdFx1MzA2Qlx1NEVFM1x1NTE2NVxyXG5cdFx0bGV0IGNoZWNrRGF0ZSA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCk7XHJcblx0XHRsZXQgY2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCk7XHJcblx0XHRcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlPT0nYmFja3dhcmQnKXtcclxuXHRcdFx0aWYoY2hlY2tEYXRlLmlzU2FtZShtb21lbnQoKSwnZGF5Jykpe1xyXG5cdFx0XHRcdGNoZWNrRGF0ZS5hZGQoTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Mub2Zmc2V0L0RBWVNfUEVSX1VOSVRbZ3JhbnVsYXJpdHldKSxncmFudWxhcml0eSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBmb3J3YXJkIHNlYXJjaFx1MzA2RVx1MzA2OFx1MzA0RFxyXG5cdFx0XHRjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9XHRcclxuXHJcblx0XHR3aGlsZSAoY2hlY2tEYXRlLmlzU2FtZU9yQWZ0ZXIoY2hlY2tEYXRlRWFybGllc3QsZ3JhbnVsYXJpdHkpKXtcclxuXHRcdFx0Y29uc3QgY2FjaGVzID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5nZXRQZXJpb2RpY05vdGVzKGNhbGVuZGFyU2V0LmlkLGdyYW51bGFyaXR5LGNoZWNrRGF0ZSk7XHJcblx0XHRcdGlmIChjYWNoZXMpIHtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgY2FjaGVzKXtcclxuXHRcdFx0XHRcdC8vIFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzBEMVx1MzBCOVx1MzA2QlBOXHUzMDZFXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDRDXHU1NDJCXHUzMDdFXHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0ICYmIFBOXHUzMDZFXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDRDXHU2MzA3XHU1QjlBXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhCIFx1MzA2RVx1MzA2OFx1MzA0RFx1MzA2Rlx1NTFFNlx1NzQwNlx1MzA5Mlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0Ly8gXHVGRjBBXHU3M0ZFXHU3MkI2XHUzMDZFUE5cdTMwRDlcdTMwRkNcdTMwQkZcdTMwNjdcdTMwNkZcdTMwMDFcdTMwQUJcdTMwRUNcdTMwRjNcdTMwQzBcdTMwRkNcdTMwQkJcdTMwQzNcdTMwQzhcdTMwNkVcdTYzMDdcdTVCOUFcdTMwNkJcdTMwNEJcdTMwNEJcdTMwOEZcdTMwODlcdTMwNUFcdTUxNjhcdTMwQkJcdTMwQzNcdTMwQzhcdTMwNkJcdTU0MkJcdTMwN0VcdTMwOENcdTMwOEJQTlx1MzA0Q1x1OEZENFx1MzA1NVx1MzA4Q1x1MzA4Qlx1MzA4OFx1MzA0Nlx1MzA2N1x1MzA0Mlx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzAwMVx1NTQwNFx1MzBCQlx1MzBDM1x1MzBDOFx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzBEMVx1MzBCOVx1MzA2N1x1MzBENVx1MzBBM1x1MzBFQlx1MzBCRlx1MzBFQVx1MzBGM1x1MzBCMFx1MzA1OVx1MzA4QlxyXG5cdFx0XHRcdFx0Ly8gXHUzMDVGXHUzMDYwXHUzMDU3XHUzMEQ1XHUzMEExXHUzMEFBXHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDRDXHU2MzA3XHU1QjlBXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHUzMDY4XHUzMDREXHUzMDZGXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0XHRpZiAoIWZpbGUuZmlsZVBhdGguc3RhcnRzV2l0aChjYWxlbmRhclNldFtncmFudWxhcml0eV0uZm9sZGVyLmNvbmNhdChcIi9cIikpICYmIGNhbGVuZGFyU2V0W2dyYW51bGFyaXR5XS5mb2xkZXIpe1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IGZpbGVvYmogPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZS5maWxlUGF0aCk7XHJcblx0XHRcdFx0XHRpZiAoZmlsZW9iaiBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRcdFx0ZmlsZXMucHVzaChmaWxlb2JqKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlLnN1YnRyYWN0KDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vIFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA2RVx1OTE0RFx1NTIxN1x1MzA0Qlx1MzA4OVx1NTQwNFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2Qlx1OTVBMlx1MzA1OVx1MzA4Qlx1NjBDNVx1NTgzMVx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0RmlsZUluZm8oZmlsZXM6VEZpbGVbXSk6UHJvbWlzZTxGaWxlSW5mb1tdPntcclxuXHRcdGxldCBmaWxlSW5mbzpGaWxlSW5mb1tdPVtdO1xyXG5cdFx0Zm9yIChsZXQgaT0wOyBpIDwgZmlsZXMubGVuZ3RoIDsgaSsrKXtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZXNbaV0pO1xyXG5cdFx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XHJcblx0XHRcdGxldCBpbmZvOkZpbGVJbmZvID0ge1xyXG5cdFx0XHRcdGRhdGU6IGdldERhdGVGcm9tRmlsZShmaWxlc1tpXSxHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKSxcclxuXHRcdFx0XHQvL2NvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0bGluZXM6IGxpbmVzLFxyXG5cdFx0XHRcdG51bU9mTGluZXM6IGxpbmVzLmxlbmd0aFxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHBlcmlvZGljIG5vdGVzIGJldGFcdTVCRkVcdTVGRENcclxuXHRcdFx0aWYgKHRoaXMudmVyUE4gPT0gMil7XHJcblx0XHRcdFx0aW5mby5kYXRlID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5jYWNoZWRGaWxlcy5nZXQodGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkKS5nZXQoZmlsZXNbaV0ucGF0aCkuZGF0ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZmlsZUluZm8ucHVzaChpbmZvKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlSW5mbztcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBFMVx1MzBCRlx1MzBDN1x1MzBGQ1x1MzBCRlx1MzA0Qlx1MzA4OVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0T3V0bGluZShmaWxlczpURmlsZVtdKTpQcm9taXNlPE91dGxpbmVEYXRhW11bXT57XHJcblx0XHRsZXQgZGF0YTpPdXRsaW5lRGF0YVtdW109W107ICAgIFxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPCBmaWxlcy5sZW5ndGggOyBpKyspe1xyXG5cdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGVzW2ldKTtcclxuXHRcdFx0Ly8gXHU3QTdBXHU5MTREXHU1MjE3XHUzMDkyXHU2MzA3XHU1QjlBXHJcblx0XHRcdGRhdGFbaV09W107XHJcblx0XHRcdC8vIGhlYWRpbmdzLGxpbmtzLHRhZ3NcdTMwOTJcdTYyQkRcdTUxRkFcclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBoZWFkaW5ncycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5oZWFkaW5ncy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwiaGVhZGluZ1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmhlYWRpbmdzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IGNhY2hlLmhlYWRpbmdzW2pdLmhlYWRpbmcsXHJcblx0XHRcdFx0XHRcdGxldmVsOiBjYWNoZS5oZWFkaW5nc1tqXS5sZXZlbFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaW5rcycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5saW5rcy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwibGlua1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmxpbmtzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHQvL1x1MzBERVx1MzBGQ1x1MzBBRlx1MzBDMFx1MzBBNlx1MzBGM1x1MzBFQVx1MzBGM1x1MzBBRiBcdTMwNkJcdTVCRkVcdTVGRENcclxuXHRcdFx0XHRcdFx0ZGlzcGxheVRleHQgOiBcclxuXHRcdFx0XHRcdFx0XHQoY2FjaGUubGlua3Nbal0uZGlzcGxheVRleHQgPT1cIlwiKSBcclxuXHRcdFx0XHRcdFx0XHQ/IGNhY2hlLmxpbmtzW2pdLm9yaWdpbmFsLnN1YnN0cmluZygxLGNhY2hlLmxpbmtzW2pdLm9yaWdpbmFsLmluZGV4T2YoXCJdXCIpKSBcclxuXHRcdFx0XHRcdFx0XHQ6IGNhY2hlLmxpbmtzW2pdLmRpc3BsYXlUZXh0LFxyXG5cdFx0XHRcdFx0XHRsaW5rOiBjYWNoZS5saW5rc1tqXS5saW5rXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGF0YVtpXS5wdXNoKGVsZW1lbnQpO1xyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjb25zb2xlLmxvZygnY2hlY2sgbGlzdHMnKTtcclxuXHRcdFx0aWYgKGNhY2hlLmhhc093blByb3BlcnR5KFwibGlzdEl0ZW1zXCIpKXtcclxuXHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5saXN0SXRlbXMubGVuZ3RoIDsgaisrKXtcclxuXHRcdFx0XHRcdC8vXHU0RUU1XHU0RTBCXHUzMDY3XHUzMEVBXHUzMEI5XHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDZFXHU5NjhFXHU1QzY0XHUzMDZFXHU1MjI0XHU1QjlBXHUzMDkyXHU4ODRDXHUzMDQ2XHUzMDAyXHJcblx0XHRcdFx0XHQvL1x1MzBFQVx1MzBCOVx1MzBDOFx1MzA2RVx1NTE0OFx1OTgyRFx1MzA2RVx1OTgwNVx1NzZFRTowXHUzMDAxXHU1MTQ4XHU5ODJEXHUzMDY3XHUzMDZGXHUzMDZBXHUzMDQ0XHUzMDRDXHUzMEVCXHUzMEZDXHUzMEM4XHUzMEVDXHUzMEQ5XHUzMEVCOjFcdTMwMDFcdTdCMkMyXHU5NjhFXHU1QzY0XHU0RUU1XHU0RTBCXHVGRjFBMlx1MzA2OFx1MzA1N1x1MzA2Nlx1MzA0NFx1MzA4Qlx1MzAwMlxyXG5cdFx0XHRcdFx0Ly9wYXJlbnRcdTMwNENcdTZCNjNcdTMwNkVcdTY1NzBcdTMwNkFcdTMwODlcdTdCMkMyXHU5NjhFXHU1QzY0XHU0RUU1XHU0RTBCXHJcblx0XHRcdFx0XHQvL1x1OENBMFx1MzA2RVx1NjU3MFx1MzA2N1x1MzAwMVx1N0Q3Nlx1NUJGRVx1NTAyNFx1MzA0Q3Bvc2l0aW9uLnN0YXJ0LmxpbmVcdTMwNjhcdTRFMDBcdTgxRjRcdTMwNTdcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTMwQzhcdTMwQzNcdTMwRDdcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTAoMClcdTMwMDFcdTk3NUVcdTRFMDBcdTgxRjRcdTMwNkFcdTMwODlcdTMwRUJcdTMwRkNcdTMwQzhcdUZGMDgxXHVGRjA5XHJcblx0XHRcdFx0XHQvL1x1MzA1Rlx1MzA2MFx1MzA1N1x1ODk5Nlx1ODk5QVx1NzY4NFx1MzA2Qlx1OTZFMlx1MzA4Q1x1MzA1Rlx1MzBDOFx1MzBDM1x1MzBEN1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA2RVx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzA2N1x1MzA4Mlx1MzAwMVx1OTU5M1x1MzA2QmhlYWRpbmdcdTMwNENcdTMwNkFcdTMwNDRcdTMwNjhcdTMwRUJcdTMwRkNcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNjhcdTMwNTdcdTMwNjZcdTUyMjRcdTVCOUFcdTMwNTVcdTMwOENcdTMwNjZcdTMwNTdcdTMwN0VcdTMwNDZcdTMwNkVcdTMwNjdcdTMwMDFcclxuXHRcdFx0XHRcdC8vXHU1MjREXHUzMDZFXHUzMEVBXHUzMEI5XHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY4XHUzMDZFXHU4ODRDXHUzMDZFXHU1REVFXHUzMDRDMVx1MzA2RVx1NjY0Mlx1MzA2RVx1MzA3Rlx1MzBFQlx1MzBGQ1x1MzBDOFx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzA2OFx1MzA1N1x1MzA2Nlx1NTIyNFx1NUI5QVx1MzA1OVx1MzA4Qlx1MzA4OFx1MzA0Nlx1NEZFRVx1NkI2M1x1MzA1OVx1MzA4Qlx1MzAwMlxyXG5cdFx0XHRcdFx0bGV0IGxpc3RMZXZlbDogbnVtYmVyID0gMDsgLy8gMDp0b3AgaXRlbSBvZiBhIGxpc3QgMTpyb290IGxldmUgMjpvdGhlclxyXG5cdFx0XHRcdFx0aWYgKGNhY2hlLmxpc3RJdGVtc1tqXS5wYXJlbnQgPjApe1xyXG5cdFx0XHRcdFx0XHRsaXN0TGV2ZWwgPSAyO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChqPjApe1xyXG5cdFx0XHRcdFx0XHRpZiAoIShNYXRoLmFicyhjYWNoZS5saXN0SXRlbXNbal0ucGFyZW50KSA9PSBjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24uc3RhcnQubGluZSkgJiZcclxuXHRcdFx0XHRcdFx0XHQoY2FjaGUubGlzdEl0ZW1zW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgLSBjYWNoZS5saXN0SXRlbXNbai0xXS5wb3NpdGlvbi5zdGFydC5saW5lID09IDEpKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdExldmVsID0gMTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwibGlzdEl0ZW1zXCIsXHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uIDogY2FjaGUubGlzdEl0ZW1zW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IHRoaXMuZmlsZUluZm9baV0ubGluZXNbY2FjaGUubGlzdEl0ZW1zW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmVdLnJlcGxhY2UoL14oXFxzfFxcdCkqLVxccyhcXFsuXFxdXFxzKSovLCcnKSxcclxuXHRcdFx0XHRcdFx0bGV2ZWwgOiBsaXN0TGV2ZWwsXHJcblx0XHRcdFx0XHRcdHRhc2sgOiBjYWNoZS5saXN0SXRlbXNbal0udGFza1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayB0YWdzJyxjYWNoZS5oYXNPd25Qcm9wZXJ0eShcInRhZ3NcIikgKTtcclxuXHRcdFx0aWYgKGNhY2hlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS50YWdzLmxlbmd0aCA7IGorKyl7XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50Ok91dGxpbmVEYXRhID0ge1xyXG5cdFx0XHRcdFx0XHR0eXBlT2ZFbGVtZW50IDogXCJ0YWdcIixcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24gOiBjYWNoZS50YWdzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IGNhY2hlLnRhZ3Nbal0udGFnLnN1YnN0cmluZygxKSxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRkYXRhW2ldLnB1c2goZWxlbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFx1ODk4MVx1N0QyMFx1MzA2RVx1NzY3Qlx1NTgzNFx1OTgwNlx1MzA2Qlx1MzBCRFx1MzBGQ1x1MzBDOFxyXG5cdFx0XHRkYXRhW2ldLnNvcnQoKGEsYik9PiB7XHJcblx0XHRcdFx0cmV0dXJuIChhLnBvc2l0aW9uLnN0YXJ0Lm9mZnNldCAtIGIucG9zaXRpb24uc3RhcnQub2Zmc2V0KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBkYXRhO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIFx1NjRDRFx1NEY1Q1x1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1OTBFOFx1NTIwNlx1MzA5Mlx1NjNDRlx1NzUzQlxyXG5cdHByaXZhdGUgZHJhd1VJKCl7XHJcblxyXG5cdFx0Y29uc3QgbmF2SGVhZGVyOiBIVE1MRWxlbWVudCA9IGNyZWF0ZURpdihcIm5hdi1oZWFkZXJcIik7XHJcblx0XHRjb25zdCBuYXZCdXR0b25Db250YWluZXI6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1idXR0b25zLWNvbnRhaW5lclwiKTtcclxuXHJcblx0XHQvLyBwZXJpb2RpYyBub3Rlc1xyXG5cdFx0Y29uc3QgZ3JhbnVsYXJpdHkgPSBHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldO1xyXG5cdFx0XHJcblx0XHQvLyBcdTkwNEVcdTUzQkJcdTMwNkJcdTc5RkJcdTUyRDVcclxuXHRcdGxldCBuYXZBY3Rpb25CdXR0b246IEhUTUxFbGVtZW50ID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwicHJldmlvdXMgbm90ZXNcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwiYXJyb3ctbGVmdFwiLDIwKTtcclxuXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gdGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdC5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSxncmFudWxhcml0eSk7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTY3MkFcdTY3NjVcdTMwNkJcdTc5RkJcdTUyRDVcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcIm5leHQgbm90ZXNcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwiYXJyb3ctcmlnaHRcIiwyMCk7XHJcblxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0sZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmFkZCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSxncmFudWxhcml0eSk7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTMwREJcdTMwRkNcdTMwRTBcdTMwNkJcdTYyM0JcdTMwOEJcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcImhvbWVcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwiaG9tZVwiLDIwKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIHRydWUsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cclxuXHRcdC8vXHUzMEVBXHUzMEQ1XHUzMEVDXHUzMEMzXHUzMEI3XHUzMEU1XHJcblx0XHRuYXZBY3Rpb25CdXR0b24gPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJyZWZyZXNoXCI7XHJcblx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcInJlZnJlc2gtY3dcIiwyMCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR0aGlzLnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Ly8gXHU4QTJEXHU1QjlBXHJcblx0XHRuYXZBY3Rpb25CdXR0b24gPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJvcGVuIHNldHRpbmdzXCI7XHJcblx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcInNldHRpbmdzXCIsMjApO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdHRoaXMuYXBwLnNldHRpbmcub3BlbigpO1xyXG5cdFx0XHRcdHRoaXMuYXBwLnNldHRpbmcub3BlblRhYkJ5SWQodGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1NEY1Q1x1NjIxMFxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cclxuXHRcdC8vIHBlcmlvZGljIG5vdGVcdTMwNkVcdTMwQUFcdTMwRjNcdTMwQUFcdTMwRDVcdTMwODRcdTdDOTJcdTVFQTZcdTMwNkJcdTVGOTNcdTMwNjNcdTMwNjZcdTMwRTlcdTMwRDlcdTMwRUJcdTMwOTJcdTRGNUNcdTYyMTBcclxuXHRcdGxldCBsYWJlbEZvclRvZGF5OiBzdHJpbmcgPSAnY3JlYXRlL29wZW4gJztcclxuXHRcdGxldCBsYWJlbEZvck5leHQ6IHN0cmluZyA9ICdjcmVhdGUvb3BlbiAnO1xyXG5cdFx0aWYgKGdyYW51bGFyaXR5ID09ICdkYXknKXtcclxuXHRcdFx0bGFiZWxGb3JUb2RheSA9IGxhYmVsRm9yVG9kYXkgKyBcInRvZGF5J3MgXCI7XHJcblx0XHRcdGxhYmVsRm9yTmV4dCA9IGxhYmVsRm9yTmV4dCArIFwidG9tb3Jyb3cncyBcIjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxhYmVsRm9yVG9kYXkgPSBsYWJlbEZvclRvZGF5ICsgXCJwcmVzZW50IFwiO1xyXG5cdFx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyBcIm5leHQgXCI7XHJcblx0XHR9XHJcblx0XHRsYWJlbEZvclRvZGF5ID0gbGFiZWxGb3JUb2RheSArIEdSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZW2dyYW51bGFyaXR5XSArICcgbm90ZSc7XHJcblx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyBHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWVtncmFudWxhcml0eV0gKyAnIG5vdGUnO1xyXG5cclxuXHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRsYWJlbEZvclRvZGF5ID0gbGFiZWxGb3JUb2RheSArICcgZm9yICcgKyB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0uaWQ7XHJcblx0XHRcdGxhYmVsRm9yTmV4dCA9IGxhYmVsRm9yTmV4dCArICcgZm9yICcgKyB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0uaWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IGxhYmVsRm9yVG9kYXk7XHJcblx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcImNhbGVuZGFyLXBsdXNcIiwyMCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQ7XHJcblx0XHRcdFx0Y29uc3QgZGF0ZSA9IG1vbWVudCgpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy52ZXJQTiA9PSAyKXtcclxuXHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUoIGdyYW51bGFyaXR5LCBkYXRlLCB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjcmVhdGVBbmRPcGVuRGFpbHlOb3RlKGdyYW51bGFyaXR5LCBkYXRlLCB0aGlzLmFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0Ly8gLnNldFRpdGxlKFwiY3JlYXRlL29wZW4gdG9tb3Jyb3cncyBkYWlseSBub3RlXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZShsYWJlbEZvck5leHQpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiY2FsZW5kYXItcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBkYXRlID0gbW9tZW50KCkuYWRkKDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZShncmFudWxhcml0eSwgZGF0ZSwgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdKTsgXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuYWxsRGFpbHlOb3Rlcyk7IFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHU2MkJEXHU1MUZBXHJcblx0XHRuYXZBY3Rpb25CdXR0b24gPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRpZiAoIXRoaXMuZXh0cmFjdE1vZGUpe1xyXG5cdFx0XHQvL1x1NjJCRFx1NTFGQVx1MzA5Mlx1MzBBQVx1MzBGM1x1MzA2QlxyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJleHRyYWN0XCI7XHJcblx0XHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwic2VhcmNoXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0Ly9cdTUxNjVcdTUyOUJcdTMwRTJcdTMwRkNcdTMwQzBcdTMwRUJcdTMwOTJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdFx0XHRjb25zdCBvblN1Ym1pdCA9IChlbmFibGVFeHRyYWN0OiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZW5hYmxlRXh0cmFjdCl7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG5ldyBNb2RhbEV4dHJhY3QodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBvblN1Ym1pdCkub3BlbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vXHU2MkJEXHU1MUZBXHUzMDkyXHUzMEFBXHUzMEQ1XHUzMDZCXHJcblx0XHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInVuZXh0cmFjdFwiO1xyXG5cdFx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcIngtY2lyY2xlXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0dGhpcy5leHRyYWN0TW9kZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJleHRyYWN0IHRhc2tzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiY2hlY2stc3F1YXJlXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpOyBcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0Ly8gXHU2NUU1XHU0RUQ4XHUzMDZFXHU3QkM0XHU1NkYyXHUzMDZFXHU2M0NGXHU3NTNCXHJcblx0XHRjb25zdCBuYXZEYXRlUmFuZ2U6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlXCIpO1xyXG5cdFx0bGV0IGxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCk7XHJcblx0XHRsZXQgZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0nYmFja3dhcmQnKXtcclxuXHRcdFx0ZWFybGllc3QgPSBsYXRlc3QuY2xvbmUoKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSAtIDEgLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0aWYgKGxhdGVzdC5pc1NhbWUobW9tZW50KCksXCJkYXlcIikpe1xyXG5cdFx0XHRcdGxhdGVzdCA9IGxhdGVzdC5hZGQoTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Mub2Zmc2V0L0RBWVNfUEVSX1VOSVRbZ3JhbnVsYXJpdHldKSxncmFudWxhcml0eSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlID09J2ZvcndhcmQnKXtcclxuXHRcdFx0bGF0ZXN0ID0gZWFybGllc3QuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0gLTEgLGdyYW51bGFyaXR5KTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRlUmFuZ2U6IHN0cmluZyA9IGVhcmxpZXN0LmZvcm1hdChcIllZWVkvTU0vREQgWy1dIFwiKSArIFxyXG5cdFx0XHRsYXRlc3QuZm9ybWF0KCBlYXJsaWVzdC5pc1NhbWUobGF0ZXN0LCd5ZWFyJykgPyAgXCJNTS9ERFwiOiBcIllZWVkvTU0vRERcIik7XHJcblx0XHRuYXZEYXRlUmFuZ2UuY3JlYXRlRGl2KFwibmF2LWRhdGUtcmFuZ2UtY29udGVudFwiKS5zZXRUZXh0KGRhdGVSYW5nZSk7XHJcblxyXG5cdFx0Ly9cdTY1RTVcdTRFRDhcdTdCQzRcdTU2RjJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTY2NDJcdTMwNkVcdTUyRDVcdTRGNUMgXHU1RjhDXHUzMDY3XHU1OTA5XHU2NkY0XHUzMDU5XHUzMDhCXHJcblx0XHRuYXZEYXRlUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjb25zdCBvbnNldERhdGUgPSBtb21lbnQodGhpcy5zZXR0aW5ncy5vbnNldCxcIllZWVktTU0tRERcIik7XHJcblx0XHRcdFx0aWYgKG9uc2V0RGF0ZS5pc1ZhbGlkKCkpe1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IG9uc2V0RGF0ZTtcclxuXHRcdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gb25zZXREYXRlLmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0xLCdkYXlzJyk7XHJcblx0XHRcdFx0fSBlbHNlIHsgIFxyXG5cdFx0XHRcdFx0Ly8gb25zZXREYXRlXHUzMDRDXHU0RTBEXHU2QjYzXHUzMDZBXHUzMDg5XHU1RjUzXHU2NUU1XHU4RDc3XHU3MEI5XHUzMDZFYmFja3dhcmQgc2VhcmNoXHUzMDkyXHU4ODRDXHUzMDQ2XHJcblx0XHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0gMSwnZGF5cycpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsIHRydWUsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFBlcmlvZGljIE5vdGVzIFx1N0M5Mlx1NUVBNlx1NjNDRlx1NzUzQiAmIFx1N0M5Mlx1NUVBNlx1NTIwN1x1MzA4QVx1NjZGRlx1MzA0OFx1NTFFNlx1NzQwNlxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQpe1xyXG5cdFx0XHRjb25zdCBuYXZHcmFudWxhcml0eTogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWRhdGUtcmFuZ2VcIik7XHJcblx0XHRcdG5hdkdyYW51bGFyaXR5LmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dChHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKTtcclxuXHJcblx0XHRcdG5hdkdyYW51bGFyaXR5LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmV0Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5pdGlhbEdyYW51bGFyaXR5ID0gdGhpcy5hY3RpdmVHcmFudWxhcml0eTtcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ICsgMSkgJSBHUkFOVUxBUklUWV9MSVNULmxlbmd0aDtcclxuXHRcdFx0XHRcdH0gd2hpbGUgKChcclxuXHRcdFx0XHRcdFx0KHRoaXMudmVyUE4gPT0gMiAmJiAhdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKSB8fFxyXG5cdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PSAxICYmICF0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpLnNldHRpbmdzPy5bR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV1dPy5lbmFibGVkKVxyXG5cdFx0XHRcdFx0XHQpICYmIHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgIT0gaW5pdGlhbEdyYW51bGFyaXR5KVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlLCB0cnVlKTsgXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHQvLyBcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwRTFcdTMwQ0JcdTMwRTVcdTMwRkNcclxuXHRcdFx0bmF2R3JhbnVsYXJpdHkuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaT0wIDsgaTxHUkFOVUxBUklUWV9MSVNULmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnZlclBOID09MiAmJiB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFtpXV0/LmVuYWJsZWQpfHxcclxuXHRcdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PTEgJiYgdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5zZXR0aW5ncz8uW0dSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZW0dSQU5VTEFSSVRZX0xJU1RbaV1dXT8uZW5hYmxlZClcclxuXHRcdFx0XHRcdFx0XHQpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGljb24gPSAoIGkgPT0gdGhpcy5hY3RpdmVHcmFudWxhcml0eSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoR1JBTlVMQVJJVFlfTElTVFtpXSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSBpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHQvLyBQZXJpb2RpYyBOb3RlcyBcdTMwQUJcdTMwRUNcdTMwRjNcdTMwQzBcdTMwRkNcdTMwQkJcdTMwQzNcdTMwQzhcdTYzQ0ZcdTc1M0IgJiBcdTMwQkJcdTMwQzNcdTMwQzhcdTUyMDdcdTMwOEFcdTY2RkZcdTMwNDhcdTUxRTZcdTc0MDZcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQpe1xyXG5cdFx0XHRjb25zdCBuYXZDYWxlbmRhclNldDogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWRhdGUtcmFuZ2VcIik7XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dCh0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0uaWQpO1xyXG5cdFx0XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmV0Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAodGhpcy5hY3RpdmVTZXQgKyAxKSAlIHRoaXMuY2FsZW5kYXJTZXRzLmxlbmd0aDtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRcdGZvciAobGV0IGk9MCA7IGk8dGhpcy5jYWxlbmRhclNldHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uID0gKCBpID09IHRoaXMuYWN0aXZlU2V0KT8gXCJjaGVja1wiOlwiXCI7XHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLmNhbGVuZGFyU2V0c1tpXS5pZClcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayggKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gaTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NjNDRlx1NzUzQlxyXG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKG5hdkhlYWRlcik7XHJcblx0fVxyXG5cclxuXHQvLyAgXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2M0NGXHU3NTNCXHRcclxuXHRwcml2YXRlIGRyYXdPdXRsaW5lKCBmaWxlczogVEZpbGVbXSwgaW5mbzogRmlsZUluZm9bXSwgZGF0YTogT3V0bGluZURhdGFbXVtdKTp2b2lkIHtcclxuXHJcblx0XHRjb25zdCBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgPSBjcmVhdGVEaXYoXCJuYXYtZmlsZXMtY29udGFpbmVyIG5vZGUtaW5zZXJ0LWV2ZW50XCIpO1xyXG5cdFx0Y29uc3Qgcm9vdEVsOiBIVE1MRWxlbWVudCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcIm5hdi1mb2xkZXIgbW9kLXJvb3RcIik7IFxyXG5cdFx0Y29uc3Qgcm9vdENoaWxkcmVuRWw6IEhUTUxFbGVtZW50ID0gcm9vdEVsLmNyZWF0ZURpdihcIm5hdi1mb2xkZXItY2hpbGRyZW5cIik7IFxyXG5cclxuXHRcdGlmIChmaWxlcy5sZW5ndGggPT0gMCl7XHJcblx0XHRcdHJvb3RDaGlsZHJlbkVsLmNyZWF0ZUVsKFwiaDRcIix7XHJcblx0XHRcdFx0dGV4dDogXCJObyBkYWlseS9wZXJpb2RpYyBub3RlIGZvdW5kXCJcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaW5jbHVkZSBvbmx5IG1vZGVcdTMwNENcdTMwQUFcdTMwRjNcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOEJcdTMwNEJcclxuXHRcdGxldCBpbmNsdWRlTW9kZTogYm9vbGVhbiA9ICh0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5ICE9ICdub25lJykgJiYgKEJvb2xlYW4odGhpcy5zZXR0aW5ncy53b3Jkc1RvSW5jbHVkZS5sZW5ndGgpIHx8ICh0aGlzLnNldHRpbmdzLmluY2x1ZGVCZWdpbm5pbmcpKTtcclxuXHJcblx0XHQvLyBcdTg4NjhcdTc5M0FcdTMwQUFcdTMwRjNcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOEJcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkVcdTY3MDBcdTlBRDhcdTUwMjRcclxuXHRcdGxldCBtYXhMZXZlbCA9IHRoaXMuc2V0dGluZ3MuaGVhZGluZ0xldmVsLmluZGV4T2YodHJ1ZSk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPGZpbGVzLmxlbmd0aCA7IGkrKyl7XHJcblxyXG5cdFx0XHQvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTkwRThcdTUyMDZcdTRGNUNcdTYyMTAgPSBcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTRGNUNcdTYyMTBcclxuXHRcdFx0Y29uc3QgZGFpbHlOb3RlRWw6IEhUTUxEaXZFbGVtZW50ID0gcm9vdENoaWxkcmVuRWwuY3JlYXRlRGl2KFwibmF2LWZvbGRlclwiKTtcclxuXHRcdFx0Y29uc3QgZGFpbHlOb3RlVGl0bGVFbDogSFRNTERpdkVsZW1lbnQgPSBkYWlseU5vdGVFbC5jcmVhdGVEaXYoXCJuYXYtZm9sZGVyLXRpdGxlXCIpO1xyXG5cdFx0XHRjb25zdCBkYWlseU5vdGVDaGlsZHJlbkVsOiBIVE1MRGl2RWxlbWVudCA9IGRhaWx5Tm90ZUVsLmNyZWF0ZURpdihcIm5hdi1mb2xkZXItY2hpbGRyZW5cIik7XHJcblx0XHRcdC8vY29uc3QgY29sbGFwc2VJY29uRWw6IEhUTUxEaXZFbGVtZW50ID0gZGFpbHlOb3RlVGl0bGVFbC5jcmVhdGVEaXYoXCJuYXYtZm9sZGVyLWNvbGxhcHNlLWluZGljYXRvciBjb2xsYXBzZS1pY29uXCIpO1xyXG5cdFx0XHRcclxuXHRcdFx0LypcdTMwNDRcdTMwNUFcdTMwOENcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTYyOThcdTMwOEFcdTMwNUZcdTMwNUZcdTMwN0ZcdTUxRTZcdTc0MDZcdTMwOTJcdTIwMjZcclxuXHRcdFx0Y29sbGFwc2VJY29uRWwuaW5uZXJIVE1MID0gQ09MTEFQU0VfSUNPTjtcclxuXHRcdFx0aWYgKG5vdGVDb2xsYXBzZWRbaV0pIHtcclxuXHRcdFx0XHQoY29sbGFwc2VJY29uRWwuY2hpbGROb2Rlc1swXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTkwZGVnKVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdCovXHJcblx0XHRcdFxyXG5cdFx0XHQvL1x1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NTQwRFx1MzA2Qlx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1MzA5Mlx1NEVEOFx1NTJBMFxyXG5cdFx0XHRzd2l0Y2godGhpcy5zZXR0aW5ncy5pY29uLm5vdGUpe1xyXG5cdFx0XHRcdGNhc2UgJ25vbmUnOlxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnY3VzdG9tJzpcclxuXHRcdFx0XHRcdHNldEljb24oZGFpbHlOb3RlVGl0bGVFbCwgdGhpcy5zZXR0aW5ncy5jdXN0b21JY29uLm5vdGUpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmljb24ubm90ZSl7XHJcblx0XHRcdFx0XHRcdHNldEljb24oZGFpbHlOb3RlVGl0bGVFbCwgdGhpcy5zZXR0aW5ncy5pY29uLm5vdGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vd2Vla2x5IG5vdGVcdTMwNkVcdTU4MzRcdTU0MDhcdTY1RTVcdTRFRDhcdTMwNkVcdTdCQzRcdTU2RjJcdTMwOTJcdTRFRDhcdTUyQTBcdTg4NjhcdTc5M0FcclxuXHRcdFx0bGV0IG5hbWUgPSBmaWxlc1tpXS5iYXNlbmFtZTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lICYmIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0gPT0nd2Vlaycpe1xyXG5cdFx0XHRcdG5hbWUgPSBuYW1lICsgXCIgKFwiICt0aGlzLmZpbGVJbmZvW2ldLmRhdGUuY2xvbmUoKS5zdGFydE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vREQgWy1dIFwiKSArIHRoaXMuZmlsZUluZm9baV0uZGF0ZS5jbG9uZSgpLmVuZE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vRERcIikgK1wiKVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuY3JlYXRlRGl2KFwibmF2LWZvbGRlci10aXRsZS1jb250ZW50XCIpLnNldFRleHQobmFtZSk7XHJcblxyXG5cdFx0XHQvL1x1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1NTQwRFx1MzA2RVx1NUY4Q1x1MzA2RVx1NjBDNVx1NTgzMVx1MzA5Mlx1ODg2OFx1NzkzQVxyXG5cdFx0XHRzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvKSB7XHJcblx0XHRcdFx0Y2FzZSAnbGluZXMnOlxyXG5cdFx0XHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5kYXRhc2V0LnN1YmluZm8gPSBpbmZvW2ldLm51bU9mTGluZXMudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2RheXMnOlxyXG5cdFx0XHRcdFx0bGV0IGJhc2VkYXRlID0gKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0gXCJiYWNrd2FyZFwiKT8gbW9tZW50KCk6IHRoaXMuc2V0dGluZ3Mub25zZXQ7XHJcblx0XHRcdFx0XHRkYWlseU5vdGVUaXRsZUVsLmRhdGFzZXQuc3ViaW5mbyA9IE1hdGguYWJzKGluZm9baV0uZGF0ZS5kaWZmKGJhc2VkYXRlLnN0YXJ0T2YoR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XSksR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XSkpLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdub25lJzpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9cdTMwQ0VcdTMwRkNcdTMwQzhcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTMwOTJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNUZcdTMwODlcdTMwNURcdTMwNkVcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwOTJvcGVuXHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmYWxzZVxyXG5cdFx0XHQpO1xyXG5cdFx0XHQvLyBcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwRTFcdTMwQ0JcdTMwRTVcdTMwRkNcclxuXHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0XHQoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cclxuXHRcdFx0XHRcdC8vXHU2NUIwXHU4OThGXHUzMEJGXHUzMEQ2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gaW4gbmV3IHRhYlwiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwiZmlsZS1wbHVzXCIpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3RhYicpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdC8vXHU1M0YzXHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gdG8gdGhlIHJpZ2h0XCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJzZXBhcmF0b3ItdmVydGljYWxcIilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljaygoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZignc3BsaXQnKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnRyaWdnZXIoXHJcblx0XHRcdFx0XHRcdFwiZmlsZS1tZW51XCIsXHJcblx0XHRcdFx0XHRcdG1lbnUsXHJcblx0XHRcdFx0XHRcdGZpbGVzW2ldLFxyXG5cdFx0XHRcdFx0XHQnbGluay1jb250ZXh0LW1lbnUnXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdClcclxuXHJcblx0XHRcdC8vIGluY2x1ZGUgbW9kZSBcdTc1MjhcdTMwNkVcdTU5MDlcdTY1NzBcdTMwOTJcdTVCQTNcdThBMDBcclxuXHRcdFx0bGV0IGlzSW5jbHVkZWQgPSB0aGlzLnNldHRpbmdzLmluY2x1ZGVCZWdpbm5pbmc7XHJcblx0XHRcdGxldCBpbmNsdWRlTW9kZUhlYWRpbmdMZXZlbDogbnVtYmVyO1xyXG5cdFx0XHQvLyBleGNsdWRlIG1vZGUgXHU3NTI4XHU1OTA5XHU2NTcwXHJcblx0XHRcdGxldCBpc0V4Y2x1ZGVkID0gZmFsc2U7XHJcblx0XHRcdGxldCBleGNsdWRlVHlwZTogc3RyaW5nO1xyXG5cdFx0XHRsZXQgZXhjbHVkZU1vZGVIZWFkaW5nTGV2ZWw6IG51bWJlcjtcclxuXHRcdFx0bGV0IHByaW1lVHlwZSA9IHRoaXMuc2V0dGluZ3MuaW5jbHVkZU9ubHkgPT0gJ25vbmUnID8gdGhpcy5zZXR0aW5ncy5wcmltZUVsZW1lbnQgOiB0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5O1xyXG5cdFx0XHQvLyBleHRyYWN0IFx1MzBERVx1MzBDM1x1MzBDMVx1MzA1OVx1MzA4Qlx1OTgwNVx1NzZFRVx1MzA0Q1x1MzA0Mlx1MzA2M1x1MzA1Rlx1MzA0Qlx1MzA2OVx1MzA0Nlx1MzA0QlxyXG5cdFx0XHRsZXQgaXNFeHRyYWN0ZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHU2M0NGXHU3NTNCXHUzMDAyZGF0YVtpXVx1MzA0Q1x1ODk4MVx1N0QyMDBcdTMwNkFcdTMwODlcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0Ly9cdTRFOENcdTkxQ0RcdTMwRUJcdTMwRkNcdTMwRDdcdTMwNEJcdTMwODlcdTYyOUNcdTMwNTFcdTMwOEJcdTMwNUZcdTMwODFcdTMwRTlcdTMwRDlcdTMwRUJlbGVtZW50bG9vcFx1MzA5Mlx1MzA2NFx1MzA1MVx1MzA1RlxyXG5cdFx0XHRpZiAoZGF0YVtpXS5sZW5ndGggPiAwKXtcclxuXHJcblx0XHRcdFx0ZWxlbWVudGxvb3A6IGZvciAobGV0IGo9MDsgajxkYXRhW2ldLmxlbmd0aDsgaisrKXtcclxuXHJcblx0XHRcdFx0XHQvLyBcdTczRkVcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg5ODFcdTdEMjBcdTMwNkVcdTdBMkVcdTUyMjVcdTMwOTJcdTUzRDZcdTVGOTdcclxuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSBkYXRhW2ldW2pdLnR5cGVPZkVsZW1lbnQ7XHJcblxyXG5cdFx0XHRcdFx0Ly8vLyBpbmNsdWRlIG1vZGVcclxuXHRcdFx0XHRcdGlmIChpbmNsdWRlTW9kZSAmJiB0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5ID09IGVsZW1lbnQpe1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNJbmNsdWRlZCA9PSB0cnVlICYmIGVsZW1lbnQgPT0gJ2hlYWRpbmcnICYmIGRhdGFbaV1bal0ubGV2ZWwgPiBpbmNsdWRlTW9kZUhlYWRpbmdMZXZlbCAgKXtcclxuXHRcdFx0XHRcdFx0XHQvL1x1NEUwQlx1NEY0RFx1ODk4Qlx1NTFGQVx1MzA1N1x1MzA2RVx1NTgzNFx1NTQwOFx1MzA2Rlx1NTFFNlx1NzQwNlx1MzA5Mlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdC8vIFx1N0Q0NFx1MzA3Rlx1NTE2NVx1MzA4Q1x1MzA4Qlx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA2Qlx1MzBERVx1MzBDM1x1MzBDMVx1MzA1OVx1MzA4Qlx1MzA0Qlx1NTIyNFx1NUI5QVxyXG5cdFx0XHRcdFx0XHRcdGlzSW5jbHVkZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0luY2x1ZGUpe1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAodmFsdWUpICYmIGRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNJbmNsdWRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdoZWFkaW5nJyl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aW5jbHVkZU1vZGVIZWFkaW5nTGV2ZWwgPSBkYXRhW2ldW2pdLmxldmVsO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIWlzSW5jbHVkZWQpe1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8vLyBleGNsdWRlIG1vZGVcclxuXHRcdFx0XHRcdGlmICghaXNFeGNsdWRlZCB8fCAoaXNFeGNsdWRlZCAmJiAoZXhjbHVkZVR5cGUgPT0gZWxlbWVudCB8fCBwcmltZVR5cGUgPT0gZWxlbWVudCkpKXtcclxuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ2hlYWRpbmcnICYmIGRhdGFbaV1bal0ubGV2ZWwgPiBleGNsdWRlTW9kZUhlYWRpbmdMZXZlbCl7XHJcblx0XHRcdFx0XHRcdC8vIFx1NEUwQlx1NEY0RFx1ODk4Qlx1NTFGQVx1MzA1N1x1MzA2RVx1NTgzNFx1NTQwOFx1MzA2Rlx1NTFFNlx1NzQwNlx1MzA5Mlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1x0XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aXNFeGNsdWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZVtlbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoICh2YWx1ZSkgJiYgZGF0YVtpXVtqXS5kaXNwbGF5VGV4dC5pbmNsdWRlcyh2YWx1ZSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc0V4Y2x1ZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZXhjbHVkZVR5cGUgPSBlbGVtZW50O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnaGVhZGluZycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGV4Y2x1ZGVNb2RlSGVhZGluZ0xldmVsID0gZGF0YVtpXVtqXS5sZXZlbDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gICBcclxuXHRcdFx0XHRcdGlmIChpc0V4Y2x1ZGVkKXtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9cdTg5ODFcdTdEMjBcdTMwNTRcdTMwNjhcdTMwNkVcdTk3NUVcdTg4NjhcdTc5M0FcdTUyMjRcdTVCOUEgIFx1OEEyRFx1NUI5QVx1MzA2N1x1OTc1RVx1ODg2OFx1NzkzQVx1MzA2Qlx1MzA2QVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Q1x1MzA3MFx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHNbZWxlbWVudF0gPT0gZmFsc2Upe1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBzaW1wbGUgZmlsdGVyIFx1OTY2NFx1NTkxNlx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA2Qlx1MzBERVx1MzBDM1x1MzBDMVx1MzA1OVx1MzA4Q1x1MzA3MFx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cclxuXHRcdFx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5zZXR0aW5ncy53b3Jkc1RvSWdub3JlW2VsZW1lbnRdKXtcclxuXHRcdFx0XHRcdFx0aWYoICh2YWx1ZSkgJiYgZGF0YVtpXVtqXS5kaXNwbGF5VGV4dC5pbmNsdWRlcyh2YWx1ZSkpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlIGVsZW1lbnRsb29wO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8vLyBcdTYyQkRcdTUxRkEgZXh0cmFjdFxyXG5cclxuXHRcdFx0XHRcdGlmICh0aGlzLmV4dHJhY3RNb2RlID09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuZXh0cmFjdFRhc2sgPT0gZmFsc2UgJiYgIWRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModGhpcy5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCkpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuZXh0cmFjdFRhc2sgPT0gdHJ1ZSAmJiBkYXRhW2ldW2pdLnRhc2sgPT09IHZvaWQgMCl7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aXNFeHRyYWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8vLyBcdTg5ODFcdTdEMjBcdTdBMkVcdTUyMjVcdTMwNTRcdTMwNjhcdTMwNkVcdTUxRTZcdTc0MDZcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gaGVhZGluZ3NcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdoZWFkaW5nJyl7XHJcblx0XHRcdFx0XHRcdC8vIFx1NzI3OVx1NUI5QVx1MzA2RVx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA0Q1x1OTc1RVx1ODg2OFx1NzkzQVx1MzA2RVx1NTgzNFx1NTQwOFx1MzAwMVx1OEE3Mlx1NUY1M1x1MzA1OVx1MzA4Q1x1MzA3MFx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHRpZiAoICF0aGlzLnNldHRpbmdzLmhlYWRpbmdMZXZlbFtkYXRhW2ldW2pdLmxldmVsIC0gMV0pe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbGlua3NcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdsaW5rJyl7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gdGFnc1xyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ3RhZycpe1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHQvLyBsaXN0SXRlbXNcclxuXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnbGlzdEl0ZW1zJyl7XHJcblx0XHRcdFx0XHRcdC8vIFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1OTc1RVx1ODg2OFx1NzkzQVx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1NUI4Q1x1NEU4Nlx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2Rlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgPT0gdHJ1ZSAmJiBkYXRhW2ldW2pdLnRhc2sgPT0neCcpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHQvLyBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTk3NUVcdTg4NjhcdTc5M0FcdThBMkRcdTVCOUFcdTMwNjdcdTMwNDJcdTMwOENcdTMwNzBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkZcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID09IHRydWUgJiYgZGF0YVtpXVtqXS50YXNrID09PSB2b2lkIDApe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHQvLyBcdTk3NUVcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkVcdTkwMUFcdTVFMzhcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwMDFcdTMwN0VcdTMwNUZcdTMwNkYgXHUzMEJGXHUzMEI5XHUzMEFGXHUzMDZGXHU1MTY4XHU4ODY4XHU3OTNBXHUzMDZFXHU4QTJEXHU1QjlBXHUzMDY3XHU3MTIxXHUzMDUxXHUzMDhDXHUzMDcwXHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZCXHU1RkRDXHUzMDU4XHUzMDY2XHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5hbGxUYXNrcyA9PSBmYWxzZSB8fCBkYXRhW2ldW2pdLnRhc2sgPT09IHZvaWQgMCl7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCAoZGF0YVtpXVtqXS5sZXZlbCA9PSAyKSB8fCAoZGF0YVtpXVtqXS5sZXZlbCA9PTEgJiYgdGhpcy5zZXR0aW5ncy5hbGxSb290SXRlbXMgPT0gZmFsc2UpKXtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHU5MEU4XHU1MjA2XHU0RjVDXHU2MjEwXHJcblx0XHRcdFx0XHRjb25zdCBvdXRsaW5lRWw6IEhUTUxFbGVtZW50ID0gZGFpbHlOb3RlQ2hpbGRyZW5FbFxyXG5cdFx0XHRcdFx0XHRcdC5jcmVhdGVEaXYoXCJuYXYtZmlsZVwiKTtcclxuXHRcdFx0XHRcdC8vXHU0RTJEXHU4RUFCXHUzMDkyXHU4QTJEXHU1QjlBXHJcblx0XHRcdFx0XHRjb25zdCBvdXRsaW5lVGl0bGU6IEhUTUxFbGVtZW50ID0gb3V0bGluZUVsLmNyZWF0ZURpdihcIm5hdi1maWxlLXRpdGxlIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cclxuXHRcdFx0XHRcdC8vXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzIGljb25cclxuXHRcdFx0XHRcdHN3aXRjaCh0aGlzLnNldHRpbmdzLmljb25bZWxlbWVudF0pe1xyXG5cdFx0XHRcdFx0XHRjYXNlICdub25lJzpcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAnaGVhZGluZ3dpdGhudW1iZXInOlxyXG5cdFx0XHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCBgaGVhZGluZy0ke2RhdGFbaV1bal0ubGV2ZWx9YCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2N1c3RvbSc6XHJcblx0XHRcdFx0XHRcdFx0c2V0SWNvbihvdXRsaW5lVGl0bGUsIHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbltlbGVtZW50XSk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0c2V0SWNvbihvdXRsaW5lVGl0bGUsIHRoaXMuc2V0dGluZ3MuaWNvbltlbGVtZW50XSk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNjBcdTMwNjNcdTMwNUZcdTU4MzRcdTU0MDhcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTRFMEFcdTY2RjhcdTMwNERcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09J2xpc3RJdGVtcycgJiYgZGF0YVtpXVtqXS50YXNrICE9PSB2b2lkIDApe1xyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YVtpXVtqXS50YXNrID09ICd4Jyl7XHJcblx0XHRcdFx0XHRcdFx0c2V0SWNvbihvdXRsaW5lVGl0bGUsIHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9PSAnY3VzdG9tJyA/IFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2tEb25lIDogdGhpcy5zZXR0aW5ncy5pY29uLnRhc2tEb25lKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgdGhpcy5zZXR0aW5ncy5pY29uLnRhc2sgPT0nY3VzdG9tJyA/XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmN1c3RvbUljb24udGFzayA6IHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvL3ByZWZpeFx1MzAwMVx1MzBBNFx1MzBGM1x1MzBDN1x1MzBGM1x1MzBDOFxyXG5cdFx0XHRcdFx0bGV0IHByZWZpeCA9IHRoaXMuc2V0dGluZ3MucHJlZml4W2VsZW1lbnRdO1xyXG5cdFx0XHRcdFx0aWYgKCBlbGVtZW50ID09ICdoZWFkaW5nJyl7XHJcblx0XHRcdFx0XHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy5yZXBlYXRIZWFkaW5nUHJlZml4KXtcclxuXHRcdFx0XHRcdFx0XHRjYXNlICdsZXZlbCc6XHJcblx0XHRcdFx0XHRcdFx0XHRwcmVmaXggPSBwcmVmaXgucmVwZWF0KGRhdGFbaV1bal0ubGV2ZWwpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdFx0Y2FzZSAnbGV2ZWxtaW51czEnOlxyXG5cdFx0XHRcdFx0XHRcdFx0cHJlZml4ID0gcHJlZml4LnJlcGVhdChkYXRhW2ldW2pdLmxldmVsIC0gMSApO1xyXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdoZWFkaW5nJyAmJiB0aGlzLnNldHRpbmdzLmluZGVudC5oZWFkaW5nID09IHRydWUpe1xyXG5cdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuc3R5bGUucGFkZGluZ0xlZnQgPSBgJHsoZGF0YVtpXVtqXS5sZXZlbCAtIG1heExldmVsIC0gMSkqMS41ICsgMC41fWVtYDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIFx1MzBFQVx1MzBGM1x1MzBBRlx1MzA0Q1x1NTI0RFx1MzA2RVx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzA2OFx1NTQwQ1x1MzA1OFx1ODg0Q1x1MzA2MFx1MzA2M1x1MzA1Rlx1NTgzNFx1NTQwOFx1MzBBNFx1MzBGM1x1MzBDN1x1MzBGM1x1MzBDOFx1NEVEOFx1NTJBMFxyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0nbGluaycgJiYgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lID09IGRhdGFbaV1bai0xXT8ucG9zaXRpb24uc3RhcnQubGluZSl7XHJcblx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZS5zdHlsZS5wYWRkaW5nTGVmdCA9ICcyZW0nO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdsaXN0SXRlbXMnICYmIGRhdGFbaV1bal0udGFzayAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cHJlZml4ID0gZGF0YVtpXVtqXS50YXNrID09ICd4JyA/IFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5wcmVmaXgudGFza0RvbmUgOiB0aGlzLnNldHRpbmdzLnByZWZpeC50YXNrO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dCl7XHJcblx0XHRcdFx0XHRcdFx0XHRwcmVmaXggPSBwcmVmaXggKyAnWycrZGF0YVtpXVtqXS50YXNrKyddICc7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGV0IGRpc3BUZXh0ID0gdGhpcy5zdHJpcE1hcmtkb3duU3ltcG9sKGRhdGFbaV1bal0uZGlzcGxheVRleHQpO1xyXG5cclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5jcmVhdGVEaXYoXCJuYXYtZmlsZS10aXRsZS1jb250ZW50XCIpLnNldFRleHQocHJlZml4ICsgZGlzcFRleHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFx1MzBBNFx1MzBGM1x1MzBFOVx1MzBBNFx1MzBGM1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdFx0Ly8gXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDY4XHUzMEJGXHUzMEIwXHUzMDZGXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHUzMDQyXHUzMDY4XHUzMDZCXHU2NTg3XHU1QjU3XHU1MjE3XHUzMDRDXHU3RDlBXHUzMDRGXHU1ODM0XHU1NDA4XHUzMDVEXHUzMDZFXHU4ODRDXHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDAxXHUzMDVEXHUzMDQ2XHUzMDY3XHUzMDZBXHUzMDUxXHUzMDhDXHUzMDcwXHU2QjIxXHUzMDZFXHU4ODRDXHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbmxpbmVQcmV2aWV3KSB7XHJcblx0XHRcdFx0XHRcdGxldCBwcmV2aWV3VGV4dDogc3RyaW5nID0nJztcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICgoZWxlbWVudCA9PSAnbGluaycgfHwgZWxlbWVudCA9PSAndGFnJykgJiYgZGF0YVtpXVtqXS5wb3NpdGlvbi5lbmQuY29sIDwgaW5mb1tpXS5saW5lc1sgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIF0ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0XHRwcmV2aWV3VGV4dCA9IGluZm9baV0ubGluZXNbIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSBdLnNsaWNlKGRhdGFbaV1bal0ucG9zaXRpb24uZW5kLmNvbCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cHJldmlld1RleHQgPSAoIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSA8IGluZm9baV0ubnVtT2ZMaW5lcyAtMSApP1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5mb1tpXS5saW5lc1sgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lICsgMV0gOiBcIlwiOyBcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwibmF2LWZpbGUtdGl0bGUtcHJldmlld1wiKS5zZXRUZXh0KHByZXZpZXdUZXh0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIFx1MzBDNFx1MzBGQ1x1MzBFQlx1MzBDMVx1MzBDM1x1MzBEN1x1MzBEN1x1MzBFQ1x1MzBEM1x1MzBFNVx1MzBGQ1xyXG5cdFx0XHRcdFx0Ly8gXHUzMDVEXHUzMDZFXHU4OTgxXHU3RDIwXHUzMDZFXHU4ODRDXHUzMDRCXHUzMDg5XHU2QjIxXHUzMDZFXHU4OTgxXHU3RDIwXHUzMDZFXHU1MjREXHUzMDdFXHUzMDY3XHUzMDkyXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldyl7XHJcblx0XHRcdFx0XHRcdGxldCBwcmV2aWV3VGV4dDI6c3RyaW5nID0nJztcclxuXHRcdFx0XHRcdFx0Ly8gXHUzMDdFXHUzMDVBXHU2QjIxXHUzMDZFXHU4ODY4XHU3OTNBXHU4OTgxXHU3RDIwXHUzMDZFXHU1RjE1XHU2NTcwXHUzMDkyXHU3Mjc5XHU1QjlBXHJcblx0XHRcdFx0XHRcdGxldCBlbmRMaW5lOk51bWJlciA9IGluZm9baV0ubnVtT2ZMaW5lcyAtIDE7ICAvL1x1NTIxRFx1NjcxRlx1NTAyNFx1MzA2Rlx1NjU4N1x1N0FFMFx1NjcyQlxyXG5cdFx0XHRcdFx0XHRsZXQgayA9IGogKzE7IC8vIFx1NzNGRVx1NTcyOFx1MzA2RVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1NUYxNVx1NjU3MCsxXHUzMDRCXHUzMDg5XHUzMEVCXHUzMEZDXHUzMEQ3XHU5NThCXHU1OUNCXHJcblx0XHRcdFx0XHRcdGVuZHByZXZpZXdsb29wOiB3aGlsZSAoazwgZGF0YVtpXS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHQvL1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1MzBBOFx1MzBFQ1x1MzBFMVx1MzBGM1x1MzBDOFx1MzBCRlx1MzBBNFx1MzBEN1x1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1ODg0Q1x1MzA5Mlx1NTNENlx1NUY5N1x1MzA1N1x1MzA2Nlx1MzBFQlx1MzBGQ1x1MzBEN1x1MzA5Mlx1NjI1M1x1MzA2MVx1NTIwN1x1MzA4QlxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnRdKXtcclxuXHRcdFx0XHRcdFx0XHRcdC8vXHUzMDVGXHUzMDYwXHUzMDU3XHU1NDA0XHU3QTJFXHUzMDZFXHU1QjlGXHU5NjlCXHUzMDZCXHUzMDZGXHU5NzVFXHU4ODY4XHU3OTNBXHUzMDY4XHUzMDZBXHUzMDhCXHU2NzYxXHU0RUY2XHUzMDkyXHU2RTgwXHUzMDVGXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDVGXHUzMDg5XHU2MjUzXHUzMDYxXHU1MjA3XHUzMDg5XHUzMDZBXHUzMDQ0XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTMwRUFcdTMwQjlcdTMwQzhcdTMwNkVcdThBMkRcdTVCOUFcdTMwNkJcdTMwODhcdTMwOEJcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnQgPT0gJ2xpc3RJdGVtcycgJiYgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBkYXRhW2ldW2tdLmxldmVsID49MiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCgodGhpcy5zZXR0aW5ncy5hbGxSb290SXRlbXMgPT0gZmFsc2UgJiYgZGF0YVtpXVtrXS5sZXZlbCA9PSAxKSAmJiAodGhpcy5zZXR0aW5ncy5hbGxUYXNrcyA9PSBmYWxzZSB8fCBkYXRhW2ldW2tdLnRhc2sgPT09IHZvaWQgMCkpIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KHRoaXMuc2V0dGluZ3MudGFza09ubHkgJiYgZGF0YVtpXVtrXS50YXNrID09PSB2b2lkIDApIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KHRoaXMuc2V0dGluZ3MuaGlkZUNvbXBsZXRlZFRhc2tzICYmIGRhdGFbaV1ba10udGFzayA9PSAneCcpKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGsrKztcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkJcdTMwODhcdTMwOEJcdTk3NUVcdTg4NjhcdTc5M0FcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtpXVtrXS50eXBlT2ZFbGVtZW50ID09ICdoZWFkaW5nJyAmJlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhlYWRpbmdMZXZlbFtkYXRhW2ldW2tdLmxldmVsIC0gMV0gPT0gZmFsc2Upe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRrKys7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2ltcGxlIGZpbHRlclx1MzA2Qlx1MzA4OFx1MzA4Qlx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnNldHRpbmdzLndvcmRzVG9JZ25vcmVbZGF0YVtpXVtrXS50eXBlT2ZFbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoICh2YWx1ZSkgJiYgZGF0YVtpXVtrXS5kaXNwbGF5VGV4dC5pbmNsdWRlcyh2YWx1ZSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWUgZW5kcHJldmlld2xvb3A7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbmRMaW5lID0gZGF0YVtpXVtrXS5wb3NpdGlvbi5zdGFydC5saW5lIC0xO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGwgPSBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmU7IGwgPD0gZW5kTGluZTsgbCsrKXtcclxuXHRcdFx0XHRcdFx0XHRwcmV2aWV3VGV4dDIgPSBwcmV2aWV3VGV4dDIgKyBpbmZvW2ldLmxpbmVzW2xdICsnXFxuJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQvLyBcdTdBN0FcdTg4NENcdTMwOTJcdTk2NjRcdTUzQkJcclxuXHRcdFx0XHRcdFx0cHJldmlld1RleHQyID0gcHJldmlld1RleHQyLnJlcGxhY2UoL1xcbiR8XFxuKD89XFxuKS9nLCcnKTtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFyaWFMYWJlbCA9IHByZXZpZXdUZXh0MjtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbC1wb3NpdGlvbicsdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbik7XHJcblx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwtY2xhc3NlcycsJ2RhaWx5LW5vdGUtcHJldmlldycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdFx0XHRcdGFzeW5jKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZpZXcuZWRpdG9yLmZvY3VzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0dmlldy5lZGl0b3Iuc2V0Q3Vyc29yIChkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQuY29sKTtcclxuXHRcdFx0XHRcdFx0XHRcdHZpZXcuZWRpdG9yLnNjcm9sbEludG9WaWV3KCB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZyb206IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsaW5lOiBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2g6MFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0bzoge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpbmU6IGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaDowXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0sIHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZmFsc2VcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly9ob3ZlciBwcmV2aWV3IFxyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignaG92ZXItbGluaycsIHtcclxuXHRcdFx0XHRcdFx0XHRldmVudCxcclxuXHRcdFx0XHRcdFx0XHRzb3VyY2U6IERhaWx5Tm90ZU91dGxpbmVWaWV3VHlwZSxcclxuXHRcdFx0XHRcdFx0XHRob3ZlclBhcmVudDogcm9vdEVsLFxyXG5cdFx0XHRcdFx0XHRcdHRhcmdldEVsOiBvdXRsaW5lVGl0bGUsXHJcblx0XHRcdFx0XHRcdFx0bGlua3RleHQ6IGZpbGVzW2ldLnBhdGgsXHJcblx0XHRcdFx0XHRcdFx0c3RhdGU6e3Njcm9sbDogZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lfVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNvbnRleHRtZW51XHJcblx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHRcdFx0XHQoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRcdFx0XHQvL1x1NjJCRFx1NTFGQVxyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiRXh0cmFjdFwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcInNlYXJjaFwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKT0+e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeHRyYWN0ID0gZGF0YVtpXVtqXS5kaXNwbGF5VGV4dDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmV4dHJhY3RNb2RlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmV4dHJhY3RUYXNrID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSxmYWxzZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdFx0XHRcdC8vXHU2NUIwXHU4OThGXHUzMEJGXHUzMEQ2XHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gaW4gbmV3IHRhYlwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zY3JvbGxUb0VsZW1lbnQoZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLCBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmNvbCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTUzRjNcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiB0byB0aGUgcmlnaHRcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJzZXBhcmF0b3ItdmVydGljYWxcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZignc3BsaXQnKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zY3JvbGxUb0VsZW1lbnQoZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLCBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmNvbCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBBNlx1MzBBM1x1MzBGM1x1MzBDOVx1MzBBNlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB3aW5kb3dcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJzY2FuXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3dpbmRvdycpLm9wZW5GaWxlKGZpbGVzW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFRvRWxlbWVudChkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQuY29sKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly9cdTg5ODFcdTdEMjAwXHUzMDYwXHUzMDYzXHUzMDVGXHUzMDY4XHUzMDREXHUzMDZFXHU1MUU2XHU3NDA2XHJcblx0XHRcdFx0Ly9cdTU0MDRcdTg4NENcdTMwOTJcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUZcdTMwNTdcdTMwMDFcdTdBN0FcdTg4NENcdTMwNjdcdTMwNkFcdTMwNDRcdTUyMURcdTMwODFcdTMwNkVcdTg4NENcdTMwOTJcdTg4NjhcdTc5M0FcdTMwNTlcdTMwOEIoXHU2MkJEXHU1MUZBXHUzMEUyXHUzMEZDXHUzMEM5XHUzMDY3XHUzMDZGXHU4ODRDXHUzMDhGXHUzMDZBXHUzMDQ0KVxyXG5cdFx0XHRcdGlmICh0aGlzLmV4dHJhY3RNb2RlID09IGZhbHNlKXtcclxuXHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgaW5mb1tpXS5saW5lcy5sZW5ndGg7IGorKyl7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoaW5mb1tpXS5saW5lc1tqXSA9PSBcIlwiKXtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBvdXRsaW5lRWw6IEhUTUxFbGVtZW50ID0gZGFpbHlOb3RlQ2hpbGRyZW5FbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuY3JlYXRlRGl2KFwibmF2LWZpbGVcIik7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3V0bGluZVRpdGxlOiBIVE1MRWxlbWVudCA9IG91dGxpbmVFbC5jcmVhdGVEaXYoXCJuYXYtZmlsZS10aXRsZSBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwibmF2LWZpbGUtdGl0bGUtY29udGVudFwiKS5zZXRUZXh0KGluZm9baV0ubGluZXNbal0pO1xyXG5cdFx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdFx0XHRcdFx0YXN5bmMoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmFsc2VcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcclxuXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gXHU2MkJEXHU1MUZBXHUzMEUyXHUzMEZDXHUzMEM5XHUzMDY3XHU2MkJEXHU1MUZBXHUzMDU3XHUzMDVGXHU4OTgxXHU3RDIwXHUzMDRDXHUzMDZBXHUzMDQ0XHU1ODM0XHU1NDA4XHUzMDAxXHUzMENFXHUzMEZDXHUzMEM4XHU4MUVBXHU0RjUzXHUzMDkyXHU5NzVFXHU4ODY4XHU3OTNBXHUzMDZCXHUzMDAyXHJcblx0XHRcdGlmICh0aGlzLmV4dHJhY3RNb2RlID09IHRydWUgJiYgaXNFeHRyYWN0ZWQgPT0gZmFsc2Upe1xyXG5cdFx0XHRcdGRhaWx5Tm90ZUVsLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTkwRThcdTUyMDZcdTMwNkVcdTYzQ0ZcdTc1M0JcdTVCOUZcdTg4NENcclxuXHRcdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBBOFx1MzBDN1x1MzBBM1x1MzBCRlx1MzA5Mlx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA2RVx1NEY0RFx1N0Y2RVx1MzA3RVx1MzA2N1x1MzBCOVx1MzBBRlx1MzBFRFx1MzBGQ1x1MzBFQlxyXG5cdHByaXZhdGUgc2Nyb2xsVG9FbGVtZW50KGxpbmU6IG51bWJlciwgY29sOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0dmlldy5lZGl0b3IuZm9jdXMoKTtcclxuXHRcdFx0dmlldy5lZGl0b3Iuc2V0Q3Vyc29yIChsaW5lLCBjb2wpO1xyXG5cdFx0XHR2aWV3LmVkaXRvci5zY3JvbGxJbnRvVmlldygge1xyXG5cdFx0XHRcdGZyb206IHtcclxuXHRcdFx0XHRcdGxpbmU6IGxpbmUsXHJcblx0XHRcdFx0XHRjaDowXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR0bzoge1xyXG5cdFx0XHRcdFx0bGluZTogbGluZSxcclxuXHRcdFx0XHRcdGNoOjBcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHRydWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHVGRjNCIFx1RkYzRFx1MzA2RVx1OTY2NFx1NTNCQlxyXG5cdHByaXZhdGUgc3RyaXBNYXJrZG93blN5bXBvbCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuICh0ZXh0LnJlcGxhY2UoLyhcXFtcXFspfChcXF1cXF0pL2csJycpKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NjNBMlx1N0QyMlx1N0JDNFx1NTZGMlx1MzA5Mlx1OEEyRFx1NUI5QVx1MzA2Qlx1NTQwOFx1MzA4Rlx1MzA1Qlx1MzA2Nlx1NTIxRFx1NjcxRlx1NTMxNlxyXG5cdHB1YmxpYyByZXNldFNlYXJjaFJhbmdlKCk6dm9pZCB7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9PSAnZm9yd2FyZCcpe1xyXG5cdFx0XHRjb25zdCBvbnNldERhdGUgPSBtb21lbnQodGhpcy5zZXR0aW5ncy5vbnNldCxcIllZWVktTU0tRERcIik7XHJcblx0XHRcdGlmIChvbnNldERhdGUuaXNWYWxpZCgpKXtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gb25zZXREYXRlO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gb25zZXREYXRlLmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb24uZGF5IC0xLCdkYXlzJyk7XHJcblx0XHRcdH0gZWxzZSB7ICBcclxuXHRcdFx0XHQvLyBvbnNldERhdGVcdTMwNENcdTRFMERcdTZCNjNcdTMwNkFcdTMwODlcdTVGNTNcdTY1RTVcdThENzdcdTcwQjlcdTMwNkViYWNrd2FyZCBzZWFyY2hcdTMwOTJcdTg4NENcdTMwNDZcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdvbnNldCBkYXRlIGlzIGludmFsaWQnKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSBtb21lbnQoKS5zdGFydE9mKCdkYXknKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uLmRheSAtIDEsJ2RheXMnKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlID09ICdiYWNrd2FyZCcpe1xyXG5cdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gbW9tZW50KCkuc3RhcnRPZignZGF5Jykuc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLSAxICwnZGF5cycpO1xyXG5cdFx0fSBcclxuXHR9XHJcblxyXG5cdC8vIFBlcmlvZGljIE5vdGVzXHUzMDZFXHU3MkI2XHU2MTRCXHUzMDkyXHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGICByZXR1cm4gMDpcdTMwQUFcdTMwRDUgMTp2MC54LnggMjp2MS4wLjAtXHJcblx0cHJpdmF0ZSBhc3luYyBjaGVja1BlcmlvZGljTm90ZXMoKTogUHJvbWlzZTxudW1iZXI+IHtcclxuXHRcdGlmIChhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddKXtcclxuXHRcdFx0aWYgKE51bWJlcihhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddLm1hbmlmZXN0LnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKSA+PTEpe1xyXG5cdFx0XHRcdC8vIHZlciAxLjAuMFx1NEVFNVx1NEUwQVxyXG5cdFx0XHRcdHRoaXMuY2FsZW5kYXJTZXRzID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpO1xyXG5cdFx0XHRcdGlmICghdGhpcy5jYWxlbmRhclNldHMpe1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnZmFpbGVkIHRvIGltcG9ydCBjYWxlbmRhciBzZXRzIHRvIERhaWx5IE5vdGUgT3V0bGluZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCBpbml0aWFsR3JhbnVsYXJpdHkgPSB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5O1xyXG5cdFx0XHRcdHdoaWxlICghdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKXtcclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSAodGhpcy5hY3RpdmVHcmFudWxhcml0eSArIDEpICUgR1JBTlVMQVJJVFlfTElTVC5sZW5ndGg7XHJcblx0XHRcdFx0XHRpZih0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID09IGluaXRpYWxHcmFudWxhcml0eSl7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFxyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdHJldHVybiAyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHZlciAwLngueFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuY2FsZW5kYXJTZXRzRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gMDtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTsgIFxyXG5cclxuXHRcdFx0XHRjb25zdCBpbml0aWFsR3JhbnVsYXJpdHkgPSB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5O1xyXG5cdFx0XHRcdHdoaWxlICghdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5zZXR0aW5ncz8uW0dSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dXT8uZW5hYmxlZCl7XHJcblx0XHRcdFx0XHR0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID0gKHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgKyAxKSAlIEdSQU5VTEFSSVRZX0xJU1QubGVuZ3RoO1xyXG5cdFx0XHRcdFx0aWYodGhpcy5hY3RpdmVHcmFudWxhcml0eSA9PSBpbml0aWFsR3JhbnVsYXJpdHkpe1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHRcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmVxdWVzdFNhdmVMYXlvdXQoKTtcclxuXHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gUGVyaW9kaWMgTm90ZXNcdTMwNENcdTMwQUFcdTMwRDVcdTMwNEJcdTMwQTRcdTMwRjNcdTMwQjlcdTMwQzhcdTMwRkNcdTMwRUJcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNDRcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5wZXJpb2RpY05vdGVzRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9IDA7XHJcblx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gMDtcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gZ3JhbnVsYXJpdHlcdTMwNkJcdTVGOTNcdTMwNjNcdTMwNjZcdTUxNjhcdTMwNjZcdTMwNkVkYWlseS93ZWVrbHkvbW9udGhseS9xdWFydGVybHkveWVhcmx5XHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0Z2V0QWxsTm90ZXMoKTpSZWNvcmQ8c3RyaW5nLFRGaWxlPiB7XHJcblx0XHRzd2l0Y2ggKHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkpe1xyXG5cdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0cmV0dXJuIGdldEFsbERhaWx5Tm90ZXMoKTtcclxuXHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdHJldHVybiBnZXRBbGxXZWVrbHlOb3RlcygpO1xyXG5cdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0cmV0dXJuIGdldEFsbE1vbnRobHlOb3RlcygpO1xyXG5cdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0cmV0dXJuIGdldEFsbFF1YXJ0ZXJseU5vdGVzKCk7XHJcblx0XHRcdGNhc2UgNDpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0QWxsWWVhcmx5Tm90ZXMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbiIsICJpbXBvcnQgbW9tZW50ICBmcm9tIFwibW9tZW50XCI7XHJcbmltcG9ydCB7IFRGaWxlLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBjcmVhdGVEYWlseU5vdGUsIGdldERhaWx5Tm90ZSwgY3JlYXRlUGVyaW9kaWNOb3RlLCBJR3JhbnVsYXJpdHksIGdldERhdGVVSUQsIGNyZWF0ZVF1YXJ0ZXJseU5vdGUsIGNyZWF0ZVllYXJseU5vdGV9IGZyb20gXCJvYnNpZGlhbi1kYWlseS1ub3Rlcy1pbnRlcmZhY2VcIjtcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQW5kT3BlbkRhaWx5Tm90ZSggZ3JhbnVsYXJpdHk6IElHcmFudWxhcml0eSwgZGF0ZTogbW9tZW50LCBhbGxGaWxlczogUmVjb3JkPHN0cmluZyxURmlsZT4pOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gd2luZG93LmFwcDtcclxuXHJcblx0Y29uc3QgY3JlYXRlRmlsZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdC8vIGNyZWF0ZVBlcmlvZGljTm90ZVx1MzA2RnF1YXJ0ZXIveWVhclx1MzA2Qlx1MzA2Rlx1NUJGRVx1NUZEQ1x1MzA1N1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFx1MzA4OFx1MzA0Nlx1MzA2QVx1MzA2RVx1MzA2N1x1NTIwNlx1NUM5MFx1MzAwMlxyXG5cdFx0bGV0IG5ld05vdGU6VEZpbGU7XHJcblx0XHRzd2l0Y2ggKGdyYW51bGFyaXR5KXtcclxuXHRcdFx0Y2FzZSAncXVhcnRlcic6XHJcblx0XHRcdFx0bmV3Tm90ZSA9IGF3YWl0IGNyZWF0ZVF1YXJ0ZXJseU5vdGUoZGF0ZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3llYXInOlxyXG5cdFx0XHRcdG5ld05vdGUgPSBhd2FpdCBjcmVhdGVZZWFybHlOb3RlKGRhdGUpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdG5ld05vdGUgPSBhd2FpdCBjcmVhdGVQZXJpb2RpY05vdGUoZ3JhbnVsYXJpdHksIGRhdGUpO1xyXG5cdFx0fVxyXG5cdFx0XHRcdGF3YWl0IHdvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUobmV3Tm90ZSk7XHJcblxyXG5cdH07XHJcblx0Y29uc3QgZGFpbHlub3RlID0gYWxsRmlsZXNbZ2V0RGF0ZVVJRChkYXRlLCBncmFudWxhcml0eSldO1xyXG5cdC8vY29uc3QgZGFpbHlub3RlID0gZ2V0RGFpbHlOb3RlKGRhdGUsIGFsbEZpbGVzKTtcclxuXHRpZiAoIWRhaWx5bm90ZSl7XHJcblx0XHRhd2FpdCBjcmVhdGVGaWxlKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGF3YWl0IHdvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZGFpbHlub3RlKTtcclxuXHR9XHJcblxyXG59XHJcbiIsICJcclxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2NvcGUsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBEYWlseU5vdGVPdXRsaW5lUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcclxuZXhwb3J0IGNsYXNzIE1vZGFsRXh0cmFjdCBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW47XHJcblx0c2NvcGU6IFNjb3BlO1xyXG5cclxuXHRpbnB1dGVkVmFsdWU6IHN0cmluZztcclxuXHRlbmFibGVFeHRyYWN0IDogYm9vbGVhbjtcclxuXHRvblN1Ym1pdDogKGVuYWJsZUV4dHJhY3Q6IGJvb2xlYW4pID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW4sIG9uU3VibWl0OiAoZW5hYmxlRXh0cmFjdDogYm9vbGVhbikgPT4gdm9pZCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0dGhpcy5pbnB1dGVkVmFsdWUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdDtcclxuXHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LnNldE5hbWUoXCJFeHRyYWN0IGJ5IHdvcmQgb3IgcGhyYXNlOlwiKVxyXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT57XHJcblx0XHRcdFx0dGV4dC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCkuaW5wdXRFbC5zZWxlY3QoKTtcclxuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5pbnB1dGVkVmFsdWUgPSB2YWx1ZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cclxuXHRcdFx0XHRidG5cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiRXh0cmFjdFwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhcclxuXHRcdFx0XHRcdFx0YXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmV4ZWN1dGVFeHRyYWN0KCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCkpXHJcblx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cclxuXHRcdFx0XHRidG5cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiQ2FuY2VsXCIpXHJcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdC8vIEVudGVyXHUzMDY3XHUzMDZFXHU1MTY1XHU1MjlCXHUzMDZCXHU1RjhDXHUzMDY3XHU1QkZFXHU1RkRDXHUzMDU3XHUzMDVGXHUzMDQ0IFxyXG5cdFx0dGhpcy5zY29wZS5yZWdpc3RlcihbXSwgJ0VudGVyJywgXHJcblx0XHRcdChldnQ6IEtleWJvYXJkRXZlbnQpPT57XHJcblx0XHRcdFx0dGhpcy5leGVjdXRlRXh0cmFjdCgpO1xyXG5cdFx0XHR9XHJcblx0XHQgXHQpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXhlY3V0ZUV4dHJhY3QoKTpQcm9taXNlPHZvaWQ+e1xyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4dHJhY3QgPSB0aGlzLmlucHV0ZWRWYWx1ZTtcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCh0cnVlKTtcclxuXHR9XHJcbn1cclxuIiwgIi8qXHJcbkNvZGVzIGluIHRoaXMgZmlsZSBpcyBhZGFwdGVkIGZyb20gUGVyaW9kaWMgTm90ZXMgYnkgTGlhbSBDYWluIGh0dHBzOi8vZ2l0aHViLmNvbS9saWFtY2Fpbi9vYnNpZGlhbi1wZXJpb2RpYy1ub3Rlc1xyXG5cclxuVGhlIG9yaWdpbmFsIHdvcmsgaXMgTUlULWxpY2Vuc2VkLlxyXG5cclxuTUlUIExpY2Vuc2VcclxuXHJcbkNvcHlyaWdodCAoYykgMjAyMSBMaWFtIENhaW5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcclxuY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXHJcblNPRlRXQVJFLlxyXG4qL1xyXG5cclxuXHJcbmltcG9ydCBtb21lbnQgIGZyb20gXCJtb21lbnRcIjtcclxuaW1wb3J0IHsgQXBwLCBURmlsZSwgV29ya3NwYWNlTGVhZiwgbm9ybWFsaXplUGF0aCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IHsgQ2FsZW5kYXJTZXQgfSBmcm9tIFwiLi9wZXJpb2RpY05vdGVzVHlwZXNcIjtcclxuXHJcbmltcG9ydCB7IEdyYW51bGFyaXR5LCBQZXJpb2RpY0NvbmZpZyB9IGZyb20gXCIuL3BlcmlvZGljTm90ZXNUeXBlc1wiO1xyXG5cclxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcclxuXHJcbmNvbnN0IERFRkFVTFRfTk9URV9GT1JNQVQgPSB7XHJcblx0ZGF5OiBcIllZWVktTU0tRERcIixcclxuXHR3ZWVrOiBcImdnZ2ctW1ddd3dcIixcclxuXHRtb250aDogXCJZWVlZLU1NXCIsXHJcblx0cXVhcnRlcjogXCJZWVlZLVtRXVFcIixcclxuXHR5ZWFyOiBcIllZWVlcIlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUoIGdyYW51bGFyaXR5OiBzdHJpbmcsIGRhdGU6IG1vbWVudCwgY2FsZW5kYXJTZXQ6IENhbGVuZGFyU2V0KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHdpbmRvdy5hcHA7XHJcblxyXG5cclxuXHRsZXQgZmlsZSA9IHdpbmRvdy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5nZXRQZXJpb2RpY05vdGUoXHJcblx0XHRjYWxlbmRhclNldC5pZCwgZ3JhbnVsYXJpdHksIGRhdGUgXHJcblx0KTtcclxuXHRpZiAoIWZpbGUpIHtcclxuXHRcdC8vICBmaWxlXHUzMDkyXHU0RjVDXHU2MjEwXHJcbiAgICBcdGNvbnN0IGNvbmZpZyA9IGNhbGVuZGFyU2V0W2dyYW51bGFyaXR5XTtcclxuICAgIFx0Y29uc3QgZm9ybWF0ID0gY2FsZW5kYXJTZXRbZ3JhbnVsYXJpdHldLmZvcm1hdDtcclxuXHJcblx0XHRjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCA/IGZvcm1hdCA6IERFRkFVTFRfTk9URV9GT1JNQVRbZ3JhbnVsYXJpdHldKTtcclxuXHRcdGNvbnN0IHRlbXBsYXRlQ29udGVudHMgPSBhd2FpdCBnZXRUZW1wbGF0ZUNvbnRlbnRzKHdpbmRvdy5hcHAsIGNvbmZpZy50ZW1wbGF0ZVBhdGgpO1xyXG5cdFx0Y29uc3QgcmVuZGVyZWRDb250ZW50cyA9IGFwcGx5VGVtcGxhdGVUcmFuc2Zvcm1hdGlvbnMoXHJcblx0XHRcdGZpbGVuYW1lLFxyXG5cdFx0XHRncmFudWxhcml0eSBhcyBHcmFudWxhcml0eSxcclxuXHRcdFx0ZGF0ZSxcclxuXHRcdFx0Zm9ybWF0LFxyXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnRzXHJcbiAgICBcdCk7XHJcbiAgICBjb25zdCBkZXN0UGF0aCA9IGF3YWl0IGdldE5vdGVDcmVhdGlvblBhdGgod2luZG93LmFwcCwgZmlsZW5hbWUsIGNvbmZpZyk7XHJcbiAgICBmaWxlID0gYXdhaXQgd2luZG93LmFwcC52YXVsdC5jcmVhdGUoZGVzdFBhdGgsIHJlbmRlcmVkQ29udGVudHMpO1xyXG4gIH1cclxuXHJcblx0YXdhaXQgd29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlKTtcclxufVxyXG5cclxuXHJcbi8vIFBlcmlvZGljIE5vdGVzIHV0aWwudHNcdTMwNEJcdTMwODlcclxuYXN5bmMgZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50cyhcclxuXHRhcHA6IEFwcCxcclxuXHR0ZW1wbGF0ZVBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZFxyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0Y29uc3QgeyBtZXRhZGF0YUNhY2hlLCB2YXVsdCB9ID0gYXBwO1xyXG5cdGNvbnN0IG5vcm1hbGl6ZWRUZW1wbGF0ZVBhdGggPSBub3JtYWxpemVQYXRoKHRlbXBsYXRlUGF0aCA/PyBcIlwiKTtcclxuXHRpZiAodGVtcGxhdGVQYXRoID09PSBcIi9cIikge1xyXG5cdCAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShcIlwiKTtcclxuXHR9XHJcbiAgXHJcblx0dHJ5IHtcclxuXHQgIGNvbnN0IHRlbXBsYXRlRmlsZSA9IG1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3Qobm9ybWFsaXplZFRlbXBsYXRlUGF0aCwgXCJcIik7XHJcblx0ICByZXR1cm4gdGVtcGxhdGVGaWxlID8gdmF1bHQuY2FjaGVkUmVhZCh0ZW1wbGF0ZUZpbGUpIDogXCJcIjtcclxuXHR9IGNhdGNoIChlcnIpIHtcclxuXHQgIGNvbnNvbGUuZXJyb3IoXHJcblx0XHRgRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGUgJyR7bm9ybWFsaXplZFRlbXBsYXRlUGF0aH0nYCxcclxuXHRcdGVyclxyXG5cdCAgKTtcclxuXHQgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gcmVhZCB0aGUgZGFpbHkgbm90ZSB0ZW1wbGF0ZVwiKTtcclxuXHQgIHJldHVybiBcIlwiO1xyXG5cdH1cclxuICB9XHJcblxyXG5mdW5jdGlvbiBhcHBseVRlbXBsYXRlVHJhbnNmb3JtYXRpb25zKFxyXG5maWxlbmFtZTogc3RyaW5nLFxyXG5ncmFudWxhcml0eTogR3JhbnVsYXJpdHksXHJcbmRhdGU6IG1vbWVudCxcclxuZm9ybWF0OiBzdHJpbmcsXHJcbnJhd1RlbXBsYXRlQ29udGVudHM6IHN0cmluZ1xyXG4pOiBzdHJpbmcge1xyXG5sZXQgdGVtcGxhdGVDb250ZW50cyA9IHJhd1RlbXBsYXRlQ29udGVudHM7XHJcblxyXG50ZW1wbGF0ZUNvbnRlbnRzID0gcmF3VGVtcGxhdGVDb250ZW50c1xyXG5cdC5yZXBsYWNlKC97e1xccypkYXRlXFxzKn19L2dpLCBmaWxlbmFtZSlcclxuXHQucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxyXG5cdC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpO1xyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcImRheVwiKSB7XHJcblx0dGVtcGxhdGVDb250ZW50cyA9IHRlbXBsYXRlQ29udGVudHNcclxuXHQucmVwbGFjZSgve3tcXHMqeWVzdGVyZGF5XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgXCJkYXlcIikuZm9ybWF0KGZvcm1hdCkpXHJcblx0LnJlcGxhY2UoL3t7XFxzKnRvbW9ycm93XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuYWRkKDEsIFwiZFwiKS5mb3JtYXQoZm9ybWF0KSlcclxuXHQucmVwbGFjZShcclxuXHRcdC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdFx0KF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xyXG5cdFx0Y29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xyXG5cdFx0Y29uc3QgY3VycmVudERhdGUgPSBkYXRlLmNsb25lKCkuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0XHRjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdFx0cmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XHJcblx0XHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcIndlZWtcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSlcXHMqOiguKj8pfX0vZ2ksXHJcblx0KF8sIGRheU9mV2VlaywgbW9tZW50Rm9ybWF0KSA9PiB7XHJcblx0XHRjb25zdCBkYXkgPSBnZXREYXlPZldlZWtOdW1lcmljYWxWYWx1ZShkYXlPZldlZWspO1xyXG5cdFx0cmV0dXJuIGRhdGUud2Vla2RheShkYXkpLmZvcm1hdChtb21lbnRGb3JtYXQudHJpbSgpKTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcIm1vbnRoXCIpIHtcclxuXHR0ZW1wbGF0ZUNvbnRlbnRzID0gdGVtcGxhdGVDb250ZW50cy5yZXBsYWNlKFxyXG5cdC97e1xccyoobW9udGgpXFxzKigoWystXVxcZCspKFt5cW13ZGhzXSkpP1xccyooOi4rPyk/fX0vZ2ksXHJcblx0KF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xyXG5cdFx0Y29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xyXG5cdFx0Y29uc3QgbW9udGhTdGFydCA9IGRhdGVcclxuXHRcdC5jbG9uZSgpXHJcblx0XHQuc3RhcnRPZihcIm1vbnRoXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcInF1YXJ0ZXJcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKihxdWFydGVyKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IG1vbnRoU3RhcnQgPSBkYXRlXHJcblx0XHQuY2xvbmUoKVxyXG5cdFx0LnN0YXJ0T2YoXCJxdWFydGVyXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcInllYXJcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKih5ZWFyKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IG1vbnRoU3RhcnQgPSBkYXRlXHJcblx0XHQuY2xvbmUoKVxyXG5cdFx0LnN0YXJ0T2YoXCJ5ZWFyXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxucmV0dXJuIHRlbXBsYXRlQ29udGVudHM7XHJcbn1cclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXROb3RlQ3JlYXRpb25QYXRoKFxyXG5cdGFwcDogQXBwLFxyXG5cdGZpbGVuYW1lOiBzdHJpbmcsXHJcblx0cGVyaW9kaWNDb25maWc6IFBlcmlvZGljQ29uZmlnXHJcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRjb25zdCBkaXJlY3RvcnkgPSBwZXJpb2RpY0NvbmZpZy5mb2xkZXIgPz8gXCJcIjtcclxuXHRjb25zdCBmaWxlbmFtZVdpdGhFeHQgPSAhZmlsZW5hbWUuZW5kc1dpdGgoXCIubWRcIikgPyBgJHtmaWxlbmFtZX0ubWRgIDogZmlsZW5hbWU7XHJcbiAgXHJcblx0Y29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgoam9pbihkaXJlY3RvcnksIGZpbGVuYW1lV2l0aEV4dCkpO1xyXG5cdGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhhcHAsIHBhdGgpO1xyXG5cdHJldHVybiBwYXRoO1xyXG4gIH1cclxuXHJcbi8vIENyZWRpdDogQGNyZWF0aW9uaXgvcGF0aC5qc1xyXG5mdW5jdGlvbiBqb2luKC4uLnBhcnRTZWdtZW50czogc3RyaW5nW10pOiBzdHJpbmcge1xyXG5cdC8vIFNwbGl0IHRoZSBpbnB1dHMgaW50byBhIGxpc3Qgb2YgcGF0aCBjb21tYW5kcy5cclxuXHRsZXQgcGFydHM6IHN0cmluZ1tdID0gW107XHJcblx0Zm9yIChsZXQgaSA9IDAsIGwgPSBwYXJ0U2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRwYXJ0cyA9IHBhcnRzLmNvbmNhdChwYXJ0U2VnbWVudHNbaV0uc3BsaXQoXCIvXCIpKTtcclxuXHR9XHJcblx0Ly8gSW50ZXJwcmV0IHRoZSBwYXRoIGNvbW1hbmRzIHRvIGdldCB0aGUgbmV3IHJlc29sdmVkIHBhdGguXHJcblx0Y29uc3QgbmV3UGFydHMgPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0Y29uc3QgcGFydCA9IHBhcnRzW2ldO1xyXG5cdFx0Ly8gUmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXNcclxuXHRcdC8vIEFsc28gcmVtb3ZlIFwiLlwiIHNlZ21lbnRzXHJcblx0XHRpZiAoIXBhcnQgfHwgcGFydCA9PT0gXCIuXCIpIGNvbnRpbnVlO1xyXG5cdFx0Ly8gUHVzaCBuZXcgcGF0aCBzZWdtZW50cy5cclxuXHRcdGVsc2UgbmV3UGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0Ly8gUHJlc2VydmUgdGhlIGluaXRpYWwgc2xhc2ggaWYgdGhlcmUgd2FzIG9uZS5cclxuXHRpZiAocGFydHNbMF0gPT09IFwiXCIpIG5ld1BhcnRzLnVuc2hpZnQoXCJcIik7XHJcblx0Ly8gVHVybiBiYWNrIGludG8gYSBzaW5nbGUgc3RyaW5nIHBhdGguXHJcblx0cmV0dXJuIG5ld1BhcnRzLmpvaW4oXCIvXCIpO1xyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlRm9sZGVyRXhpc3RzKGFwcDogQXBwLCBwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRjb25zdCBkaXJzID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKS5zcGxpdChcIi9cIik7XHJcblx0ZGlycy5wb3AoKTsgLy8gcmVtb3ZlIGJhc2VuYW1lXHJcblxyXG5cdGlmIChkaXJzLmxlbmd0aCkge1xyXG5cdFx0Y29uc3QgZGlyID0gam9pbiguLi5kaXJzKTtcclxuXHRcdGlmICghYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChkaXIpKSB7XHJcblx0XHRhd2FpdCBhcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpcik7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0RGF5c09mV2VlaygpOiBzdHJpbmdbXSB7XHJcblx0Y29uc3QgeyBtb21lbnQgfSA9IHdpbmRvdztcclxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5cdGxldCB3ZWVrU3RhcnQgPSAobW9tZW50LmxvY2FsZURhdGEoKSBhcyBhbnkpLl93ZWVrLmRvdztcclxuXHRjb25zdCBkYXlzT2ZXZWVrID0gW1xyXG5cdCAgXCJzdW5kYXlcIixcclxuXHQgIFwibW9uZGF5XCIsXHJcblx0ICBcInR1ZXNkYXlcIixcclxuXHQgIFwid2VkbmVzZGF5XCIsXHJcblx0ICBcInRodXJzZGF5XCIsXHJcblx0ICBcImZyaWRheVwiLFxyXG5cdCAgXCJzYXR1cmRheVwiLFxyXG5cdF07XHJcbiAgXHJcblx0d2hpbGUgKHdlZWtTdGFydCkge1xyXG5cdCAgY29uc3QgZGF5ID0gZGF5c09mV2Vlay5zaGlmdCgpO1xyXG5cdCAgaWYgKGRheSkgZGF5c09mV2Vlay5wdXNoKGRheSk7XHJcblx0ICB3ZWVrU3RhcnQtLTtcclxuXHR9XHJcblx0cmV0dXJuIGRheXNPZldlZWs7XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gZ2V0RGF5c09mV2VlaygpLmluZGV4T2YoZGF5T2ZXZWVrTmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICB9IiwgImltcG9ydCBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwic3JjL21haW5cIjtcclxuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IGFwcEhhc0RhaWx5Tm90ZXNQbHVnaW5Mb2FkZWQgfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcblxyXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICAgIHBsdWdpbjogRGFpbHlOb3RlT3V0bGluZVBsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luKSB7XHJcbiAgICAgICAgc3VwZXIgKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cclxuICAgICAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICAvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUYocGVyaW9kaWMgbm90ZXMgXHUzMDYwXHUzMDUxXHUzMDY3XHUzMDgyb25cdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTU2REVcdTkwN0YpXHJcbiAgICAgICAgaWYgKCFhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoXCJzZXR0aW5ncy1iYW5uZXJcIiwgKGJhbm5lcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgYmFubmVyLmNyZWF0ZUVsKFwiaDNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiRGFpbHkgTm90ZXMgcGx1Z2luIG5vdCBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIkJhc2ljc1wiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJbml0aWFsIHNlYXJjaCB0eXBlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwic2VhcmNoIGJhY2t3YXJkIGZyb20gdG9kYXkgLyBmb3J3YXJkIGZyb20gYSBzcGVjaWZpYyBkYXRlXCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImJhY2t3YXJkXCIsIFwiYmFja3dhcmRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZm9yd2FyZFwiLFwiZm9yd2FyZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTZWFyY2ggZHVyYXRpb25cIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2YgZGF5cyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAyOClcIilcclxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLmRheSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5kYXkpKVxyXG5cclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLmRheVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSW5jbHVkZSBmdXR1cmUgZGFpbHkgbm90ZXNcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiaW4gYmFja3dhcmQgc2VhcmNoLCBpbmNsdWRlIG4gZGF5cyBvZiBmdXR1cmUgZGFpbHkgbm90ZXMgKGRlZmF1bHQgPSA1KVwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1Mub2Zmc2V0KSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLm9mZnNldCkpXHJcblxyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0ZWRWYWx1ZSA9IE51bWJlcigoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dGVkVmFsdWUgPCAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRlZFZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ZWRWYWx1ZSA+PTM2Nikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dGVkVmFsdWUgPSAzNjZcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2Zmc2V0ID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9uc2V0IGRhdGVcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwib25zZXQgZGF0ZSBpbiBmb3J3YXJkIHNlYXJjaCAoWVlZWS1NTS1ERClcIilcclxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5vbnNldClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub25zZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9uc2V0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpOyAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXHU1MTY1XHU1MjlCXHU1ODM0XHU5NzYyXHUzMDY3XHUzMDZFXHUzMEQwXHUzMEVBXHUzMEM3XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHUzMDAxXHU2NUFEXHU1RkY1XHUyMDI2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb21lbnQodmFsdWUgLCBcIllZWVktTU0tRERcIikuaXNWYWxpZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9uc2V0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJpbnZhbGlkIGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBoZWFkaW5nc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgbGlua3NcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluayA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgdGFnc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGxpc3QgaXRlbXMgJiB0YXNrc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgYWxsIHJvb3QgbGlzdCBpdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJpZiBkaXNhYmxlZCwgb25seSB0b3AgaXRlbSBvZiB0aGUgbGlzdCBpcyBkaXNwbGF5ZWRcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxSb290SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbFJvb3RJdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgYWxsIHRhc2tzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcInNob3cgYWxsIHRhc2sgaXRlbXMgcmVnYXJkbGVzcyBvZiB0aGVpciBsZXZlbFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbFRhc2tzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxUYXNrcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiVGFzayBvbmx5XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImlmIGVuYWJsZWQsIG5vcm1hbCBsaXN0IGl0ZW1zIGFyZSBoaWRkZW5cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50YXNrT25seSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza09ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkhpZGUgY29tcGxldGVkIHRhc2tzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUNvbXBsZXRlZFRhc2tzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1NjBDNVx1NTgzMVxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiRGlzcGxheSBmaWxlIGluZm9ybWF0aW9uXCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJkaXNwbGF5IHRoZSBudW1iZXIgb2YgbGluZXMgb2YgdGhlIGZpbGUgLyBkaXN0YW5jZSBmcm9tIHRoZSBiYXNlIGRhdGUgd2l0aCB0aGUgZmlsZSBuYW1lXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGluZXNcIixcImxpbmVzXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZGF5c1wiLFwiZGlzdGFuY2VcIikgICAvLyBwZXJpb2RpYyBub3RlcyBcdTMwNkJcdTVCRkVcdTVGRENcdTMwNTlcdTMwOEJcdTMwNkFcdTMwODlkYXlzIFx1MzA2Qlx1OTY1MFx1MzA4OVx1MzA2QVx1MzA0Rlx1MzA2QVx1MzA4Qlx1MzA2RVx1MzA2N2Rpc3RhbmNlXHUzMDY4XHUzMDU3XHUzMDVGXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm8gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdmlld1x1MzA5Mlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1NEY0RFx1N0Y2RSBcdUZGMDhcdTUzRjNcdTMwQjVcdTMwQTRcdTMwQzlcdTMwRDBcdTMwRkNcdTMwMDFcdTVERTZcdTMwQjVcdTMwQTRcdTMwQzlcdTMwRDBcdTMwRkNcdTMwMDFcdTMwRTFcdTMwQTRcdTMwRjNcdTMwREFcdTMwQTRcdTMwRjNcdUZGMDlcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIlBvc2l0aW9uIG9mIHRoZSBwbHVnaW4gdmlld1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiU3BlY2lmeSBkZWZhdWx0IHBvc2l0aW9uIHdoZXJlIHRoaXMgcGx1Z2luJ3MgdmlldyBhcHBlYXJzXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInJpZ2h0XCIsIFwicmlnaHQgc2lkZSBwYW5lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGVmdFwiLFwibGVmdCBzaWRlIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWJcIixcIm5ldyB0YWIgaW4gbWFpbiBwYW5lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwic3BsaXRcIixcInNwbGl0dGVkIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJwb3BvdXRcIixcInBvcG91dCB3aW5kb3dcIilcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy52aWV3UG9zaXRpb24pXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdQb3NpdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQZXJpb2RpYyBOb3Rlc1x1NUJGRVx1NUZEQ1x1MzA2RVx1MzBBQVx1MzBGM1x1MzBBQVx1MzBENVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiUGVyaW9kaWMgTm90ZXNcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJQZXJpb2RpYyBOb3RlcyBjb21tdW5pdHkgcGx1Z2luIGlzIG5vdCBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmVyQ2hlY2sgPSAgTnVtYmVyKGFwcC5wbHVnaW5zLnBsdWdpbnNbJ3BlcmlvZGljLW5vdGVzJ10/Lm1hbmlmZXN0LnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKTtcclxuICAgICAgICAgICAgaWYgKHZlckNoZWNrID49IDEpIHsgICBcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiY2FsZW5kYXIgc2V0c1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW5hYmxlIGNhbGVuZGFyIHNldHMgZmVhdHVyZS4gWW91IGhhdmUgdG8gYWN0aXZhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgYmV0YSB2ZXJzaW9uIG9mIHRoZSBQZXJpb2RpYyBOb3RlcyBQbHVnaW4gZmlyc3QuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FsZW5kYXJTZXRzRW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpOyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJwZXJpb2RpYyBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbmFibGUgd2Vla2x5L21vbnRobHkvcXVhcnRlcmx5L3llYXJseSBub3Rlcy4gWW91IGhhdmUgdG8gYWN0aXZhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgUGVyaW9kaWMgTm90ZXMgUGx1Z2luIGZpcnN0LlwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZXJpb2RpY05vdGVzRW5hYmxlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpOyAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQpe1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlNlYXJjaCBkdXJhdGlvbiBmb3IgcGVyaW9kaWMgbm90ZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIndlZWtseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIm51bWJlciBvZiB3ZWVrcyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAxMilcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi53ZWVrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi53ZWVrKSlcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi53ZWVrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ud2VlayA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIm1vbnRobHkgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2YgbW9udGhzIHRvIHNlYXJjaCBwZXIgcGFnZSAoZGVmYXVsdCA9IDEyKVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLm1vbnRoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5tb250aCkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkIDw9IDAgfHwgcGFyc2VkID49MzY2KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb24ubW9udGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5tb250aCA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcInF1YXJ0ZXJseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIm51bWJlciBvZiBxdWFydGVycyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSA4KVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnF1YXJ0ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmR1cmF0aW9uLnF1YXJ0ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PTM2Nil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnF1YXJ0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5xdWFydGVyID0gcGFyc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwieWVhcmx5IG5vdGVzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwibnVtYmVyIG9mIHllYXJzIHRvIHNlYXJjaCBwZXIgcGFnZSAoZGVmYXVsdCA9IDEyKVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnllYXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmR1cmF0aW9uLnllYXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PTM2Nil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnllYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi55ZWFyID0gcGFyc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcImF0dGFjaCBkYXRlIHJhbmdlIHRvIHdlZWtseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJkaXNwbGF5IGRhdGUgcmFuZ2UgbmV4dCB0byB3ZWVrbHkgbm90ZXMnIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2hXZWVrbHlOb3Rlc05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiSGVhZGluZ3NcIixcclxuICAgICAgICAgICAgY2xzOlwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiSGVhZGluZyBsZXZlbCB0byBkaXNwbGF5XCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmhlYWRpbmdMZXZlbC5mb3JFYWNoKCAodmFsdWUsIGluZGV4LCBhcnJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZShgTGV2ZWwkeyBpbmRleCArIDF9YClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oZWFkaW5nTGV2ZWxbaW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmhlYWRpbmdMZXZlbFsgaW5kZXggXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlRvIGRpc3BsYXkgdGhpcyBzZWN0aW9uLCBhY3RpdmF0ZSAnU2hvdyBoZWFkaW5ncycgaW4gQmFzaWNzIHNlY3Rpb24uXCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlByZXZpZXdcIixcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJJbmxpbmUgcHJldmlld1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiU2hvdyBhIGZldyBzdWJzZXF1ZW50IHdvcmRzIG5leHQgdG8gdGhlIG91dGxpbmUgZWxlbWVudCBuYW1lXCIpXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZVByZXZpZXcpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5saW5lUHJldmlldyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJUb29sdGlwIHByZXZpZXdcIilcclxuICAgICAgICAuc2V0RGVzYyhcIlNob3cgc3Vic2VxdWVudCBzZW50ZW5jZXMgYXMgYSB0b29sdGlwIHdoZW4gaG92ZXJcIilcclxuICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b29sdGlwUHJldmlldyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlRvb2x0aXAgcHJldmlldyBkaXJlY3Rpb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwic3BlY2lmeSB0aGUgZGlyZWN0aW9uIHRvIGRpc3BsYXkgdG9vbHRpcCBwcmV2aWV3XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxlZnRcIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInJpZ2h0XCIsXCJyaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJib3R0b21cIixcImJvdHRvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0b3BcIixcInRvcFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXdEaXJlY3Rpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEQ1XHUzMEEzXHUzMEVCXHUzMEJGXHUzMEZDXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJTaW1wbGUgZmlsdGVyXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSGVhZGluZ3MgdG8gaWdub3JlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiSGVhZGluZ3Mgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0lnbm9yZS5oZWFkaW5nLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUuaGVhZGluZyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJMaW5rcyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaW5rcyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLmxpbmsuam9pbignXFxuJykpO1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0lnbm9yZS5saW5rID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiVGFncyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJ0YWdzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUudGFnLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUudGFnID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTGlzdCBpdGVtcyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaXN0IGl0ZW1zIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUubGlzdEl0ZW1zLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUubGlzdEl0ZW1zID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluY2x1ZGUgLyBFeGNsdWRlXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJJbmNsdWRlXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIklmIHlvdSBzcGVjaWZ5IG9uZSBvdXRsaW5lIGVsZW1lbnQgdHlwZSBhbmQgd29yZHMgdG8gaW5jbHVkZSwgb25seSBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlIGluY2x1ZGVkIGVsZW1lbnRzIGFyZSBkaXNwbGF5ZWQuXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCIqKk5PVEUqKjogSWYgSW5jbHVkZSBmaWx0ZXIgaXMgc2V0IGluY29ycmVjdGx5LCBhIG51bWJlciBvZiBvdXRsaW5lcyBtYXkgbm90IGJlIGRpc3BsYXllZC4gSW4gc3VjaCBhIGNhc2UsIHRyeSBzZXR0aW5nICdFbGVtZW50IHR5cGUgZm9yIGluY2x1ZGUnIHRvICdubyBJbmNsdWRlIGZpbHRlcicuXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJubyBJbmNsdWRlIGZpbHRlclwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhlYWRpbmdcIixcImhlYWRpbmdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5rXCIsXCJsaW5rXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJ0YWdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaXN0SXRlbXNcIixcImxpc3RJdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVPbmx5KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT25seSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZU9ubHkgIT0gJ25vbmUnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiV29yZHMgdG8gaW5jbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgLnNldERlc2MoXCJPbmx5IGVsZW1lbnRzIHNwZWNpZmllZCBpbiAnRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlJyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkluY2x1ZGUgdGhlIGJlZ2lubmluZyBwYXJ0XCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlNwZWNpZnkgd2hldGhlciB0byBpbmNsdWRlIHRoZSBiZWdpbm5pbmcgcGFydHMgb2YgZWFjaCBkYWlseSBub3RlIHdpdGggbm8gZWxlbWVudCB0byBpbmNsdWRlIFwiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlQmVnaW5uaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZUJlZ2lubmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJFeGNsdWRlXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlNwZWNpZmllZCBvdXRsaW5lIGVsZW1lbnRzIGFuZCBlbGVtZW50cyBiZWxvbmdpbmcgdG8gdGhhdCBlbGVtZW50IHdpbGwgbm90IGJlIGRpc3BsYXllZC5cIixcclxuICAgICAgICAgICAgY2xzOlwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJFeGNsdXNpb24gZW5kcyBhdFwiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiRXhjbHVkaW5nIGVsZW1lbnRzIHNwZWNpZmllZCBiZWxvdyBlbmRzIGF0IHRoZSBzZWxlY3RlZCB0eXBlIG9mIGVsZW1lbnRzLiBJZiB5b3Ugc3BlY2lmaWVkICdFbGVtZW50IHR5cGUgZm9yIGluY2x1ZGUnIGFib3ZlLCB0aGlzIHZhbHVlIGlzIGlnbm9yZWQgYW5kIGV4Y2x1ZGVpbmcgZWxlbWVudHMgZW5kcyBhdCB0aGF0IHR5cGUgb2YgZWxlbWVudHMuXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiaGVhZGluZ1wiLFwiaGVhZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpbmtcIixcImxpbmtcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWdcIixcInRhZ1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpc3RJdGVtc1wiLFwibGlzdEl0ZW1zXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJpbWVFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmltZUVsZW1lbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSGVhZGluZ3MgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkhlYWRpbmdzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIGFuZCBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlbSB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5oZWFkaW5nLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmhlYWRpbmcgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTGlua3MgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkxpbmtzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIGFuZCBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlbSB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saW5rLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmxpbmsgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiVGFncyB0byBleGNsdWRlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwidGFncyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyBhbmQgZWxlbWVudHMgd2hpY2ggYmVsb25nIHRvIHRoZW0gd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGUudGFnLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLnRhZyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkxpc3QgaXRlbXMgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkxpc3QgaXRlbXMgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgYW5kIGVsZW1lbnRzIHdoaWNoIGJlbG9uZyB0byB0aGVtIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmxpc3RJdGVtcy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saXN0SXRlbXMgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHU1OTE2XHU4OUIzXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJBcHBlYXJuY2VcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIk5vdGVzXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJmaWxlXCIsXCJmaWxlXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2FsZW5kYXJcIixcImNhbGVuZGFyXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2FsZW5kYXItZGF5c1wiLFwiY2FsZW5kYXItZGF5c1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubm90ZSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLm5vdGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubm90ZSA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24ubm90ZSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5ub3RlKTtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLm5vdGUgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU4OThCXHU1MUZBXHUzMDU3XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJIZWFkaW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAvLy5hZGRPcHRpb24oXCJoZWFkaW5nXCIsXCJoZWFkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhhc2hcIixcImhhc2hcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hldnJvbi1yaWdodFwiLFwiY2hldnJvbi1yaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vLmFkZE9wdGlvbihcImhlYWRpbmd3aXRobnVtYmVyXCIsXCJoZWFkaW5nIHdpdGggbnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uaGVhZGluZyA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5oZWFkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5oZWFkaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmhlYWRpbmcgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5oZWFkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LmhlYWRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5oZWFkaW5nID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5oZWFkaW5nICE9ICcnKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmVwZWF0IGhlYWRpbmcgcHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJub25lXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxldmVsXCIsXCJhcyBtYW55IHRpbWVzIGFzIGl0cyBsZXZlbFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxldmVsbWludXMxXCIsXCJsZXZlbCAtIDFcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXBlYXRIZWFkaW5nUHJlZml4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXBlYXRIZWFkaW5nUHJlZml4ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQWRkIGluZGVudFwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50LmhlYWRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnQuaGVhZGluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEVBXHUzMEYzXHUzMEFGXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJMaW5rc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlua1wiLFwibGlua1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5rLTJcIixcImxpbmstMlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saW5rID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpbmsgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24ubGluaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5saW5rID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgubGluaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saW5rKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGluayA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwQkZcdTMwQjBcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiVGFnc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJ0YWdcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiaGFzaFwiLFwiaGFzaFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24udGFnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFnID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgudGFnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhZyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwRUFcdTMwQjlcdTMwQzhcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkxpc3QgaXRlbXNcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpc3RcIixcImxpc3RcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hldnJvbi1yaWdodFwiLFwiY2hldnJvbi1yaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJtaW51c1wiLFwibWludXNcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2lyY2xlLWRvdFwiLFwiY2lyY2xlLWRvdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJhc3Rlcmlza1wiLFwiYXN0ZXJpc2tcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY3VzdG9tXCIsXCJjdXN0b21cIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGlzdEl0ZW1zID09ICdjdXN0b20nKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLmxpc3RJdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubGlzdEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpc3RJdGVtcyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4Lmxpc3RJdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saXN0SXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saXN0SXRlbXMgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9cdTY3MkFcdTVCOENcdTRFODZcdTMwQkZcdTMwQjlcdTMwQUZcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJUYXNrc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwic3F1YXJlXCIsXCJzcXVhcmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2lyY2xlXCIsXCJjaXJjbGVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlzdC1jaGVja3NcIixcImxpc3QtY2hlY2tzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzaylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2sgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzayA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2sgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhc2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQWRkIGNoZWNrYm94IHRleHQgdG8gcHJlZml4XCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiYWRkIFsgXSBvciBbeF1cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dClcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL1x1NUI4Q1x1NEU4Nlx1NkUwOFx1MzA3Rlx1MzBCRlx1MzBCOVx1MzBBRlxyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkNvbXBsZXRlZCB0YXNrc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2stc3F1YXJlXCIsXCJjaGVjay1zcXVhcmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2stY2lyY2xlXCIsXCJjaGVjay1jaXJjbGVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2tcIixcImNoZWNrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFza0RvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrRG9uZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrRG9uZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhc2tEb25lID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUVBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPO0FBRXRELFFBQUksV0FBVyxRQUFRO0FBRXZCLFFBQU0sNEJBQTRCO0FBQ2xDLFFBQU0sNkJBQTZCO0FBQ25DLFFBQU0sOEJBQThCO0FBQ3BDLFFBQU0sZ0NBQWdDO0FBQ3RDLFFBQU0sNkJBQTZCO0FBRW5DLDRDQUF3QyxhQUFhO0FBWnJEO0FBY0ksWUFBTSxnQkFBZ0IsT0FBTyxJQUFJLFFBQVEsVUFBVTtBQUNuRCxhQUFPLGlCQUFpQiwyQkFBYyxhQUFkLG1CQUF5QixpQkFBekIsbUJBQXVDO0FBQUE7QUFNbkUsb0NBQWdDO0FBckJoQztBQXNCSSxVQUFJO0FBRUEsY0FBTSxFQUFFLGlCQUFpQixZQUFZLE9BQU87QUFDNUMsWUFBSSwrQkFBK0IsVUFBVTtBQUN6QyxnQkFBTSxFQUFFLGlCQUFRLGlCQUFRLHdCQUFhLHFCQUFRLFVBQVUsc0JBQWxCLG1CQUFxQyxhQUFyQyxtQkFBK0MsVUFBUztBQUM3RixpQkFBTztBQUFBLFlBQ0gsUUFBUSxXQUFVO0FBQUEsWUFDbEIsUUFBUSxvQ0FBUSxXQUFVO0FBQUEsWUFDMUIsVUFBVSx3Q0FBVSxXQUFVO0FBQUE7QUFBQTtBQUd0QyxjQUFNLEVBQUUsUUFBUSxRQUFRLGFBQWEsNkJBQWdCLGNBQWMsbUJBQTlCLG1CQUE4QyxhQUE5QyxtQkFBd0QsWUFBVztBQUN4RyxlQUFPO0FBQUEsVUFDSCxRQUFRLFVBQVU7QUFBQSxVQUNsQixRQUFRLGtDQUFRLFdBQVU7QUFBQSxVQUMxQixVQUFVLHNDQUFVLFdBQVU7QUFBQTtBQUFBLGVBRy9CLEtBQVA7QUFDSSxnQkFBUSxLQUFLLHdDQUF3QztBQUFBO0FBQUE7QUFPN0Qs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
