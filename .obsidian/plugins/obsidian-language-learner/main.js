var __create=Object.create,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,n,a)=>n in r?__defProp(r,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[n]=a,__spreadValues=(r,n)=>{for(var a in n||(n={}))__hasOwnProp.call(n,a)&&__defNormalProp(r,a,n[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(n))__propIsEnum.call(n,a)&&__defNormalProp(r,a,n[a]);return r},__spreadProps=(r,n)=>__defProps(r,__getOwnPropDescs(n)),__markAsModule=r=>__defProp(r,"__esModule",{value:!0}),__commonJS=(r,n)=>function(){return n||(0,r[Object.keys(r)[0]])((n={exports:{}}).exports,n),n.exports},__export=(r,n)=>{__markAsModule(r);for(var a in n)__defProp(r,a,{get:n[a],enumerable:!0})},__reExport=(r,n,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of __getOwnPropNames(n))!__hasOwnProp.call(r,o)&&o!=="default"&&__defProp(r,o,{get:()=>n[o],enumerable:!(a=__getOwnPropDesc(n,o))||a.enumerable});return r},__toModule=r=>__reExport(__markAsModule(__defProp(r!=null?__create(__getProtoOf(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),__async=(r,n,a)=>new Promise((o,s)=>{var l=d=>{try{f(a.next(d))}catch(v){s(v)}},u=d=>{try{f(a.throw(d))}catch(v){s(v)}},f=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,u);f((a=a.apply(r,n)).next())}),require_formatDistance=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(l,u,f){var d,v=a[l];return typeof v=="string"?d=v:u===1?d=v.one:d=v.other.replace("{{count}}",u.toString()),f!=null&&f.addSuffix?f.comparison&&f.comparison>0?"in "+d:d+" ago":d},s=o;r.default=s,n.exports=r.default}}),require_buildFormatLongFn=__commonJS({"node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(o){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=s.width?String(s.width):o.defaultWidth,u=o.formats[l]||o.formats[o.defaultWidth];return u}}n.exports=r.default}}),require_formatLong=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatLong/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(require_buildFormatLongFn());function o(v){return v&&v.__esModule?v:{default:v}}var s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f={date:(0,a.default)({formats:s,defaultWidth:"full"}),time:(0,a.default)({formats:l,defaultWidth:"full"}),dateTime:(0,a.default)({formats:u,defaultWidth:"full"})},d=f;r.default=d,n.exports=r.default}}),require_formatRelative=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o=function(l,u,f,d){return a[l]},s=o;r.default=s,n.exports=r.default}}),require_buildLocalizeFn=__commonJS({"node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(o){return function(s,l){var u=l||{},f=u.context?String(u.context):"standalone",d;if(f==="formatting"&&o.formattingValues){var v=o.defaultFormattingWidth||o.defaultWidth,g=u.width?String(u.width):v;d=o.formattingValues[g]||o.formattingValues[v]}else{var y=o.defaultWidth,b=u.width?String(u.width):o.defaultWidth;d=o.values[b]||o.values[y]}var _=o.argumentCallback?o.argumentCallback(s):s;return d[_]}}n.exports=r.default}}),require_localize=__commonJS({"node_modules/date-fns/locale/en-US/_lib/localize/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=o(require_buildLocalizeFn());function o(_){return _&&_.__esModule?_:{default:_}}var s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g=function(_,x){var w=Number(_),C=w%100;if(C>20||C<10)switch(C%10){case 1:return w+"st";case 2:return w+"nd";case 3:return w+"rd"}return w+"th"},y={ordinalNumber:g,era:(0,a.default)({values:s,defaultWidth:"wide"}),quarter:(0,a.default)({values:l,defaultWidth:"wide",argumentCallback:function(_){return _-1}}),month:(0,a.default)({values:u,defaultWidth:"wide"}),day:(0,a.default)({values:f,defaultWidth:"wide"}),dayPeriod:(0,a.default)({values:d,defaultWidth:"wide",formattingValues:v,defaultFormattingWidth:"wide"})},b=y;r.default=b,n.exports=r.default}}),require_buildMatchFn=__commonJS({"node_modules/date-fns/locale/_lib/buildMatchFn/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(l){return function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.width,v=d&&l.matchPatterns[d]||l.matchPatterns[l.defaultMatchWidth],g=u.match(v);if(!g)return null;var y=g[0],b=d&&l.parsePatterns[d]||l.parsePatterns[l.defaultParseWidth],_=Array.isArray(b)?s(b,function(C){return C.test(y)}):o(b,function(C){return C.test(y)}),x;x=l.valueCallback?l.valueCallback(_):_,x=f.valueCallback?f.valueCallback(x):x;var w=u.slice(y.length);return{value:x,rest:w}}}function o(l,u){for(var f in l)if(l.hasOwnProperty(f)&&u(l[f]))return f}function s(l,u){for(var f=0;f<l.length;f++)if(u(l[f]))return f}n.exports=r.default}}),require_buildMatchPatternFn=__commonJS({"node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(o){return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.match(o.matchPattern);if(!u)return null;var f=u[0],d=s.match(o.parsePattern);if(!d)return null;var v=o.valueCallback?o.valueCallback(d[0]):d[0];v=l.valueCallback?l.valueCallback(v):v;var g=s.slice(f.length);return{value:v,rest:g}}}n.exports=r.default}}),require_match=__commonJS({"node_modules/date-fns/locale/en-US/_lib/match/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=s(require_buildMatchFn()),o=s(require_buildMatchPatternFn());function s(A){return A&&A.__esModule?A:{default:A}}var l=/^(\d+)(th|st|nd|rd)?/i,u=/\d+/i,f={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d={any:[/^b/i,/^(a|c)/i]},v={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g={any:[/1/i,/2/i,/3/i,/4/i]},y={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S={ordinalNumber:(0,o.default)({matchPattern:l,parsePattern:u,valueCallback:function(A){return parseInt(A,10)}}),era:(0,a.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),quarter:(0,a.default)({matchPatterns:v,defaultMatchWidth:"wide",parsePatterns:g,defaultParseWidth:"any",valueCallback:function(A){return A+1}}),month:(0,a.default)({matchPatterns:y,defaultMatchWidth:"wide",parsePatterns:b,defaultParseWidth:"any"}),day:(0,a.default)({matchPatterns:_,defaultMatchWidth:"wide",parsePatterns:x,defaultParseWidth:"any"}),dayPeriod:(0,a.default)({matchPatterns:w,defaultMatchWidth:"any",parsePatterns:C,defaultParseWidth:"any"})},D=S;r.default=D,n.exports=r.default}}),require_en_US=__commonJS({"node_modules/date-fns/locale/en-US/index.js"(r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=f(require_formatDistance()),o=f(require_formatLong()),s=f(require_formatRelative()),l=f(require_localize()),u=f(require_match());function f(g){return g&&g.__esModule?g:{default:g}}var d={code:"en-US",formatDistance:a.default,formatLong:o.default,formatRelative:s.default,localize:l.default,match:u.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},v=d;r.default=v,n.exports=r.default}}),require_tslib=__commonJS({"node_modules/echarts/node_modules/tslib/tslib.js"(r,n){var a,o,s,l,u,f,d,v,g,y,b,_,x,w,C,S,D,A,T,P,E,M,L,F;(function(I){var B=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){I(O(B,O(R)))}):typeof n=="object"&&typeof n.exports=="object"?I(O(B,O(n.exports))):I(O(B));function O(R,z){return R!==B&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(N,V){return R[N]=z?z(N,V):V}}})(function(I){var B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,z){R.__proto__=z}||function(R,z){for(var N in z)Object.prototype.hasOwnProperty.call(z,N)&&(R[N]=z[N])};a=function(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(R,z);function N(){this.constructor=R}R.prototype=z===null?Object.create(z):(N.prototype=z.prototype,new N)},o=Object.assign||function(R){for(var z,N=1,V=arguments.length;N<V;N++){z=arguments[N];for(var W in z)Object.prototype.hasOwnProperty.call(z,W)&&(R[W]=z[W])}return R},s=function(R,z){var N={};for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&z.indexOf(V)<0&&(N[V]=R[V]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,V=Object.getOwnPropertySymbols(R);W<V.length;W++)z.indexOf(V[W])<0&&Object.prototype.propertyIsEnumerable.call(R,V[W])&&(N[V[W]]=R[V[W]]);return N},l=function(R,z,N,V){var W=arguments.length,H=W<3?z:V===null?V=Object.getOwnPropertyDescriptor(z,N):V,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(R,z,N,V);else for(var Y=R.length-1;Y>=0;Y--)($=R[Y])&&(H=(W<3?$(H):W>3?$(z,N,H):$(z,N))||H);return W>3&&H&&Object.defineProperty(z,N,H),H},u=function(R,z){return function(N,V){z(N,V,R)}},f=function(R,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,z)},d=function(R,z,N,V){function W(H){return H instanceof N?H:new N(function($){$(H)})}return new(N||(N=Promise))(function(H,$){function Y(J){try{X(V.next(J))}catch(fe){$(fe)}}function ae(J){try{X(V.throw(J))}catch(fe){$(fe)}}function X(J){J.done?H(J.value):W(J.value).then(Y,ae)}X((V=V.apply(R,z||[])).next())})},v=function(R,z){var N={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},V,W,H,$;return $={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function Y(X){return function(J){return ae([X,J])}}function ae(X){if(V)throw new TypeError("Generator is already executing.");for(;N;)try{if(V=1,W&&(H=X[0]&2?W.return:X[0]?W.throw||((H=W.return)&&H.call(W),0):W.next)&&!(H=H.call(W,X[1])).done)return H;switch(W=0,H&&(X=[X[0]&2,H.value]),X[0]){case 0:case 1:H=X;break;case 4:return N.label++,{value:X[1],done:!1};case 5:N.label++,W=X[1],X=[0];continue;case 7:X=N.ops.pop(),N.trys.pop();continue;default:if(H=N.trys,!(H=H.length>0&&H[H.length-1])&&(X[0]===6||X[0]===2)){N=0;continue}if(X[0]===3&&(!H||X[1]>H[0]&&X[1]<H[3])){N.label=X[1];break}if(X[0]===6&&N.label<H[1]){N.label=H[1],H=X;break}if(H&&N.label<H[2]){N.label=H[2],N.ops.push(X);break}H[2]&&N.ops.pop(),N.trys.pop();continue}X=z.call(R,N)}catch(J){X=[6,J],W=0}finally{V=H=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}},g=function(R,z){for(var N in R)N!=="default"&&!Object.prototype.hasOwnProperty.call(z,N)&&F(z,R,N)},F=Object.create?function(R,z,N,V){V===void 0&&(V=N),Object.defineProperty(R,V,{enumerable:!0,get:function(){return z[N]}})}:function(R,z,N,V){V===void 0&&(V=N),R[V]=z[N]},y=function(R){var z=typeof Symbol=="function"&&Symbol.iterator,N=z&&R[z],V=0;if(N)return N.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&V>=R.length&&(R=void 0),{value:R&&R[V++],done:!R}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(R,z){var N=typeof Symbol=="function"&&R[Symbol.iterator];if(!N)return R;var V=N.call(R),W,H=[],$;try{for(;(z===void 0||z-- >0)&&!(W=V.next()).done;)H.push(W.value)}catch(Y){$={error:Y}}finally{try{W&&!W.done&&(N=V.return)&&N.call(V)}finally{if($)throw $.error}}return H},_=function(){for(var R=[],z=0;z<arguments.length;z++)R=R.concat(b(arguments[z]));return R},x=function(){for(var R=0,z=0,N=arguments.length;z<N;z++)R+=arguments[z].length;for(var V=Array(R),W=0,z=0;z<N;z++)for(var H=arguments[z],$=0,Y=H.length;$<Y;$++,W++)V[W]=H[$];return V},w=function(R,z,N){if(N||arguments.length===2)for(var V=0,W=z.length,H;V<W;V++)(H||!(V in z))&&(H||(H=Array.prototype.slice.call(z,0,V)),H[V]=z[V]);return R.concat(H||z)},C=function(R){return this instanceof C?(this.v=R,this):new C(R)},S=function(R,z,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=N.apply(R,z||[]),W,H=[];return W={},$("next"),$("throw"),$("return"),W[Symbol.asyncIterator]=function(){return this},W;function $(ge){V[ge]&&(W[ge]=function(ye){return new Promise(function(be,K){H.push([ge,ye,be,K])>1||Y(ge,ye)})})}function Y(ge,ye){try{ae(V[ge](ye))}catch(be){fe(H[0][3],be)}}function ae(ge){ge.value instanceof C?Promise.resolve(ge.value.v).then(X,J):fe(H[0][2],ge)}function X(ge){Y("next",ge)}function J(ge){Y("throw",ge)}function fe(ge,ye){ge(ye),H.shift(),H.length&&Y(H[0][0],H[0][1])}},D=function(R){var z,N;return z={},V("next"),V("throw",function(W){throw W}),V("return"),z[Symbol.iterator]=function(){return this},z;function V(W,H){z[W]=R[W]?function($){return(N=!N)?{value:C(R[W]($)),done:W==="return"}:H?H($):$}:H}},A=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=R[Symbol.asyncIterator],N;return z?z.call(R):(R=typeof y=="function"?y(R):R[Symbol.iterator](),N={},V("next"),V("throw"),V("return"),N[Symbol.asyncIterator]=function(){return this},N);function V(H){N[H]=R[H]&&function($){return new Promise(function(Y,ae){$=R[H]($),W(Y,ae,$.done,$.value)})}}function W(H,$,Y,ae){Promise.resolve(ae).then(function(X){H({value:X,done:Y})},$)}},T=function(R,z){return Object.defineProperty?Object.defineProperty(R,"raw",{value:z}):R.raw=z,R};var O=Object.create?function(R,z){Object.defineProperty(R,"default",{enumerable:!0,value:z})}:function(R,z){R.default=z};P=function(R){if(R&&R.__esModule)return R;var z={};if(R!=null)for(var N in R)N!=="default"&&Object.prototype.hasOwnProperty.call(R,N)&&F(z,R,N);return O(z,R),z},E=function(R){return R&&R.__esModule?R:{default:R}},M=function(R,z,N,V){if(N==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?R!==z||!V:!z.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?V:N==="a"?V.call(R):V?V.value:z.get(R)},L=function(R,z,N,V,W){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?R!==z||!W:!z.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?W.call(R,N):W?W.value=N:z.set(R,N),N},I("__extends",a),I("__assign",o),I("__rest",s),I("__decorate",l),I("__param",u),I("__metadata",f),I("__awaiter",d),I("__generator",v),I("__exportStar",g),I("__createBinding",F),I("__values",y),I("__read",b),I("__spread",_),I("__spreadArrays",x),I("__spreadArray",w),I("__await",C),I("__asyncGenerator",S),I("__asyncDelegator",D),I("__asyncValues",A),I("__makeTemplateObject",T),I("__importStar",P),I("__importDefault",E),I("__classPrivateFieldGet",M),I("__classPrivateFieldSet",L)})}}),require_tslib2=__commonJS({"node_modules/zrender/node_modules/tslib/tslib.js"(r,n){var a,o,s,l,u,f,d,v,g,y,b,_,x,w,C,S,D,A,T,P,E,M,L,F;(function(I){var B=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){I(O(B,O(R)))}):typeof n=="object"&&typeof n.exports=="object"?I(O(B,O(n.exports))):I(O(B));function O(R,z){return R!==B&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(N,V){return R[N]=z?z(N,V):V}}})(function(I){var B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,z){R.__proto__=z}||function(R,z){for(var N in z)Object.prototype.hasOwnProperty.call(z,N)&&(R[N]=z[N])};a=function(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");B(R,z);function N(){this.constructor=R}R.prototype=z===null?Object.create(z):(N.prototype=z.prototype,new N)},o=Object.assign||function(R){for(var z,N=1,V=arguments.length;N<V;N++){z=arguments[N];for(var W in z)Object.prototype.hasOwnProperty.call(z,W)&&(R[W]=z[W])}return R},s=function(R,z){var N={};for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&z.indexOf(V)<0&&(N[V]=R[V]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,V=Object.getOwnPropertySymbols(R);W<V.length;W++)z.indexOf(V[W])<0&&Object.prototype.propertyIsEnumerable.call(R,V[W])&&(N[V[W]]=R[V[W]]);return N},l=function(R,z,N,V){var W=arguments.length,H=W<3?z:V===null?V=Object.getOwnPropertyDescriptor(z,N):V,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(R,z,N,V);else for(var Y=R.length-1;Y>=0;Y--)($=R[Y])&&(H=(W<3?$(H):W>3?$(z,N,H):$(z,N))||H);return W>3&&H&&Object.defineProperty(z,N,H),H},u=function(R,z){return function(N,V){z(N,V,R)}},f=function(R,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,z)},d=function(R,z,N,V){function W(H){return H instanceof N?H:new N(function($){$(H)})}return new(N||(N=Promise))(function(H,$){function Y(J){try{X(V.next(J))}catch(fe){$(fe)}}function ae(J){try{X(V.throw(J))}catch(fe){$(fe)}}function X(J){J.done?H(J.value):W(J.value).then(Y,ae)}X((V=V.apply(R,z||[])).next())})},v=function(R,z){var N={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},V,W,H,$;return $={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function Y(X){return function(J){return ae([X,J])}}function ae(X){if(V)throw new TypeError("Generator is already executing.");for(;N;)try{if(V=1,W&&(H=X[0]&2?W.return:X[0]?W.throw||((H=W.return)&&H.call(W),0):W.next)&&!(H=H.call(W,X[1])).done)return H;switch(W=0,H&&(X=[X[0]&2,H.value]),X[0]){case 0:case 1:H=X;break;case 4:return N.label++,{value:X[1],done:!1};case 5:N.label++,W=X[1],X=[0];continue;case 7:X=N.ops.pop(),N.trys.pop();continue;default:if(H=N.trys,!(H=H.length>0&&H[H.length-1])&&(X[0]===6||X[0]===2)){N=0;continue}if(X[0]===3&&(!H||X[1]>H[0]&&X[1]<H[3])){N.label=X[1];break}if(X[0]===6&&N.label<H[1]){N.label=H[1],H=X;break}if(H&&N.label<H[2]){N.label=H[2],N.ops.push(X);break}H[2]&&N.ops.pop(),N.trys.pop();continue}X=z.call(R,N)}catch(J){X=[6,J],W=0}finally{V=H=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}},g=function(R,z){for(var N in R)N!=="default"&&!Object.prototype.hasOwnProperty.call(z,N)&&F(z,R,N)},F=Object.create?function(R,z,N,V){V===void 0&&(V=N),Object.defineProperty(R,V,{enumerable:!0,get:function(){return z[N]}})}:function(R,z,N,V){V===void 0&&(V=N),R[V]=z[N]},y=function(R){var z=typeof Symbol=="function"&&Symbol.iterator,N=z&&R[z],V=0;if(N)return N.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&V>=R.length&&(R=void 0),{value:R&&R[V++],done:!R}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(R,z){var N=typeof Symbol=="function"&&R[Symbol.iterator];if(!N)return R;var V=N.call(R),W,H=[],$;try{for(;(z===void 0||z-- >0)&&!(W=V.next()).done;)H.push(W.value)}catch(Y){$={error:Y}}finally{try{W&&!W.done&&(N=V.return)&&N.call(V)}finally{if($)throw $.error}}return H},_=function(){for(var R=[],z=0;z<arguments.length;z++)R=R.concat(b(arguments[z]));return R},x=function(){for(var R=0,z=0,N=arguments.length;z<N;z++)R+=arguments[z].length;for(var V=Array(R),W=0,z=0;z<N;z++)for(var H=arguments[z],$=0,Y=H.length;$<Y;$++,W++)V[W]=H[$];return V},w=function(R,z,N){if(N||arguments.length===2)for(var V=0,W=z.length,H;V<W;V++)(H||!(V in z))&&(H||(H=Array.prototype.slice.call(z,0,V)),H[V]=z[V]);return R.concat(H||z)},C=function(R){return this instanceof C?(this.v=R,this):new C(R)},S=function(R,z,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=N.apply(R,z||[]),W,H=[];return W={},$("next"),$("throw"),$("return"),W[Symbol.asyncIterator]=function(){return this},W;function $(ge){V[ge]&&(W[ge]=function(ye){return new Promise(function(be,K){H.push([ge,ye,be,K])>1||Y(ge,ye)})})}function Y(ge,ye){try{ae(V[ge](ye))}catch(be){fe(H[0][3],be)}}function ae(ge){ge.value instanceof C?Promise.resolve(ge.value.v).then(X,J):fe(H[0][2],ge)}function X(ge){Y("next",ge)}function J(ge){Y("throw",ge)}function fe(ge,ye){ge(ye),H.shift(),H.length&&Y(H[0][0],H[0][1])}},D=function(R){var z,N;return z={},V("next"),V("throw",function(W){throw W}),V("return"),z[Symbol.iterator]=function(){return this},z;function V(W,H){z[W]=R[W]?function($){return(N=!N)?{value:C(R[W]($)),done:W==="return"}:H?H($):$}:H}},A=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=R[Symbol.asyncIterator],N;return z?z.call(R):(R=typeof y=="function"?y(R):R[Symbol.iterator](),N={},V("next"),V("throw"),V("return"),N[Symbol.asyncIterator]=function(){return this},N);function V(H){N[H]=R[H]&&function($){return new Promise(function(Y,ae){$=R[H]($),W(Y,ae,$.done,$.value)})}}function W(H,$,Y,ae){Promise.resolve(ae).then(function(X){H({value:X,done:Y})},$)}},T=function(R,z){return Object.defineProperty?Object.defineProperty(R,"raw",{value:z}):R.raw=z,R};var O=Object.create?function(R,z){Object.defineProperty(R,"default",{enumerable:!0,value:z})}:function(R,z){R.default=z};P=function(R){if(R&&R.__esModule)return R;var z={};if(R!=null)for(var N in R)N!=="default"&&Object.prototype.hasOwnProperty.call(R,N)&&F(z,R,N);return O(z,R),z},E=function(R){return R&&R.__esModule?R:{default:R}},M=function(R,z,N,V){if(N==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?R!==z||!V:!z.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?V:N==="a"?V.call(R):V?V.value:z.get(R)},L=function(R,z,N,V,W){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?R!==z||!W:!z.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?W.call(R,N):W?W.value=N:z.set(R,N),N},I("__extends",a),I("__assign",o),I("__rest",s),I("__decorate",l),I("__param",u),I("__metadata",f),I("__awaiter",d),I("__generator",v),I("__exportStar",g),I("__createBinding",F),I("__values",y),I("__read",b),I("__spread",_),I("__spreadArrays",x),I("__spreadArray",w),I("__await",C),I("__asyncGenerator",S),I("__asyncDelegator",D),I("__asyncValues",A),I("__makeTemplateObject",T),I("__importStar",P),I("__importDefault",E),I("__classPrivateFieldGet",M),I("__classPrivateFieldSet",L)})}}),require_helpers=__commonJS({"node_modules/ac-auto/dist/helpers.js"(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(){return new Promise(a=>setImmediate(a))}r.sleepImmediate=n}}),require_node=__commonJS({"node_modules/ac-auto/dist/node.js"(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=require_helpers();function a(){return{next:{},val:null,back:null,parent:null,accept:!1}}r.makeRootNode=a;function o(g){const y=g.map(_=>_.trim()).filter(_=>_.length>0);return[...new Set(y)]}r.deduplicate=o;function s(g,y){let b=g;for(let _=0;_<y.length;_++){const x=y[_];b.next[x]===void 0&&(b.next[x]={next:{},val:x,accept:!1,back:g,parent:b}),b=b.next[x]}b.accept=!0}r.addWord=s;function l(g,y){return __async(this,null,function*(){const{batchSize:b}=y;let _=0,x=Object.values(g.next);for(;x.length>0;){const w=[];for(let C=0;C<x.length;C++){_++;const S=x[C];for(const T in S.next)w.push(S.next[T]);let A=S.parent.back;for(;A!==null;){const T=A.next[S.val];if(T!==void 0){S.back=T;break}A=A.back}_%b==0&&(yield n.sleepImmediate())}x=w}})}r.fallbackAll=l;function u(g,y){let b=g.next[y[0]];for(let _=1;_<y.length;_++){const x=y[_];let C=b.parent.back;for(;C!==null;){const S=C.next[b.val];if(S!==void 0){b.back=S;break}C=C.back}b=b.next[x]}}r.fallback=u;function f(g){const y=g.reduce((_,[x,w])=>Object.prototype.hasOwnProperty.call(_,x)===!1||w.length>_[x].length?Object.assign(Object.assign({},_),{[x]:w}):_,{});return Object.keys(y).map(_=>parseInt(_)).sort((_,x)=>_-x).map(function(_){return[_,y[_]]})}r.selectLongest=f;function d(g){const y=[];for(;g.val!==null;)y.unshift(g.val),g=g.parent;return y.join("")}r.collect=d;function v(g){return __async(this,arguments,function*(y,b={}){const{batchSize:_=100}=b,x=o(y).sort(),w=a();let C=0;for(const S of x)s(w,S),C++,C%_==0&&(yield n.sleepImmediate());return l(w,{batchSize:_}),w})}r.buildTree=v}}),require_automaton=__commonJS({"node_modules/ac-auto/dist/automaton.js"(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=require_node(),a=class{constructor(o){this.root=o}add(o){return __async(this,null,function*(){o=o.trim(),o.length!==0&&(n.addWord(this.root,o),n.fallback(this.root,o))})}locate(o){return __async(this,null,function*(){let s=this.root.next[o[0]];for(let l=1;l<o.length;l++){const u=o[l];if(s=s.next[u],s===null)break}return s})}searchAndCount(o){return __async(this,arguments,function*(s,l={}){return(yield this.search(s,l)).reduce((f,[,d])=>{const v=Object.prototype.hasOwnProperty.call(f,d)?f[d]:0;return Object.assign(Object.assign({},f),{[d]:v+1})},{})})}search(o){return __async(this,arguments,function*(s,l={}){const u=[];let f=this.root;for(let d=0;d<s.length;d++){const v=s[d];let g=f.next[v];if(g===void 0){let y=f.back;for(;y!==null&&(g=y.next[v],!g);)y=y.back}if(g!==void 0){let y=g;do{if(y.accept===!0){const b=n.collect(y);if(u.push([d-b.length+1,b]),l.quick===!0)return u}y=y.back}while(y!==this.root);f=g;continue}f=this.root}return l.longest?n.selectLongest(u):u})}};r.Automaton=a}}),require_factories=__commonJS({"node_modules/ac-auto/dist/factories.js"(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=require_node(),a=require_automaton();function o(s){return __async(this,null,function*(){const l=yield n.buildTree(s);return new a.Automaton(l)})}r.createAutomaton=o}}),require_dist=__commonJS({"node_modules/ac-auto/dist/index.js"(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=require_automaton();r.Automaton=n.Automaton;var a=require_factories();r.createAutomaton=a.createAutomaton}}),require_download=__commonJS({"node_modules/downloadjs/download.js"(r,n){(function(a,o){typeof define=="function"&&define.amd?define([],o):typeof r=="object"?n.exports=o():a.download=o()})(r,function(){return function a(o,s,l){var u=window,f="application/octet-stream",d=l||f,v=o,g=!s&&!l&&v,y=document.createElement("a"),b=function(M){return String(M)},_=u.Blob||u.MozBlob||u.WebKitBlob||b,x=s||"download",w,C;if(_=_.call?_.bind(u):Blob,String(this)==="true"&&(v=[v,d],d=v[0],v=v[1]),g&&g.length<2048&&(x=g.split("/").pop().split("?")[0],y.href=g,y.href.indexOf(g)!==-1)){var S=new XMLHttpRequest;return S.open("GET",g,!0),S.responseType="blob",S.onload=function(M){a(M.target.response,x,f)},setTimeout(function(){S.send()},0),S}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(v))if(v.length>1024*1024*1.999&&_!==b)v=P(v),d=v.type||f;else return navigator.msSaveBlob?navigator.msSaveBlob(P(v),x):E(v);else if(/([\x80-\xff])/.test(v)){var D=0,A=new Uint8Array(v.length),T=A.length;for(D;D<T;++D)A[D]=v.charCodeAt(D);v=new _([A],{type:d})}w=v instanceof _?v:new _([v],{type:d});function P(M){var L=M.split(/[:;,]/),F=L[1],I=L[2]=="base64"?atob:decodeURIComponent,B=I(L.pop()),O=B.length,R=0,z=new Uint8Array(O);for(R;R<O;++R)z[R]=B.charCodeAt(R);return new _([z],{type:F})}function E(M,L){if("download"in y)return y.href=M,y.setAttribute("download",x),y.className="download-js-link",y.innerHTML="downloading...",y.style.display="none",document.body.appendChild(y),setTimeout(function(){y.click(),document.body.removeChild(y),L===!0&&setTimeout(function(){u.URL.revokeObjectURL(y.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(M)&&(M="data:"+M.replace(/^data:([\w\/\-\+]+)/,f)),window.open(M)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=M),!0;var F=document.createElement("iframe");document.body.appendChild(F),!L&&/^data:/.test(M)&&(M="data:"+M.replace(/^data:([\w\/\-\+]+)/,f)),F.src=M,setTimeout(function(){document.body.removeChild(F)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(w,x);if(u.URL)E(u.URL.createObjectURL(w),!0);else{if(typeof w=="string"||w.constructor===b)try{return E("data:"+d+";base64,"+u.btoa(w))}catch(M){return E("data:"+d+","+encodeURIComponent(w))}C=new FileReader,C.onload=function(M){E(this.result)},C.readAsDataURL(w)}return!0}})}}),require_is_buffer=__commonJS({"node_modules/is-buffer/index.js"(r,n){n.exports=function(o){return o!=null&&o.constructor!=null&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}}}),require_extend=__commonJS({"node_modules/extend/index.js"(r,n){"use strict";var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(y){return typeof Array.isArray=="function"?Array.isArray(y):o.call(y)==="[object Array]"},f=function(y){if(!y||o.call(y)!=="[object Object]")return!1;var b=a.call(y,"constructor"),_=y.constructor&&y.constructor.prototype&&a.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!b&&!_)return!1;var x;for(x in y);return typeof x=="undefined"||a.call(y,x)},d=function(y,b){s&&b.name==="__proto__"?s(y,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):y[b.name]=b.newValue},v=function(y,b){if(b==="__proto__")if(a.call(y,b)){if(l)return l(y,b).value}else return;return y[b]};n.exports=function g(){var y,b,_,x,w,C,S=arguments[0],D=1,A=arguments.length,T=!1;for(typeof S=="boolean"&&(T=S,S=arguments[1]||{},D=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});D<A;++D)if(y=arguments[D],y!=null)for(b in y)_=v(S,b),x=v(y,b),S!==x&&(T&&x&&(f(x)||(w=u(x)))?(w?(w=!1,C=_&&u(_)?_:[]):C=_&&f(_)?_:{},d(S,{name:b,newValue:g(T,C,x)})):typeof x!="undefined"&&d(S,{name:b,newValue:x}));return S}}}),require_nlcst_to_string=__commonJS({"node_modules/parse-latin/node_modules/nlcst-to-string/index.js"(r,n){"use strict";n.exports=a;function a(o,s){var l=s||"",u,f,d;if(!o||!("length"in o)&&!o.type)throw new Error("Expected node, not `"+o+"`");if(typeof o.value=="string")return o.value;if(d="length"in o?o:o.children,f=d.length,f===1&&"value"in d[0])return d[0].value;for(u=[];f--;)u[f]=a(d[f],l);return u.join(l)}}}),require_array_iterate=__commonJS({"node_modules/parse-latin/node_modules/array-iterate/index.js"(r,n){"use strict";n.exports=o;var a={}.hasOwnProperty;function o(s,l,u){var f=-1,d;if(!s)throw new Error("Iterate requires that |this| not be "+s);if(!a.call(s,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof l!="function")throw new Error("`callback` must be a function");for(;++f<s.length;)f in s&&(d=l.call(u,s[f],f,s),typeof d=="number"&&(d<0&&(f=0),f=d-1))}}}),require_unist_util_modify_children=__commonJS({"node_modules/parse-latin/node_modules/unist-util-modify-children/index.js"(r,n){"use strict";var a=require_array_iterate();n.exports=o;function o(u){return s(l(u))}function s(u){return f;function f(d){var v=d&&d.children;if(!v)throw new Error("Missing children in `parent` for `modifier`");a(v,u,d)}}function l(u){return f;function f(d,v){return u(d,v,this)}}}}),require_unist_util_visit_children=__commonJS({"node_modules/unist-util-visit-children/index.js"(r,n){"use strict";n.exports=a;function a(o){return s;function s(l){var u=-1,f=l&&l.children;if(!f)throw new Error("Missing children in `parent` for `visitor`");for(;++u in f;)o(f[u],u,l)}}}}),require_nlcst_to_string2=__commonJS({"node_modules/parse-english/node_modules/nlcst-to-string/index.js"(r,n){"use strict";n.exports=a;function a(o,s){var l=s||"",u,f,d;if(!o||!("length"in o)&&!o.type)throw new Error("Expected node, not `"+o+"`");if(typeof o.value=="string")return o.value;if(d="length"in o?o:o.children,f=d.length,f===1&&"value"in d[0])return d[0].value;for(u=[];f--;)u[f]=a(d[f],l);return u.join(l)}}}),require_array_iterate2=__commonJS({"node_modules/parse-english/node_modules/array-iterate/index.js"(r,n){"use strict";n.exports=o;var a={}.hasOwnProperty;function o(s,l,u){var f=-1,d;if(!s)throw new Error("Iterate requires that |this| not be "+s);if(!a.call(s,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof l!="function")throw new Error("`callback` must be a function");for(;++f<s.length;)f in s&&(d=l.call(u,s[f],f,s),typeof d=="number"&&(d<0&&(f=0),f=d-1))}}}),require_unist_util_modify_children2=__commonJS({"node_modules/parse-english/node_modules/unist-util-modify-children/index.js"(r,n){"use strict";var a=require_array_iterate2();n.exports=o;function o(u){return s(l(u))}function s(u){return f;function f(d){var v=d&&d.children;if(!v)throw new Error("Missing children in `parent` for `modifier`");a(v,u,d)}}function l(u){return f;function f(d,v){return u(d,v,this)}}}});__export(exports,{default:()=>main_default});var import_obsidian12=__toModule(require("obsidian"));function around(r,n){const a=Object.keys(n).map(o=>around1(r,o,n[o]));return a.length===1?a[0]:function(){a.forEach(o=>o())}}function around1(r,n,a){const o=r[n],s=r.hasOwnProperty(n);let l=a(o);return o&&Object.setPrototypeOf(l,o),Object.setPrototypeOf(u,l),r[n]=u,f;function u(...d){return l===o&&r[n]===u&&f(),l.apply(this,d)}function f(){r[n]===u&&(s?r[n]=o:delete r[n]),l!==o&&(l=o,Object.setPrototypeOf(u,o||Function))}}var import_obsidian3=__toModule(require("obsidian"));function makeMap(r,n){const a=Object.create(null),o=r.split(",");for(let s=0;s<o.length;s++)a[o[s]]=!0;return n?s=>!!a[s.toLowerCase()]:s=>!!a[s]}var PatchFlagNames={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},slotFlagsText={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs),isBooleanAttr=makeMap(specialBooleanAttrs+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function includeBooleanAttr(r){return!!r||r===""}function normalizeStyle(r){if(isArray(r)){const n={};for(let a=0;a<r.length;a++){const o=r[a],s=isString(o)?parseStringStyle(o):normalizeStyle(o);if(s)for(const l in s)n[l]=s[l]}return n}else{if(isString(r))return r;if(isObject(r))return r}}var listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(r){const n={};return r.split(listDelimiterRE).forEach(a=>{if(a){const o=a.split(propertyDelimiterRE);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function normalizeClass(r){let n="";if(isString(r))n=r;else if(isArray(r))for(let a=0;a<r.length;a++){const o=normalizeClass(r[a]);o&&(n+=o+" ")}else if(isObject(r))for(const a in r)r[a]&&(n+=a+" ");return n.trim()}var HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS);function looseCompareArrays(r,n){if(r.length!==n.length)return!1;let a=!0;for(let o=0;a&&o<r.length;o++)a=looseEqual(r[o],n[o]);return a}function looseEqual(r,n){if(r===n)return!0;let a=isDate(r),o=isDate(n);if(a||o)return a&&o?r.getTime()===n.getTime():!1;if(a=isArray(r),o=isArray(n),a||o)return a&&o?looseCompareArrays(r,n):!1;if(a=isObject(r),o=isObject(n),a||o){if(!a||!o)return!1;const s=Object.keys(r).length,l=Object.keys(n).length;if(s!==l)return!1;for(const u in r){const f=r.hasOwnProperty(u),d=n.hasOwnProperty(u);if(f&&!d||!f&&d||!looseEqual(r[u],n[u]))return!1}}return String(r)===String(n)}function looseIndexOf(r,n){return r.findIndex(a=>looseEqual(a,n))}var toDisplayString=r=>isString(r)?r:r==null?"":isArray(r)||isObject(r)&&(r.toString===objectToString||!isFunction(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,n)=>n&&n.__v_isRef?replacer(r,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((a,[o,s])=>(a[`${o} =>`]=s,a),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject(n)&&!isArray(n)&&!isPlainObject(n)?String(n):n,EMPTY_OBJ=Object.freeze({}),EMPTY_ARR=Object.freeze([]),NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=r=>onRE.test(r),isModelListener=r=>r.startsWith("onUpdate:"),extend=Object.assign,remove=(r,n)=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(r,n)=>hasOwnProperty.call(r,n),isArray=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isDate=r=>r instanceof Date,isFunction=r=>typeof r=="function",isString=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject=r=>r!==null&&typeof r=="object",isPromise=r=>isObject(r)&&isFunction(r.then)&&isFunction(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction=r=>{const n=Object.create(null);return a=>n[a]||(n[a]=r(a))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(n,a)=>a?a.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,n)=>!Object.is(r,n),invokeArrayFns=(r,n)=>{for(let a=0;a<r.length;a++)r[a](n)},def=(r,n,a)=>{Object.defineProperty(r,n,{configurable:!0,enumerable:!1,value:a})},toNumber=r=>{const n=parseFloat(r);return isNaN(n)?r:n},_globalThis,getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function warn(r,...n){console.warn(`[Vue warn] ${r}`,...n)}var activeEffectScope,EffectScope=class{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active)try{return activeEffectScope=this,r()}finally{activeEffectScope=this.parent}else warn("cannot run an inactive effect scope.")}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(this.parent&&!r){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}};function recordEffectScope(r,n=activeEffectScope){n&&n.active&&n.effects.push(r)}var createDep=r=>{const n=new Set(r);return n.w=0,n.n=0,n},wasTracked=r=>(r.w&trackOpBit)>0,newTracked=r=>(r.n&trackOpBit)>0,initDepMarkers=({deps:r})=>{if(r.length)for(let n=0;n<r.length;n++)r[n].w|=trackOpBit},finalizeDepMarkers=r=>{const{deps:n}=r;if(n.length){let a=0;for(let o=0;o<n.length;o++){const s=n[o];wasTracked(s)&&!newTracked(s)?s.delete(r):n[a++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}n.length=a}},targetMap=new WeakMap,effectTrackDepth=0,trackOpBit=1,maxMarkerBits=30,activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate"),ReactiveEffect=class{constructor(r,n=null,a){this.fn=r,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let r=activeEffect,n=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}};function cleanupEffect(r){const{deps:n}=r;if(n.length){for(let a=0;a<n.length;a++)n[a].delete(r);n.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function track(r,n,a){if(shouldTrack&&activeEffect){let o=targetMap.get(r);o||targetMap.set(r,o=new Map);let s=o.get(a);s||o.set(a,s=createDep()),trackEffects(s,{effect:activeEffect,target:r,type:n,key:a})}}function trackEffects(r,n){let a=!1;effectTrackDepth<=maxMarkerBits?newTracked(r)||(r.n|=trackOpBit,a=!wasTracked(r)):a=!r.has(activeEffect),a&&(r.add(activeEffect),activeEffect.deps.push(r),activeEffect.onTrack&&activeEffect.onTrack(Object.assign({effect:activeEffect},n)))}function trigger(r,n,a,o,s,l){const u=targetMap.get(r);if(!u)return;let f=[];if(n==="clear")f=[...u.values()];else if(a==="length"&&isArray(r))u.forEach((v,g)=>{(g==="length"||g>=o)&&f.push(v)});else switch(a!==void 0&&f.push(u.get(a)),n){case"add":isArray(r)?isIntegerKey(a)&&f.push(u.get("length")):(f.push(u.get(ITERATE_KEY)),isMap(r)&&f.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(r)||(f.push(u.get(ITERATE_KEY)),isMap(r)&&f.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&f.push(u.get(ITERATE_KEY));break}const d={target:r,type:n,key:a,newValue:o,oldValue:s,oldTarget:l};if(f.length===1)f[0]&&triggerEffects(f[0],d);else{const v=[];for(const g of f)g&&v.push(...g);triggerEffects(createDep(v),d)}}function triggerEffects(r,n){for(const a of isArray(r)?r:[...r])(a!==activeEffect||a.allowRecurse)&&(a.onTrigger&&a.onTrigger(extend({effect:a},n)),a.scheduler?a.scheduler():a.run())}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(n=>{r[n]=function(...a){const o=toRaw(this);for(let l=0,u=this.length;l<u;l++)track(o,"get",l+"");const s=o[n](...a);return s===-1||s===!1?o[n](...a.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(n=>{r[n]=function(...a){pauseTracking();const o=toRaw(this)[n].apply(this,a);return resetTracking(),o}}),r}function createGetter(r=!1,n=!1){return function(o,s,l){if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return n;if(s==="__v_raw"&&l===(r?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(o))return o;const u=isArray(o);if(!r&&u&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,l);const f=Reflect.get(o,s,l);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(r||track(o,"get",s),n)?f:isRef(f)?!u||!isIntegerKey(s)?f.value:f:isObject(f)?r?readonly(f):reactive(f):f}}var set=createSetter(),shallowSet=createSetter(!0);function createSetter(r=!1){return function(a,o,s,l){let u=a[o];if(isReadonly(u)&&isRef(u)&&!isRef(s))return!1;if(!r&&!isReadonly(s)&&(isShallow(s)||(s=toRaw(s),u=toRaw(u)),!isArray(a)&&isRef(u)&&!isRef(s)))return u.value=s,!0;const f=isArray(a)&&isIntegerKey(o)?Number(o)<a.length:hasOwn(a,o),d=Reflect.set(a,o,s,l);return a===toRaw(l)&&(f?hasChanged(s,u)&&trigger(a,"set",o,s,u):trigger(a,"add",o,s)),d}}function deleteProperty(r,n){const a=hasOwn(r,n),o=r[n],s=Reflect.deleteProperty(r,n);return s&&a&&trigger(r,"delete",n,void 0,o),s}function has(r,n){const a=Reflect.has(r,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(r,"has",n),a}function ownKeys(r){return track(r,"iterate",isArray(r)?"length":ITERATE_KEY),Reflect.ownKeys(r)}var mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(r,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,r),!0},deleteProperty(r,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,r),!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get$1(r,n,a=!1,o=!1){r=r.__v_raw;const s=toRaw(r),l=toRaw(n);n!==l&&!a&&track(s,"get",n),!a&&track(s,"get",l);const{has:u}=getProto(s),f=o?toShallow:a?toReadonly:toReactive;if(u.call(s,n))return f(r.get(n));if(u.call(s,l))return f(r.get(l));r!==s&&r.get(n)}function has$1(r,n=!1){const a=this.__v_raw,o=toRaw(a),s=toRaw(r);return r!==s&&!n&&track(o,"has",r),!n&&track(o,"has",s),r===s?a.has(r):a.has(r)||a.has(s)}function size(r,n=!1){return r=r.__v_raw,!n&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add(r){r=toRaw(r);const n=toRaw(this);return getProto(n).has.call(n,r)||(n.add(r),trigger(n,"add",r,r)),this}function set$1(r,n){n=toRaw(n);const a=toRaw(this),{has:o,get:s}=getProto(a);let l=o.call(a,r);l?checkIdentityKeys(a,o,r):(r=toRaw(r),l=o.call(a,r));const u=s.call(a,r);return a.set(r,n),l?hasChanged(n,u)&&trigger(a,"set",r,n,u):trigger(a,"add",r,n),this}function deleteEntry(r){const n=toRaw(this),{has:a,get:o}=getProto(n);let s=a.call(n,r);s?checkIdentityKeys(n,a,r):(r=toRaw(r),s=a.call(n,r));const l=o?o.call(n,r):void 0,u=n.delete(r);return s&&trigger(n,"delete",r,void 0,l),u}function clear(){const r=toRaw(this),n=r.size!==0,a=isMap(r)?new Map(r):new Set(r),o=r.clear();return n&&trigger(r,"clear",void 0,void 0,a),o}function createForEach(r,n){return function(o,s){const l=this,u=l.__v_raw,f=toRaw(u),d=n?toShallow:r?toReadonly:toReactive;return!r&&track(f,"iterate",ITERATE_KEY),u.forEach((v,g)=>o.call(s,d(v),d(g),l))}}function createIterableMethod(r,n,a){return function(...o){const s=this.__v_raw,l=toRaw(s),u=isMap(l),f=r==="entries"||r===Symbol.iterator&&u,d=r==="keys"&&u,v=s[r](...o),g=a?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:b}=v.next();return b?{value:y,done:b}:{value:f?[g(y[0]),g(y[1])]:g(y),done:b}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...n){{const a=n[0]?`on key "${n[0]}" `:"";console.warn(`${capitalize(r)} operation ${a}failed: target is readonly.`,toRaw(this))}return r==="delete"?!1:this}}function createInstrumentations(){const r={get(l){return get$1(this,l)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},n={get(l){return get$1(this,l,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},a={get(l){return get$1(this,l,!0)},get size(){return size(this,!0)},has(l){return has$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(l){return get$1(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{r[l]=createIterableMethod(l,!1,!1),a[l]=createIterableMethod(l,!0,!1),n[l]=createIterableMethod(l,!1,!0),o[l]=createIterableMethod(l,!0,!0)}),[r,a,n,o]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,n){const a=n?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(o,s,l)=>s==="__v_isReactive"?!r:s==="__v_isReadonly"?r:s==="__v_raw"?o:Reflect.get(hasOwn(a,s)&&s in o?a:o,s,l)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)};function checkIdentityKeys(r,n,a){const o=toRaw(a);if(o!==a&&n.call(r,o)){const s=toRawType(r);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(r){return createReactiveObject(r,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(r,n,a,o,s){if(!isObject(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(n&&r.__v_isReactive))return r;const l=s.get(r);if(l)return l;const u=getTargetType(r);if(u===0)return r;const f=new Proxy(r,u===2?o:a);return s.set(r,f),f}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return isReactive(r)||isReadonly(r)}function toRaw(r){const n=r&&r.__v_raw;return n?toRaw(n):r}function markRaw(r){return def(r,"__v_skip",!0),r}var toReactive=r=>isObject(r)?reactive(r):r,toReadonly=r=>isObject(r)?readonly(r):r;function trackRefValue(r){shouldTrack&&activeEffect&&(r=toRaw(r),trackEffects(r.dep||(r.dep=createDep()),{target:r,type:"get",key:"value"}))}function triggerRefValue(r,n){r=toRaw(r),r.dep&&triggerEffects(r.dep,{target:r,type:"set",key:"value",newValue:n})}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref(r){return createRef(r,!1)}function createRef(r,n){return isRef(r)?r:new RefImpl(r,n)}var RefImpl=class{constructor(r,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?r:toRaw(r),this._value=n?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){r=this.__v_isShallow?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:toReactive(r),triggerRefValue(this,r))}};function unref(r){return isRef(r)?r.value:r}var shallowUnwrapHandlers={get:(r,n,a)=>unref(Reflect.get(r,n,a)),set:(r,n,a,o)=>{const s=r[n];return isRef(s)&&!isRef(a)?(s.value=a,!0):Reflect.set(r,n,a,o)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}var ObjectRefImpl=class{constructor(r,n,a){this._object=r,this._key=n,this._defaultValue=a,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}};function toRef(r,n,a){const o=r[n];return isRef(o)?o:new ObjectRefImpl(r,n,a)}var ComputedRefImpl=class{constructor(r,n,a,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}};function computed(r,n,a=!1){let o,s;const l=isFunction(r);l?(o=r,s=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=r.get,s=r.set);const u=new ComputedRefImpl(o,s,l||!s,a);return n&&!a&&(u.effect.onTrack=n.onTrack,u.effect.onTrigger=n.onTrigger),u}var _a,tick=Promise.resolve();_a="__v_isReadonly";var stack=[];function pushWarningContext(r){stack.push(r)}function popWarningContext(){stack.pop()}function warn2(r,...n){pauseTracking();const a=stack.length?stack[stack.length-1].component:null,o=a&&a.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,a,11,[r+n.join(""),a&&a.proxy,s.map(({vnode:l})=>`at <${formatComponentName(a,l.type)}>`).join(`
`),s]);else{const l=[`[Vue warn]: ${r}`,...n];s.length&&l.push(`
`,...formatTrace(s)),console.warn(...l)}resetTracking()}function getComponentTrace(){let r=stack[stack.length-1];if(!r)return[];const n=[];for(;r;){const a=n[0];a&&a.vnode===r?a.recurseCount++:n.push({vnode:r,recurseCount:0});const o=r.component&&r.component.parent;r=o&&o.vnode}return n}function formatTrace(r){const n=[];return r.forEach((a,o)=>{n.push(...o===0?[]:[`
`],...formatTraceEntry(a))}),n}function formatTraceEntry({vnode:r,recurseCount:n}){const a=n>0?`... (${n} recursive calls)`:"",o=r.component?r.component.parent==null:!1,s=` at <${formatComponentName(r.component,r.type,o)}`,l=">"+a;return r.props?[s,...formatProps(r.props),l]:[s+l]}function formatProps(r){const n=[],a=Object.keys(r);return a.slice(0,3).forEach(o=>{n.push(...formatProp(o,r[o]))}),a.length>3&&n.push(" ..."),n}function formatProp(r,n,a){return isString(n)?(n=JSON.stringify(n),a?n:[`${r}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?a?n:[`${r}=${n}`]:isRef(n)?(n=formatProp(r,toRaw(n.value),!0),a?n:[`${r}=Ref<`,n,">"]):isFunction(n)?[`${r}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),a?n:[`${r}=`,n])}var ErrorTypeStrings={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function callWithErrorHandling(r,n,a,o){let s;try{s=o?r(...o):r()}catch(l){handleError(l,n,a)}return s}function callWithAsyncErrorHandling(r,n,a,o){if(isFunction(r)){const l=callWithErrorHandling(r,n,a,o);return l&&isPromise(l)&&l.catch(u=>{handleError(u,n,a)}),l}const s=[];for(let l=0;l<r.length;l++)s.push(callWithAsyncErrorHandling(r[l],n,a,o));return s}function handleError(r,n,a,o=!0){const s=n?n.vnode:null;if(n){let l=n.parent;const u=n.proxy,f=ErrorTypeStrings[a];for(;l;){const v=l.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](r,u,f)===!1)return}l=l.parent}const d=n.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[r,u,f]);return}}logError(r,a,s,o)}function logError(r,n,a,o=!0){{const s=ErrorTypeStrings[n];if(a&&pushWarningContext(a),warn2(`Unhandled error${s?` during execution of ${s}`:""}`),a&&popWarningContext(),o)throw r;console.error(r)}}var isFlushing=!1,isFlushPending=!1,queue=[],flushIndex=0,pendingPreFlushCbs=[],activePreFlushCbs=null,preFlushIndex=0,pendingPostFlushCbs=[],activePostFlushCbs=null,postFlushIndex=0,resolvedPromise=Promise.resolve(),currentFlushPromise=null,currentPreFlushParentJob=null,RECURSION_LIMIT=100;function nextTick(r){const n=currentFlushPromise||resolvedPromise;return r?n.then(this?r.bind(this):r):n}function findInsertionIndex(r){let n=flushIndex+1,a=queue.length;for(;n<a;){const o=n+a>>>1;getId(queue[o])<r?n=o+1:a=o}return n}function queueJob(r){(!queue.length||!queue.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&r!==currentPreFlushParentJob&&(r.id==null?queue.push(r):queue.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const n=queue.indexOf(r);n>flushIndex&&queue.splice(n,1)}function queueCb(r,n,a,o){isArray(r)?a.push(...r):(!n||!n.includes(r,r.allowRecurse?o+1:o))&&a.push(r),queueFlush()}function queuePreFlushCb(r){queueCb(r,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(r){queueCb(r,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(r,n=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=n,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,r=r||new Map,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)checkRecursiveUpdates(r,activePreFlushCbs[preFlushIndex])||activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(r,n)}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,r=r||new Map,activePostFlushCbs.sort((a,o)=>getId(a)-getId(o)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)checkRecursiveUpdates(r,activePostFlushCbs[postFlushIndex])||activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}var getId=r=>r.id==null?1/0:r.id;function flushJobs(r){isFlushPending=!1,isFlushing=!0,r=r||new Map,flushPreFlushCbs(r),queue.sort((a,o)=>getId(a)-getId(o));const n=a=>checkRecursiveUpdates(r,a);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const a=queue[flushIndex];if(a&&a.active!==!1){if(n(a))continue;callWithErrorHandling(a,null,14)}}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(r),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(r)}}function checkRecursiveUpdates(r,n){if(!r.has(n))r.set(n,1);else{const a=r.get(n);if(a>RECURSION_LIMIT){const o=n.ownerInstance,s=o&&getComponentName(o.type);return warn2(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else r.set(n,a+1)}}var isHmrUpdating=!1,hmrDirtyComponents=new Set;getGlobalThis().__VUE_HMR_RUNTIME__={createRecord:tryWrap(createRecord),rerender:tryWrap(rerender),reload:tryWrap(reload)};var map=new Map;function registerHMR(r){const n=r.type.__hmrId;let a=map.get(n);a||(createRecord(n,r.type),a=map.get(n)),a.instances.add(r)}function unregisterHMR(r){map.get(r.type.__hmrId).instances.delete(r)}function createRecord(r,n){return map.has(r)?!1:(map.set(r,{initialDef:normalizeClassComponent(n),instances:new Set}),!0)}function normalizeClassComponent(r){return isClassComponent(r)?r.__vccOpts:r}function rerender(r,n){const a=map.get(r);!a||(a.initialDef.render=n,[...a.instances].forEach(o=>{n&&(o.render=n,normalizeClassComponent(o.type).render=n),o.renderCache=[],isHmrUpdating=!0,o.update(),isHmrUpdating=!1}))}function reload(r,n){const a=map.get(r);if(!a)return;n=normalizeClassComponent(n),updateComponentDef(a.initialDef,n);const o=[...a.instances];for(const s of o){const l=normalizeClassComponent(s.type);hmrDirtyComponents.has(l)||(l!==a.initialDef&&updateComponentDef(l,n),hmrDirtyComponents.add(l)),s.appContext.optionsCache.delete(s.type),s.ceReload?(hmrDirtyComponents.add(l),s.ceReload(n.styles),hmrDirtyComponents.delete(l)):s.parent?(queueJob(s.parent.update),s.parent.type.__asyncLoader&&s.parent.ceReload&&s.parent.ceReload(n.styles)):s.appContext.reload?s.appContext.reload():typeof window!="undefined"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}queuePostFlushCb(()=>{for(const s of o)hmrDirtyComponents.delete(normalizeClassComponent(s.type))})}function updateComponentDef(r,n){extend(r,n);for(const a in r)a!=="__file"&&!(a in n)&&delete r[a]}function tryWrap(r){return(n,a)=>{try{return r(n,a)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}var devtools,buffer=[],devtoolsNotInstalled=!1;function emit(r,...n){devtools?devtools.emit(r,...n):devtoolsNotInstalled||buffer.push({event:r,args:n})}function setDevtoolsHook(r,n){var a,o;devtools=r,devtools?(devtools.enabled=!0,buffer.forEach(({event:s,args:l})=>devtools.emit(s,...l)),buffer=[]):typeof window!="undefined"&&window.HTMLElement&&!((o=(a=window.navigator)===null||a===void 0?void 0:a.userAgent)===null||o===void 0?void 0:o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{setDevtoolsHook(l,n)}),setTimeout(()=>{devtools||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,devtoolsNotInstalled=!0,buffer=[])},3e3)):(devtoolsNotInstalled=!0,buffer=[])}function devtoolsInitApp(r,n){emit("app:init",r,n,{Fragment,Text,Comment,Static})}function devtoolsUnmountApp(r){emit("app:unmount",r)}var devtoolsComponentAdded=createDevtoolsComponentHook("component:added"),devtoolsComponentUpdated=createDevtoolsComponentHook("component:updated"),devtoolsComponentRemoved=createDevtoolsComponentHook("component:removed");function createDevtoolsComponentHook(r){return n=>{emit(r,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}var devtoolsPerfStart=createDevtoolsPerformanceHook("perf:start"),devtoolsPerfEnd=createDevtoolsPerformanceHook("perf:end");function createDevtoolsPerformanceHook(r){return(n,a,o)=>{emit(r,n.appContext.app,n.uid,n,a,o)}}function devtoolsComponentEmit(r,n,a){emit("component:emit",r.appContext.app,r,n,a)}function emit$1(r,n,...a){const o=r.vnode.props||EMPTY_OBJ;{const{emitsOptions:g,propsOptions:[y]}=r;if(g)if(!(n in g))(!y||!(toHandlerKey(n)in y))&&warn2(`Component emitted event "${n}" but it is neither declared in the emits option nor as an "${toHandlerKey(n)}" prop.`);else{const b=g[n];isFunction(b)&&(b(...a)||warn2(`Invalid event arguments: event validation failed for event "${n}".`))}}let s=a;const l=n.startsWith("update:"),u=l&&n.slice(7);if(u&&u in o){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:y,trim:b}=o[g]||EMPTY_OBJ;b?s=a.map(_=>_.trim()):y&&(s=a.map(toNumber))}devtoolsComponentEmit(r,n,s);{const g=n.toLowerCase();g!==n&&o[toHandlerKey(g)]&&warn2(`Event "${g}" is emitted in component ${formatComponentName(r,r.type)} but the handler is registered for "${n}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hyphenate(n)}" instead of "${n}".`)}let f,d=o[f=toHandlerKey(n)]||o[f=toHandlerKey(camelize(n))];!d&&l&&(d=o[f=toHandlerKey(hyphenate(n))]),d&&callWithAsyncErrorHandling(d,r,6,s);const v=o[f+"Once"];if(v){if(!r.emitted)r.emitted={};else if(r.emitted[f])return;r.emitted[f]=!0,callWithAsyncErrorHandling(v,r,6,s)}}function normalizeEmitsOptions(r,n,a=!1){const o=n.emitsCache,s=o.get(r);if(s!==void 0)return s;const l=r.emits;let u={},f=!1;if(!isFunction(r)){const d=v=>{const g=normalizeEmitsOptions(v,n,!0);g&&(f=!0,extend(u,g))};!a&&n.mixins.length&&n.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}return!l&&!f?(o.set(r,null),null):(isArray(l)?l.forEach(d=>u[d]=null):extend(u,l),o.set(r,u),u)}function isEmitListener(r,n){return!r||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(r,n[0].toLowerCase()+n.slice(1))||hasOwn(r,hyphenate(n))||hasOwn(r,n))}var currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const n=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,n}function withCtx(r,n=currentRenderingInstance,a){if(!n||r._n)return r;const o=(...s)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n),u=r(...s);return setCurrentRenderingInstance(l),o._d&&setBlockTracking(1),devtoolsComponentUpdated(n),u};return o._n=!0,o._c=!0,o._d=!0,o}var accessedAttrs=!1;function markAttrsAccessed(){accessedAttrs=!0}function renderComponentRoot(r){const{type:n,vnode:a,proxy:o,withProxy:s,props:l,propsOptions:[u],slots:f,attrs:d,emit:v,render:g,renderCache:y,data:b,setupState:_,ctx:x,inheritAttrs:w}=r;let C,S;const D=setCurrentRenderingInstance(r);accessedAttrs=!1;try{if(a.shapeFlag&4){const P=s||o;C=normalizeVNode(g.call(P,P,y,l,_,b,x)),S=d}else{const P=n;d===l&&markAttrsAccessed(),C=normalizeVNode(P.length>1?P(l,{get attrs(){return markAttrsAccessed(),d},slots:f,emit:v}):P(l,null)),S=n.props?d:getFunctionalFallthrough(d)}}catch(P){blockStack.length=0,handleError(P,r,1),C=createVNode(Comment)}let A=C,T;if(C.patchFlag>0&&C.patchFlag&2048&&([A,T]=getChildRoot(C)),S&&w!==!1){const P=Object.keys(S),{shapeFlag:E}=A;if(P.length){if(E&(1|6))u&&P.some(isModelListener)&&(S=filterModelListeners(S,u)),A=cloneVNode(A,S);else if(!accessedAttrs&&A.type!==Comment){const M=Object.keys(d),L=[],F=[];for(let I=0,B=M.length;I<B;I++){const O=M[I];isOn(O)?isModelListener(O)||L.push(O[2].toLowerCase()+O.slice(3)):F.push(O)}F.length&&warn2(`Extraneous non-props attributes (${F.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),L.length&&warn2(`Extraneous non-emits event listeners (${L.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return a.dirs&&(isElementRoot(A)||warn2("Runtime directive used on component with non-element root node. The directives will not function as intended."),A.dirs=A.dirs?A.dirs.concat(a.dirs):a.dirs),a.transition&&(isElementRoot(A)||warn2("Component inside <Transition> renders non-element root node that cannot be animated."),A.transition=a.transition),T?T(A):C=A,setCurrentRenderingInstance(D),C}var getChildRoot=r=>{const n=r.children,a=r.dynamicChildren,o=filterSingleRoot(n);if(!o)return[r,void 0];const s=n.indexOf(o),l=a?a.indexOf(o):-1,u=f=>{n[s]=f,a&&(l>-1?a[l]=f:f.patchFlag>0&&(r.dynamicChildren=[...a,f]))};return[normalizeVNode(o),u]};function filterSingleRoot(r){let n;for(let a=0;a<r.length;a++){const o=r[a];if(isVNode(o)){if(o.type!==Comment||o.children==="v-if"){if(n)return;n=o}}else return}return n}var getFunctionalFallthrough=r=>{let n;for(const a in r)(a==="class"||a==="style"||isOn(a))&&((n||(n={}))[a]=r[a]);return n},filterModelListeners=(r,n)=>{const a={};for(const o in r)(!isModelListener(o)||!(o.slice(9)in n))&&(a[o]=r[o]);return a},isElementRoot=r=>r.shapeFlag&(6|1)||r.type===Comment;function shouldUpdateComponent(r,n,a){const{props:o,children:s,component:l}=r,{props:u,children:f,patchFlag:d}=n,v=l.emitsOptions;if((s||f)&&isHmrUpdating||n.dirs||n.transition)return!0;if(a&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,u,v):!!u;if(d&8){const g=n.dynamicProps;for(let y=0;y<g.length;y++){const b=g[y];if(u[b]!==o[b]&&!isEmitListener(v,b))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?hasPropsChanged(o,u,v):!0:!!u;return!1}function hasPropsChanged(r,n,a){const o=Object.keys(n);if(o.length!==Object.keys(r).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(n[l]!==r[l]&&!isEmitListener(a,l))return!0}return!1}function updateHOCHostEl({vnode:r,parent:n},a){for(;n&&n.subTree===r;)(r=n.vnode).el=a,n=n.parent}var isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,n){n&&n.pendingBranch?isArray(r)?n.effects.push(...r):n.effects.push(r):queuePostFlushCb(r)}function provide(r,n){if(!currentInstance)warn2("provide() can only be used inside setup().");else{let a=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===a&&(a=currentInstance.provides=Object.create(o)),a[r]=n}}function inject(r,n,a=!1){const o=currentInstance||currentRenderingInstance;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&r in s)return s[r];if(arguments.length>1)return a&&isFunction(n)?n.call(o.proxy):n;warn2(`injection "${String(r)}" not found.`)}else warn2("inject() can only be used inside setup() or functional components.")}function watchEffect(r,n){return doWatch(r,null,n)}var INITIAL_WATCHER_VALUE={};function watch(r,n,a){return isFunction(n)||warn2("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),doWatch(r,n,a)}function doWatch(r,n,{immediate:a,deep:o,flush:s,onTrack:l,onTrigger:u}=EMPTY_OBJ){n||(a!==void 0&&warn2('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&warn2('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const f=D=>{warn2("Invalid watch source: ",D,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=currentInstance;let v,g=!1,y=!1;if(isRef(r)?(v=()=>r.value,g=isShallow(r)):isReactive(r)?(v=()=>r,o=!0):isArray(r)?(y=!0,g=r.some(isReactive),v=()=>r.map(D=>{if(isRef(D))return D.value;if(isReactive(D))return traverse(D);if(isFunction(D))return callWithErrorHandling(D,d,2);f(D)})):isFunction(r)?n?v=()=>callWithErrorHandling(r,d,2):v=()=>{if(!(d&&d.isUnmounted))return b&&b(),callWithAsyncErrorHandling(r,d,3,[_])}:(v=NOOP,f(r)),n&&o){const D=v;v=()=>traverse(D())}let b,_=D=>{b=S.onStop=()=>{callWithErrorHandling(D,d,4)}};if(isInSSRComponentSetup)return _=NOOP,n?a&&callWithAsyncErrorHandling(n,d,3,[v(),y?[]:void 0,_]):v(),NOOP;let x=y?[]:INITIAL_WATCHER_VALUE;const w=()=>{if(!!S.active)if(n){const D=S.run();(o||g||(y?D.some((A,T)=>hasChanged(A,x[T])):hasChanged(D,x)))&&(b&&b(),callWithAsyncErrorHandling(n,d,3,[D,x===INITIAL_WATCHER_VALUE?void 0:x,_]),x=D)}else S.run()};w.allowRecurse=!!n;let C;s==="sync"?C=w:s==="post"?C=()=>queuePostRenderEffect(w,d&&d.suspense):C=()=>{!d||d.isMounted?queuePreFlushCb(w):w()};const S=new ReactiveEffect(v,C);return S.onTrack=l,S.onTrigger=u,n?a?w():x=S.run():s==="post"?queuePostRenderEffect(S.run.bind(S),d&&d.suspense):S.run(),()=>{S.stop(),d&&d.scope&&remove(d.scope.effects,S)}}function instanceWatch(r,n,a){const o=this.proxy,s=isString(r)?r.includes(".")?createPathGetter(o,r):()=>o[r]:r.bind(o,o);let l;isFunction(n)?l=n:(l=n.handler,a=n);const u=currentInstance;setCurrentInstance(this);const f=doWatch(s,l.bind(o),a);return u?setCurrentInstance(u):unsetCurrentInstance(),f}function createPathGetter(r,n){const a=n.split(".");return()=>{let o=r;for(let s=0;s<a.length&&o;s++)o=o[a[s]];return o}}function traverse(r,n){if(!isObject(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),isRef(r))traverse(r.value,n);else if(isArray(r))for(let a=0;a<r.length;a++)traverse(r[a],n);else if(isSet(r)||isMap(r))r.forEach(a=>{traverse(a,n)});else if(isPlainObject(r))for(const a in r)traverse(r[a],n);return r}function useTransitionState(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{r.isMounted=!0}),onBeforeUnmount(()=>{r.isUnmounting=!0}),r}var TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(r,{slots:n}){const a=getCurrentInstance(),o=useTransitionState();let s;return()=>{const l=n.default&&getTransitionRawChildren(n.default(),!0);if(!l||!l.length)return;l.length>1&&warn2("<transition> can only be used on a single element or component. Use <transition-group> for lists.");const u=toRaw(r),{mode:f}=u;f&&f!=="in-out"&&f!=="out-in"&&f!=="default"&&warn2(`invalid <transition> mode: ${f}`);const d=l[0];if(o.isLeaving)return emptyPlaceholder(d);const v=getKeepAliveChild(d);if(!v)return emptyPlaceholder(d);const g=resolveTransitionHooks(v,u,o,a);setTransitionHooks(v,g);const y=a.subTree,b=y&&getKeepAliveChild(y);let _=!1;const{getTransitionKey:x}=v.type;if(x){const w=x();s===void 0?s=w:w!==s&&(s=w,_=!0)}if(b&&b.type!==Comment&&(!isSameVNodeType(v,b)||_)){const w=resolveTransitionHooks(b,u,o,a);if(setTransitionHooks(b,w),f==="out-in")return o.isLeaving=!0,w.afterLeave=()=>{o.isLeaving=!1,a.update()},emptyPlaceholder(d);f==="in-out"&&v.type!==Comment&&(w.delayLeave=(C,S,D)=>{const A=getLeavingNodesForType(o,b);A[String(b.key)]=b,C._leaveCb=()=>{S(),C._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=D})}return d}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(r,n){const{leavingVNodes:a}=r;let o=a.get(n.type);return o||(o=Object.create(null),a.set(n.type,o)),o}function resolveTransitionHooks(r,n,a,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:f,onEnter:d,onAfterEnter:v,onEnterCancelled:g,onBeforeLeave:y,onLeave:b,onAfterLeave:_,onLeaveCancelled:x,onBeforeAppear:w,onAppear:C,onAfterAppear:S,onAppearCancelled:D}=n,A=String(r.key),T=getLeavingNodesForType(a,r),P=(M,L)=>{M&&callWithAsyncErrorHandling(M,o,9,L)},E={mode:l,persisted:u,beforeEnter(M){let L=f;if(!a.isMounted)if(s)L=w||f;else return;M._leaveCb&&M._leaveCb(!0);const F=T[A];F&&isSameVNodeType(r,F)&&F.el._leaveCb&&F.el._leaveCb(),P(L,[M])},enter(M){let L=d,F=v,I=g;if(!a.isMounted)if(s)L=C||d,F=S||v,I=D||g;else return;let B=!1;const O=M._enterCb=R=>{B||(B=!0,R?P(I,[M]):P(F,[M]),E.delayedLeave&&E.delayedLeave(),M._enterCb=void 0)};L?(L(M,O),L.length<=1&&O()):O()},leave(M,L){const F=String(r.key);if(M._enterCb&&M._enterCb(!0),a.isUnmounting)return L();P(y,[M]);let I=!1;const B=M._leaveCb=O=>{I||(I=!0,L(),O?P(x,[M]):P(_,[M]),M._leaveCb=void 0,T[F]===r&&delete T[F])};T[F]=r,b?(b(M,B),b.length<=1&&B()):B()},clone(M){return resolveTransitionHooks(M,n,a,o)}};return E}function emptyPlaceholder(r){if(isKeepAlive(r))return r=cloneVNode(r),r.children=null,r}function getKeepAliveChild(r){return isKeepAlive(r)?r.children?r.children[0]:void 0:r}function setTransitionHooks(r,n){r.shapeFlag&6&&r.component?setTransitionHooks(r.component.subTree,n):r.shapeFlag&128?(r.ssContent.transition=n.clone(r.ssContent),r.ssFallback.transition=n.clone(r.ssFallback)):r.transition=n}function getTransitionRawChildren(r,n=!1){let a=[],o=0;for(let s=0;s<r.length;s++){const l=r[s];l.type===Fragment?(l.patchFlag&128&&o++,a=a.concat(getTransitionRawChildren(l.children,n))):(n||l.type!==Comment)&&a.push(l)}if(o>1)for(let s=0;s<a.length;s++)a[s].patchFlag=-2;return a}function defineComponent(r){return isFunction(r)?{setup:r,name:r.name}:r}var isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(r,{slots:n}){const a=getCurrentInstance(),o=a.ctx;if(!o.renderer)return n.default;const s=new Map,l=new Set;let u=null;a.__v_cache=s;const f=a.suspense,{renderer:{p:d,m:v,um:g,o:{createElement:y}}}=o,b=y("div");o.activate=(D,A,T,P,E)=>{const M=D.component;v(D,A,T,0,f),d(M.vnode,D,A,T,M,f,P,D.slotScopeIds,E),queuePostRenderEffect(()=>{M.isDeactivated=!1,M.a&&invokeArrayFns(M.a);const L=D.props&&D.props.onVnodeMounted;L&&invokeVNodeHook(L,M.parent,D)},f),devtoolsComponentAdded(M)},o.deactivate=D=>{const A=D.component;v(D,b,null,1,f),queuePostRenderEffect(()=>{A.da&&invokeArrayFns(A.da);const T=D.props&&D.props.onVnodeUnmounted;T&&invokeVNodeHook(T,A.parent,D),A.isDeactivated=!0},f),devtoolsComponentAdded(A)};function _(D){resetShapeFlag(D),g(D,a,f,!0)}function x(D){s.forEach((A,T)=>{const P=getComponentName(A.type);P&&(!D||!D(P))&&w(T)})}function w(D){const A=s.get(D);!u||A.type!==u.type?_(A):u&&resetShapeFlag(u),s.delete(D),l.delete(D)}watch(()=>[r.include,r.exclude],([D,A])=>{D&&x(T=>matches(D,T)),A&&x(T=>!matches(A,T))},{flush:"post",deep:!0});let C=null;const S=()=>{C!=null&&s.set(C,getInnerChild(a.subTree))};return onMounted(S),onUpdated(S),onBeforeUnmount(()=>{s.forEach(D=>{const{subTree:A,suspense:T}=a,P=getInnerChild(A);if(D.type===P.type){resetShapeFlag(P);const E=P.component.da;E&&queuePostRenderEffect(E,T);return}_(D)})}),()=>{if(C=null,!n.default)return null;const D=n.default(),A=D[0];if(D.length>1)return warn2("KeepAlive should contain exactly one component child."),u=null,D;if(!isVNode(A)||!(A.shapeFlag&4)&&!(A.shapeFlag&128))return u=null,A;let T=getInnerChild(A);const P=T.type,E=getComponentName(isAsyncWrapper(T)?T.type.__asyncResolved||{}:P),{include:M,exclude:L,max:F}=r;if(M&&(!E||!matches(M,E))||L&&E&&matches(L,E))return u=T,A;const I=T.key==null?P:T.key,B=s.get(I);return T.el&&(T=cloneVNode(T),A.shapeFlag&128&&(A.ssContent=T)),C=I,B?(T.el=B.el,T.component=B.component,T.transition&&setTransitionHooks(T,T.transition),T.shapeFlag|=512,l.delete(I),l.add(I)):(l.add(I),F&&l.size>parseInt(F,10)&&w(l.values().next().value)),T.shapeFlag|=256,u=T,A}}},KeepAlive=KeepAliveImpl;function matches(r,n){return isArray(r)?r.some(a=>matches(a,n)):isString(r)?r.split(",").includes(n):r.test?r.test(n):!1}function onActivated(r,n){registerKeepAliveHook(r,"a",n)}function onDeactivated(r,n){registerKeepAliveHook(r,"da",n)}function registerKeepAliveHook(r,n,a=currentInstance){const o=r.__wdc||(r.__wdc=()=>{let s=a;for(;s;){if(s.isDeactivated)return;s=s.parent}return r()});if(injectHook(n,o,a),a){let s=a.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,n,a,s),s=s.parent}}function injectToKeepAliveRoot(r,n,a,o){const s=injectHook(n,r,o,!0);onUnmounted(()=>{remove(o[n],s)},a)}function resetShapeFlag(r){let n=r.shapeFlag;n&256&&(n-=256),n&512&&(n-=512),r.shapeFlag=n}function getInnerChild(r){return r.shapeFlag&128?r.ssContent:r}function injectHook(r,n,a=currentInstance,o=!1){if(a){const s=a[r]||(a[r]=[]),l=n.__weh||(n.__weh=(...u)=>{if(a.isUnmounted)return;pauseTracking(),setCurrentInstance(a);const f=callWithAsyncErrorHandling(n,a,r,u);return unsetCurrentInstance(),resetTracking(),f});return o?s.unshift(l):s.push(l),l}else{const s=toHandlerKey(ErrorTypeStrings[r].replace(/ hook$/,""));warn2(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}var createHook=r=>(n,a=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,n,a),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,n=currentInstance){injectHook("ec",r,n)}function createDuplicateChecker(){const r=Object.create(null);return(n,a)=>{r[a]?warn2(`${n} property "${a}" is already defined in ${r[a]}.`):r[a]=n}}var shouldCacheAccess=!0;function applyOptions(r){const n=resolveMergedOptions(r),a=r.proxy,o=r.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,r,"bc");const{data:s,computed:l,methods:u,watch:f,provide:d,inject:v,created:g,beforeMount:y,mounted:b,beforeUpdate:_,updated:x,activated:w,deactivated:C,beforeDestroy:S,beforeUnmount:D,destroyed:A,unmounted:T,render:P,renderTracked:E,renderTriggered:M,errorCaptured:L,serverPrefetch:F,expose:I,inheritAttrs:B,components:O,directives:R,filters:z}=n,N=createDuplicateChecker();{const[W]=r.propsOptions;if(W)for(const H in W)N("Props",H)}if(v&&resolveInjections(v,o,N,r.appContext.config.unwrapInjectedRef),u)for(const W in u){const H=u[W];isFunction(H)?(Object.defineProperty(o,W,{value:H.bind(a),configurable:!0,enumerable:!0,writable:!0}),N("Methods",W)):warn2(`Method "${W}" has type "${typeof H}" in the component definition. Did you reference the function correctly?`)}if(s){isFunction(s)||warn2("The data option must be a function. Plain object usage is no longer supported.");const W=s.call(a,a);if(isPromise(W)&&warn2("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!isObject(W))warn2("data() should return an object.");else{r.data=reactive(W);for(const H in W)N("Data",H),H[0]!=="$"&&H[0]!=="_"&&Object.defineProperty(o,H,{configurable:!0,enumerable:!0,get:()=>W[H],set:NOOP})}}if(shouldCacheAccess=!0,l)for(const W in l){const H=l[W],$=isFunction(H)?H.bind(a,a):isFunction(H.get)?H.get.bind(a,a):NOOP;$===NOOP&&warn2(`Computed property "${W}" has no getter.`);const Y=!isFunction(H)&&isFunction(H.set)?H.set.bind(a):()=>{warn2(`Write operation failed: computed property "${W}" is readonly.`)},ae=computed2({get:$,set:Y});Object.defineProperty(o,W,{enumerable:!0,configurable:!0,get:()=>ae.value,set:X=>ae.value=X}),N("Computed",W)}if(f)for(const W in f)createWatcher(f[W],o,a,W);if(d){const W=isFunction(d)?d.call(a):d;Reflect.ownKeys(W).forEach(H=>{provide(H,W[H])})}g&&callHook(g,r,"c");function V(W,H){isArray(H)?H.forEach($=>W($.bind(a))):H&&W(H.bind(a))}if(V(onBeforeMount,y),V(onMounted,b),V(onBeforeUpdate,_),V(onUpdated,x),V(onActivated,w),V(onDeactivated,C),V(onErrorCaptured,L),V(onRenderTracked,E),V(onRenderTriggered,M),V(onBeforeUnmount,D),V(onUnmounted,T),V(onServerPrefetch,F),isArray(I))if(I.length){const W=r.exposed||(r.exposed={});I.forEach(H=>{Object.defineProperty(W,H,{get:()=>a[H],set:$=>a[H]=$})})}else r.exposed||(r.exposed={});P&&r.render===NOOP&&(r.render=P),B!=null&&(r.inheritAttrs=B),O&&(r.components=O),R&&(r.directives=R)}function resolveInjections(r,n,a=NOOP,o=!1){isArray(r)&&(r=normalizeInject(r));for(const s in r){const l=r[s];let u;isObject(l)?"default"in l?u=inject(l.from||s,l.default,!0):u=inject(l.from||s):u=inject(l),isRef(u)?o?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):(warn2(`injected property "${s}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),n[s]=u):n[s]=u,a("Inject",s)}}function callHook(r,n,a){callWithAsyncErrorHandling(isArray(r)?r.map(o=>o.bind(n.proxy)):r.bind(n.proxy),n,a)}function createWatcher(r,n,a,o){const s=o.includes(".")?createPathGetter(a,o):()=>a[o];if(isString(r)){const l=n[r];isFunction(l)?watch(s,l):warn2(`Invalid watch handler specified by key "${r}"`,l)}else if(isFunction(r))watch(s,r.bind(a));else if(isObject(r))if(isArray(r))r.forEach(l=>createWatcher(l,n,a,o));else{const l=isFunction(r.handler)?r.handler.bind(a):n[r.handler];isFunction(l)?watch(s,l,r):warn2(`Invalid watch handler specified by key "${r.handler}"`,l)}else warn2(`Invalid watch option: "${o}"`,r)}function resolveMergedOptions(r){const n=r.type,{mixins:a,extends:o}=n,{mixins:s,optionsCache:l,config:{optionMergeStrategies:u}}=r.appContext,f=l.get(n);let d;return f?d=f:!s.length&&!a&&!o?d=n:(d={},s.length&&s.forEach(v=>mergeOptions(d,v,u,!0)),mergeOptions(d,n,u)),l.set(n,d),d}function mergeOptions(r,n,a,o=!1){const{mixins:s,extends:l}=n;l&&mergeOptions(r,l,a,!0),s&&s.forEach(u=>mergeOptions(r,u,a,!0));for(const u in n)if(o&&u==="expose")warn2('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const f=internalOptionMergeStrats[u]||a&&a[u];r[u]=f?f(r[u],n[u]):n[u]}return r}var internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,n){return n?r?function(){return extend(isFunction(r)?r.call(this,this):r,isFunction(n)?n.call(this,this):n)}:n:r}function mergeInject(r,n){return mergeObjectOptions(normalizeInject(r),normalizeInject(n))}function normalizeInject(r){if(isArray(r)){const n={};for(let a=0;a<r.length;a++)n[r[a]]=r[a];return n}return r}function mergeAsArray(r,n){return r?[...new Set([].concat(r,n))]:n}function mergeObjectOptions(r,n){return r?extend(extend(Object.create(null),r),n):n}function mergeWatchOptions(r,n){if(!r)return n;if(!n)return r;const a=extend(Object.create(null),r);for(const o in n)a[o]=mergeAsArray(r[o],n[o]);return a}function initProps(r,n,a,o=!1){const s={},l={};def(l,InternalObjectKey,1),r.propsDefaults=Object.create(null),setFullProps(r,n,s,l);for(const u in r.propsOptions[0])u in s||(s[u]=void 0);validateProps(n||{},s,r),a?r.props=o?s:shallowReactive(s):r.type.props?r.props=s:r.props=l,r.attrs=l}function updateProps(r,n,a,o){const{props:s,attrs:l,vnode:{patchFlag:u}}=r,f=toRaw(s),[d]=r.propsOptions;let v=!1;if(!(r.type.__hmrId||r.parent&&r.parent.type.__hmrId)&&(o||u>0)&&!(u&16)){if(u&8){const g=r.vnode.dynamicProps;for(let y=0;y<g.length;y++){let b=g[y];const _=n[b];if(d)if(hasOwn(l,b))_!==l[b]&&(l[b]=_,v=!0);else{const x=camelize(b);s[x]=resolvePropValue(d,f,x,_,r,!1)}else _!==l[b]&&(l[b]=_,v=!0)}}}else{setFullProps(r,n,s,l)&&(v=!0);let g;for(const y in f)(!n||!hasOwn(n,y)&&((g=hyphenate(y))===y||!hasOwn(n,g)))&&(d?a&&(a[y]!==void 0||a[g]!==void 0)&&(s[y]=resolvePropValue(d,f,y,void 0,r,!0)):delete s[y]);if(l!==f)for(const y in l)(!n||!hasOwn(n,y)&&!0)&&(delete l[y],v=!0)}v&&trigger(r,"set","$attrs"),validateProps(n||{},s,r)}function setFullProps(r,n,a,o){const[s,l]=r.propsOptions;let u=!1,f;if(n)for(let d in n){if(isReservedProp(d))continue;const v=n[d];let g;s&&hasOwn(s,g=camelize(d))?!l||!l.includes(g)?a[g]=v:(f||(f={}))[g]=v:isEmitListener(r.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,u=!0)}if(l){const d=toRaw(a),v=f||EMPTY_OBJ;for(let g=0;g<l.length;g++){const y=l[g];a[y]=resolvePropValue(s,d,y,v[y],r,!hasOwn(v,y))}}return u}function resolvePropValue(r,n,a,o,s,l){const u=r[a];if(u!=null){const f=hasOwn(u,"default");if(f&&o===void 0){const d=u.default;if(u.type!==Function&&isFunction(d)){const{propsDefaults:v}=s;a in v?o=v[a]:(setCurrentInstance(s),o=v[a]=d.call(null,n),unsetCurrentInstance())}else o=d}u[0]&&(l&&!f?o=!1:u[1]&&(o===""||o===hyphenate(a))&&(o=!0))}return o}function normalizePropsOptions(r,n,a=!1){const o=n.propsCache,s=o.get(r);if(s)return s;const l=r.props,u={},f=[];let d=!1;if(!isFunction(r)){const g=y=>{d=!0;const[b,_]=normalizePropsOptions(y,n,!0);extend(u,b),_&&f.push(..._)};!a&&n.mixins.length&&n.mixins.forEach(g),r.extends&&g(r.extends),r.mixins&&r.mixins.forEach(g)}if(!l&&!d)return o.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray(l))for(let g=0;g<l.length;g++){isString(l[g])||warn2("props must be strings when using array syntax.",l[g]);const y=camelize(l[g]);validatePropName(y)&&(u[y]=EMPTY_OBJ)}else if(l){isObject(l)||warn2("invalid props options",l);for(const g in l){const y=camelize(g);if(validatePropName(y)){const b=l[g],_=u[y]=isArray(b)||isFunction(b)?{type:b}:b;if(_){const x=getTypeIndex(Boolean,_.type),w=getTypeIndex(String,_.type);_[0]=x>-1,_[1]=w<0||x<w,(x>-1||hasOwn(_,"default"))&&f.push(y)}}}}const v=[u,f];return o.set(r,v),v}function validatePropName(r){return r[0]!=="$"?!0:(warn2(`Invalid prop name: "${r}" is a reserved property.`),!1)}function getType(r){const n=r&&r.toString().match(/^\s*function (\w+)/);return n?n[1]:r===null?"null":""}function isSameType(r,n){return getType(r)===getType(n)}function getTypeIndex(r,n){return isArray(n)?n.findIndex(a=>isSameType(a,r)):isFunction(n)&&isSameType(n,r)?0:-1}function validateProps(r,n,a){const o=toRaw(n),s=a.propsOptions[0];for(const l in s){let u=s[l];u!=null&&validateProp(l,o[l],u,!hasOwn(r,l)&&!hasOwn(r,hyphenate(l)))}}function validateProp(r,n,a,o){const{type:s,required:l,validator:u}=a;if(l&&o){warn2('Missing required prop: "'+r+'"');return}if(!(n==null&&!a.required)){if(s!=null&&s!==!0){let f=!1;const d=isArray(s)?s:[s],v=[];for(let g=0;g<d.length&&!f;g++){const{valid:y,expectedType:b}=assertType(n,d[g]);v.push(b||""),f=y}if(!f){warn2(getInvalidTypeMessage(r,n,v));return}}u&&!u(n)&&warn2('Invalid prop: custom validator check failed for prop "'+r+'".')}}var isSimpleType=makeMap("String,Number,Boolean,Function,Symbol,BigInt");function assertType(r,n){let a;const o=getType(n);if(isSimpleType(o)){const s=typeof r;a=s===o.toLowerCase(),!a&&s==="object"&&(a=r instanceof n)}else o==="Object"?a=isObject(r):o==="Array"?a=isArray(r):o==="null"?a=r===null:a=r instanceof n;return{valid:a,expectedType:o}}function getInvalidTypeMessage(r,n,a){let o=`Invalid prop: type check failed for prop "${r}". Expected ${a.map(capitalize).join(" | ")}`;const s=a[0],l=toRawType(n),u=styleValue(n,s),f=styleValue(n,l);return a.length===1&&isExplicable(s)&&!isBoolean(s,l)&&(o+=` with value ${u}`),o+=`, got ${l} `,isExplicable(l)&&(o+=`with value ${f}.`),o}function styleValue(r,n){return n==="String"?`"${r}"`:n==="Number"?`${Number(r)}`:`${r}`}function isExplicable(r){return["string","number","boolean"].some(a=>r.toLowerCase()===a)}function isBoolean(...r){return r.some(n=>n.toLowerCase()==="boolean")}var isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot=(r,n,a)=>{const o=withCtx((...s)=>(currentInstance&&warn2(`Slot "${r}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),normalizeSlotValue(n(...s))),a);return o._c=!1,o},normalizeObjectSlots=(r,n,a)=>{const o=r._ctx;for(const s in r){if(isInternalKey(s))continue;const l=r[s];if(isFunction(l))n[s]=normalizeSlot(s,l,o);else if(l!=null){warn2(`Non-function value encountered for slot "${s}". Prefer function slots for better performance.`);const u=normalizeSlotValue(l);n[s]=()=>u}}},normalizeVNodeSlots=(r,n)=>{isKeepAlive(r.vnode)||warn2("Non-function value encountered for default slot. Prefer function slots for better performance.");const a=normalizeSlotValue(n);r.slots.default=()=>a},initSlots=(r,n)=>{if(r.vnode.shapeFlag&32){const a=n._;a?(r.slots=toRaw(n),def(n,"_",a)):normalizeObjectSlots(n,r.slots={})}else r.slots={},n&&normalizeVNodeSlots(r,n);def(r.slots,InternalObjectKey,1)},updateSlots=(r,n,a)=>{const{vnode:o,slots:s}=r;let l=!0,u=EMPTY_OBJ;if(o.shapeFlag&32){const f=n._;f?isHmrUpdating?extend(s,n):a&&f===1?l=!1:(extend(s,n),!a&&f===1&&delete s._):(l=!n.$stable,normalizeObjectSlots(n,s)),u=n}else n&&(normalizeVNodeSlots(r,n),u={default:1});if(l)for(const f in s)!isInternalKey(f)&&!(f in u)&&delete s[f]};function validateDirectiveName(r){isBuiltInDirective(r)&&warn2("Do not use built-in directive ids as custom directive id: "+r)}function withDirectives(r,n){const a=currentRenderingInstance;if(a===null)return warn2("withDirectives can only be used inside render functions."),r;const o=a.proxy,s=r.dirs||(r.dirs=[]);for(let l=0;l<n.length;l++){let[u,f,d,v=EMPTY_OBJ]=n[l];isFunction(u)&&(u={mounted:u,updated:u}),u.deep&&traverse(f),s.push({dir:u,instance:o,value:f,oldValue:void 0,arg:d,modifiers:v})}return r}function invokeDirectiveHook(r,n,a,o){const s=r.dirs,l=n&&n.dirs;for(let u=0;u<s.length;u++){const f=s[u];l&&(f.oldValue=l[u].value);let d=f.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,a,8,[r.el,f,r,n]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var uid=0;function createAppAPI(r,n){return function(o,s=null){s!=null&&!isObject(s)&&(warn2("root props passed to app.mount() must be an object."),s=null);const l=createAppContext(),u=new Set;let f=!1;const d=l.app={_uid:uid++,_component:o,_props:s,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(v){warn2("app.config cannot be replaced. Modify individual options instead.")},use(v,...g){return u.has(v)?warn2("Plugin has already been applied to target app."):v&&isFunction(v.install)?(u.add(v),v.install(d,...g)):isFunction(v)?(u.add(v),v(d,...g)):warn2('A plugin must either be a function or an object with an "install" function.'),d},mixin(v){return l.mixins.includes(v)?warn2("Mixin has already been applied to target app"+(v.name?`: ${v.name}`:"")):l.mixins.push(v),d},component(v,g){return validateComponentName(v,l.config),g?(l.components[v]&&warn2(`Component "${v}" has already been registered in target app.`),l.components[v]=g,d):l.components[v]},directive(v,g){return validateDirectiveName(v),g?(l.directives[v]&&warn2(`Directive "${v}" has already been registered in target app.`),l.directives[v]=g,d):l.directives[v]},mount(v,g,y){if(f)warn2("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{const b=createVNode(o,s);return b.appContext=l,l.reload=()=>{r(cloneVNode(b),v,y)},g&&n?n(b,v):r(b,v,y),f=!0,d._container=v,v.__vue_app__=d,d._instance=b.component,devtoolsInitApp(d,version),getExposeProxy(b.component)||b.component.proxy}},unmount(){f?(r(null,d._container),d._instance=null,devtoolsUnmountApp(d),delete d._container.__vue_app__):warn2("Cannot unmount an app that is not mounted.")},provide(v,g){return v in l.provides&&warn2(`App already provides property with key "${String(v)}". It will be overwritten with the new value.`),l.provides[v]=g,d}};return d}}function setRef(r,n,a,o,s=!1){if(isArray(r)){r.forEach((b,_)=>setRef(b,n&&(isArray(n)?n[_]:n),a,o,s));return}if(isAsyncWrapper(o)&&!s)return;const l=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,u=s?null:l,{i:f,r:d}=r;if(!f){warn2("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const v=n&&n.r,g=f.refs===EMPTY_OBJ?f.refs={}:f.refs,y=f.setupState;if(v!=null&&v!==d&&(isString(v)?(g[v]=null,hasOwn(y,v)&&(y[v]=null)):isRef(v)&&(v.value=null)),isFunction(d))callWithErrorHandling(d,f,12,[u,g]);else{const b=isString(d),_=isRef(d);if(b||_){const x=()=>{if(r.f){const w=b?g[d]:d.value;s?isArray(w)&&remove(w,l):isArray(w)?w.includes(l)||w.push(l):b?g[d]=[l]:(d.value=[l],r.k&&(g[r.k]=d.value))}else b?(g[d]=u,hasOwn(y,d)&&(y[d]=u)):isRef(d)?(d.value=u,r.k&&(g[r.k]=u)):warn2("Invalid template ref type:",d,`(${typeof d})`)};u?(x.id=-1,queuePostRenderEffect(x,a)):x()}else warn2("Invalid template ref type:",d,`(${typeof d})`)}}var supported,perf;function startMeasure(r,n){r.appContext.config.performance&&isSupported()&&perf.mark(`vue-${n}-${r.uid}`),devtoolsPerfStart(r,n,supported?perf.now():Date.now())}function endMeasure(r,n){if(r.appContext.config.performance&&isSupported()){const a=`vue-${n}-${r.uid}`,o=a+":end";perf.mark(o),perf.measure(`<${formatComponentName(r,r.type)}> ${n}`,a,o),perf.clearMarks(a),perf.clearMarks(o)}devtoolsPerfEnd(r,n,supported?perf.now():Date.now())}function isSupported(){return supported!==void 0||(typeof window!="undefined"&&window.performance?(supported=!0,perf=window.performance):supported=!1),supported}function initFeatureFlags(){const r=[];if(r.length){const n=r.length>1;console.warn(`Feature flag${n?"s":""} ${r.join(", ")} ${n?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}var queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,n){initFeatureFlags();const a=getGlobalThis();a.__VUE__=!0,setDevtoolsHook(a.__VUE_DEVTOOLS_GLOBAL_HOOK__,a);const{insert:o,remove:s,patchProp:l,createElement:u,createText:f,createComment:d,setText:v,setElementText:g,parentNode:y,nextSibling:b,setScopeId:_=NOOP,cloneNode:x,insertStaticContent:w}=r,C=(G,U,ee,te=null,ie=null,re=null,ue=!1,q=null,Z=isHmrUpdating?!1:!!U.dynamicChildren)=>{if(G===U)return;G&&!isSameVNodeType(G,U)&&(te=j(G),fe(G,ie,re,!0),G=null),U.patchFlag===-2&&(Z=!1,U.dynamicChildren=null);const{type:ce,ref:xe,shapeFlag:De}=U;switch(ce){case Text:S(G,U,ee,te);break;case Comment:D(G,U,ee,te);break;case Static:G==null?A(U,ee,te,ue):T(G,U,ee,ue);break;case Fragment:z(G,U,ee,te,ie,re,ue,q,Z);break;default:De&1?M(G,U,ee,te,ie,re,ue,q,Z):De&6?N(G,U,ee,te,ie,re,ue,q,Z):De&64||De&128?ce.process(G,U,ee,te,ie,re,ue,q,Z,le):warn2("Invalid VNode type:",ce,`(${typeof ce})`)}xe!=null&&ie&&setRef(xe,G&&G.ref,re,U||G,!U)},S=(G,U,ee,te)=>{if(G==null)o(U.el=f(U.children),ee,te);else{const ie=U.el=G.el;U.children!==G.children&&v(ie,U.children)}},D=(G,U,ee,te)=>{G==null?o(U.el=d(U.children||""),ee,te):U.el=G.el},A=(G,U,ee,te)=>{[G.el,G.anchor]=w(G.children,U,ee,te,G.el,G.anchor)},T=(G,U,ee,te)=>{if(U.children!==G.children){const ie=b(G.anchor);E(G),[U.el,U.anchor]=w(U.children,ee,ie,te)}else U.el=G.el,U.anchor=G.anchor},P=({el:G,anchor:U},ee,te)=>{let ie;for(;G&&G!==U;)ie=b(G),o(G,ee,te),G=ie;o(U,ee,te)},E=({el:G,anchor:U})=>{let ee;for(;G&&G!==U;)ee=b(G),s(G),G=ee;s(U)},M=(G,U,ee,te,ie,re,ue,q,Z)=>{ue=ue||U.type==="svg",G==null?L(U,ee,te,ie,re,ue,q,Z):B(G,U,ie,re,ue,q,Z)},L=(G,U,ee,te,ie,re,ue,q)=>{let Z,ce;const{type:xe,props:De,shapeFlag:Se,transition:we,patchFlag:Me,dirs:Ie}=G;if(Z=G.el=u(G.type,re,De&&De.is,De),Se&8?g(Z,G.children):Se&16&&I(G.children,Z,null,te,ie,re&&xe!=="foreignObject",ue,q),Ie&&invokeDirectiveHook(G,null,te,"created"),De){for(const me in De)me!=="value"&&!isReservedProp(me)&&l(Z,me,null,De[me],re,G.children,te,ie,K);"value"in De&&l(Z,"value",null,De.value),(ce=De.onVnodeBeforeMount)&&invokeVNodeHook(ce,te,G)}F(Z,G,G.scopeId,ue,te),Object.defineProperty(Z,"__vnode",{value:G,enumerable:!1}),Object.defineProperty(Z,"__vueParentComponent",{value:te,enumerable:!1}),Ie&&invokeDirectiveHook(G,null,te,"beforeMount");const Pe=(!ie||ie&&!ie.pendingBranch)&&we&&!we.persisted;Pe&&we.beforeEnter(Z),o(Z,U,ee),((ce=De&&De.onVnodeMounted)||Pe||Ie)&&queuePostRenderEffect(()=>{ce&&invokeVNodeHook(ce,te,G),Pe&&we.enter(Z),Ie&&invokeDirectiveHook(G,null,te,"mounted")},ie)},F=(G,U,ee,te,ie)=>{if(ee&&_(G,ee),te)for(let re=0;re<te.length;re++)_(G,te[re]);if(ie){let re=ie.subTree;if(re.patchFlag>0&&re.patchFlag&2048&&(re=filterSingleRoot(re.children)||re),U===re){const ue=ie.vnode;F(G,ue,ue.scopeId,ue.slotScopeIds,ie.parent)}}},I=(G,U,ee,te,ie,re,ue,q,Z=0)=>{for(let ce=Z;ce<G.length;ce++){const xe=G[ce]=q?cloneIfMounted(G[ce]):normalizeVNode(G[ce]);C(null,xe,U,ee,te,ie,re,ue,q)}},B=(G,U,ee,te,ie,re,ue)=>{const q=U.el=G.el;let{patchFlag:Z,dynamicChildren:ce,dirs:xe}=U;Z|=G.patchFlag&16;const De=G.props||EMPTY_OBJ,Se=U.props||EMPTY_OBJ;let we;ee&&toggleRecurse(ee,!1),(we=Se.onVnodeBeforeUpdate)&&invokeVNodeHook(we,ee,U,G),xe&&invokeDirectiveHook(U,G,ee,"beforeUpdate"),ee&&toggleRecurse(ee,!0),isHmrUpdating&&(Z=0,ue=!1,ce=null);const Me=ie&&U.type!=="foreignObject";if(ce?(O(G.dynamicChildren,ce,q,ee,te,Me,re),ee&&ee.type.__hmrId&&traverseStaticChildren(G,U)):ue||Y(G,U,q,null,ee,te,Me,re,!1),Z>0){if(Z&16)R(q,U,De,Se,ee,te,ie);else if(Z&2&&De.class!==Se.class&&l(q,"class",null,Se.class,ie),Z&4&&l(q,"style",De.style,Se.style,ie),Z&8){const Ie=U.dynamicProps;for(let Pe=0;Pe<Ie.length;Pe++){const me=Ie[Pe],pe=De[me],ve=Se[me];(ve!==pe||me==="value")&&l(q,me,pe,ve,ie,G.children,ee,te,K)}}Z&1&&G.children!==U.children&&g(q,U.children)}else!ue&&ce==null&&R(q,U,De,Se,ee,te,ie);((we=Se.onVnodeUpdated)||xe)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,ee,U,G),xe&&invokeDirectiveHook(U,G,ee,"updated")},te)},O=(G,U,ee,te,ie,re,ue)=>{for(let q=0;q<U.length;q++){const Z=G[q],ce=U[q],xe=Z.el&&(Z.type===Fragment||!isSameVNodeType(Z,ce)||Z.shapeFlag&(6|64))?y(Z.el):ee;C(Z,ce,xe,null,te,ie,re,ue,!0)}},R=(G,U,ee,te,ie,re,ue)=>{if(ee!==te){for(const q in te){if(isReservedProp(q))continue;const Z=te[q],ce=ee[q];Z!==ce&&q!=="value"&&l(G,q,ce,Z,ue,U.children,ie,re,K)}if(ee!==EMPTY_OBJ)for(const q in ee)!isReservedProp(q)&&!(q in te)&&l(G,q,ee[q],null,ue,U.children,ie,re,K);"value"in te&&l(G,"value",ee.value,te.value)}},z=(G,U,ee,te,ie,re,ue,q,Z)=>{const ce=U.el=G?G.el:f(""),xe=U.anchor=G?G.anchor:f("");let{patchFlag:De,dynamicChildren:Se,slotScopeIds:we}=U;isHmrUpdating&&(De=0,Z=!1,Se=null),we&&(q=q?q.concat(we):we),G==null?(o(ce,ee,te),o(xe,ee,te),I(U.children,ee,xe,ie,re,ue,q,Z)):De>0&&De&64&&Se&&G.dynamicChildren?(O(G.dynamicChildren,Se,ee,ie,re,ue,q),ie&&ie.type.__hmrId?traverseStaticChildren(G,U):(U.key!=null||ie&&U===ie.subTree)&&traverseStaticChildren(G,U,!0)):Y(G,U,ee,xe,ie,re,ue,q,Z)},N=(G,U,ee,te,ie,re,ue,q,Z)=>{U.slotScopeIds=q,G==null?U.shapeFlag&512?ie.ctx.activate(U,ee,te,ue,Z):V(U,ee,te,ie,re,ue,Z):W(G,U,Z)},V=(G,U,ee,te,ie,re,ue)=>{const q=G.component=createComponentInstance(G,te,ie);if(q.type.__hmrId&&registerHMR(q),pushWarningContext(G),startMeasure(q,"mount"),isKeepAlive(G)&&(q.ctx.renderer=le),startMeasure(q,"init"),setupComponent(q),endMeasure(q,"init"),q.asyncDep){if(ie&&ie.registerDep(q,H),!G.el){const Z=q.subTree=createVNode(Comment);D(null,Z,U,ee)}return}H(q,G,U,ee,ie,re,ue),popWarningContext(),endMeasure(q,"mount")},W=(G,U,ee)=>{const te=U.component=G.component;if(shouldUpdateComponent(G,U,ee))if(te.asyncDep&&!te.asyncResolved){pushWarningContext(U),$(te,U,ee),popWarningContext();return}else te.next=U,invalidateJob(te.update),te.update();else U.component=G.component,U.el=G.el,te.vnode=U},H=(G,U,ee,te,ie,re,ue)=>{const q=()=>{if(G.isMounted){let{next:xe,bu:De,u:Se,parent:we,vnode:Me}=G,Ie=xe,Pe;pushWarningContext(xe||G.vnode),toggleRecurse(G,!1),xe?(xe.el=Me.el,$(G,xe,ue)):xe=Me,De&&invokeArrayFns(De),(Pe=xe.props&&xe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Pe,we,xe,Me),toggleRecurse(G,!0),startMeasure(G,"render");const me=renderComponentRoot(G);endMeasure(G,"render");const pe=G.subTree;G.subTree=me,startMeasure(G,"patch"),C(pe,me,y(pe.el),j(pe),G,ie,re),endMeasure(G,"patch"),xe.el=me.el,Ie===null&&updateHOCHostEl(G,me.el),Se&&queuePostRenderEffect(Se,ie),(Pe=xe.props&&xe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Pe,we,xe,Me),ie),devtoolsComponentUpdated(G),popWarningContext()}else{let xe;const{el:De,props:Se}=U,{bm:we,m:Me,parent:Ie}=G,Pe=isAsyncWrapper(U);if(toggleRecurse(G,!1),we&&invokeArrayFns(we),!Pe&&(xe=Se&&Se.onVnodeBeforeMount)&&invokeVNodeHook(xe,Ie,U),toggleRecurse(G,!0),De&&he){const me=()=>{startMeasure(G,"render"),G.subTree=renderComponentRoot(G),endMeasure(G,"render"),startMeasure(G,"hydrate"),he(De,G.subTree,G,ie,null),endMeasure(G,"hydrate")};Pe?U.type.__asyncLoader().then(()=>!G.isUnmounted&&me()):me()}else{startMeasure(G,"render");const me=G.subTree=renderComponentRoot(G);endMeasure(G,"render"),startMeasure(G,"patch"),C(null,me,ee,te,G,ie,re),endMeasure(G,"patch"),U.el=me.el}if(Me&&queuePostRenderEffect(Me,ie),!Pe&&(xe=Se&&Se.onVnodeMounted)){const me=U;queuePostRenderEffect(()=>invokeVNodeHook(xe,Ie,me),ie)}U.shapeFlag&256&&G.a&&queuePostRenderEffect(G.a,ie),G.isMounted=!0,devtoolsComponentAdded(G),U=ee=te=null}},Z=G.effect=new ReactiveEffect(q,()=>queueJob(G.update),G.scope),ce=G.update=Z.run.bind(Z);ce.id=G.uid,toggleRecurse(G,!0),Z.onTrack=G.rtc?xe=>invokeArrayFns(G.rtc,xe):void 0,Z.onTrigger=G.rtg?xe=>invokeArrayFns(G.rtg,xe):void 0,ce.ownerInstance=G,ce()},$=(G,U,ee)=>{U.component=G;const te=G.vnode.props;G.vnode=U,G.next=null,updateProps(G,U.props,te,ee),updateSlots(G,U.children,ee),pauseTracking(),flushPreFlushCbs(void 0,G.update),resetTracking()},Y=(G,U,ee,te,ie,re,ue,q,Z=!1)=>{const ce=G&&G.children,xe=G?G.shapeFlag:0,De=U.children,{patchFlag:Se,shapeFlag:we}=U;if(Se>0){if(Se&128){X(ce,De,ee,te,ie,re,ue,q,Z);return}else if(Se&256){ae(ce,De,ee,te,ie,re,ue,q,Z);return}}we&8?(xe&16&&K(ce,ie,re),De!==ce&&g(ee,De)):xe&16?we&16?X(ce,De,ee,te,ie,re,ue,q,Z):K(ce,ie,re,!0):(xe&8&&g(ee,""),we&16&&I(De,ee,te,ie,re,ue,q,Z))},ae=(G,U,ee,te,ie,re,ue,q,Z)=>{G=G||EMPTY_ARR,U=U||EMPTY_ARR;const ce=G.length,xe=U.length,De=Math.min(ce,xe);let Se;for(Se=0;Se<De;Se++){const we=U[Se]=Z?cloneIfMounted(U[Se]):normalizeVNode(U[Se]);C(G[Se],we,ee,null,ie,re,ue,q,Z)}ce>xe?K(G,ie,re,!0,!1,De):I(U,ee,te,ie,re,ue,q,Z,De)},X=(G,U,ee,te,ie,re,ue,q,Z)=>{let ce=0;const xe=U.length;let De=G.length-1,Se=xe-1;for(;ce<=De&&ce<=Se;){const we=G[ce],Me=U[ce]=Z?cloneIfMounted(U[ce]):normalizeVNode(U[ce]);if(isSameVNodeType(we,Me))C(we,Me,ee,null,ie,re,ue,q,Z);else break;ce++}for(;ce<=De&&ce<=Se;){const we=G[De],Me=U[Se]=Z?cloneIfMounted(U[Se]):normalizeVNode(U[Se]);if(isSameVNodeType(we,Me))C(we,Me,ee,null,ie,re,ue,q,Z);else break;De--,Se--}if(ce>De){if(ce<=Se){const we=Se+1,Me=we<xe?U[we].el:te;for(;ce<=Se;)C(null,U[ce]=Z?cloneIfMounted(U[ce]):normalizeVNode(U[ce]),ee,Me,ie,re,ue,q,Z),ce++}}else if(ce>Se)for(;ce<=De;)fe(G[ce],ie,re,!0),ce++;else{const we=ce,Me=ce,Ie=new Map;for(ce=Me;ce<=Se;ce++){const Te=U[ce]=Z?cloneIfMounted(U[ce]):normalizeVNode(U[ce]);Te.key!=null&&(Ie.has(Te.key)&&warn2("Duplicate keys found during update:",JSON.stringify(Te.key),"Make sure keys are unique."),Ie.set(Te.key,ce))}let Pe,me=0;const pe=Se-Me+1;let ve=!1,ne=0;const de=new Array(pe);for(ce=0;ce<pe;ce++)de[ce]=0;for(ce=we;ce<=De;ce++){const Te=G[ce];if(me>=pe){fe(Te,ie,re,!0);continue}let Ae;if(Te.key!=null)Ae=Ie.get(Te.key);else for(Pe=Me;Pe<=Se;Pe++)if(de[Pe-Me]===0&&isSameVNodeType(Te,U[Pe])){Ae=Pe;break}Ae===void 0?fe(Te,ie,re,!0):(de[Ae-Me]=ce+1,Ae>=ne?ne=Ae:ve=!0,C(Te,U[Ae],ee,null,ie,re,ue,q,Z),me++)}const Ce=ve?getSequence(de):EMPTY_ARR;for(Pe=Ce.length-1,ce=pe-1;ce>=0;ce--){const Te=Me+ce,Ae=U[Te],Ee=Te+1<xe?U[Te+1].el:te;de[ce]===0?C(null,Ae,ee,Ee,ie,re,ue,q,Z):ve&&(Pe<0||ce!==Ce[Pe]?J(Ae,ee,Ee,2):Pe--)}}},J=(G,U,ee,te,ie=null)=>{const{el:re,type:ue,transition:q,children:Z,shapeFlag:ce}=G;if(ce&6){J(G.component.subTree,U,ee,te);return}if(ce&128){G.suspense.move(U,ee,te);return}if(ce&64){ue.move(G,U,ee,le);return}if(ue===Fragment){o(re,U,ee);for(let De=0;De<Z.length;De++)J(Z[De],U,ee,te);o(G.anchor,U,ee);return}if(ue===Static){P(G,U,ee);return}if(te!==2&&ce&1&&q)if(te===0)q.beforeEnter(re),o(re,U,ee),queuePostRenderEffect(()=>q.enter(re),ie);else{const{leave:De,delayLeave:Se,afterLeave:we}=q,Me=()=>o(re,U,ee),Ie=()=>{De(re,()=>{Me(),we&&we()})};Se?Se(re,Me,Ie):Ie()}else o(re,U,ee)},fe=(G,U,ee,te=!1,ie=!1)=>{const{type:re,props:ue,ref:q,children:Z,dynamicChildren:ce,shapeFlag:xe,patchFlag:De,dirs:Se}=G;if(q!=null&&setRef(q,null,ee,G,!0),xe&256){U.ctx.deactivate(G);return}const we=xe&1&&Se,Me=!isAsyncWrapper(G);let Ie;if(Me&&(Ie=ue&&ue.onVnodeBeforeUnmount)&&invokeVNodeHook(Ie,U,G),xe&6)be(G.component,ee,te);else{if(xe&128){G.suspense.unmount(ee,te);return}we&&invokeDirectiveHook(G,null,U,"beforeUnmount"),xe&64?G.type.remove(G,U,ee,ie,le,te):ce&&(re!==Fragment||De>0&&De&64)?K(ce,U,ee,!1,!0):(re===Fragment&&De&(128|256)||!ie&&xe&16)&&K(Z,U,ee),te&&ge(G)}(Me&&(Ie=ue&&ue.onVnodeUnmounted)||we)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,U,G),we&&invokeDirectiveHook(G,null,U,"unmounted")},ee)},ge=G=>{const{type:U,el:ee,anchor:te,transition:ie}=G;if(U===Fragment){ye(ee,te);return}if(U===Static){E(G);return}const re=()=>{s(ee),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(G.shapeFlag&1&&ie&&!ie.persisted){const{leave:ue,delayLeave:q}=ie,Z=()=>ue(ee,re);q?q(G.el,re,Z):Z()}else re()},ye=(G,U)=>{let ee;for(;G!==U;)ee=b(G),s(G),G=ee;s(U)},be=(G,U,ee)=>{G.type.__hmrId&&unregisterHMR(G);const{bum:te,scope:ie,update:re,subTree:ue,um:q}=G;te&&invokeArrayFns(te),ie.stop(),re&&(re.active=!1,fe(ue,G,U,ee)),q&&queuePostRenderEffect(q,U),queuePostRenderEffect(()=>{G.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve()),devtoolsComponentRemoved(G)},K=(G,U,ee,te=!1,ie=!1,re=0)=>{for(let ue=re;ue<G.length;ue++)fe(G[ue],U,ee,te,ie)},j=G=>G.shapeFlag&6?j(G.component.subTree):G.shapeFlag&128?G.suspense.next():b(G.anchor||G.el),Q=(G,U,ee)=>{G==null?U._vnode&&fe(U._vnode,null,null,!0):C(U._vnode||null,G,U,null,null,null,ee),flushPostFlushCbs(),U._vnode=G},le={p:C,um:fe,m:J,r:ge,mt:V,mc:I,pc:Y,pbc:O,n:j,o:r};let oe,he;return n&&([oe,he]=n(le)),{render:Q,hydrate:oe,createApp:createAppAPI(Q,oe)}}function toggleRecurse({effect:r,update:n},a){r.allowRecurse=n.allowRecurse=a}function traverseStaticChildren(r,n,a=!1){const o=r.children,s=n.children;if(isArray(o)&&isArray(s))for(let l=0;l<o.length;l++){const u=o[l];let f=s[l];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[l]=cloneIfMounted(s[l]),f.el=u.el),a||traverseStaticChildren(u,f)),f.type===Comment&&!f.el&&(f.el=u.el)}}function getSequence(r){const n=r.slice(),a=[0];let o,s,l,u,f;const d=r.length;for(o=0;o<d;o++){const v=r[o];if(v!==0){if(s=a[a.length-1],r[s]<v){n[o]=s,a.push(o);continue}for(l=0,u=a.length-1;l<u;)f=l+u>>1,r[a[f]]<v?l=f+1:u=f;v<r[a[l]]&&(l>0&&(n[o]=a[l-1]),a[l]=o)}}for(l=a.length,u=a[l-1];l-- >0;)a[l]=u,u=n[u];return a}var isTeleport=r=>r.__isTeleport,isTeleportDisabled=r=>r&&(r.disabled||r.disabled===""),isTargetSVG=r=>typeof SVGElement!="undefined"&&r instanceof SVGElement,resolveTarget=(r,n)=>{const a=r&&r.to;if(isString(a))if(n){const o=n(a);return o||warn2(`Failed to locate Teleport target with selector "${a}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return warn2("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!a&&!isTeleportDisabled(r)&&warn2(`Invalid Teleport target: ${a}`),a},TeleportImpl={__isTeleport:!0,process(r,n,a,o,s,l,u,f,d,v){const{mc:g,pc:y,pbc:b,o:{insert:_,querySelector:x,createText:w,createComment:C}}=v,S=isTeleportDisabled(n.props);let{shapeFlag:D,children:A,dynamicChildren:T}=n;if(isHmrUpdating&&(d=!1,T=null),r==null){const P=n.el=C("teleport start"),E=n.anchor=C("teleport end");_(P,a,o),_(E,a,o);const M=n.target=resolveTarget(n.props,x),L=n.targetAnchor=w("");M?(_(L,M),u=u||isTargetSVG(M)):S||warn2("Invalid Teleport target on mount:",M,`(${typeof M})`);const F=(I,B)=>{D&16&&g(A,I,B,s,l,u,f,d)};S?F(a,E):M&&F(M,L)}else{n.el=r.el;const P=n.anchor=r.anchor,E=n.target=r.target,M=n.targetAnchor=r.targetAnchor,L=isTeleportDisabled(r.props),F=L?a:E,I=L?P:M;if(u=u||isTargetSVG(E),T?(b(r.dynamicChildren,T,F,s,l,u,f),traverseStaticChildren(r,n,!0)):d||y(r,n,F,I,s,l,u,f,!1),S)L||moveTeleport(n,a,P,v,1);else if((n.props&&n.props.to)!==(r.props&&r.props.to)){const B=n.target=resolveTarget(n.props,x);B?moveTeleport(n,B,null,v,0):warn2("Invalid Teleport target on update:",E,`(${typeof E})`)}else L&&moveTeleport(n,E,M,v,1)}},remove(r,n,a,o,{um:s,o:{remove:l}},u){const{shapeFlag:f,children:d,anchor:v,targetAnchor:g,target:y,props:b}=r;if(y&&l(g),(u||!isTeleportDisabled(b))&&(l(v),f&16))for(let _=0;_<d.length;_++){const x=d[_];s(x,n,a,!0,!!x.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(r,n,a,{o:{insert:o},m:s},l=2){l===0&&o(r.targetAnchor,n,a);const{el:u,anchor:f,shapeFlag:d,children:v,props:g}=r,y=l===2;if(y&&o(u,n,a),(!y||isTeleportDisabled(g))&&d&16)for(let b=0;b<v.length;b++)s(v[b],n,a,2);y&&o(f,n,a)}function hydrateTeleport(r,n,a,o,s,l,{o:{nextSibling:u,parentNode:f,querySelector:d}},v){const g=n.target=resolveTarget(n.props,d);if(g){const y=g._lpa||g.firstChild;n.shapeFlag&16&&(isTeleportDisabled(n.props)?(n.anchor=v(u(r),n,f(r),a,o,s,l),n.targetAnchor=y):(n.anchor=u(r),n.targetAnchor=v(y,n,g,a,o,s,l)),g._lpa=n.targetAnchor&&u(n.targetAnchor))}return n.anchor&&u(n.anchor)}var Teleport=TeleportImpl,COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(r){return isString(r)?resolveAsset(COMPONENTS,r,!1)||r:r||NULL_DYNAMIC_COMPONENT}function resolveAsset(r,n,a=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const l=s.type;if(r===COMPONENTS){const f=getComponentName(l);if(f&&(f===n||f===camelize(n)||f===capitalize(camelize(n))))return l}const u=resolve(s[r]||l[r],n)||resolve(s.appContext[r],n);if(!u&&o)return l;if(a&&!u){const f=r===COMPONENTS?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";warn2(`Failed to resolve ${r.slice(0,-1)}: ${n}${f}`)}return u}else warn2(`resolve${capitalize(r.slice(0,-1))} can only be used in render() or setup().`)}function resolve(r,n){return r&&(r[n]||r[camelize(n)]||r[capitalize(camelize(n))])}var Fragment=Symbol("Fragment"),Text=Symbol("Text"),Comment=Symbol("Comment"),Static=Symbol("Static"),blockStack=[],currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}var isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,n,a,o,s,l){return setupBlock(createBaseVNode(r,n,a,o,s,l,!0))}function createBlock(r,n,a,o,s){return setupBlock(createVNode(r,n,a,o,s,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,n){return n.shapeFlag&6&&hmrDirtyComponents.has(n.type)?!1:r.type===n.type&&r.key===n.key}var vnodeArgsTransformer,createVNodeWithArgsTransform=(...r)=>_createVNode(...vnodeArgsTransformer?vnodeArgsTransformer(r,currentRenderingInstance):r),InternalObjectKey="__vInternal",normalizeKey=({key:r})=>r!=null?r:null,normalizeRef=({ref:r,ref_key:n,ref_for:a})=>r!=null?isString(r)||isRef(r)||isFunction(r)?{i:currentRenderingInstance,r,k:n,f:!!a}:r:null;function createBaseVNode(r,n=null,a=null,o=0,s=null,l=r===Fragment?0:1,u=!1,f=!1){const d={__v_isVNode:!0,__v_skip:!0,type:r,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null};return f?(normalizeChildren(d,a),l&128&&r.normalize(d)):a&&(d.shapeFlag|=isString(a)?8:16),d.key!==d.key&&warn2("VNode created with invalid key (NaN). VNode type:",d.type),isBlockTreeEnabled>0&&!u&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}var createVNode=createVNodeWithArgsTransform;function _createVNode(r,n=null,a=null,o=0,s=null,l=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r||warn2(`Invalid vnode type when creating vnode: ${r}.`),r=Comment),isVNode(r)){const f=cloneVNode(r,n,!0);return a&&normalizeChildren(f,a),f}if(isClassComponent(r)&&(r=r.__vccOpts),n){n=guardReactiveProps(n);let{class:f,style:d}=n;f&&!isString(f)&&(n.class=normalizeClass(f)),isObject(d)&&(isProxy(d)&&!isArray(d)&&(d=extend({},d)),n.style=normalizeStyle(d))}const u=isString(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject(r)?4:isFunction(r)?2:0;return u&4&&isProxy(r)&&(r=toRaw(r),warn2("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,r)),createBaseVNode(r,n,a,o,s,u,l,!0)}function guardReactiveProps(r){return r?isProxy(r)||InternalObjectKey in r?extend({},r):r:null}function cloneVNode(r,n,a=!1){const{props:o,ref:s,patchFlag:l,children:u}=r,f=n?mergeProps(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&normalizeKey(f),ref:n&&n.ref?a&&s?isArray(s)?s.concat(normalizeRef(n)):[s,normalizeRef(n)]:normalizeRef(n):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:l===-1&&isArray(u)?u.map(deepCloneVNode):u,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:n&&r.type!==Fragment?l===-1?16:l|16:l,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor}}function deepCloneVNode(r){const n=cloneVNode(r);return isArray(r.children)&&(n.children=r.children.map(deepCloneVNode)),n}function createTextVNode(r=" ",n=0){return createVNode(Text,null,r,n)}function createCommentVNode(r="",n=!1){return n?(openBlock(),createBlock(Comment,null,r)):createVNode(Comment,null,r)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray(r)?createVNode(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null||r.memo?r:cloneVNode(r)}function normalizeChildren(r,n){let a=0;const{shapeFlag:o}=r;if(n==null)n=null;else if(isArray(n))a=16;else if(typeof n=="object")if(o&(1|64)){const s=n.default;s&&(s._c&&(s._d=!1),normalizeChildren(r,s()),s._c&&(s._d=!0));return}else{a=32;const s=n._;!s&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,r.patchFlag|=1024))}else isFunction(n)?(n={default:n,_ctx:currentRenderingInstance},a=32):(n=String(n),o&64?(a=16,n=[createTextVNode(n)]):a=8);r.children=n,r.shapeFlag|=a}function mergeProps(...r){const n={};for(let a=0;a<r.length;a++){const o=r[a];for(const s in o)if(s==="class")n.class!==o.class&&(n.class=normalizeClass([n.class,o.class]));else if(s==="style")n.style=normalizeStyle([n.style,o.style]);else if(isOn(s)){const l=n[s],u=o[s];u&&l!==u&&!(isArray(l)&&l.includes(u))&&(n[s]=l?[].concat(l,u):u)}else s!==""&&(n[s]=o[s])}return n}function invokeVNodeHook(r,n,a,o=null){callWithAsyncErrorHandling(r,n,7,[a,o])}function renderList(r,n,a,o){let s;const l=a&&a[o];if(isArray(r)||isString(r)){s=new Array(r.length);for(let u=0,f=r.length;u<f;u++)s[u]=n(r[u],u,void 0,l&&l[u])}else if(typeof r=="number"){if(!Number.isInteger(r))return warn2(`The v-for range expect an integer value but got ${r}.`),[];s=new Array(r);for(let u=0;u<r;u++)s[u]=n(u+1,u,void 0,l&&l[u])}else if(isObject(r))if(r[Symbol.iterator])s=Array.from(r,(u,f)=>n(u,f,void 0,l&&l[f]));else{const u=Object.keys(r);s=new Array(u.length);for(let f=0,d=u.length;f<d;f++){const v=u[f];s[f]=n(r[v],v,f,l&&l[f])}}else s=[];return a&&(a[o]=s),s}function renderSlot(r,n,a={},o,s){if(currentRenderingInstance.isCE)return createVNode("slot",n==="default"?null:{name:n},o&&o());let l=r[n];l&&l.length>1&&(warn2("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),openBlock();const u=l&&ensureValidVNode(l(a)),f=createBlock(Fragment,{key:a.key||`_${n}`},u||(o?o():[]),u&&r._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),l&&l._c&&(l._d=!0),f}function ensureValidVNode(r){return r.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?r:null}var getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>shallowReadonly(r.props),$attrs:r=>shallowReadonly(r.attrs),$slots:r=>shallowReadonly(r.slots),$refs:r=>shallowReadonly(r.refs),$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>()=>queueJob(r.update),$nextTick:r=>nextTick.bind(r.proxy),$watch:r=>instanceWatch.bind(r)}),PublicInstanceProxyHandlers={get({_:r},n){const{ctx:a,setupState:o,data:s,props:l,accessCache:u,type:f,appContext:d}=r;if(n==="__isVue")return!0;if(o!==EMPTY_OBJ&&o.__isScriptSetup&&hasOwn(o,n))return o[n];let v;if(n[0]!=="$"){const _=u[n];if(_!==void 0)switch(_){case 1:return o[n];case 2:return s[n];case 4:return a[n];case 3:return l[n]}else{if(o!==EMPTY_OBJ&&hasOwn(o,n))return u[n]=1,o[n];if(s!==EMPTY_OBJ&&hasOwn(s,n))return u[n]=2,s[n];if((v=r.propsOptions[0])&&hasOwn(v,n))return u[n]=3,l[n];if(a!==EMPTY_OBJ&&hasOwn(a,n))return u[n]=4,a[n];shouldCacheAccess&&(u[n]=0)}}const g=publicPropertiesMap[n];let y,b;if(g)return n==="$attrs"&&(track(r,"get",n),markAttrsAccessed()),g(r);if((y=f.__cssModules)&&(y=y[n]))return y;if(a!==EMPTY_OBJ&&hasOwn(a,n))return u[n]=4,a[n];if(b=d.config.globalProperties,hasOwn(b,n))return b[n];currentRenderingInstance&&(!isString(n)||n.indexOf("__v")!==0)&&(s!==EMPTY_OBJ&&(n[0]==="$"||n[0]==="_")&&hasOwn(s,n)?warn2(`Property ${JSON.stringify(n)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):r===currentRenderingInstance&&warn2(`Property ${JSON.stringify(n)} was accessed during render but is not defined on instance.`))},set({_:r},n,a){const{data:o,setupState:s,ctx:l}=r;return s!==EMPTY_OBJ&&hasOwn(s,n)?(s[n]=a,!0):o!==EMPTY_OBJ&&hasOwn(o,n)?(o[n]=a,!0):hasOwn(r.props,n)?(warn2(`Attempting to mutate prop "${n}". Props are readonly.`,r),!1):n[0]==="$"&&n.slice(1)in r?(warn2(`Attempting to mutate public property "${n}". Properties starting with $ are reserved and readonly.`,r),!1):(n in r.appContext.config.globalProperties?Object.defineProperty(l,n,{enumerable:!0,configurable:!0,value:a}):l[n]=a,!0)},has({_:{data:r,setupState:n,accessCache:a,ctx:o,appContext:s,propsOptions:l}},u){let f;return!!a[u]||r!==EMPTY_OBJ&&hasOwn(r,u)||n!==EMPTY_OBJ&&hasOwn(n,u)||(f=l[0])&&hasOwn(f,u)||hasOwn(o,u)||hasOwn(publicPropertiesMap,u)||hasOwn(s.config.globalProperties,u)},defineProperty(r,n,a){return a.get!=null?this.set(r,n,a.get(),null):a.value!=null&&this.set(r,n,a.value,null),Reflect.defineProperty(r,n,a)}};PublicInstanceProxyHandlers.ownKeys=r=>(warn2("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(r));function createDevRenderContext(r){const n={};return Object.defineProperty(n,"_",{configurable:!0,enumerable:!1,get:()=>r}),Object.keys(publicPropertiesMap).forEach(a=>{Object.defineProperty(n,a,{configurable:!0,enumerable:!1,get:()=>publicPropertiesMap[a](r),set:NOOP})}),n}function exposePropsOnRenderContext(r){const{ctx:n,propsOptions:[a]}=r;a&&Object.keys(a).forEach(o=>{Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>r.props[o],set:NOOP})})}function exposeSetupStateOnRenderContext(r){const{ctx:n,setupState:a}=r;Object.keys(toRaw(a)).forEach(o=>{if(!a.__isScriptSetup){if(o[0]==="$"||o[0]==="_"){warn2(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>a[o],set:NOOP})}})}var emptyAppContext=createAppContext(),uid$1=0;function createComponentInstance(r,n,a){const o=r.type,s=(n?n.appContext:r.appContext)||emptyAppContext,l={uid:uid$1++,vnode:r,type:o,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=createDevRenderContext(l),l.root=n?n.root:l,l.emit=emit$1.bind(null,l),r.ce&&r.ce(l),l}var currentInstance=null,getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=r=>{currentInstance=r,r.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null},isBuiltInTag=makeMap("slot,component");function validateComponentName(r,n){const a=n.isNativeTag||NO;(isBuiltInTag(r)||a(r))&&warn2("Do not use built-in or reserved HTML elements as component id: "+r)}function isStatefulComponent(r){return r.vnode.shapeFlag&4}var isInSSRComponentSetup=!1;function setupComponent(r,n=!1){isInSSRComponentSetup=n;const{props:a,children:o}=r.vnode,s=isStatefulComponent(r);initProps(r,a,s,n),initSlots(r,o);const l=s?setupStatefulComponent(r,n):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(r,n){const a=r.type;if(a.name&&validateComponentName(a.name,r.appContext.config),a.components){const s=Object.keys(a.components);for(let l=0;l<s.length;l++)validateComponentName(s[l],r.appContext.config)}if(a.directives){const s=Object.keys(a.directives);for(let l=0;l<s.length;l++)validateDirectiveName(s[l])}a.compilerOptions&&isRuntimeOnly()&&warn2('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.'),r.accessCache=Object.create(null),r.proxy=markRaw(new Proxy(r.ctx,PublicInstanceProxyHandlers)),exposePropsOnRenderContext(r);const{setup:o}=a;if(o){const s=r.setupContext=o.length>1?createSetupContext(r):null;setCurrentInstance(r),pauseTracking();const l=callWithErrorHandling(o,r,0,[shallowReadonly(r.props),s]);if(resetTracking(),unsetCurrentInstance(),isPromise(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),n)return l.then(u=>{handleSetupResult(r,u,n)}).catch(u=>{handleError(u,r,0)});r.asyncDep=l}else handleSetupResult(r,l,n)}else finishComponentSetup(r,n)}function handleSetupResult(r,n,a){isFunction(n)?r.type.__ssrInlineRender?r.ssrRender=n:r.render=n:isObject(n)?(isVNode(n)&&warn2("setup() should not return VNodes directly - return a render function instead."),r.devtoolsRawSetupState=n,r.setupState=proxyRefs(n),exposeSetupStateOnRenderContext(r)):n!==void 0&&warn2(`setup() should return an object. Received: ${n===null?"null":typeof n}`),finishComponentSetup(r,a)}var compile,installWithProxy,isRuntimeOnly=()=>!compile;function finishComponentSetup(r,n,a){const o=r.type;if(!r.render){if(!n&&compile&&!o.render){const s=o.template;if(s){startMeasure(r,"compile");const{isCustomElement:l,compilerOptions:u}=r.appContext.config,{delimiters:f,compilerOptions:d}=o,v=extend(extend({isCustomElement:l,delimiters:f},u),d);o.render=compile(s,v),endMeasure(r,"compile")}}r.render=o.render||NOOP,installWithProxy&&installWithProxy(r)}setCurrentInstance(r),pauseTracking(),applyOptions(r),resetTracking(),unsetCurrentInstance(),!o.render&&r.render===NOOP&&!n&&(!compile&&o.template?warn2('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):warn2("Component is missing template or render function."))}function createAttrsProxy(r){return new Proxy(r.attrs,{get(n,a){return markAttrsAccessed(),track(r,"get","$attrs"),n[a]},set(){return warn2("setupContext.attrs is readonly."),!1},deleteProperty(){return warn2("setupContext.attrs is readonly."),!1}})}function createSetupContext(r){const n=o=>{r.exposed&&warn2("expose() should be called only once per setup()."),r.exposed=o||{}};let a;return Object.freeze({get attrs(){return a||(a=createAttrsProxy(r))},get slots(){return shallowReadonly(r.slots)},get emit(){return(o,...s)=>r.emit(o,...s)},expose:n})}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(n,a){if(a in n)return n[a];if(a in publicPropertiesMap)return publicPropertiesMap[a](r)}}))}var classifyRE=/(?:^|[-_])(\w)/g,classify=r=>r.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(r){return isFunction(r)&&r.displayName||r.name}function formatComponentName(r,n,a=!1){let o=getComponentName(n);if(!o&&n.__file){const s=n.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&r&&r.parent){const s=l=>{for(const u in l)if(l[u]===n)return u};o=s(r.components||r.parent.type.components)||s(r.appContext.components)}return o?classify(o):a?"App":"Anonymous"}function isClassComponent(r){return isFunction(r)&&"__vccOpts"in r}var computed2=(r,n)=>computed(r,n,isInSSRComponentSetup);function h(r,n,a){const o=arguments.length;return o===2?isObject(n)&&!isArray(n)?isVNode(n)?createVNode(r,null,[n]):createVNode(r,n):createVNode(r,null,n):(o>3?a=Array.prototype.slice.call(arguments,2):o===3&&isVNode(a)&&(a=[a]),createVNode(r,n,a))}var ssrContextKey=Symbol("ssrContext");function isShallow2(r){return!!(r&&r.__v_isShallow)}function initCustomFormatter(){if(typeof window=="undefined")return;const r={style:"color:#3ba776"},n={style:"color:#0b1bc9"},a={style:"color:#b62e24"},o={style:"color:#9d288c"},s={header(y){return isObject(y)?y.__isVue?["div",r,"VueInstance"]:isRef(y)?["div",{},["span",r,g(y)],"<",f(y.value),">"]:isReactive(y)?["div",{},["span",r,isShallow2(y)?"ShallowReactive":"Reactive"],"<",f(y),`>${isReadonly(y)?" (readonly)":""}`]:isReadonly(y)?["div",{},["span",r,isShallow2(y)?"ShallowReadonly":"Readonly"],"<",f(y),">"]:null:null},hasBody(y){return y&&y.__isVue},body(y){if(y&&y.__isVue)return["div",{},...l(y.$)]}};function l(y){const b=[];y.type.props&&y.props&&b.push(u("props",toRaw(y.props))),y.setupState!==EMPTY_OBJ&&b.push(u("setup",y.setupState)),y.data!==EMPTY_OBJ&&b.push(u("data",toRaw(y.data)));const _=d(y,"computed");_&&b.push(u("computed",_));const x=d(y,"inject");return x&&b.push(u("injected",x)),b.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:y}]]),b}function u(y,b){return b=extend({},b),Object.keys(b).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},y],["div",{style:"padding-left:1.25em"},...Object.keys(b).map(_=>["div",{},["span",o,_+": "],f(b[_],!1)])]]:["span",{}]}function f(y,b=!0){return typeof y=="number"?["span",n,y]:typeof y=="string"?["span",a,JSON.stringify(y)]:typeof y=="boolean"?["span",o,y]:isObject(y)?["object",{object:b?toRaw(y):y}]:["span",a,String(y)]}function d(y,b){const _=y.type;if(isFunction(_))return;const x={};for(const w in y.ctx)v(_,w,b)&&(x[w]=y.ctx[w]);return x}function v(y,b,_){const x=y[_];if(isArray(x)&&x.includes(b)||isObject(x)&&b in x||y.extends&&v(y.extends,b,_)||y.mixins&&y.mixins.some(w=>v(w,b,_)))return!0}function g(y){return isShallow2(y)?"ShallowRef":y.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(s):window.devtoolsFormatters=[s]}var version="3.2.31",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,n,a)=>{n.insertBefore(r,a||null)},remove:r=>{const n=r.parentNode;n&&n.removeChild(r)},createElement:(r,n,a,o)=>{const s=n?doc.createElementNS(svgNS,r):doc.createElement(r,a?{is:a}:void 0);return r==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,n)=>{r.nodeValue=n},setElementText:(r,n)=>{r.textContent=n},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,n){r.setAttribute(n,"")},cloneNode(r){const n=r.cloneNode(!0);return"_value"in r&&(n._value=r._value),n},insertStaticContent(r,n,a,o,s,l){const u=a?a.previousSibling:n.lastChild;if(s&&(s===l||s.nextSibling))for(;n.insertBefore(s.cloneNode(!0),a),!(s===l||!(s=s.nextSibling)););else{templateContainer.innerHTML=o?`<svg>${r}</svg>`:r;const f=templateContainer.content;if(o){const d=f.firstChild;for(;d.firstChild;)f.appendChild(d.firstChild);f.removeChild(d)}n.insertBefore(f,a)}return[u?u.nextSibling:n.firstChild,a?a.previousSibling:n.lastChild]}};function patchClass(r,n,a){const o=r._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?r.removeAttribute("class"):a?r.setAttribute("class",n):r.className=n}function patchStyle(r,n,a){const o=r.style,s=isString(a);if(a&&!s){for(const l in a)setStyle(o,l,a[l]);if(n&&!isString(n))for(const l in n)a[l]==null&&setStyle(o,l,"")}else{const l=o.display;s?n!==a&&(o.cssText=a):n&&r.removeAttribute("style"),"_vod"in r&&(o.display=l)}}var importantRE=/\s*!important$/;function setStyle(r,n,a){if(isArray(a))a.forEach(o=>setStyle(r,n,o));else if(n.startsWith("--"))r.setProperty(n,a);else{const o=autoPrefix(r,n);importantRE.test(a)?r.setProperty(hyphenate(o),a.replace(importantRE,""),"important"):r[o]=a}}var prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,n){const a=prefixCache[n];if(a)return a;let o=camelize(n);if(o!=="filter"&&o in r)return prefixCache[n]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const l=prefixes[s]+o;if(l in r)return prefixCache[n]=l}return n}var xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,n,a,o,s){if(o&&n.startsWith("xlink:"))a==null?r.removeAttributeNS(xlinkNS,n.slice(6,n.length)):r.setAttributeNS(xlinkNS,n,a);else{const l=isSpecialBooleanAttr(n);a==null||l&&!includeBooleanAttr(a)?r.removeAttribute(n):r.setAttribute(n,l?"":a)}}function patchDOMProp(r,n,a,o,s,l,u){if(n==="innerHTML"||n==="textContent"){o&&u(o,s,l),r[n]=a==null?"":a;return}if(n==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=a;const f=a==null?"":a;(r.value!==f||r.tagName==="OPTION")&&(r.value=f),a==null&&r.removeAttribute(n);return}if(a===""||a==null){const f=typeof r[n];if(f==="boolean"){r[n]=includeBooleanAttr(a);return}else if(a==null&&f==="string"){r[n]="",r.removeAttribute(n);return}else if(f==="number"){try{r[n]=0}catch(d){}r.removeAttribute(n);return}}try{r[n]=a}catch(f){warn2(`Failed setting prop "${n}" on <${r.tagName.toLowerCase()}>: value ${a} is invalid.`,f)}}var _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(r&&Number(r[1])<=53)}var cachedNow=0,p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener2(r,n,a,o){r.addEventListener(n,a,o)}function removeEventListener2(r,n,a,o){r.removeEventListener(n,a,o)}function patchEvent(r,n,a,o,s=null){const l=r._vei||(r._vei={}),u=l[n];if(o&&u)u.value=o;else{const[f,d]=parseName(n);if(o){const v=l[n]=createInvoker(o,s);addEventListener2(r,f,v,d)}else u&&(removeEventListener2(r,f,u,d),l[n]=void 0)}}var optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let n;if(optionsModifierRE.test(r)){n={};let a;for(;a=r.match(optionsModifierRE);)r=r.slice(0,r.length-a[0].length),n[a[0].toLowerCase()]=!0}return[hyphenate(r.slice(2)),n]}function createInvoker(r,n){const a=o=>{const s=o.timeStamp||_getNow();(skipTimestampCheck||s>=a.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(o,a.value),n,5,[o])};return a.value=r,a.attached=getNow(),a}function patchStopImmediatePropagation(r,n){if(isArray(n)){const a=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{a.call(r),r._stopped=!0},n.map(o=>s=>!s._stopped&&o&&o(s))}else return n}var nativeOnRE=/^on[a-z]/,patchProp=(r,n,a,o,s=!1,l,u,f,d)=>{n==="class"?patchClass(r,o,s):n==="style"?patchStyle(r,a,o):isOn(n)?isModelListener(n)||patchEvent(r,n,a,o,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(r,n,o,s))?patchDOMProp(r,n,o,l,u,f,d):(n==="true-value"?r._trueValue=o:n==="false-value"&&(r._falseValue=o),patchAttr(r,n,o,s))};function shouldSetAsProp(r,n,a,o){return o?!!(n==="innerHTML"||n==="textContent"||n in r&&nativeOnRE.test(n)&&isFunction(a)):n==="spellcheck"||n==="draggable"||n==="form"||n==="list"&&r.tagName==="INPUT"||n==="type"&&r.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString(a)?!1:n in r}var TRANSITION="transition",ANIMATION="animation",Transition=(r,{slots:n})=>h(BaseTransition,resolveTransitionProps(r),n);Transition.displayName="Transition";var DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook2=(r,n=[])=>{isArray(r)?r.forEach(a=>a(...n)):r&&r(...n)},hasExplicitCallback=r=>r?isArray(r)?r.some(n=>n.length>1):r.length>1:!1;function resolveTransitionProps(r){const n={};for(const O in r)O in DOMTransitionPropsValidators||(n[O]=r[O]);if(r.css===!1)return n;const{name:a="v",type:o,duration:s,enterFromClass:l=`${a}-enter-from`,enterActiveClass:u=`${a}-enter-active`,enterToClass:f=`${a}-enter-to`,appearFromClass:d=l,appearActiveClass:v=u,appearToClass:g=f,leaveFromClass:y=`${a}-leave-from`,leaveActiveClass:b=`${a}-leave-active`,leaveToClass:_=`${a}-leave-to`}=r,x=normalizeDuration(s),w=x&&x[0],C=x&&x[1],{onBeforeEnter:S,onEnter:D,onEnterCancelled:A,onLeave:T,onLeaveCancelled:P,onBeforeAppear:E=S,onAppear:M=D,onAppearCancelled:L=A}=n,F=(O,R,z)=>{removeTransitionClass(O,R?g:f),removeTransitionClass(O,R?v:u),z&&z()},I=(O,R)=>{removeTransitionClass(O,_),removeTransitionClass(O,b),R&&R()},B=O=>(R,z)=>{const N=O?M:D,V=()=>F(R,O,z);callHook2(N,[R,V]),nextFrame(()=>{removeTransitionClass(R,O?d:l),addTransitionClass(R,O?g:f),hasExplicitCallback(N)||whenTransitionEnds(R,o,w,V)})};return extend(n,{onBeforeEnter(O){callHook2(S,[O]),addTransitionClass(O,l),addTransitionClass(O,u)},onBeforeAppear(O){callHook2(E,[O]),addTransitionClass(O,d),addTransitionClass(O,v)},onEnter:B(!1),onAppear:B(!0),onLeave(O,R){const z=()=>I(O,R);addTransitionClass(O,y),forceReflow(),addTransitionClass(O,b),nextFrame(()=>{removeTransitionClass(O,y),addTransitionClass(O,_),hasExplicitCallback(T)||whenTransitionEnds(O,o,C,z)}),callHook2(T,[O,z])},onEnterCancelled(O){F(O,!1),callHook2(A,[O])},onAppearCancelled(O){F(O,!0),callHook2(L,[O])},onLeaveCancelled(O){I(O),callHook2(P,[O])}})}function normalizeDuration(r){if(r==null)return null;if(isObject(r))return[NumberOf(r.enter),NumberOf(r.leave)];{const n=NumberOf(r);return[n,n]}}function NumberOf(r){const n=toNumber(r);return validateDuration(n),n}function validateDuration(r){typeof r!="number"?warn2(`<transition> explicit duration is not a valid number - got ${JSON.stringify(r)}.`):isNaN(r)&&warn2("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function addTransitionClass(r,n){n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),(r._vtc||(r._vtc=new Set)).add(n)}function removeTransitionClass(r,n){n.split(/\s+/).forEach(o=>o&&r.classList.remove(o));const{_vtc:a}=r;a&&(a.delete(n),a.size||(r._vtc=void 0))}function nextFrame(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}var endId=0;function whenTransitionEnds(r,n,a,o){const s=r._endId=++endId,l=()=>{s===r._endId&&o()};if(a)return setTimeout(l,a);const{type:u,timeout:f,propCount:d}=getTransitionInfo(r,n);if(!u)return o();const v=u+"end";let g=0;const y=()=>{r.removeEventListener(v,b),l()},b=_=>{_.target===r&&++g>=d&&y()};setTimeout(()=>{g<d&&y()},f+1),r.addEventListener(v,b)}function getTransitionInfo(r,n){const a=window.getComputedStyle(r),o=x=>(a[x]||"").split(", "),s=o(TRANSITION+"Delay"),l=o(TRANSITION+"Duration"),u=getTimeout(s,l),f=o(ANIMATION+"Delay"),d=o(ANIMATION+"Duration"),v=getTimeout(f,d);let g=null,y=0,b=0;n===TRANSITION?u>0&&(g=TRANSITION,y=u,b=l.length):n===ANIMATION?v>0&&(g=ANIMATION,y=v,b=d.length):(y=Math.max(u,v),g=y>0?u>v?TRANSITION:ANIMATION:null,b=g?g===TRANSITION?l.length:d.length:0);const _=g===TRANSITION&&/\b(transform|all)(,|$)/.test(a[TRANSITION+"Property"]);return{type:g,timeout:y,propCount:b,hasTransform:_}}function getTimeout(r,n){for(;r.length<n.length;)r=r.concat(r);return Math.max(...n.map((a,o)=>toMs(a)+toMs(r[o])))}function toMs(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}var positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(r,{slots:n}){const a=getCurrentInstance(),o=useTransitionState();let s,l;return onUpdated(()=>{if(!s.length)return;const u=r.moveClass||`${r.name||"v"}-move`;if(!hasCSSTransform(s[0].el,a.vnode.el,u))return;s.forEach(callPendingCbs),s.forEach(recordPosition);const f=s.filter(applyTranslation);forceReflow(),f.forEach(d=>{const v=d.el,g=v.style;addTransitionClass(v,u),g.transform=g.webkitTransform=g.transitionDuration="";const y=v._moveCb=b=>{b&&b.target!==v||(!b||/transform$/.test(b.propertyName))&&(v.removeEventListener("transitionend",y),v._moveCb=null,removeTransitionClass(v,u))};v.addEventListener("transitionend",y)})}),()=>{const u=toRaw(r),f=resolveTransitionProps(u);let d=u.tag||Fragment;s=l,l=n.default?getTransitionRawChildren(n.default()):[];for(let v=0;v<l.length;v++){const g=l[v];g.key!=null?setTransitionHooks(g,resolveTransitionHooks(g,f,o,a)):warn2("<TransitionGroup> children must be keyed.")}if(s)for(let v=0;v<s.length;v++){const g=s[v];setTransitionHooks(g,resolveTransitionHooks(g,f,o,a)),positionMap.set(g,g.el.getBoundingClientRect())}return createVNode(d,null,l)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(r){const n=r.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function recordPosition(r){newPositionMap.set(r,r.el.getBoundingClientRect())}function applyTranslation(r){const n=positionMap.get(r),a=newPositionMap.get(r),o=n.left-a.left,s=n.top-a.top;if(o||s){const l=r.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${s}px)`,l.transitionDuration="0s",r}}function hasCSSTransform(r,n,a){const o=r.cloneNode();r._vtc&&r._vtc.forEach(u=>{u.split(/\s+/).forEach(f=>f&&o.classList.remove(f))}),a.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const s=n.nodeType===1?n:n.parentNode;s.appendChild(o);const{hasTransform:l}=getTransitionInfo(o);return s.removeChild(o),l}var getModelAssigner=r=>{const n=r.props["onUpdate:modelValue"];return isArray(n)?a=>invokeArrayFns(n,a):n},vModelSelect={deep:!0,created(r,{value:n,modifiers:{number:a}},o){const s=isSet(n);addEventListener2(r,"change",()=>{const l=Array.prototype.filter.call(r.options,u=>u.selected).map(u=>a?toNumber(getValue(u)):getValue(u));r._assign(r.multiple?s?new Set(l):l:l[0])}),r._assign=getModelAssigner(o)},mounted(r,{value:n}){setSelected(r,n)},beforeUpdate(r,n,a){r._assign=getModelAssigner(a)},updated(r,{value:n}){setSelected(r,n)}};function setSelected(r,n){const a=r.multiple;if(a&&!isArray(n)&&!isSet(n)){warn2(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(n).slice(8,-1)}.`);return}for(let o=0,s=r.options.length;o<s;o++){const l=r.options[o],u=getValue(l);if(a)isArray(n)?l.selected=looseIndexOf(n,u)>-1:l.selected=n.has(u);else if(looseEqual(getValue(l),n)){r.selectedIndex!==o&&(r.selectedIndex=o);return}}!a&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}function getValue(r){return"_value"in r?r._value:r.value}var keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(r,n)=>a=>{if(!("key"in a))return;const o=hyphenate(a.key);if(n.some(s=>s===o||keyNames[s]===o))return r(a)},vShow={beforeMount(r,{value:n},{transition:a}){r._vod=r.style.display==="none"?"":r.style.display,a&&n?a.beforeEnter(r):setDisplay(r,n)},mounted(r,{value:n},{transition:a}){a&&n&&a.enter(r)},updated(r,{value:n,oldValue:a},{transition:o}){!n!=!a&&(o?n?(o.beforeEnter(r),setDisplay(r,!0),o.enter(r)):o.leave(r,()=>{setDisplay(r,!1)}):setDisplay(r,n))},beforeUnmount(r,{value:n}){setDisplay(r,n)}};function setDisplay(r,n){r.style.display=n?r._vod:"none"}var rendererOptions=extend({patchProp},nodeOps),renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}var createApp=(...r)=>{const n=ensureRenderer().createApp(...r);injectNativeTagCheck(n),injectCompilerOptionsCheck(n);const{mount:a}=n;return n.mount=o=>{const s=normalizeContainer(o);if(!s)return;const l=n._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const u=a(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},n};function injectNativeTagCheck(r){Object.defineProperty(r.config,"isNativeTag",{value:n=>isHTMLTag(n)||isSVGTag(n),writable:!1})}function injectCompilerOptionsCheck(r){if(isRuntimeOnly()){const n=r.config.isCustomElement;Object.defineProperty(r.config,"isCustomElement",{get(){return n},set(){warn2("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const a=r.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(r.config,"compilerOptions",{get(){return warn2(o),a},set(){warn2(o)}})}}function normalizeContainer(r){if(isString(r)){const n=document.querySelector(r);return n||warn2(`Failed to mount app: mount target selector "${r}" returned null.`),n}return window.ShadowRoot&&r instanceof window.ShadowRoot&&r.mode==="closed"&&warn2('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),r}function initDev(){initCustomFormatter()}initDev();var onceCbs=[],paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(r=>r(...paramsMap.get(r))),onceCbs=[]}function beforeNextFrameOnce(r,...n){paramsMap.set(r,n),!onceCbs.includes(r)&&onceCbs.push(r)===1&&requestAnimationFrame(flushOnceCallbacks)}function happensIn(r,n){let{target:a}=r;for(;a;){if(a.dataset&&a.dataset[n]!==void 0)return!0;a=a.parentElement}return!1}function depx(r){return typeof r=="string"?r.endsWith("px")?Number(r.slice(0,r.length-2)):Number(r):r}function pxfy(r){if(r!=null)return typeof r=="number"?`${r}px`:r.endsWith("px")?r:`${r}px`}function getMargin(r,n){const a=r.trim().split(/\s+/g),o={top:a[0]};switch(a.length){case 1:o.right=a[0],o.bottom=a[0],o.left=a[0];break;case 2:o.right=a[1],o.left=a[1],o.bottom=a[0];break;case 3:o.right=a[1],o.bottom=a[2],o.left=a[1];break;case 4:o.right=a[1],o.bottom=a[2],o.left=a[3];break;default:throw new Error("[seemly/getMargin]:"+r+" is not a valid value.")}return n===void 0?o:o[n]}var colors_default={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},prefix="^\\s*",suffix="\\s*$",percent="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",float="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",hslRegex=new RegExp(`${prefix}hsl\\s*\\(${float},${percent},${percent}\\)${suffix}`),hsvRegex=new RegExp(`${prefix}hsv\\s*\\(${float},${percent},${percent}\\)${suffix}`),hslaRegex=new RegExp(`${prefix}hsla\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),hsvaRegex=new RegExp(`${prefix}hsva\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),rgbRegex=new RegExp(`${prefix}rgb\\s*\\(${float},${float},${float}\\)${suffix}`),rgbaRegex=new RegExp(`${prefix}rgba\\s*\\(${float},${float},${float},${float}\\)${suffix}`),sHexRegex=new RegExp(`${prefix}#${hex}${hex}${hex}${suffix}`),hexRegex=new RegExp(`${prefix}#${dhex}${dhex}${dhex}${suffix}`),sHexaRegex=new RegExp(`${prefix}#${hex}${hex}${hex}${hex}${suffix}`),hexaRegex=new RegExp(`${prefix}#${dhex}${dhex}${dhex}${dhex}${suffix}`);function parseHex(r){return parseInt(r,16)}function rgba(r){try{let n;if(n=hexRegex.exec(r))return[parseHex(n[1]),parseHex(n[2]),parseHex(n[3]),1];if(n=rgbRegex.exec(r))return[roundChannel(n[1]),roundChannel(n[5]),roundChannel(n[9]),1];if(n=rgbaRegex.exec(r))return[roundChannel(n[1]),roundChannel(n[5]),roundChannel(n[9]),roundAlpha(n[13])];if(n=sHexRegex.exec(r))return[parseHex(n[1]+n[1]),parseHex(n[2]+n[2]),parseHex(n[3]+n[3]),1];if(n=hexaRegex.exec(r))return[parseHex(n[1]),parseHex(n[2]),parseHex(n[3]),roundAlpha(parseHex(n[4])/255)];if(n=sHexaRegex.exec(r))return[parseHex(n[1]+n[1]),parseHex(n[2]+n[2]),parseHex(n[3]+n[3]),roundAlpha(parseHex(n[4]+n[4])/255)];if(r in colors_default)return rgba(colors_default[r]);throw new Error(`[seemly/rgba]: Invalid color value ${r}.`)}catch(n){throw n}}function normalizeAlpha(r){return r>1?1:r<0?0:r}function stringifyRgba(r,n,a,o){return`rgba(${roundChannel(r)}, ${roundChannel(n)}, ${roundChannel(a)}, ${normalizeAlpha(o)})`}function compositeChannel(r,n,a,o,s){return roundChannel((r*n*(1-o)+a*o)/s)}function composite(r,n){Array.isArray(r)||(r=rgba(r)),Array.isArray(n)||(n=rgba(n));const a=r[3],o=n[3],s=roundAlpha(a+o-a*o);return stringifyRgba(compositeChannel(r[0],a,n[0],o,s),compositeChannel(r[1],a,n[1],o,s),compositeChannel(r[2],a,n[2],o,s),s)}function changeColor(r,n){const[a,o,s,l=1]=Array.isArray(r)?r:rgba(r);return n.alpha?stringifyRgba(a,o,s,n.alpha):stringifyRgba(a,o,s,l)}function scaleColor(r,n){const[a,o,s,l=1]=Array.isArray(r)?r:rgba(r),{lightness:u=1,alpha:f=1}=n;return toRgbaString([a*u,o*u,s*u,l*f])}function roundAlpha(r){const n=Math.round(Number(r)*100)/100;return n>1?1:n<0?0:n}function roundChannel(r){const n=Math.round(Number(r));return n>255?255:n<0?0:n}function toRgbaString(r){const[n,a,o]=r;return 3 in r?`rgba(${roundChannel(n)}, ${roundChannel(a)}, ${roundChannel(o)}, ${roundAlpha(r[3])})`:`rgba(${roundChannel(n)}, ${roundChannel(a)}, ${roundChannel(o)}, 1)`}function createId(r=8){return Math.random().toString(16).slice(2,2+r)}function getSlot(r,n="default",a=[]){const s=r.$slots[n];return s===void 0?a:s()}function keep(r,n=[],a){const o={};return n.forEach(s=>{o[s]=r[s]}),Object.assign(o,a)}function flatten(r,n=!0,a=[]){return r.forEach(o=>{if(o!==null){if(typeof o!="object"){(typeof o=="string"||typeof o=="number")&&a.push(createTextVNode(String(o)));return}if(Array.isArray(o)){flatten(o,n,a);return}if(o.type===Fragment){if(o.children===null)return;Array.isArray(o.children)&&flatten(o.children,n,a)}else o.type!==Comment&&a.push(o)}}),a}function call(r,...n){if(Array.isArray(r))r.forEach(a=>call(a,...n));else return r(...n)}function keysOf(r){return Object.keys(r)}var render=(r,...n)=>typeof r=="function"?r(...n):typeof r=="string"?createTextVNode(r):typeof r=="number"?createTextVNode(String(r)):null,warnedMessages=new Set;function warnOnce(r,n){const a=`[naive/${r}]: ${n}`;warnedMessages.has(a)||(warnedMessages.add(a),console.error(a))}function warn3(r,n){console.error(`[naive/${r}]: ${n}`)}function throwError(r,n){throw new Error(`[naive/${r}]: ${n}`)}function getTitleAttribute(r){switch(typeof r){case"string":return r||void 0;case"number":return String(r);default:return}}function getFirstSlotVNode(r,n="default",a=void 0){const o=r[n];if(!o)return warn3("getFirstSlotVNode",`slot[${n}] is empty`),null;const s=flatten(o(a));return s.length===1?s[0]:(warn3("getFirstSlotVNode",`slot[${n}] should have exactly one child`),null)}function createInjectionKey(r){return r}function ensureValidVNode2(r){return r.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode2(n.children)):!0)?r:null}function resolveSlot(r,n){return r&&ensureValidVNode2(r())||n()}function resolveSlotWithProps(r,n,a){return r&&ensureValidVNode2(r(n))||a(n)}function resolveWrappedSlot(r,n){const a=r&&ensureValidVNode2(r());return n(a||null)}function isSlotEmpty(r){return!(r&&ensureValidVNode2(r()))}var pureNumberRegex=/^(\d|\.)+$/,numberRegex=/(\d|\.)+/;function formatLength(r,{c:n=1,offset:a=0,attachPx:o=!0}={}){if(typeof r=="number"){const s=(r+a)*n;return s===0?"0":`${s}px`}else if(typeof r=="string")if(pureNumberRegex.test(r)){const s=(Number(r)+a)*n;return o?s===0?"0":`${s}px`:`${s}`}else{const s=numberRegex.exec(r);return s?r.replace(numberRegex,String((Number(s[0])+a)*n)):r}return r}function color2Class(r){return r.replace(/#|\(|\)|,|\s/g,"_")}function ampCount(r){let n=0;for(let a=0;a<r.length;++a)r[a]==="&"&&++n;return n}var separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(r,n){const a=[];return n.split(separatorRegex).forEach(o=>{let s=ampCount(o);if(s){if(s===1){r.forEach(u=>{a.push(o.replace("&",u))});return}}else{r.forEach(u=>{a.push((u&&u+" ")+o)});return}let l=[o];for(;s--;){const u=[];l.forEach(f=>{r.forEach(d=>{u.push(f.replace("&",d))})}),l=u}l.forEach(u=>a.push(u))}),a}function resolveSelector(r,n){const a=[];return n.split(separatorRegex).forEach(o=>{r.forEach(s=>{a.push((s&&s+" ")+o)})}),a}function parseSelectorPath(r){let n=[""];return r.forEach(a=>{a=a&&a.trim(),!!a&&(a.includes("&")?n=resolveSelectorWithAmp(n,a):n=resolveSelector(n,a))}),n.join(", ").replace(extraSpaceRegex," ")}function removeElement(r){if(!r)return;const n=r.parentElement;n&&n.removeChild(r)}function queryElement(r){return document.querySelector(`style[cssr-id="${r}"]`)}function createElement(r){const n=document.createElement("style");return n.setAttribute("cssr-id",r),n}function isMediaOrSupports(r){return r?/^\s*@(s|m)/.test(r):!1}var kebabRegex=/[A-Z]/g;function kebabCase(r){return r.replace(kebabRegex,n=>"-"+n.toLowerCase())}function unwrapProperty(r,n="  "){return typeof r=="object"&&r!==null?` {
`+Object.entries(r).map(a=>n+`  ${kebabCase(a[0])}: ${a[1]};`).join(`
`)+`
`+n+"}":`: ${r};`}function unwrapProperties(r,n,a){return typeof r=="function"?r({context:n.context,props:a}):r}function createStyle(r,n,a,o){if(!n)return"";const s=unwrapProperties(n,a,o);if(!s)return"";if(typeof s=="string")return`${r} {
${s}
}`;const l=Object.keys(s);if(l.length===0)return a.config.keepEmptyBlock?r+` {
}`:"";const u=r?[r+" {"]:[];return l.forEach(f=>{const d=s[f];if(f==="raw"){u.push(`
`+d+`
`);return}f=kebabCase(f),d!=null&&u.push(`  ${f}${unwrapProperty(d)}`)}),r&&u.push("}"),u.join(`
`)}function loopCNodeListWithCallback(r,n,a){!r||r.forEach(o=>{if(Array.isArray(o))loopCNodeListWithCallback(o,n,a);else if(typeof o=="function"){const s=o(n);Array.isArray(s)?loopCNodeListWithCallback(s,n,a):s&&a(s)}else o&&a(o)})}function traverseCNode(r,n,a,o,s,l){const u=r.$;let f="";if(!u||typeof u=="string")isMediaOrSupports(u)?f=u:n.push(u);else if(typeof u=="function"){const g=u({context:o.context,props:s});isMediaOrSupports(g)?f=g:n.push(g)}else if(u.before&&u.before(o.context),!u.$||typeof u.$=="string")isMediaOrSupports(u.$)?f=u.$:n.push(u.$);else if(u.$){const g=u.$({context:o.context,props:s});isMediaOrSupports(g)?f=g:n.push(g)}const d=parseSelectorPath(n),v=createStyle(d,r.props,o,s);f?(a.push(`${f} {`),l&&v&&l.insertRule(`${f} {
${v}
}
`)):(l&&v&&l.insertRule(v),!l&&v.length&&a.push(v)),r.children&&loopCNodeListWithCallback(r.children,{context:o.context,props:s},g=>{if(typeof g=="string"){const y=createStyle(d,{raw:g},o,s);l?l.insertRule(y):a.push(y)}else traverseCNode(g,n,a,o,s,l)}),n.pop(),f&&a.push("}"),u&&u.after&&u.after(o.context)}function render2(r,n,a,o=!1){const s=[];return traverseCNode(r,[],s,n,a,o?r.instance.__styleSheet:void 0),o?"":s.join(`

`)}function murmur2(r){for(var n=0,a,o=0,s=r.length;s>=4;++o,s-=4)a=r.charCodeAt(o)&255|(r.charCodeAt(++o)&255)<<8|(r.charCodeAt(++o)&255)<<16|(r.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,n=(a&65535)*1540483477+((a>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(s){case 3:n^=(r.charCodeAt(o+2)&255)<<16;case 2:n^=(r.charCodeAt(o+1)&255)<<8;case 1:n^=r.charCodeAt(o)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var hash_browser_esm_default=murmur2;typeof window!="undefined"&&(window.__cssrContext={});function unmount(r,n,a){const{els:o}=n;if(a===void 0)o.forEach(removeElement),n.els=[];else{const s=queryElement(a);s&&o.includes(s)&&(removeElement(s),n.els=o.filter(l=>l!==s))}}function addElementToList(r,n){r.push(n)}function mount(r,n,a,o,s,l,u,f,d){if(l&&!d){if(a===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const b=window.__cssrContext;b[a]||(b[a]=!0,render2(n,r,o,l));return}let v;if(a===void 0&&(v=n.render(o),a=hash_browser_esm_default(v)),d){d.adapter(a,v!=null?v:n.render(o));return}const g=queryElement(a);if(g!==null&&!u)return g;const y=g!=null?g:createElement(a);if(v===void 0&&(v=n.render(o)),y.textContent=v,g!==null)return g;if(f){const b=document.head.querySelector(`meta[name="${f}"]`);if(b)return document.head.insertBefore(y,b),addElementToList(n.els,y),y}return s?document.head.insertBefore(y,document.head.querySelector("style, link")):document.head.appendChild(y),addElementToList(n.els,y),y}function wrappedRender(r){return render2(this,this.instance,r)}function wrappedMount(r={}){const{id:n,ssr:a,props:o,head:s=!1,silent:l=!1,force:u=!1,anchorMetaName:f}=r;return mount(this.instance,this,n,o,s,l,u,f,a)}function wrappedUnmount(r={}){const{id:n}=r;unmount(this.instance,this,n)}var createCNode=function(r,n,a,o){return{instance:r,$:n,props:a,children:o,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},c=function(r,n,a,o){return Array.isArray(n)?createCNode(r,{$:null},null,n):Array.isArray(a)?createCNode(r,n,null,a):Array.isArray(o)?createCNode(r,n,a,o):createCNode(r,n,a,null)};function CssRender(r={}){let n=null;const a={c:(...o)=>c(a,...o),use:(o,...s)=>o.install(a,...s),find:queryElement,context:{},config:r,get __styleSheet(){if(!n){const o=document.createElement("style");return document.head.appendChild(o),n=document.styleSheets[document.styleSheets.length-1],n}return n}};return a}function exists(r,n){if(r===void 0)return!1;if(n){const{context:{ids:a}}=n;return a.has(r)}return queryElement(r)!==null}var esm_default=CssRender;function plugin(r){let n=".",a="__",o="--",s;if(r){let x=r.blockPrefix;x&&(n=x),x=r.elementPrefix,x&&(a=x),x=r.modifierPrefix,x&&(o=x)}const l={install(x){s=x.c;const w=x.context;w.bem={},w.bem.b=null,w.bem.els=null}};function u(x){let w,C;return{before(S){w=S.bem.b,C=S.bem.els,S.bem.els=null},after(S){S.bem.b=w,S.bem.els=C},$({context:S,props:D}){return x=typeof x=="string"?x:x({context:S,props:D}),S.bem.b=x,`${(D==null?void 0:D.bPrefix)||n}${S.bem.b}`}}}function f(x){let w;return{before(C){w=C.bem.els},after(C){C.bem.els=w},$({context:C,props:S}){return x=typeof x=="string"?x:x({context:C,props:S}),C.bem.els=x.split(",").map(D=>D.trim()),C.bem.els.map(D=>`${(S==null?void 0:S.bPrefix)||n}${C.bem.b}${a}${D}`).join(", ")}}}function d(x){return{$({context:w,props:C}){x=typeof x=="string"?x:x({context:w,props:C});const S=x.split(",").map(T=>T.trim());function D(T){return S.map(P=>`&${(C==null?void 0:C.bPrefix)||n}${w.bem.b}${T!==void 0?`${a}${T}`:""}${o}${P}`).join(", ")}const A=w.bem.els;if(A!==null){if(A.length>=2)throw Error(`[css-render/plugin-bem]: m(${x}) is invalid, using modifier inside multiple elements is not allowed`);return D(A[0])}else return D()}}}function v(x){return{$({context:w,props:C}){x=typeof x=="string"?x:x({context:w,props:C});const S=w.bem.els;if(S!==null&&S.length>=2)throw Error(`[css-render/plugin-bem]: notM(${x}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(C==null?void 0:C.bPrefix)||n}${w.bem.b}${S!==null&&S.length>0?`${a}${S[0]}`:""}${o}${x})`}}}return Object.assign(l,{cB:(...x)=>s(u(x[0]),x[1],x[2]),cE:(...x)=>s(f(x[0]),x[1],x[2]),cM:(...x)=>s(d(x[0]),x[1],x[2]),cNotM:(...x)=>s(v(x[0]),x[1],x[2])}),l}var esm_default2=plugin;function createKey(r,n){return r+(n==="default"?"":n.replace(/^[a-z]/,a=>a.toUpperCase()))}createKey("abc","def");var namespace="n",prefix2=`.${namespace}-`,elementPrefix="__",modifierPrefix="--",cssr=esm_default(),plugin2=esm_default2({blockPrefix:prefix2,elementPrefix,modifierPrefix});cssr.use(plugin2);var{c:c2,find}=cssr,{cB,cE,cM,cNotM}=plugin2,cCB=(...r)=>c2(">",[cB(...r)]);function useFalseUntilTruthy(r){const n=ref(!!r.value);if(n.value)return readonly(n);const a=watch(r,o=>{o&&(n.value=!0,a())});return readonly(n)}function useMemo(r){const n=computed2(r),a=ref(n.value);return watch(n,o=>{a.value=o}),typeof r=="function"?a:{__v_isRef:!0,get value(){return a.value},set value(o){r.set(o)}}}var use_memo_default=useMemo,isBrowser=typeof window!="undefined",fontsReady,isFontReady,init=()=>{var r,n;fontsReady=isBrowser?(n=(r=document)===null||r===void 0?void 0:r.fonts)===null||n===void 0?void 0:n.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0};init();function onFontsReady(r){if(isFontReady)return;let n=!1;onMounted(()=>{isFontReady||fontsReady==null||fontsReady.then(()=>{n||r()})}),onBeforeUnmount(()=>{n=!0})}var traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(r,n,a){if(r==="mousemoveoutside"){const o=s=>{n.contains(s.target)||a(s)};return{mousemove:o,touchstart:o}}else if(r==="clickoutside"){let o=!1;const s=u=>{o=!n.contains(u.target)},l=u=>{!o||n.contains(u.target)||a(u)};return{mousedown:s,mouseup:l,touchstart:s,touchend:l}}return console.error(`[evtd/create-trap-handler]: name \`${r}\` is invalid. This could be a bug of evtd.`),{}}function ensureTrapHandlers(r,n,a){const o=traps[r];let s=o.get(n);s===void 0&&o.set(n,s=new WeakMap);let l=s.get(a);return l===void 0&&s.set(a,l=createTrapHandler(r,n,a)),l}function trapOn(r,n,a,o){if(r==="mousemoveoutside"||r==="clickoutside"){const s=ensureTrapHandlers(r,n,a);return Object.keys(s).forEach(l=>{on(l,document,s[l],o)}),!0}return!1}function trapOff(r,n,a,o){if(r==="mousemoveoutside"||r==="clickoutside"){const s=ensureTrapHandlers(r,n,a);return Object.keys(s).forEach(l=>{off(l,document,s[l],o)}),!0}return!1}function createDelegate(){if(typeof window=="undefined")return{on:()=>{},off:()=>{}};const r=new WeakMap,n=new WeakMap;function a(){r.set(this,!0)}function o(){r.set(this,!0),n.set(this,!0)}function s(M,L,F){const I=M[L];return M[L]=function(){return F.apply(M,arguments),I.apply(M,arguments)},M}function l(M,L){M[L]=Event.prototype[L]}const u=new WeakMap,f=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function d(){var M;return(M=u.get(this))!==null&&M!==void 0?M:null}function v(M,L){f!==void 0&&Object.defineProperty(M,"currentTarget",{configurable:!0,enumerable:!0,get:L!=null?L:f.get})}const g={bubble:{},capture:{}},y={};function b(){const M=function(L){const{type:F,eventPhase:I,target:B,bubbles:O}=L;if(I===2)return;const R=I===1?"capture":"bubble";let z=B;const N=[];for(;z===null&&(z=window),N.push(z),z!==window;)z=z.parentNode||null;const V=g.capture[F],W=g.bubble[F];if(s(L,"stopPropagation",a),s(L,"stopImmediatePropagation",o),v(L,d),R==="capture"){if(V===void 0)return;for(let H=N.length-1;H>=0&&!r.has(L);--H){const $=N[H],Y=V.get($);if(Y!==void 0){u.set(L,$);for(const ae of Y){if(n.has(L))break;ae(L)}}if(H===0&&!O&&W!==void 0){const ae=W.get($);if(ae!==void 0)for(const X of ae){if(n.has(L))break;X(L)}}}}else if(R==="bubble"){if(W===void 0)return;for(let H=0;H<N.length&&!r.has(L);++H){const $=N[H],Y=W.get($);if(Y!==void 0){u.set(L,$);for(const ae of Y){if(n.has(L))break;ae(L)}}}}l(L,"stopPropagation"),l(L,"stopImmediatePropagation"),v(L)};return M.displayName="evtdUnifiedHandler",M}function _(){const M=function(L){const{type:F,eventPhase:I}=L;if(I!==2)return;const B=y[F];B!==void 0&&B.forEach(O=>O(L))};return M.displayName="evtdUnifiedWindowEventHandler",M}const x=b(),w=_();function C(M,L){const F=g[M];return F[L]===void 0&&(F[L]=new Map,window.addEventListener(L,x,M==="capture")),F[L]}function S(M){return y[M]===void 0&&(y[M]=new Set,window.addEventListener(M,w)),y[M]}function D(M,L){let F=M.get(L);return F===void 0&&M.set(L,F=new Set),F}function A(M,L,F,I){const B=g[L][F];if(B!==void 0){const O=B.get(M);if(O!==void 0&&O.has(I))return!0}return!1}function T(M,L){const F=y[M];return!!(F!==void 0&&F.has(L))}function P(M,L,F,I){let B;if(typeof I=="object"&&I.once===!0?B=V=>{E(M,L,B,I),F(V)}:B=F,trapOn(M,L,B,I))return;const R=I===!0||typeof I=="object"&&I.capture===!0?"capture":"bubble",z=C(R,M),N=D(z,L);if(N.has(B)||N.add(B),L===window){const V=S(M);V.has(B)||V.add(B)}}function E(M,L,F,I){if(trapOff(M,L,F,I))return;const O=I===!0||typeof I=="object"&&I.capture===!0,R=O?"capture":"bubble",z=C(R,M),N=D(z,L);if(L===window&&!A(L,O?"bubble":"capture",M,F)&&T(M,F)){const W=y[M];W.delete(F),W.size===0&&(window.removeEventListener(M,w),y[M]=void 0)}N.has(F)&&N.delete(F),N.size===0&&z.delete(L),z.size===0&&(window.removeEventListener(M,x,R==="capture"),g[R][M]=void 0)}return{on:P,off:E}}var{on,off}=createDelegate();function useMergedState(r,n){return watch(r,a=>{a!==void 0&&(n.value=a)}),computed2(()=>r.value===void 0?n.value:r.value)}function isMounted(){const r=ref(!1);return onMounted(()=>{r.value=!0}),readonly(r)}function useCompitable(r,n){return computed2(()=>{for(const a of n)if(r[a]!==void 0)return r[a];return r[n[n.length-1]]})}var isIos=(typeof window=="undefined"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}var internalSelectionMenuInjectionKey=createInjectionKey("n-internal-select-menu"),internalSelectionMenuBodyInjectionKey=createInjectionKey("n-internal-select-menu-body"),modalBodyInjectionKey=createInjectionKey("n-modal-body"),modalInjectionKey=createInjectionKey("n-modal"),drawerBodyInjectionKey=createInjectionKey("n-drawer-body"),drawerInjectionKey=createInjectionKey("n-drawer"),popoverBodyInjectionKey=createInjectionKey("n-popover-body"),teleportDisabled="__disabled__";function useAdjustedTo(r){const n=inject(modalBodyInjectionKey,null),a=inject(drawerBodyInjectionKey,null),o=inject(popoverBodyInjectionKey,null),s=inject(internalSelectionMenuBodyInjectionKey,null),l=ref();if(typeof document!="undefined"){l.value=document.fullscreenElement;const u=()=>{l.value=document.fullscreenElement};onMounted(()=>{on("fullscreenchange",document,u)}),onBeforeUnmount(()=>{off("fullscreenchange",document,u)})}return use_memo_default(()=>{var u;const{to:f}=r;return f!==void 0?f===!1?teleportDisabled:f===!0?l.value||"body":f:(n==null?void 0:n.value)?(u=n.value.$el)!==null&&u!==void 0?u:n.value:(a==null?void 0:a.value)?a.value:(o==null?void 0:o.value)?o.value:(s==null?void 0:s.value)?s.value:f!=null?f:l.value||"body"})}useAdjustedTo.tdkey=teleportDisabled,useAdjustedTo.propTo={type:[String,Object,Boolean],default:void 0};function getSlot2(r,n,a="default"){const o=n[a];if(o===void 0)throw new Error(`[vueuc/${r}]: slot[${a}] is empty.`);return o()}function flatten2(r,n=!0,a=[]){return r.forEach(o=>{if(o!==null){if(typeof o!="object"){(typeof o=="string"||typeof o=="number")&&a.push(createTextVNode(String(o)));return}if(Array.isArray(o)){flatten2(o,n,a);return}if(o.type===Fragment){if(o.children===null)return;Array.isArray(o.children)&&flatten2(o.children,n,a)}else o.type!==Comment&&a.push(o)}}),a}function getFirstVNode(r,n,a="default"){const o=n[a];if(o===void 0)throw new Error(`[vueuc/${r}]: slot[${a}] is empty.`);const s=flatten2(o());if(s.length===1)return s[0];throw new Error(`[vueuc/${r}]: slot[${a}] should have exactly one child.`)}var viewMeasurer=null;function ensureViewBoundingRect(){if(viewMeasurer===null&&(viewMeasurer=document.getElementById("v-binder-view-measurer"),viewMeasurer===null)){viewMeasurer=document.createElement("div"),viewMeasurer.id="v-binder-view-measurer";const{style:r}=viewMeasurer;r.position="fixed",r.left="0",r.right="0",r.top="0",r.bottom="0",r.pointerEvents="none",r.visibility="hidden",document.body.appendChild(viewMeasurer)}return viewMeasurer.getBoundingClientRect()}function getPointRect(r,n){const a=ensureViewBoundingRect();return{top:n,left:r,height:0,width:0,right:a.width-r,bottom:a.height-n}}function getRect(r){const n=r.getBoundingClientRect(),a=ensureViewBoundingRect();return{left:n.left-a.left,top:n.top-a.top,bottom:a.height+a.top-n.bottom,right:a.width+a.left-n.right,width:n.width,height:n.height}}function getParentNode(r){return r.nodeType===9?null:r.parentNode}function getScrollParent(r){if(r===null)return null;const n=getParentNode(r);if(n===null)return null;if(n.nodeType===9)return document;if(n.nodeType===1){const{overflow:a,overflowX:o,overflowY:s}=getComputedStyle(n);if(/(auto|scroll|overlay)/.test(a+s+o))return n}return getScrollParent(n)}var Binder=defineComponent({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(r){var n;provide("VBinder",(n=getCurrentInstance())===null||n===void 0?void 0:n.proxy);const a=inject("VBinder",null),o=ref(null),s=S=>{o.value=S,a&&r.syncTargetWithParent&&a.setTargetRef(S)};let l=[];const u=()=>{let S=o.value;for(;S=getScrollParent(S),S!==null;)l.push(S);for(const D of l)on("scroll",D,y,!0)},f=()=>{for(const S of l)off("scroll",S,y,!0);l=[]},d=new Set,v=S=>{d.size===0&&u(),d.has(S)||d.add(S)},g=S=>{d.has(S)&&d.delete(S),d.size===0&&f()},y=()=>{beforeNextFrameOnce(b)},b=()=>{d.forEach(S=>S())},_=new Set,x=S=>{_.size===0&&on("resize",window,C),_.has(S)||_.add(S)},w=S=>{_.has(S)&&_.delete(S),_.size===0&&off("resize",window,C)},C=()=>{_.forEach(S=>S())};return onBeforeUnmount(()=>{off("resize",window,C),f()}),{targetRef:o,setTargetRef:s,addScrollListener:v,removeScrollListener:g,addResizeListener:x,removeResizeListener:w}},render(){return getSlot2("binder",this.$slots)}}),Binder_default=Binder,Target_default=defineComponent({name:"Target",setup(){const{setTargetRef:r,syncTarget:n}=inject("VBinder");return{syncTarget:n,setTargetDirective:{mounted:r,updated:r}}},render(){const{syncTarget:r,setTargetDirective:n}=this;return r?withDirectives(getFirstVNode("follower",this.$slots),[[n]]):getFirstVNode("follower",this.$slots)}}),ctxKey="@@mmoContext",mousemoveoutside={mounted(r,{value:n}){r[ctxKey]={handler:void 0},typeof n=="function"&&(r[ctxKey].handler=n,on("mousemoveoutside",r,n))},updated(r,{value:n}){const a=r[ctxKey];typeof n=="function"?a.handler?a.handler!==n&&(off("mousemoveoutside",r,a.handler),a.handler=n,on("mousemoveoutside",r,n)):(r[ctxKey].handler=n,on("mousemoveoutside",r,n)):a.handler&&(off("mousemoveoutside",r,a.handler),a.handler=void 0)},unmounted(r){const{handler:n}=r[ctxKey];n&&off("mousemoveoutside",r,n),r[ctxKey].handler=void 0}},mousemoveoutside_default=mousemoveoutside,ctxKey2="@@coContext",clickoutside={mounted(r,{value:n,modifiers:a}){r[ctxKey2]={handler:void 0},typeof n=="function"&&(r[ctxKey2].handler=n,on("clickoutside",r,n,{capture:a.capture}))},updated(r,{value:n,modifiers:a}){const o=r[ctxKey2];typeof n=="function"?o.handler?o.handler!==n&&(off("clickoutside",r,o.handler,{capture:a.capture}),o.handler=n,on("clickoutside",r,n,{capture:a.capture})):(r[ctxKey2].handler=n,on("clickoutside",r,n,{capture:a.capture})):o.handler&&(off("clickoutside",r,o.handler,{capture:a.capture}),o.handler=void 0)},unmounted(r,{modifiers:n}){const{handler:a}=r[ctxKey2];a&&off("clickoutside",r,a,{capture:n.capture}),r[ctxKey2].handler=void 0}},clickoutside_default=clickoutside,warnedMessages2=new Set;function warn4(r,n){console.error(`[vdirs/${r}]: ${n}`)}var ZIndexManager=class{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(r,n){const{elementZIndex:a}=this;if(n!==void 0){r.style.zIndex=`${n}`,a.delete(r);return}const{nextZIndex:o}=this;a.has(r)&&a.get(r)+1===this.nextZIndex||(r.style.zIndex=`${o}`,a.set(r,o),this.nextZIndex=o+1,this.squashState())}unregister(r,n){const{elementZIndex:a}=this;a.has(r)?a.delete(r):n===void 0&&warn4("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:r}=this;r||(this.nextZIndex=2e3),this.nextZIndex-r>2500&&this.rearrange()}rearrange(){const r=Array.from(this.elementZIndex.entries());r.sort((n,a)=>n[1]-a[1]),this.nextZIndex=2e3,r.forEach(n=>{const a=n[0],o=this.nextZIndex++;`${o}`!==a.style.zIndex&&(a.style.zIndex=`${o}`)})}},z_index_manager_default=new ZIndexManager,ctx="@@ziContext",zindexable={mounted(r,n){const{value:a={}}=n,{zIndex:o,enabled:s}=a;r[ctx]={enabled:!!s,initialized:!1},s&&(z_index_manager_default.ensureZIndex(r,o),r[ctx].initialized=!0)},updated(r,n){const{value:a={}}=n,{zIndex:o,enabled:s}=a,l=r[ctx].enabled;s&&!l&&(z_index_manager_default.ensureZIndex(r,o),r[ctx].initialized=!0),r[ctx].enabled=!!s},unmounted(r,n){if(!r[ctx].initialized)return;const{value:a={}}=n,{zIndex:o}=a;z_index_manager_default.unregister(r,o)}},zindexable_default=zindexable,ssrContextKey2=Symbol("@css-render/vue3-ssr");function createStyleString(r,n){return`<style cssr-id="${r}">
${n}
</style>`}function ssrAdapter(r,n){const a=inject(ssrContextKey2,null);if(a===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:o,ids:s}=a;s.has(r)||o!==null&&(s.add(r),o.push(createStyleString(r,n)))}function useSsrAdapter(){const r=inject(ssrContextKey2,null);if(r!==null)return{adapter:ssrAdapter,context:r}}function warn5(r,n){console.error(`[vueuc/${r}]: ${n}`)}var{c:c3}=CssRender(),cssrAnchorMetaName="vueuc-style";function lowBit(r){return r&-r}var FinweckTree=class{constructor(r,n){this.l=r,this.min=n;const a=new Array(r+1);for(let o=0;o<r+1;++o)a[o]=0;this.ft=a}add(r,n){if(n===0)return;const{l:a,ft:o}=this;for(r+=1;r<=a;)o[r]+=n,r+=lowBit(r)}get(r){return this.sum(r+1)-this.sum(r)}sum(r){if(r===0)return 0;const{ft:n,min:a,l:o}=this;if(r===void 0&&(r=o),r>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let s=r*a;for(;r>0;)s+=n[r],r-=lowBit(r);return s}getBound(r){let n=0,a=this.l;for(;a>n;){const o=Math.floor((n+a)/2),s=this.sum(o);if(s>r){a=o;continue}else if(s<r){if(n===o)return this.sum(n+1)<=r?n+1:o;n=o}else return o}return n}};function resolveTo(r){return typeof r=="string"?document.querySelector(r):r()}var src_default=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(r){return{showTeleport:useFalseUntilTruthy(toRef(r,"show")),mergedTo:computed2(()=>{const{to:n}=r;return n!=null?n:"body"})}},render(){return this.showTeleport?this.disabled?getSlot2("lazy-teleport",this.$slots):h(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot2("lazy-teleport",this.$slots)):null}}),oppositionPositions={top:"bottom",bottom:"top",left:"right",right:"left"},oppositeAligns={start:"end",center:"center",end:"start"},propToCompare={top:"height",bottom:"height",left:"width",right:"width"},transformOrigins={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},overlapTransformOrigin={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oppositeAlignCssPositionProps={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},keepOffsetDirection={top:!0,bottom:!1,left:!0,right:!1},cssPositionToOppositeAlign={top:"end",bottom:"start",left:"end",right:"start"};function getPlacementAndOffsetOfFollower(r,n,a,o,s,l){if(!s||l)return{placement:r,top:0,left:0};const[u,f]=r.split("-");let d=f!=null?f:"center",v={top:0,left:0};const g=(_,x,w)=>{let C=0,S=0;const D=a[_]-n[x]-n[_];return D>0&&o&&(w?S=keepOffsetDirection[x]?D:-D:C=keepOffsetDirection[x]?D:-D),{left:C,top:S}},y=u==="left"||u==="right";if(d!=="center"){const _=oppositeAlignCssPositionProps[r],x=oppositionPositions[_],w=propToCompare[_];if(a[w]>n[w]){if(n[_]+n[w]<a[w]){const C=(a[w]-n[w])/2;n[_]<C||n[x]<C?n[_]<n[x]?(d=oppositeAligns[f],v=g(w,x,y)):v=g(w,_,y):d="center"}}else a[w]<n[w]&&n[x]<0&&n[_]>n[x]&&(d=oppositeAligns[f])}else{const _=u==="bottom"||u==="top"?"left":"top",x=oppositionPositions[_],w=propToCompare[_],C=(a[w]-n[w])/2;(n[_]<C||n[x]<C)&&(n[_]>n[x]?(d=cssPositionToOppositeAlign[_],v=g(w,_,y)):(d=cssPositionToOppositeAlign[x],v=g(w,x,y)))}let b=u;return n[u]<a[propToCompare[u]]&&n[u]<n[oppositionPositions[u]]&&(b=oppositionPositions[u]),{placement:d!=="center"?`${b}-${d}`:b,left:v.left,top:v.top}}function getProperTransformOrigin(r,n){return n?overlapTransformOrigin[r]:transformOrigins[r]}function getOffset(r,n,a,o,s,l){if(l)switch(r){case"bottom-start":return{top:`${Math.round(a.top-n.top+a.height)}px`,left:`${Math.round(a.left-n.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(a.top-n.top+a.height)}px`,left:`${Math.round(a.left-n.left+a.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(a.top-n.top)}px`,left:`${Math.round(a.left-n.left)}px`,transform:""};case"top-end":return{top:`${Math.round(a.top-n.top)}px`,left:`${Math.round(a.left-n.left+a.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(a.top-n.top)}px`,left:`${Math.round(a.left-n.left+a.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(a.top-n.top+a.height)}px`,left:`${Math.round(a.left-n.left+a.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(a.top-n.top)}px`,left:`${Math.round(a.left-n.left)}px`,transform:""};case"left-end":return{top:`${Math.round(a.top-n.top+a.height)}px`,left:`${Math.round(a.left-n.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(a.top-n.top)}px`,left:`${Math.round(a.left-n.left+a.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(a.top-n.top+a.height/2)}px`,left:`${Math.round(a.left-n.left+a.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(a.top-n.top+a.height/2)}px`,left:`${Math.round(a.left-n.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(a.top-n.top+a.height)}px`,left:`${Math.round(a.left-n.left+a.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(r){case"bottom-start":return{top:`${Math.round(a.top-n.top+a.height+o)}px`,left:`${Math.round(a.left-n.left+s)}px`,transform:""};case"bottom-end":return{top:`${Math.round(a.top-n.top+a.height+o)}px`,left:`${Math.round(a.left-n.left+a.width+s)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(a.top-n.top+o)}px`,left:`${Math.round(a.left-n.left+s)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(a.top-n.top+o)}px`,left:`${Math.round(a.left-n.left+a.width+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(a.top-n.top+o)}px`,left:`${Math.round(a.left-n.left+a.width+s)}px`,transform:""};case"right-end":return{top:`${Math.round(a.top-n.top+a.height+o)}px`,left:`${Math.round(a.left-n.left+a.width+s)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(a.top-n.top+o)}px`,left:`${Math.round(a.left-n.left+s)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(a.top-n.top+a.height+o)}px`,left:`${Math.round(a.left-n.left+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(a.top-n.top+o)}px`,left:`${Math.round(a.left-n.left+a.width/2+s)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(a.top-n.top+a.height/2+o)}px`,left:`${Math.round(a.left-n.left+a.width+s)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(a.top-n.top+a.height/2+o)}px`,left:`${Math.round(a.left-n.left+s)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(a.top-n.top+a.height+o)}px`,left:`${Math.round(a.left-n.left+a.width/2+s)}px`,transform:"translateX(-50%)"}}}var style=c3([c3(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),c3(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[c3("> *",{pointerEvents:"all"})])]),Follower_default=defineComponent({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(r){const n=inject("VBinder"),a=use_memo_default(()=>r.enabled!==void 0?r.enabled:r.show),o=ref(null),s=ref(null),l=()=>{const{syncTrigger:b}=r;b.includes("scroll")&&n.addScrollListener(d),b.includes("resize")&&n.addResizeListener(d)},u=()=>{n.removeScrollListener(d),n.removeResizeListener(d)};onMounted(()=>{a.value&&(d(),l())});const f=useSsrAdapter();style.mount({id:"vueuc/binder",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:f}),onBeforeUnmount(()=>{u()}),onFontsReady(()=>{a.value&&d()});const d=()=>{if(!a.value)return;const b=o.value;if(b===null)return;const _=n.targetRef,{x,y:w,overlap:C}=r,S=x!==void 0&&w!==void 0?getPointRect(x,w):getRect(_);b.style.setProperty("--v-target-width",`${Math.round(S.width)}px`),b.style.setProperty("--v-target-height",`${Math.round(S.height)}px`);const{width:D,minWidth:A,placement:T,internalShift:P,flip:E}=r;b.setAttribute("v-placement",T),C?b.setAttribute("v-overlap",""):b.removeAttribute("v-overlap");const{style:M}=b;D==="target"?M.width=`${S.width}px`:D!==void 0?M.width=D:M.width="",A==="target"?M.minWidth=`${S.width}px`:A!==void 0?M.minWidth=A:M.minWidth="";const L=getRect(b),F=getRect(s.value),{left:I,top:B,placement:O}=getPlacementAndOffsetOfFollower(T,S,L,P,E,C),R=getProperTransformOrigin(O,C),{left:z,top:N,transform:V}=getOffset(O,F,S,B,I,C);b.setAttribute("v-placement",O),b.style.setProperty("--v-offset-left",`${Math.round(I)}px`),b.style.setProperty("--v-offset-top",`${Math.round(B)}px`),b.style.transform=`translateX(${z}) translateY(${N}) ${V}`,b.style.transformOrigin=R};watch(a,b=>{b?(l(),v()):u()});const v=()=>{nextTick().then(d).catch(b=>console.error(b))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(b=>{watch(toRef(r,b),d)}),["teleportDisabled"].forEach(b=>{watch(toRef(r,b),v)}),watch(toRef(r,"syncTrigger"),b=>{b.includes("resize")?n.addResizeListener(d):n.removeResizeListener(d),b.includes("scroll")?n.addScrollListener(d):n.removeScrollListener(d)});const g=isMounted(),y=use_memo_default(()=>{const{to:b}=r;if(b!==void 0)return b;!g.value});return{VBinder:n,mergedEnabled:a,offsetContainerRef:s,followerRef:o,mergedTo:y,syncPosition:d}},render(){return h(src_default,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var r,n;const a=h("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[h("div",{class:"v-binder-follower-content",ref:"followerRef"},(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r))]);return this.zindexable?withDirectives(a,[[zindexable_default,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):a}})}}),resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(r){return r.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(r){return r.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var r;typeof ErrorEvent=="function"?r=new ErrorEvent("error",{message:msg}):(r=document.createEvent("Event"),r.initEvent("error",!1,!1),r.message=msg),window.dispatchEvent(r)},ResizeObserverBoxOptions;(function(r){r.BORDER_BOX="border-box",r.CONTENT_BOX="content-box",r.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(r){return Object.freeze(r)},ResizeObserverSize=function(){function r(n,a){this.inlineSize=n,this.blockSize=a,freeze(this)}return r}(),DOMRectReadOnly=function(){function r(n,a,o,s){return this.x=n,this.y=a,this.width=o,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return r.prototype.toJSON=function(){var n=this,a=n.x,o=n.y,s=n.top,l=n.right,u=n.bottom,f=n.left,d=n.width,v=n.height;return{x:a,y:o,top:s,right:l,bottom:u,left:f,width:d,height:v}},r.fromRect=function(n){return new r(n.x,n.y,n.width,n.height)},r}(),isSVG=function(r){return r instanceof SVGElement&&"getBBox"in r},isHidden=function(r){if(isSVG(r)){var n=r.getBBox(),a=n.width,o=n.height;return!a&&!o}var s=r,l=s.offsetWidth,u=s.offsetHeight;return!(l||u||r.getClientRects().length)},isElement=function(r){var n,a;if(r instanceof Element)return!0;var o=(a=(n=r)===null||n===void 0?void 0:n.ownerDocument)===null||a===void 0?void 0:a.defaultView;return!!(o&&r instanceof o.Element)},isReplacedElement=function(r){switch(r.tagName){case"INPUT":if(r.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global2=typeof window!="undefined"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global2.navigator&&global2.navigator.userAgent),parseDimension=function(r){return parseFloat(r||"0")},size2=function(r,n,a){return r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=!1),new ResizeObserverSize((a?n:r)||0,(a?r:n)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size2(),borderBoxSize:size2(),contentBoxSize:size2(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(r,n){if(n===void 0&&(n=!1),cache.has(r)&&!n)return cache.get(r);if(isHidden(r))return cache.set(r,zeroBoxes),zeroBoxes;var a=getComputedStyle(r),o=isSVG(r)&&r.ownerSVGElement&&r.getBBox(),s=!IE&&a.boxSizing==="border-box",l=verticalRegexp.test(a.writingMode||""),u=!o&&scrollRegexp.test(a.overflowY||""),f=!o&&scrollRegexp.test(a.overflowX||""),d=o?0:parseDimension(a.paddingTop),v=o?0:parseDimension(a.paddingRight),g=o?0:parseDimension(a.paddingBottom),y=o?0:parseDimension(a.paddingLeft),b=o?0:parseDimension(a.borderTopWidth),_=o?0:parseDimension(a.borderRightWidth),x=o?0:parseDimension(a.borderBottomWidth),w=o?0:parseDimension(a.borderLeftWidth),C=y+v,S=d+g,D=w+_,A=b+x,T=f?r.offsetHeight-A-r.clientHeight:0,P=u?r.offsetWidth-D-r.clientWidth:0,E=s?C+D:0,M=s?S+A:0,L=o?o.width:parseDimension(a.width)-E-P,F=o?o.height:parseDimension(a.height)-M-T,I=L+C+P+D,B=F+S+T+A,O=freeze({devicePixelContentBoxSize:size2(Math.round(L*devicePixelRatio),Math.round(F*devicePixelRatio),l),borderBoxSize:size2(I,B,l),contentBoxSize:size2(L,F,l),contentRect:new DOMRectReadOnly(y,d,L,F)});return cache.set(r,O),O},calculateBoxSize=function(r,n,a){var o=calculateBoxSizes(r,a),s=o.borderBoxSize,l=o.contentBoxSize,u=o.devicePixelContentBoxSize;switch(n){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return u;case ResizeObserverBoxOptions.BORDER_BOX:return s;default:return l}},ResizeObserverEntry=function(){function r(n){var a=calculateBoxSizes(n);this.target=n,this.contentRect=a.contentRect,this.borderBoxSize=freeze([a.borderBoxSize]),this.contentBoxSize=freeze([a.contentBoxSize]),this.devicePixelContentBoxSize=freeze([a.devicePixelContentBoxSize])}return r}(),calculateDepthForNode=function(r){if(isHidden(r))return 1/0;for(var n=0,a=r.parentNode;a;)n+=1,a=a.parentNode;return n},broadcastActiveObservations=function(){var r=1/0,n=[];resizeObservers.forEach(function(u){if(u.activeTargets.length!==0){var f=[];u.activeTargets.forEach(function(v){var g=new ResizeObserverEntry(v.target),y=calculateDepthForNode(v.target);f.push(g),v.lastReportedSize=calculateBoxSize(v.target,v.observedBox),y<r&&(r=y)}),n.push(function(){u.callback.call(u.observer,f,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var a=0,o=n;a<o.length;a++){var s=o[a];s()}return r},gatherActiveObservationsAtDepth=function(r){resizeObservers.forEach(function(a){a.activeTargets.splice(0,a.activeTargets.length),a.skippedTargets.splice(0,a.skippedTargets.length),a.observationTargets.forEach(function(s){s.isActive()&&(calculateDepthForNode(s.target)>r?a.activeTargets.push(s):a.skippedTargets.push(s))})})},process2=function(){var r=0;for(gatherActiveObservationsAtDepth(r);hasActiveObservations();)r=broadcastActiveObservations(),gatherActiveObservationsAtDepth(r);return hasSkippedObservations()&&deliverResizeLoopError(),r>0},trigger2,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(r){return r()})},queueMicroTask=function(r){if(!trigger2){var n=0,a=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return notify()}).observe(a,o),trigger2=function(){a.textContent=""+(n?n--:n++)}}callbacks.push(r),trigger2()},queueResizeObserver=function(r){queueMicroTask(function(){requestAnimationFrame(r)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(r){return r===void 0&&(r=0),Date.now()+r},scheduled=!1,Scheduler=function(){function r(){var n=this;this.stopped=!0,this.listener=function(){return n.schedule()}}return r.prototype.run=function(n){var a=this;if(n===void 0&&(n=CATCH_PERIOD),!scheduled){scheduled=!0;var o=time(n);queueResizeObserver(function(){var s=!1;try{s=process2()}finally{if(scheduled=!1,n=o-time(),!isWatching())return;s?a.run(1e3):n>0?a.run(n):a.start()}})}},r.prototype.schedule=function(){this.stop(),this.run()},r.prototype.observe=function(){var n=this,a=function(){return n.observer&&n.observer.observe(document.body,observerConfig)};document.body?a():global2.addEventListener("DOMContentLoaded",a)},r.prototype.start=function(){var n=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(a){return global2.addEventListener(a,n.listener,!0)}))},r.prototype.stop=function(){var n=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(a){return global2.removeEventListener(a,n.listener,!0)}),this.stopped=!0)},r}(),scheduler=new Scheduler,updateCount=function(r){!watching&&r>0&&scheduler.start(),watching+=r,!watching&&scheduler.stop()},skipNotifyOnElement=function(r){return!isSVG(r)&&!isReplacedElement(r)&&getComputedStyle(r).display==="inline"},ResizeObservation=function(){function r(n,a){this.target=n,this.observedBox=a||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return r.prototype.isActive=function(){var n=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=n),this.lastReportedSize.inlineSize!==n.inlineSize||this.lastReportedSize.blockSize!==n.blockSize},r}(),ResizeObserverDetail=function(){function r(n,a){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=n,this.callback=a}return r}(),observerMap=new WeakMap,getObservationIndex=function(r,n){for(var a=0;a<r.length;a+=1)if(r[a].target===n)return a;return-1},ResizeObserverController=function(){function r(){}return r.connect=function(n,a){var o=new ResizeObserverDetail(n,a);observerMap.set(n,o)},r.observe=function(n,a,o){var s=observerMap.get(n),l=s.observationTargets.length===0;getObservationIndex(s.observationTargets,a)<0&&(l&&resizeObservers.push(s),s.observationTargets.push(new ResizeObservation(a,o&&o.box)),updateCount(1),scheduler.schedule())},r.unobserve=function(n,a){var o=observerMap.get(n),s=getObservationIndex(o.observationTargets,a),l=o.observationTargets.length===1;s>=0&&(l&&resizeObservers.splice(resizeObservers.indexOf(o),1),o.observationTargets.splice(s,1),updateCount(-1))},r.disconnect=function(n){var a=this,o=observerMap.get(n);o.observationTargets.slice().forEach(function(s){return a.unobserve(n,s.target)}),o.activeTargets.splice(0,o.activeTargets.length)},r}(),ResizeObserver=function(){function r(n){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof n!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,n)}return r.prototype.observe=function(n,a){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(n))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,n,a)},r.prototype.unobserve=function(n){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(n))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,n)},r.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},r.toString=function(){return"function ResizeObserver () { [polyfill code] }"},r}(),ResizeObserverDelegate=class{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new ResizeObserver(this.handleResize),this.elHandlersMap=new Map}handleResize(r){for(const n of r){const a=this.elHandlersMap.get(n.target);a!==void 0&&a(n)}}registerHandler(r,n){this.elHandlersMap.set(r,n),this.observer.observe(r)}unregisterHandler(r){!this.elHandlersMap.has(r)||(this.elHandlersMap.delete(r),this.observer.unobserve(r))}},delegate_default=new ResizeObserverDelegate,VResizeObserver_default=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(r){return{registered:!1,handleResize(n){const{onResize:a}=r;a!==void 0&&a(n)}}},mounted(){const r=this.$el;if(r===void 0){warn5("resize-observer","$el does not exist.");return}if(r.nextElementSibling!==r.nextSibling&&r.nodeType===3&&r.nodeValue!==""){warn5("resize-observer","$el can not be observed (it may be a text node).");return}r.nextElementSibling!==null&&(delegate_default.registerHandler(r.nextElementSibling,this.handleResize),this.registered=!0)},beforeUnmount(){this.registered&&delegate_default.unregisterHandler(this.$el.nextElementSibling)},render(){return renderSlot(this.$slots,"default")}}),styles=c3(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[c3("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[c3("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),VirtualList_default=defineComponent({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(r){const n=useSsrAdapter();styles.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:n}),onMounted(()=>{const{defaultScrollIndex:P,defaultScrollKey:E}=r;P!=null?y({index:P}):E!=null&&y({key:E})}),onActivated(()=>{y({top:d.value})});const a=computed2(()=>{const P=new Map,{keyField:E}=r;return r.items.forEach((M,L)=>{P.set(M[E],L)}),P}),o=ref(null),s=ref(void 0),l=new Map,u=computed2(()=>{const{items:P,itemSize:E,keyField:M}=r,L=new FinweckTree(P.length,E);return P.forEach((F,I)=>{const B=F[M],O=l.get(B);O!==void 0&&L.add(I,O)}),L}),f=ref(0),d=ref(0),v=use_memo_default(()=>Math.max(u.value.getBound(d.value-depx(r.paddingTop))-1,0)),g=computed2(()=>{const{value:P}=s;if(P===void 0)return[];const{items:E,itemSize:M}=r,L=v.value,F=Math.min(L+Math.ceil(P/M+1),E.length-1),I=[];for(let B=L;B<=F;++B)I.push(E[B]);return I}),y=P=>{const{left:E,top:M,index:L,key:F,position:I,behavior:B,debounce:O=!0}=P;if(E!==void 0||M!==void 0)_(E,M,B);else if(L!==void 0)b(L,B,O);else if(F!==void 0){const R=a.value.get(F);R!==void 0&&b(R,B,O)}else I==="bottom"?_(0,Number.MAX_SAFE_INTEGER,B):I==="top"&&_(0,0,B)};function b(P,E,M){const{value:L}=u,F=L.sum(P)+depx(r.paddingTop);if(!M)o.value.scrollTo({left:0,top:F,behavior:E});else{const{scrollTop:I,offsetHeight:B}=o.value;if(F>I){const O=L.get(P);F+O<=I+B||o.value.scrollTo({left:0,top:F+O-B,behavior:E})}else o.value.scrollTo({left:0,top:F,behavior:E})}S=P}function _(P,E,M){o.value.scrollTo({left:P,top:E,behavior:M})}function x(P,E){var M,L,F,I;if(r.ignoreItemResize||T(E.target))return;const{value:B}=u,O=a.value.get(P),R=B.get(O),z=(F=(L=(M=E.borderBoxSize)===null||M===void 0?void 0:M[0])===null||L===void 0?void 0:L.blockSize)!==null&&F!==void 0?F:E.contentRect.height;if(z===R)return;z-r.itemSize===0?l.delete(P):l.set(P,z-r.itemSize);const V=z-R;V!==0&&(D!==void 0&&O<=D&&((I=o.value)===null||I===void 0||I.scrollBy(0,V)),B.add(O,V),f.value++)}function w(P){beforeNextFrameOnce(A);const{onScroll:E}=r;E!==void 0&&E(P)}function C(P){if(T(P.target)||P.contentRect.height===s.value)return;s.value=P.contentRect.height;const{onResize:E}=r;E!==void 0&&E(P)}let S,D;function A(){const{value:P}=o;P!=null&&(D=S!=null?S:v.value,S=void 0,d.value=o.value.scrollTop)}function T(P){let E=P;for(;E!==null;){if(E.style.display==="none")return!0;E=E.parentElement}return!1}return{listHeight:s,listStyle:{overflow:"auto"},keyToIndex:a,itemsStyle:computed2(()=>{const{itemResizable:P}=r,E=pxfy(u.value.sum());return f.value,[r.itemsStyle,{boxSizing:"content-box",height:P?"":E,minHeight:P?E:"",paddingTop:pxfy(r.paddingTop),paddingBottom:pxfy(r.paddingBottom)}]}),visibleItemsStyle:computed2(()=>(f.value,{transform:`translateY(${pxfy(u.value.sum(v.value))})`})),viewportItems:g,listElRef:o,itemsElRef:ref(null),scrollTo:y,handleListResize:C,handleListScroll:w,handleItemResize:x}},render(){const{itemResizable:r,keyField:n,keyToIndex:a,visibleItemsTag:o}=this;return h(VResizeObserver_default,{onResize:this.handleListResize},{default:()=>{var s,l;return h("div",mergeProps(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.onWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(u=>{const f=u[n],d=a.get(f),v=this.$slots.default({item:u,index:d})[0];return r?h(VResizeObserver_default,{key:f,onResize:g=>this.handleItemResize(f,g)},{default:()=>v}):(v.key=f,v)})})]):(l=(s=this.$slots).empty)===null||l===void 0?void 0:l.call(s)])}})}}),hiddenAttr="v-hidden",style2=c3("[v-hidden]",{display:"none!important"}),src_default2=defineComponent({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(r,{slots:n}){const a=ref(null),o=ref(null);function s(){const{value:u}=a,{getCounter:f,getTail:d}=r;let v;if(f!==void 0?v=f():v=o.value,!u||!v)return;v.hasAttribute(hiddenAttr)&&v.removeAttribute(hiddenAttr);const{children:g}=u,y=u.offsetWidth,b=[],_=n.tail?d==null?void 0:d():null;let x=_?_.offsetWidth:0,w=!1;const C=u.children.length-(n.tail?1:0);for(let D=0;D<C-1;++D){if(D<0)continue;const A=g[D];if(w){A.hasAttribute(hiddenAttr)||A.setAttribute(hiddenAttr,"");continue}else A.hasAttribute(hiddenAttr)&&A.removeAttribute(hiddenAttr);const T=A.offsetWidth;if(x+=T,b[D]=T,x>y){const{updateCounter:P}=r;for(let E=D;E>=0;--E){const M=C-1-E;P!==void 0?P(M):v.textContent=`${M}`;const L=v.offsetWidth;if(x-=b[E],x+L<=y||E===0){w=!0,D=E-1,_&&(D===-1?(_.style.maxWidth=`${y-L}px`,_.style.boxSizing="border-box"):_.style.maxWidth="");break}}}}const{onUpdateOverflow:S}=r;w?S!==void 0&&S(!0):(S!==void 0&&S(!1),v.setAttribute(hiddenAttr,""))}const l=useSsrAdapter();return style2.mount({id:"vueuc/overflow",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:l}),onMounted(s),{selfRef:a,counterRef:o,sync:s}},render(){const{$slots:r}=this;return nextTick(this.sync),h("div",{class:"v-overflow",ref:"selfRef"},[renderSlot(r,"default"),r.counter?r.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),r.tail?r.tail():null])}});function isHTMLElement(r){return r instanceof HTMLElement}function focusFirstDescendant(r){for(let n=0;n<r.childNodes.length;n++){const a=r.childNodes[n];if(isHTMLElement(a)&&(attemptFocus(a)||focusFirstDescendant(a)))return!0}return!1}function focusLastDescendant(r){for(let n=r.childNodes.length-1;n>=0;n--){const a=r.childNodes[n];if(isHTMLElement(a)&&(attemptFocus(a)||focusLastDescendant(a)))return!0}return!1}function attemptFocus(r){if(!isFocusable(r))return!1;try{r.focus({preventScroll:!0})}catch(n){}return document.activeElement===r}function isFocusable(r){if(r.tabIndex>0||r.tabIndex===0&&r.getAttribute("tabIndex")!==null)return!0;if(r.getAttribute("disabled"))return!1;switch(r.nodeName){case"A":return!!r.href&&r.rel!=="ignore";case"INPUT":return r.type!=="hidden"&&r.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}var stack2=[],FocusTrap=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(r){const n=createId(),a=ref(null),o=ref(null);let s=!1,l=!1;const u=document.activeElement;function f(){return stack2[stack2.length-1]===n}function d(C){var S;C.code==="Escape"&&f()&&((S=r.onEsc)===null||S===void 0||S.call(r))}onMounted(()=>{watch(()=>r.active,C=>{C?(y(),on("keydown",document,d)):(off("keydown",document,d),s&&b())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,d),s&&b()});function v(C){if(!l&&f()){const S=g();if(S===null||S.contains(C.target))return;_("first")}}function g(){const C=a.value;if(C===null)return null;let S=C;for(;S=S.nextSibling,!(S===null||S instanceof Element&&S.tagName==="DIV"););return S}function y(){var C;if(!r.disabled){if(stack2.push(n),r.autoFocus){const{initialFocusTo:S}=r;S===void 0?_("first"):(C=resolveTo(S))===null||C===void 0||C.focus({preventScroll:!0})}s=!0,document.addEventListener("focus",v,!0)}}function b(){var C;if(r.disabled||(document.removeEventListener("focus",v,!0),stack2=stack2.filter(D=>D!==n),f()))return;const{finalFocusTo:S}=r;S!==void 0?(C=resolveTo(S))===null||C===void 0||C.focus({preventScroll:!0}):r.returnFocusOnDeactivated&&u instanceof HTMLElement&&(l=!0,u.focus({preventScroll:!0}),l=!1)}function _(C){if(!!f()&&r.active){const S=a.value,D=o.value;if(S!==null&&D!==null){const A=g();if(A==null||A===D){l=!0,S.focus({preventScroll:!0}),l=!1;return}l=!0;const T=C==="first"?focusFirstDescendant(A):focusLastDescendant(A);l=!1,T||(l=!0,S.focus({preventScroll:!0}),l=!1)}}}function x(C){if(l)return;const S=g();S!==null&&(C.relatedTarget!==null&&S.contains(C.relatedTarget)?_("last"):_("first"))}function w(C){l||(C.relatedTarget!==null&&C.relatedTarget===a.value?_("last"):_("first"))}return{focusableStartRef:a,focusableEndRef:o,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:x,handleEndFocus:w}},render(){const{default:r}=this.$slots;if(r===void 0)return null;if(this.disabled)return r();const{active:n,focusableStyle:a}=this;return h(Fragment,null,[h("div",{"aria-hidden":"true",tabindex:n?"0":"-1",ref:"focusableStartRef",style:a,onFocus:this.handleStartFocus}),r(),h("div",{"aria-hidden":"true",style:a,ref:"focusableEndRef",tabindex:n?"0":"-1",onFocus:this.handleEndFocus})])}});function useOnResize(r,n){n&&(onMounted(()=>{const{value:a}=r;a&&delegate_default.registerHandler(a,n)}),onBeforeUnmount(()=>{const{value:a}=r;a&&delegate_default.unregisterHandler(a)}))}function useInjectionInstanceCollection(r,n,a){var o;const s=inject(r,null);if(s===null)return;const l=(o=getCurrentInstance())===null||o===void 0?void 0:o.proxy;watch(a,u),u(a.value),onBeforeUnmount(()=>{u(void 0,a.value)});function u(v,g){const y=s[n];g!==void 0&&f(y,g),v!==void 0&&d(y,v)}function f(v,g){v[g]||(v[g]=[]),v[g].splice(v[g].findIndex(y=>y===l),1)}function d(v,g){v[g]||(v[g]=[]),~v[g].findIndex(y=>y===l)||v[g].push(l)}}var formItemInjectionKey=createInjectionKey("n-form-item");function useFormItem(r,{defaultSize:n="medium",mergedSize:a,mergedDisabled:o}={}){const s=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const l=computed2(a?()=>a(s):()=>{const{size:d}=r;if(d)return d;if(s){const{mergedSize:v}=s;if(v.value!==void 0)return v.value}return n}),u=computed2(o?()=>o(s):()=>{const{disabled:d}=r;return d!==void 0?d:s?s.disabled.value:!1}),f=computed2(()=>{const{status:d}=r;return d||(s==null?void 0:s.mergedValidationStatus.value)});return onBeforeUnmount(()=>{s&&s.restoreValidation()}),{mergedSizeRef:l,mergedDisabledRef:u,mergedStatusRef:f,nTriggerFormBlur(){s&&s.handleContentBlur()},nTriggerFormChange(){s&&s.handleContentChange()},nTriggerFormFocus(){s&&s.handleContentFocus()},nTriggerFormInput(){s&&s.handleContentInput()}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal_default=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal_default||freeSelf||Function("return this")(),root_default=root,Symbol2=root_default.Symbol,Symbol_default=Symbol2,objectProto=Object.prototype,hasOwnProperty2=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol_default?Symbol_default.toStringTag:void 0;function getRawTag(r){var n=hasOwnProperty2.call(r,symToStringTag),a=r[symToStringTag];try{r[symToStringTag]=void 0;var o=!0}catch(l){}var s=nativeObjectToString.call(r);return o&&(n?r[symToStringTag]=a:delete r[symToStringTag]),s}var getRawTag_default=getRawTag,objectProto2=Object.prototype,nativeObjectToString2=objectProto2.toString;function objectToString2(r){return nativeObjectToString2.call(r)}var objectToString_default=objectToString2,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag2=Symbol_default?Symbol_default.toStringTag:void 0;function baseGetTag(r){return r==null?r===void 0?undefinedTag:nullTag:symToStringTag2&&symToStringTag2 in Object(r)?getRawTag_default(r):objectToString_default(r)}var baseGetTag_default=baseGetTag;function isObjectLike(r){return r!=null&&typeof r=="object"}var isObjectLike_default=isObjectLike,symbolTag="[object Symbol]";function isSymbol2(r){return typeof r=="symbol"||isObjectLike_default(r)&&baseGetTag_default(r)==symbolTag}var isSymbol_default=isSymbol2;function arrayMap(r,n){for(var a=-1,o=r==null?0:r.length,s=Array(o);++a<o;)s[a]=n(r[a],a,r);return s}var arrayMap_default=arrayMap,isArray2=Array.isArray,isArray_default=isArray2,INFINITY=1/0,symbolProto=Symbol_default?Symbol_default.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(r){if(typeof r=="string")return r;if(isArray_default(r))return arrayMap_default(r,baseToString)+"";if(isSymbol_default(r))return symbolToString?symbolToString.call(r):"";var n=r+"";return n=="0"&&1/r==-INFINITY?"-0":n}var baseToString_default=baseToString;function isObject2(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}var isObject_default=isObject2;function identity(r){return r}var identity_default=identity,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction2(r){if(!isObject_default(r))return!1;var n=baseGetTag_default(r);return n==funcTag||n==genTag||n==asyncTag||n==proxyTag}var isFunction_default=isFunction2,coreJsData=root_default["__core-js_shared__"],coreJsData_default=coreJsData,maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData_default&&coreJsData_default.keys&&coreJsData_default.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}var isMasked_default=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(r){if(r!=null){try{return funcToString.call(r)}catch(n){}try{return r+""}catch(n){}}return""}var toSource_default=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto2=Function.prototype,objectProto3=Object.prototype,funcToString2=funcProto2.toString,hasOwnProperty3=objectProto3.hasOwnProperty,reIsNative=RegExp("^"+funcToString2.call(hasOwnProperty3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(r){if(!isObject_default(r)||isMasked_default(r))return!1;var n=isFunction_default(r)?reIsNative:reIsHostCtor;return n.test(toSource_default(r))}var baseIsNative_default=baseIsNative;function getValue2(r,n){return r==null?void 0:r[n]}var getValue_default=getValue2;function getNative(r,n){var a=getValue_default(r,n);return baseIsNative_default(a)?a:void 0}var getNative_default=getNative,WeakMap2=getNative_default(root_default,"WeakMap"),WeakMap_default=WeakMap2,objectCreate=Object.create,baseCreate=function(){function r(){}return function(n){if(!isObject_default(n))return{};if(objectCreate)return objectCreate(n);r.prototype=n;var a=new r;return r.prototype=void 0,a}}(),baseCreate_default=baseCreate;function apply(r,n,a){switch(a.length){case 0:return r.call(n);case 1:return r.call(n,a[0]);case 2:return r.call(n,a[0],a[1]);case 3:return r.call(n,a[0],a[1],a[2])}return r.apply(n,a)}var apply_default=apply;function copyArray(r,n){var a=-1,o=r.length;for(n||(n=Array(o));++a<o;)n[a]=r[a];return n}var copyArray_default=copyArray,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(r){var n=0,a=0;return function(){var o=nativeNow(),s=HOT_SPAN-(o-a);if(a=o,s>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}var shortOut_default=shortOut;function constant(r){return function(){return r}}var constant_default=constant,defineProperty=function(){try{var r=getNative_default(Object,"defineProperty");return r({},"",{}),r}catch(n){}}(),defineProperty_default=defineProperty,baseSetToString=defineProperty_default?function(r,n){return defineProperty_default(r,"toString",{configurable:!0,enumerable:!1,value:constant_default(n),writable:!0})}:identity_default,baseSetToString_default=baseSetToString,setToString=shortOut_default(baseSetToString_default),setToString_default=setToString,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(r,n){var a=typeof r;return n=n==null?MAX_SAFE_INTEGER:n,!!n&&(a=="number"||a!="symbol"&&reIsUint.test(r))&&r>-1&&r%1==0&&r<n}var isIndex_default=isIndex;function baseAssignValue(r,n,a){n=="__proto__"&&defineProperty_default?defineProperty_default(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}var baseAssignValue_default=baseAssignValue;function eq(r,n){return r===n||r!==r&&n!==n}var eq_default=eq,objectProto4=Object.prototype,hasOwnProperty4=objectProto4.hasOwnProperty;function assignValue(r,n,a){var o=r[n];(!(hasOwnProperty4.call(r,n)&&eq_default(o,a))||a===void 0&&!(n in r))&&baseAssignValue_default(r,n,a)}var assignValue_default=assignValue;function copyObject(r,n,a,o){var s=!a;a||(a={});for(var l=-1,u=n.length;++l<u;){var f=n[l],d=o?o(a[f],r[f],f,a,r):void 0;d===void 0&&(d=r[f]),s?baseAssignValue_default(a,f,d):assignValue_default(a,f,d)}return a}var copyObject_default=copyObject,nativeMax=Math.max;function overRest(r,n,a){return n=nativeMax(n===void 0?r.length-1:n,0),function(){for(var o=arguments,s=-1,l=nativeMax(o.length-n,0),u=Array(l);++s<l;)u[s]=o[n+s];s=-1;for(var f=Array(n+1);++s<n;)f[s]=o[s];return f[n]=a(u),apply_default(r,this,f)}}var overRest_default=overRest;function baseRest(r,n){return setToString_default(overRest_default(r,n,identity_default),r+"")}var baseRest_default=baseRest,MAX_SAFE_INTEGER2=9007199254740991;function isLength(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER2}var isLength_default=isLength;function isArrayLike(r){return r!=null&&isLength_default(r.length)&&!isFunction_default(r)}var isArrayLike_default=isArrayLike;function isIterateeCall(r,n,a){if(!isObject_default(a))return!1;var o=typeof n;return(o=="number"?isArrayLike_default(a)&&isIndex_default(n,a.length):o=="string"&&n in a)?eq_default(a[n],r):!1}var isIterateeCall_default=isIterateeCall;function createAssigner(r){return baseRest_default(function(n,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,u=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&isIterateeCall_default(a[0],a[1],u)&&(l=s<3?void 0:l,s=1),n=Object(n);++o<s;){var f=a[o];f&&r(n,f,o,l)}return n})}var createAssigner_default=createAssigner,objectProto5=Object.prototype;function isPrototype(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||objectProto5;return r===a}var isPrototype_default=isPrototype;function baseTimes(r,n){for(var a=-1,o=Array(r);++a<r;)o[a]=n(a);return o}var baseTimes_default=baseTimes,argsTag="[object Arguments]";function baseIsArguments(r){return isObjectLike_default(r)&&baseGetTag_default(r)==argsTag}var baseIsArguments_default=baseIsArguments,objectProto6=Object.prototype,hasOwnProperty5=objectProto6.hasOwnProperty,propertyIsEnumerable=objectProto6.propertyIsEnumerable,isArguments=baseIsArguments_default(function(){return arguments}())?baseIsArguments_default:function(r){return isObjectLike_default(r)&&hasOwnProperty5.call(r,"callee")&&!propertyIsEnumerable.call(r,"callee")},isArguments_default=isArguments;function stubFalse(){return!1}var stubFalse_default=stubFalse,freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root_default.Buffer:void 0,nativeIsBuffer=Buffer2?Buffer2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse_default,isBuffer_default=isBuffer,argsTag2="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag2="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag2]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag2]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(r){return isObjectLike_default(r)&&isLength_default(r.length)&&!!typedArrayTags[baseGetTag_default(r)]}var baseIsTypedArray_default=baseIsTypedArray;function baseUnary(r){return function(n){return r(n)}}var baseUnary_default=baseUnary,freeExports2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule2=freeExports2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports2=freeModule2&&freeModule2.exports===freeExports2,freeProcess=moduleExports2&&freeGlobal_default.process,nodeUtil=function(){try{var r=freeModule2&&freeModule2.require&&freeModule2.require("util").types;return r||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(n){}}(),nodeUtil_default=nodeUtil,nodeIsTypedArray=nodeUtil_default&&nodeUtil_default.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary_default(nodeIsTypedArray):baseIsTypedArray_default,isTypedArray_default=isTypedArray,objectProto7=Object.prototype,hasOwnProperty6=objectProto7.hasOwnProperty;function arrayLikeKeys(r,n){var a=isArray_default(r),o=!a&&isArguments_default(r),s=!a&&!o&&isBuffer_default(r),l=!a&&!o&&!s&&isTypedArray_default(r),u=a||o||s||l,f=u?baseTimes_default(r.length,String):[],d=f.length;for(var v in r)(n||hasOwnProperty6.call(r,v))&&!(u&&(v=="length"||s&&(v=="offset"||v=="parent")||l&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||isIndex_default(v,d)))&&f.push(v);return f}var arrayLikeKeys_default=arrayLikeKeys;function overArg(r,n){return function(a){return r(n(a))}}var overArg_default=overArg,nativeKeys=overArg_default(Object.keys,Object),nativeKeys_default=nativeKeys,objectProto8=Object.prototype,hasOwnProperty7=objectProto8.hasOwnProperty;function baseKeys(r){if(!isPrototype_default(r))return nativeKeys_default(r);var n=[];for(var a in Object(r))hasOwnProperty7.call(r,a)&&a!="constructor"&&n.push(a);return n}var baseKeys_default=baseKeys;function keys(r){return isArrayLike_default(r)?arrayLikeKeys_default(r):baseKeys_default(r)}var keys_default=keys;function nativeKeysIn(r){var n=[];if(r!=null)for(var a in Object(r))n.push(a);return n}var nativeKeysIn_default=nativeKeysIn,objectProto9=Object.prototype,hasOwnProperty8=objectProto9.hasOwnProperty;function baseKeysIn(r){if(!isObject_default(r))return nativeKeysIn_default(r);var n=isPrototype_default(r),a=[];for(var o in r)o=="constructor"&&(n||!hasOwnProperty8.call(r,o))||a.push(o);return a}var baseKeysIn_default=baseKeysIn;function keysIn(r){return isArrayLike_default(r)?arrayLikeKeys_default(r,!0):baseKeysIn_default(r)}var keysIn_default=keysIn,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(r,n){if(isArray_default(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||isSymbol_default(r)?!0:reIsPlainProp.test(r)||!reIsDeepProp.test(r)||n!=null&&r in Object(n)}var isKey_default=isKey,nativeCreate=getNative_default(Object,"create"),nativeCreate_default=nativeCreate;function hashClear(){this.__data__=nativeCreate_default?nativeCreate_default(null):{},this.size=0}var hashClear_default=hashClear;function hashDelete(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}var hashDelete_default=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto10=Object.prototype,hasOwnProperty9=objectProto10.hasOwnProperty;function hashGet(r){var n=this.__data__;if(nativeCreate_default){var a=n[r];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty9.call(n,r)?n[r]:void 0}var hashGet_default=hashGet,objectProto11=Object.prototype,hasOwnProperty10=objectProto11.hasOwnProperty;function hashHas(r){var n=this.__data__;return nativeCreate_default?n[r]!==void 0:hasOwnProperty10.call(n,r)}var hashHas_default=hashHas,HASH_UNDEFINED2="__lodash_hash_undefined__";function hashSet(r,n){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=nativeCreate_default&&n===void 0?HASH_UNDEFINED2:n,this}var hashSet_default=hashSet;function Hash(r){var n=-1,a=r==null?0:r.length;for(this.clear();++n<a;){var o=r[n];this.set(o[0],o[1])}}Hash.prototype.clear=hashClear_default,Hash.prototype.delete=hashDelete_default,Hash.prototype.get=hashGet_default,Hash.prototype.has=hashHas_default,Hash.prototype.set=hashSet_default;var Hash_default=Hash;function listCacheClear(){this.__data__=[],this.size=0}var listCacheClear_default=listCacheClear;function assocIndexOf(r,n){for(var a=r.length;a--;)if(eq_default(r[a][0],n))return a;return-1}var assocIndexOf_default=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(r){var n=this.__data__,a=assocIndexOf_default(n,r);if(a<0)return!1;var o=n.length-1;return a==o?n.pop():splice.call(n,a,1),--this.size,!0}var listCacheDelete_default=listCacheDelete;function listCacheGet(r){var n=this.__data__,a=assocIndexOf_default(n,r);return a<0?void 0:n[a][1]}var listCacheGet_default=listCacheGet;function listCacheHas(r){return assocIndexOf_default(this.__data__,r)>-1}var listCacheHas_default=listCacheHas;function listCacheSet(r,n){var a=this.__data__,o=assocIndexOf_default(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}var listCacheSet_default=listCacheSet;function ListCache(r){var n=-1,a=r==null?0:r.length;for(this.clear();++n<a;){var o=r[n];this.set(o[0],o[1])}}ListCache.prototype.clear=listCacheClear_default,ListCache.prototype.delete=listCacheDelete_default,ListCache.prototype.get=listCacheGet_default,ListCache.prototype.has=listCacheHas_default,ListCache.prototype.set=listCacheSet_default;var ListCache_default=ListCache,Map2=getNative_default(root_default,"Map"),Map_default=Map2;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash_default,map:new(Map_default||ListCache_default),string:new Hash_default}}var mapCacheClear_default=mapCacheClear;function isKeyable(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}var isKeyable_default=isKeyable;function getMapData(r,n){var a=r.__data__;return isKeyable_default(n)?a[typeof n=="string"?"string":"hash"]:a.map}var getMapData_default=getMapData;function mapCacheDelete(r){var n=getMapData_default(this,r).delete(r);return this.size-=n?1:0,n}var mapCacheDelete_default=mapCacheDelete;function mapCacheGet(r){return getMapData_default(this,r).get(r)}var mapCacheGet_default=mapCacheGet;function mapCacheHas(r){return getMapData_default(this,r).has(r)}var mapCacheHas_default=mapCacheHas;function mapCacheSet(r,n){var a=getMapData_default(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}var mapCacheSet_default=mapCacheSet;function MapCache(r){var n=-1,a=r==null?0:r.length;for(this.clear();++n<a;){var o=r[n];this.set(o[0],o[1])}}MapCache.prototype.clear=mapCacheClear_default,MapCache.prototype.delete=mapCacheDelete_default,MapCache.prototype.get=mapCacheGet_default,MapCache.prototype.has=mapCacheHas_default,MapCache.prototype.set=mapCacheSet_default;var MapCache_default=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var o=arguments,s=n?n.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=r.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(memoize.Cache||MapCache_default),a}memoize.Cache=MapCache_default;var memoize_default=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(r){var n=memoize_default(r,function(o){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),o}),a=n.cache;return n}var memoizeCapped_default=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped_default(function(r){var n=[];return r.charCodeAt(0)===46&&n.push(""),r.replace(rePropName,function(a,o,s,l){n.push(s?l.replace(reEscapeChar,"$1"):o||a)}),n}),stringToPath_default=stringToPath;function toString(r){return r==null?"":baseToString_default(r)}var toString_default=toString;function castPath(r,n){return isArray_default(r)?r:isKey_default(r,n)?[r]:stringToPath_default(toString_default(r))}var castPath_default=castPath,INFINITY2=1/0;function toKey(r){if(typeof r=="string"||isSymbol_default(r))return r;var n=r+"";return n=="0"&&1/r==-INFINITY2?"-0":n}var toKey_default=toKey;function baseGet(r,n){n=castPath_default(n,r);for(var a=0,o=n.length;r!=null&&a<o;)r=r[toKey_default(n[a++])];return a&&a==o?r:void 0}var baseGet_default=baseGet;function get2(r,n,a){var o=r==null?void 0:baseGet_default(r,n);return o===void 0?a:o}var get_default=get2;function arrayPush(r,n){for(var a=-1,o=n.length,s=r.length;++a<o;)r[s+a]=n[a];return r}var arrayPush_default=arrayPush,getPrototype=overArg_default(Object.getPrototypeOf,Object),getPrototype_default=getPrototype,objectTag2="[object Object]",funcProto3=Function.prototype,objectProto12=Object.prototype,funcToString3=funcProto3.toString,hasOwnProperty11=objectProto12.hasOwnProperty,objectCtorString=funcToString3.call(Object);function isPlainObject2(r){if(!isObjectLike_default(r)||baseGetTag_default(r)!=objectTag2)return!1;var n=getPrototype_default(r);if(n===null)return!0;var a=hasOwnProperty11.call(n,"constructor")&&n.constructor;return typeof a=="function"&&a instanceof a&&funcToString3.call(a)==objectCtorString}var isPlainObject_default=isPlainObject2;function baseSlice(r,n,a){var o=-1,s=r.length;n<0&&(n=-n>s?0:s+n),a=a>s?s:a,a<0&&(a+=s),s=n>a?0:a-n>>>0,n>>>=0;for(var l=Array(s);++o<s;)l[o]=r[o+n];return l}var baseSlice_default=baseSlice;function castSlice(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:baseSlice_default(r,n,a)}var castSlice_default=castSlice,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(r){return reHasUnicode.test(r)}var hasUnicode_default=hasUnicode;function asciiToArray(r){return r.split("")}var asciiToArray_default=asciiToArray,rsAstralRange2="\\ud800-\\udfff",rsComboMarksRange2="\\u0300-\\u036f",reComboHalfMarksRange2="\\ufe20-\\ufe2f",rsComboSymbolsRange2="\\u20d0-\\u20ff",rsComboRange2=rsComboMarksRange2+reComboHalfMarksRange2+rsComboSymbolsRange2,rsVarRange2="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange2+"]",rsCombo="["+rsComboRange2+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange2+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ2="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange2+"]?",rsOptJoin="(?:"+rsZWJ2+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(r){return r.match(reUnicode)||[]}var unicodeToArray_default=unicodeToArray;function stringToArray(r){return hasUnicode_default(r)?unicodeToArray_default(r):asciiToArray_default(r)}var stringToArray_default=stringToArray;function createCaseFirst(r){return function(n){n=toString_default(n);var a=hasUnicode_default(n)?stringToArray_default(n):void 0,o=a?a[0]:n.charAt(0),s=a?castSlice_default(a,1).join(""):n.slice(1);return o[r]()+s}}var createCaseFirst_default=createCaseFirst,upperFirst=createCaseFirst_default("toUpperCase"),upperFirst_default=upperFirst;function stackClear(){this.__data__=new ListCache_default,this.size=0}var stackClear_default=stackClear;function stackDelete(r){var n=this.__data__,a=n.delete(r);return this.size=n.size,a}var stackDelete_default=stackDelete;function stackGet(r){return this.__data__.get(r)}var stackGet_default=stackGet;function stackHas(r){return this.__data__.has(r)}var stackHas_default=stackHas,LARGE_ARRAY_SIZE=200;function stackSet(r,n){var a=this.__data__;if(a instanceof ListCache_default){var o=a.__data__;if(!Map_default||o.length<LARGE_ARRAY_SIZE-1)return o.push([r,n]),this.size=++a.size,this;a=this.__data__=new MapCache_default(o)}return a.set(r,n),this.size=a.size,this}var stackSet_default=stackSet;function Stack(r){var n=this.__data__=new ListCache_default(r);this.size=n.size}Stack.prototype.clear=stackClear_default,Stack.prototype.delete=stackDelete_default,Stack.prototype.get=stackGet_default,Stack.prototype.has=stackHas_default,Stack.prototype.set=stackSet_default;var Stack_default=Stack,freeExports3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule3=freeExports3&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports3=freeModule3&&freeModule3.exports===freeExports3,Buffer3=moduleExports3?root_default.Buffer:void 0,allocUnsafe=Buffer3?Buffer3.allocUnsafe:void 0;function cloneBuffer(r,n){if(n)return r.slice();var a=r.length,o=allocUnsafe?allocUnsafe(a):new r.constructor(a);return r.copy(o),o}var cloneBuffer_default=cloneBuffer;function arrayFilter(r,n){for(var a=-1,o=r==null?0:r.length,s=0,l=[];++a<o;){var u=r[a];n(u,a,r)&&(l[s++]=u)}return l}var arrayFilter_default=arrayFilter;function stubArray(){return[]}var stubArray_default=stubArray,objectProto13=Object.prototype,propertyIsEnumerable2=objectProto13.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(r){return r==null?[]:(r=Object(r),arrayFilter_default(nativeGetSymbols(r),function(n){return propertyIsEnumerable2.call(r,n)}))}:stubArray_default,getSymbols_default=getSymbols;function baseGetAllKeys(r,n,a){var o=n(r);return isArray_default(r)?o:arrayPush_default(o,a(r))}var baseGetAllKeys_default=baseGetAllKeys;function getAllKeys(r){return baseGetAllKeys_default(r,keys_default,getSymbols_default)}var getAllKeys_default=getAllKeys,DataView2=getNative_default(root_default,"DataView"),DataView_default=DataView2,Promise2=getNative_default(root_default,"Promise"),Promise_default=Promise2,Set2=getNative_default(root_default,"Set"),Set_default=Set2,mapTag2="[object Map]",objectTag3="[object Object]",promiseTag="[object Promise]",setTag2="[object Set]",weakMapTag2="[object WeakMap]",dataViewTag2="[object DataView]",dataViewCtorString=toSource_default(DataView_default),mapCtorString=toSource_default(Map_default),promiseCtorString=toSource_default(Promise_default),setCtorString=toSource_default(Set_default),weakMapCtorString=toSource_default(WeakMap_default),getTag=baseGetTag_default;(DataView_default&&getTag(new DataView_default(new ArrayBuffer(1)))!=dataViewTag2||Map_default&&getTag(new Map_default)!=mapTag2||Promise_default&&getTag(Promise_default.resolve())!=promiseTag||Set_default&&getTag(new Set_default)!=setTag2||WeakMap_default&&getTag(new WeakMap_default)!=weakMapTag2)&&(getTag=function(r){var n=baseGetTag_default(r),a=n==objectTag3?r.constructor:void 0,o=a?toSource_default(a):"";if(o)switch(o){case dataViewCtorString:return dataViewTag2;case mapCtorString:return mapTag2;case promiseCtorString:return promiseTag;case setCtorString:return setTag2;case weakMapCtorString:return weakMapTag2}return n});var getTag_default=getTag,Uint8Array2=root_default.Uint8Array,Uint8Array_default=Uint8Array2;function cloneArrayBuffer(r){var n=new r.constructor(r.byteLength);return new Uint8Array_default(n).set(new Uint8Array_default(r)),n}var cloneArrayBuffer_default=cloneArrayBuffer;function cloneTypedArray(r,n){var a=n?cloneArrayBuffer_default(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}var cloneTypedArray_default=cloneTypedArray;function initCloneObject(r){return typeof r.constructor=="function"&&!isPrototype_default(r)?baseCreate_default(getPrototype_default(r)):{}}var initCloneObject_default=initCloneObject,HASH_UNDEFINED3="__lodash_hash_undefined__";function setCacheAdd(r){return this.__data__.set(r,HASH_UNDEFINED3),this}var setCacheAdd_default=setCacheAdd;function setCacheHas(r){return this.__data__.has(r)}var setCacheHas_default=setCacheHas;function SetCache(r){var n=-1,a=r==null?0:r.length;for(this.__data__=new MapCache_default;++n<a;)this.add(r[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd_default,SetCache.prototype.has=setCacheHas_default;var SetCache_default=SetCache;function arraySome(r,n){for(var a=-1,o=r==null?0:r.length;++a<o;)if(n(r[a],a,r))return!0;return!1}var arraySome_default=arraySome;function cacheHas(r,n){return r.has(n)}var cacheHas_default=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(r,n,a,o,s,l){var u=a&COMPARE_PARTIAL_FLAG,f=r.length,d=n.length;if(f!=d&&!(u&&d>f))return!1;var v=l.get(r),g=l.get(n);if(v&&g)return v==n&&g==r;var y=-1,b=!0,_=a&COMPARE_UNORDERED_FLAG?new SetCache_default:void 0;for(l.set(r,n),l.set(n,r);++y<f;){var x=r[y],w=n[y];if(o)var C=u?o(w,x,y,n,r,l):o(x,w,y,r,n,l);if(C!==void 0){if(C)continue;b=!1;break}if(_){if(!arraySome_default(n,function(S,D){if(!cacheHas_default(_,D)&&(x===S||s(x,S,a,o,l)))return _.push(D)})){b=!1;break}}else if(!(x===w||s(x,w,a,o,l))){b=!1;break}}return l.delete(r),l.delete(n),b}var equalArrays_default=equalArrays;function mapToArray(r){var n=-1,a=Array(r.size);return r.forEach(function(o,s){a[++n]=[s,o]}),a}var mapToArray_default=mapToArray;function setToArray(r){var n=-1,a=Array(r.size);return r.forEach(function(o){a[++n]=o}),a}var setToArray_default=setToArray,COMPARE_PARTIAL_FLAG2=1,COMPARE_UNORDERED_FLAG2=2,boolTag2="[object Boolean]",dateTag2="[object Date]",errorTag2="[object Error]",mapTag3="[object Map]",numberTag2="[object Number]",regexpTag2="[object RegExp]",setTag3="[object Set]",stringTag2="[object String]",symbolTag2="[object Symbol]",arrayBufferTag2="[object ArrayBuffer]",dataViewTag3="[object DataView]",symbolProto2=Symbol_default?Symbol_default.prototype:void 0,symbolValueOf=symbolProto2?symbolProto2.valueOf:void 0;function equalByTag(r,n,a,o,s,l,u){switch(a){case dataViewTag3:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case arrayBufferTag2:return!(r.byteLength!=n.byteLength||!l(new Uint8Array_default(r),new Uint8Array_default(n)));case boolTag2:case dateTag2:case numberTag2:return eq_default(+r,+n);case errorTag2:return r.name==n.name&&r.message==n.message;case regexpTag2:case stringTag2:return r==n+"";case mapTag3:var f=mapToArray_default;case setTag3:var d=o&COMPARE_PARTIAL_FLAG2;if(f||(f=setToArray_default),r.size!=n.size&&!d)return!1;var v=u.get(r);if(v)return v==n;o|=COMPARE_UNORDERED_FLAG2,u.set(r,n);var g=equalArrays_default(f(r),f(n),o,s,l,u);return u.delete(r),g;case symbolTag2:if(symbolValueOf)return symbolValueOf.call(r)==symbolValueOf.call(n)}return!1}var equalByTag_default=equalByTag,COMPARE_PARTIAL_FLAG3=1,objectProto14=Object.prototype,hasOwnProperty12=objectProto14.hasOwnProperty;function equalObjects(r,n,a,o,s,l){var u=a&COMPARE_PARTIAL_FLAG3,f=getAllKeys_default(r),d=f.length,v=getAllKeys_default(n),g=v.length;if(d!=g&&!u)return!1;for(var y=d;y--;){var b=f[y];if(!(u?b in n:hasOwnProperty12.call(n,b)))return!1}var _=l.get(r),x=l.get(n);if(_&&x)return _==n&&x==r;var w=!0;l.set(r,n),l.set(n,r);for(var C=u;++y<d;){b=f[y];var S=r[b],D=n[b];if(o)var A=u?o(D,S,b,n,r,l):o(S,D,b,r,n,l);if(!(A===void 0?S===D||s(S,D,a,o,l):A)){w=!1;break}C||(C=b=="constructor")}if(w&&!C){var T=r.constructor,P=n.constructor;T!=P&&"constructor"in r&&"constructor"in n&&!(typeof T=="function"&&T instanceof T&&typeof P=="function"&&P instanceof P)&&(w=!1)}return l.delete(r),l.delete(n),w}var equalObjects_default=equalObjects,COMPARE_PARTIAL_FLAG4=1,argsTag3="[object Arguments]",arrayTag2="[object Array]",objectTag4="[object Object]",objectProto15=Object.prototype,hasOwnProperty13=objectProto15.hasOwnProperty;function baseIsEqualDeep(r,n,a,o,s,l){var u=isArray_default(r),f=isArray_default(n),d=u?arrayTag2:getTag_default(r),v=f?arrayTag2:getTag_default(n);d=d==argsTag3?objectTag4:d,v=v==argsTag3?objectTag4:v;var g=d==objectTag4,y=v==objectTag4,b=d==v;if(b&&isBuffer_default(r)){if(!isBuffer_default(n))return!1;u=!0,g=!1}if(b&&!g)return l||(l=new Stack_default),u||isTypedArray_default(r)?equalArrays_default(r,n,a,o,s,l):equalByTag_default(r,n,d,a,o,s,l);if(!(a&COMPARE_PARTIAL_FLAG4)){var _=g&&hasOwnProperty13.call(r,"__wrapped__"),x=y&&hasOwnProperty13.call(n,"__wrapped__");if(_||x){var w=_?r.value():r,C=x?n.value():n;return l||(l=new Stack_default),s(w,C,a,o,l)}}return b?(l||(l=new Stack_default),equalObjects_default(r,n,a,o,s,l)):!1}var baseIsEqualDeep_default=baseIsEqualDeep;function baseIsEqual(r,n,a,o,s){return r===n?!0:r==null||n==null||!isObjectLike_default(r)&&!isObjectLike_default(n)?r!==r&&n!==n:baseIsEqualDeep_default(r,n,a,o,baseIsEqual,s)}var baseIsEqual_default=baseIsEqual,COMPARE_PARTIAL_FLAG5=1,COMPARE_UNORDERED_FLAG3=2;function baseIsMatch(r,n,a,o){var s=a.length,l=s,u=!o;if(r==null)return!l;for(r=Object(r);s--;){var f=a[s];if(u&&f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++s<l;){f=a[s];var d=f[0],v=r[d],g=f[1];if(u&&f[2]){if(v===void 0&&!(d in r))return!1}else{var y=new Stack_default;if(o)var b=o(v,g,d,r,n,y);if(!(b===void 0?baseIsEqual_default(g,v,COMPARE_PARTIAL_FLAG5|COMPARE_UNORDERED_FLAG3,o,y):b))return!1}}return!0}var baseIsMatch_default=baseIsMatch;function isStrictComparable(r){return r===r&&!isObject_default(r)}var isStrictComparable_default=isStrictComparable;function getMatchData(r){for(var n=keys_default(r),a=n.length;a--;){var o=n[a],s=r[o];n[a]=[o,s,isStrictComparable_default(s)]}return n}var getMatchData_default=getMatchData;function matchesStrictComparable(r,n){return function(a){return a==null?!1:a[r]===n&&(n!==void 0||r in Object(a))}}var matchesStrictComparable_default=matchesStrictComparable;function baseMatches(r){var n=getMatchData_default(r);return n.length==1&&n[0][2]?matchesStrictComparable_default(n[0][0],n[0][1]):function(a){return a===r||baseIsMatch_default(a,r,n)}}var baseMatches_default=baseMatches;function baseHasIn(r,n){return r!=null&&n in Object(r)}var baseHasIn_default=baseHasIn;function hasPath(r,n,a){n=castPath_default(n,r);for(var o=-1,s=n.length,l=!1;++o<s;){var u=toKey_default(n[o]);if(!(l=r!=null&&a(r,u)))break;r=r[u]}return l||++o!=s?l:(s=r==null?0:r.length,!!s&&isLength_default(s)&&isIndex_default(u,s)&&(isArray_default(r)||isArguments_default(r)))}var hasPath_default=hasPath;function hasIn(r,n){return r!=null&&hasPath_default(r,n,baseHasIn_default)}var hasIn_default=hasIn,COMPARE_PARTIAL_FLAG6=1,COMPARE_UNORDERED_FLAG4=2;function baseMatchesProperty(r,n){return isKey_default(r)&&isStrictComparable_default(n)?matchesStrictComparable_default(toKey_default(r),n):function(a){var o=get_default(a,r);return o===void 0&&o===n?hasIn_default(a,r):baseIsEqual_default(n,o,COMPARE_PARTIAL_FLAG6|COMPARE_UNORDERED_FLAG4)}}var baseMatchesProperty_default=baseMatchesProperty;function baseProperty(r){return function(n){return n==null?void 0:n[r]}}var baseProperty_default=baseProperty;function basePropertyDeep(r){return function(n){return baseGet_default(n,r)}}var basePropertyDeep_default=basePropertyDeep;function property(r){return isKey_default(r)?baseProperty_default(toKey_default(r)):basePropertyDeep_default(r)}var property_default=property;function baseIteratee(r){return typeof r=="function"?r:r==null?identity_default:typeof r=="object"?isArray_default(r)?baseMatchesProperty_default(r[0],r[1]):baseMatches_default(r):property_default(r)}var baseIteratee_default=baseIteratee;function createBaseFor(r){return function(n,a,o){for(var s=-1,l=Object(n),u=o(n),f=u.length;f--;){var d=u[r?f:++s];if(a(l[d],d,l)===!1)break}return n}}var createBaseFor_default=createBaseFor,baseFor=createBaseFor_default(),baseFor_default=baseFor;function baseForOwn(r,n){return r&&baseFor_default(r,n,keys_default)}var baseForOwn_default=baseForOwn;function createBaseEach(r,n){return function(a,o){if(a==null)return a;if(!isArrayLike_default(a))return r(a,o);for(var s=a.length,l=n?s:-1,u=Object(a);(n?l--:++l<s)&&o(u[l],l,u)!==!1;);return a}}var createBaseEach_default=createBaseEach,baseEach=createBaseEach_default(baseForOwn_default),baseEach_default=baseEach;function assignMergeValue(r,n,a){(a!==void 0&&!eq_default(r[n],a)||a===void 0&&!(n in r))&&baseAssignValue_default(r,n,a)}var assignMergeValue_default=assignMergeValue;function isArrayLikeObject(r){return isObjectLike_default(r)&&isArrayLike_default(r)}var isArrayLikeObject_default=isArrayLikeObject;function safeGet(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}var safeGet_default=safeGet;function toPlainObject(r){return copyObject_default(r,keysIn_default(r))}var toPlainObject_default=toPlainObject;function baseMergeDeep(r,n,a,o,s,l,u){var f=safeGet_default(r,a),d=safeGet_default(n,a),v=u.get(d);if(v){assignMergeValue_default(r,a,v);return}var g=l?l(f,d,a+"",r,n,u):void 0,y=g===void 0;if(y){var b=isArray_default(d),_=!b&&isBuffer_default(d),x=!b&&!_&&isTypedArray_default(d);g=d,b||_||x?isArray_default(f)?g=f:isArrayLikeObject_default(f)?g=copyArray_default(f):_?(y=!1,g=cloneBuffer_default(d,!0)):x?(y=!1,g=cloneTypedArray_default(d,!0)):g=[]:isPlainObject_default(d)||isArguments_default(d)?(g=f,isArguments_default(f)?g=toPlainObject_default(f):(!isObject_default(f)||isFunction_default(f))&&(g=initCloneObject_default(d))):y=!1}y&&(u.set(d,g),s(g,d,o,l,u),u.delete(d)),assignMergeValue_default(r,a,g)}var baseMergeDeep_default=baseMergeDeep;function baseMerge(r,n,a,o,s){r!==n&&baseFor_default(n,function(l,u){if(s||(s=new Stack_default),isObject_default(l))baseMergeDeep_default(r,n,u,a,baseMerge,o,s);else{var f=o?o(safeGet_default(r,u),l,u+"",r,n,s):void 0;f===void 0&&(f=l),assignMergeValue_default(r,u,f)}},keysIn_default)}var baseMerge_default=baseMerge;function baseMap(r,n){var a=-1,o=isArrayLike_default(r)?Array(r.length):[];return baseEach_default(r,function(s,l,u){o[++a]=n(s,l,u)}),o}var baseMap_default=baseMap;function map2(r,n){var a=isArray_default(r)?arrayMap_default:baseMap_default;return a(r,baseIteratee_default(n,3))}var map_default=map2,merge=createAssigner_default(function(r,n,a){baseMerge_default(r,n,a)}),merge_default=merge,common_default={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize,fontFamily,lineHeight}=common_default,index_cssr_default=c2("body",`
 margin: 0;
 font-size: ${fontSize};
 font-family: ${fontFamily};
 line-height: ${lineHeight};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[c2("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),configProviderInjectionKey=createInjectionKey("n-config-provider"),cssrAnchorMetaName2="naive-ui-style";function createTheme(r){return r}function useTheme(r,n,a,o,s,l){const u=useSsrAdapter();if(a){const v=()=>{const g=l==null?void 0:l.value;a.mount({id:g===void 0?n:g+n,head:!0,props:{bPrefix:g?`.${g}-`:void 0},anchorMetaName:cssrAnchorMetaName2,ssr:u}),index_cssr_default.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName2,ssr:u})};u?v():onBeforeMount(v)}const f=inject(configProviderInjectionKey,null);return computed2(()=>{var v;const{theme:{common:g,self:y,peers:b={}}={},themeOverrides:_={},builtinThemeOverrides:x={}}=s,{common:w,peers:C}=_,{common:S=void 0,[r]:{common:D=void 0,self:A=void 0,peers:T={}}={}}=(f==null?void 0:f.mergedThemeRef.value)||{},{common:P=void 0,[r]:E={}}=(f==null?void 0:f.mergedThemeOverridesRef.value)||{},{common:M,peers:L={}}=E,F=merge_default({},g||D||S||o.common,P,M,w),I=merge_default((v=y||A||o.self)===null||v===void 0?void 0:v(F),x,E,_);return{common:F,self:I,peers:merge_default({},o.peers,T,b),peerOverrides:merge_default({},L,C)}})}useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};var use_theme_default=useTheme,defaultClsPrefix="n";function useConfig(r={},n={defaultBordered:!0}){const a=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:a==null?void 0:a.inlineThemeDisabled,mergedRtlRef:a==null?void 0:a.mergedRtlRef,mergedComponentPropsRef:a==null?void 0:a.mergedComponentPropsRef,mergedBreakpointsRef:a==null?void 0:a.mergedBreakpointsRef,mergedBorderedRef:computed2(()=>{var o,s;const{bordered:l}=r;return l!==void 0?l:(s=(o=a==null?void 0:a.mergedBorderedRef.value)!==null&&o!==void 0?o:n.defaultBordered)!==null&&s!==void 0?s:!0}),mergedClsPrefixRef:computed2(()=>(a==null?void 0:a.mergedClsPrefixRef.value)||defaultClsPrefix),namespaceRef:computed2(()=>a==null?void 0:a.mergedNamespaceRef.value)}}var enUS={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:r=>`Please load all ${r}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},Transfer:{sourceTitle:"Source",targetTitle:"Target"},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)"}},enUS_default=enUS,import_en_US=__toModule(require_en_US()),dateEnUs={name:"en-US",locale:import_en_US.default},enUS_default2=dateEnUs;function useLocale(r){const{mergedLocaleRef:n,mergedDateLocaleRef:a}=inject(configProviderInjectionKey,null)||{},o=computed2(()=>{var l,u;return(u=(l=n==null?void 0:n.value)===null||l===void 0?void 0:l[r])!==null&&u!==void 0?u:enUS_default[r]});return{dateLocaleRef:computed2(()=>{var l;return(l=a==null?void 0:a.value)!==null&&l!==void 0?l:enUS_default2}),localeRef:o}}function useStyle(r,n,a){if(!n){throwError("use-style","No style is specified.");return}const o=useSsrAdapter(),s=()=>{const l=a==null?void 0:a.value;n.mount({id:l===void 0?r:l+r,head:!0,anchorMetaName:cssrAnchorMetaName2,props:{bPrefix:l?`.${l}-`:void 0},ssr:o}),index_cssr_default.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName2,ssr:o})};o?s():onBeforeMount(s)}function useThemeClass(r,n,a,o){var s;a||throwError("useThemeClass","cssVarsRef is not passed");const l=(s=inject(configProviderInjectionKey,null))===null||s===void 0?void 0:s.mergedThemeHashRef,u=ref(""),f=useSsrAdapter();let d;const v=`__${r}`,g=()=>{let y=v;const b=n?n.value:void 0,_=l==null?void 0:l.value;_&&(y+="-"+_),b&&(y+="-"+b);const{themeOverrides:x,builtinThemeOverrides:w}=o;x&&(y+="-"+hash_browser_esm_default(JSON.stringify(x))),w&&(y+="-"+hash_browser_esm_default(JSON.stringify(w))),u.value=y,d=()=>{const C=a.value;let S="";for(const D in C)S+=`${D}: ${C[D]};`;c2(`.${y}`,S).mount({id:y,ssr:f}),d=void 0}};return watchEffect(()=>{g()}),{themeClass:u,onRender:()=>{d==null||d()}}}var Add_default=defineComponent({name:"Add",render(){return h("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),ArrowDown_default=defineComponent({name:"ArrowDown",render(){return h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),ArrowUp_default=defineComponent({name:"ArrowUp",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}});function replaceable(r,n){return defineComponent({name:upperFirst_default(r),setup(){var a;const o=(a=inject(configProviderInjectionKey,null))===null||a===void 0?void 0:a.mergedIconsRef;return()=>{var s;const l=(s=o==null?void 0:o.value)===null||s===void 0?void 0:s[r];return l?l():n}}})}var Backward_default=defineComponent({name:"Backward",render(){return h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),Checkmark_default=defineComponent({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Close_default=replaceable("close",h("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),Eye_default=defineComponent({name:"Eye",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),h("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),EyeOff_default=defineComponent({name:"EyeOff",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),h("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),h("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),h("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),h("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Empty_default=defineComponent({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),FastBackward_default=defineComponent({name:"FastBackward",render(){return h("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),FastForward_default=defineComponent({name:"FastForward",render(){return h("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),Forward_default=defineComponent({name:"Forward",render(){return h("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),More_default=defineComponent({name:"More",render(){return h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),Remove_default=defineComponent({name:"Remove",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),ChevronDown_default=defineComponent({name:"ChevronDown",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),Clear_default=replaceable("clear",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),IconSwitchTransition_default=defineComponent({name:"BaseIconSwitchTransition",setup(r,{slots:n}){const a=isMounted();return()=>h(Transition,{name:"icon-switch-transition",appear:a.value},n)}}),FadeInExpandTransition_default=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(r,{slots:n}){function a(f){r.width?f.style.maxWidth=`${f.offsetWidth}px`:f.style.maxHeight=`${f.offsetHeight}px`,f.offsetWidth}function o(f){r.width?f.style.maxWidth="0":f.style.maxHeight="0",f.offsetWidth;const{onLeave:d}=r;d&&d()}function s(f){r.width?f.style.maxWidth="":f.style.maxHeight="";const{onAfterLeave:d}=r;d&&d()}function l(f){if(f.style.transition="none",r.width){const d=f.offsetWidth;f.style.maxWidth="0",f.offsetWidth,f.style.transition="",f.style.maxWidth=`${d}px`}else if(r.reverse)f.style.maxHeight=`${f.offsetHeight}px`,f.offsetHeight,f.style.transition="",f.style.maxHeight="0";else{const d=f.offsetHeight;f.style.maxHeight="0",f.offsetWidth,f.style.transition="",f.style.maxHeight=`${d}px`}f.offsetWidth}function u(f){var d;r.width?f.style.maxWidth="":r.reverse||(f.style.maxHeight=""),(d=r.onAfterEnter)===null||d===void 0||d.call(r)}return()=>{const f=r.group?TransitionGroup:Transition;return h(f,{name:r.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:r.mode,appear:r.appear,onEnter:l,onAfterEnter:u,onBeforeLeave:a,onLeave:o,onAfterLeave:s},n)}}}),index_cssr_default2=cB("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[c2("svg",{height:"1em",width:"1em"})]),Icon_default=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(r){useStyle("-base-icon",index_cssr_default2,toRef(r,"clsPrefix"))},render(){return h("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),index_cssr_default3=cB("base-close",`
 cursor: pointer;
 color: var(--n-close-color);
`,[c2("&:hover",{color:"var(--n-close-color-hover)"}),c2("&:active",{color:"var(--n-close-color-pressed)"}),cM("disabled",{cursor:"not-allowed!important",color:"var(--n-close-color-disabled)"})]),Close_default2=defineComponent({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},onClick:Function},setup(r){return useStyle("-base-close",index_cssr_default3,toRef(r,"clsPrefix")),()=>{const{clsPrefix:n,disabled:a}=r;return h(Icon_default,{role:"button",ariaDisabled:a,ariaLabel:"close",clsPrefix:n,class:[`${n}-base-close`,a&&`${n}-base-close--disabled`],onClick:a?void 0:r.onClick},{default:()=>h(Close_default,null)})}}}),FocusDetector_default=defineComponent({props:{onFocus:Function,onBlur:Function},setup(r){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:r.onFocus,onBlur:r.onBlur})}}),focus_detector_default=FocusDetector_default,{cubicBezierEaseInOut}=common_default;function icon_switch_cssr_default({originalTransform:r="",left:n=0,top:a=0,transition:o=`all .3s ${cubicBezierEaseInOut} !important`}={}){return[c2("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:r+" scale(0.75)",left:n,top:a,opacity:0}),c2("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${r}`,left:n,top:a,opacity:1}),c2("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:n,top:a,transition:o})]}var index_cssr_default4=c2([c2("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),c2("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),c2("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),c2("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),cB("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[cE("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[icon_switch_cssr_default()]),cE("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[cE("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),cE("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[cE("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),cE("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),cE("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),cE("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[icon_switch_cssr_default({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Loading_default=defineComponent({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(r){useStyle("-base-loading",index_cssr_default4,toRef(r,"clsPrefix"))},render(){const{clsPrefix:r,radius:n,strokeWidth:a,stroke:o,scale:s}=this,l=n/s;return h("div",{class:`${r}-base-loading`,role:"img","aria-label":"loading"},h(IconSwitchTransition_default,null,{default:()=>this.show?h("div",{key:"icon",class:`${r}-base-loading__transition-wrapper`},h("div",{class:`${r}-base-loading__container`},h("div",{class:`${r}-base-loading__container-layer`},h("div",{class:`${r}-base-loading__container-layer-left`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:n-a/2,"stroke-dasharray":4.91*n,"stroke-dashoffset":2.46*n}))),h("div",{class:`${r}-base-loading__container-layer-patch`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:n-a/2,"stroke-dasharray":4.91*n,"stroke-dashoffset":2.46*n}))),h("div",{class:`${r}-base-loading__container-layer-right`},h("svg",{class:`${r}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:n-a/2,"stroke-dasharray":4.91*n,"stroke-dashoffset":2.46*n})))))):h("div",{key:"placeholder",class:`${r}-base-loading__placeholder`},this.$slots)}))}});function toArray(r){return Array.isArray(r)?r:[r]}var TRAVERSE_COMMAND={STOP:"STOP"};function traverseWithCb(r,n){const a=n(r);r.children!==void 0&&a!==TRAVERSE_COMMAND.STOP&&r.children.forEach(o=>traverseWithCb(o,n))}function getNonLeafKeys(r,n={}){const{preserveGroup:a=!1}=n,o=[],s=a?u=>{u.isLeaf||(o.push(u.key),l(u.children))}:u=>{u.isLeaf||(u.isGroup||o.push(u.key),l(u.children))};function l(u){u.forEach(s)}return l(r),o}function isLeaf(r,n){const{isLeaf:a}=r;return a!==void 0?a:!n(r)}function defaultGetChildren(r){return r.children}function defaultGetKey(r){return r.key}function isIgnored(){return!1}function isShallowLoaded(r,n){const{isLeaf:a}=r;return!(a===!1&&!Array.isArray(n(r)))}function isDisabled(r){return r.disabled===!0}function isExpilicitlyNotLoaded(r,n){return r.isLeaf===!1&&!Array.isArray(n(r))}function isNodeInvalid(r,n){if(r.isLeaf===!0){const a=n(r);if(Array.isArray(a)&&a.length>0)return!0}return!1}function unwrapCheckedKeys(r){var n;return r==null?[]:Array.isArray(r)?r:(n=r.checkedKeys)!==null&&n!==void 0?n:[]}function unwrapIndeterminateKeys(r){var n;return r==null||Array.isArray(r)?[]:(n=r.indeterminateKeys)!==null&&n!==void 0?n:[]}function merge2(r,n){const a=new Set(r);return n.forEach(o=>{a.has(o)||a.add(o)}),Array.from(a)}function minus(r,n){const a=new Set(r);return n.forEach(o=>{a.has(o)&&a.delete(o)}),Array.from(a)}function isGroup(r){return(r==null?void 0:r.type)==="group"}function createIndexGetter(r){const n=new Map;return r.forEach((a,o)=>{n.set(a.key,o)}),a=>{var o;return(o=n.get(a))!==null&&o!==void 0?o:null}}var SubtreeNotLoadedError=class extends Error{constructor(){super();this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}};function getExtendedCheckedKeySetAfterCheck(r,n,a,o){return getExtendedCheckedKeySet(n.concat(r),a,o,!1)}function getAvailableAscendantNodeSet(r,n){const a=new Set;return r.forEach(o=>{const s=n.treeNodeMap.get(o);if(s!==void 0){let l=s.parent;for(;l!==null&&!(l.disabled||a.has(l.key));)a.add(l.key),l=l.parent}}),a}function getExtendedCheckedKeySetAfterUncheck(r,n,a,o){const s=getExtendedCheckedKeySet(n,a,o,!1),l=getExtendedCheckedKeySet(r,a,o,!0),u=getAvailableAscendantNodeSet(r,a),f=[];return s.forEach(d=>{(l.has(d)||u.has(d))&&f.push(d)}),f.forEach(d=>s.delete(d)),s}function getCheckedKeys(r,n){const{checkedKeys:a,keysToCheck:o,keysToUncheck:s,indeterminateKeys:l,cascade:u,leafOnly:f,checkStrategy:d,allowNotLoaded:v}=r;if(!u)return o!==void 0?{checkedKeys:merge2(a,o),indeterminateKeys:Array.from(l)}:s!==void 0?{checkedKeys:minus(a,s),indeterminateKeys:Array.from(l)}:{checkedKeys:Array.from(a),indeterminateKeys:Array.from(l)};const{levelTreeNodeMap:g}=n;let y;s!==void 0?y=getExtendedCheckedKeySetAfterUncheck(s,a,n,v):o!==void 0?y=getExtendedCheckedKeySetAfterCheck(o,a,n,v):y=getExtendedCheckedKeySet(a,n,v,!1);const b=d==="parent",_=d==="child"||f,x=y,w=new Set,C=Math.max.apply(null,Array.from(g.keys()));for(let S=C;S>=0;S-=1){const D=S===0,A=g.get(S);for(const T of A){if(T.isLeaf)continue;const{key:P,shallowLoaded:E}=T;if(_&&E&&T.children.forEach(I=>{!I.disabled&&!I.isLeaf&&I.shallowLoaded&&x.has(I.key)&&x.delete(I.key)}),T.disabled||!E)continue;let M=!0,L=!1,F=!0;for(const I of T.children){const B=I.key;if(!I.disabled){if(F&&(F=!1),x.has(B))L=!0;else if(w.has(B)){L=!0,M=!1;break}else if(M=!1,L)break}}M&&!F?(b&&T.children.forEach(I=>{!I.disabled&&x.has(I.key)&&x.delete(I.key)}),x.add(P)):L&&w.add(P),D&&_&&x.has(P)&&x.delete(P)}}return{checkedKeys:Array.from(x),indeterminateKeys:Array.from(w)}}function getExtendedCheckedKeySet(r,n,a,o){const{treeNodeMap:s,getChildren:l}=n,u=new Set,f=new Set(r);return r.forEach(d=>{const v=s.get(d);v!==void 0&&traverseWithCb(v,g=>{if(g.disabled)return TRAVERSE_COMMAND.STOP;const{key:y}=g;if(!u.has(y)&&(u.add(y),f.add(y),isExpilicitlyNotLoaded(g.rawNode,l))){if(o)return TRAVERSE_COMMAND.STOP;if(!a)throw new SubtreeNotLoadedError}})}),f}function getPath(r,{includeGroup:n=!1,includeSelf:a=!0},o){var s;const l=o.treeNodeMap;let u=r==null?null:(s=l.get(r))!==null&&s!==void 0?s:null;const f={keyPath:[],treeNodePath:[],treeNode:u};if(u==null?void 0:u.ignored)return f.treeNode=null,f;for(;u;)!u.ignored&&(n||!u.isGroup)&&f.treeNodePath.push(u),u=u.parent;return f.treeNodePath.reverse(),a||f.treeNodePath.pop(),f.keyPath=f.treeNodePath.map(d=>d.key),f}function getFirstAvailableNode(r){if(r.length===0)return null;const n=r[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function rawGetNext(r,n){const a=r.siblings,o=a.length,{index:s}=r;return n?a[(s+1)%o]:s===a.length-1?null:a[s+1]}function move(r,n,{loop:a=!1,includeDisabled:o=!1}={}){const s=n==="prev"?rawGetPrev:rawGetNext,l={reverse:n==="prev"};let u=!1,f=null;function d(v){if(v!==null){if(v===r){if(!u)u=!0;else if(!r.disabled&&!r.isGroup){f=r;return}}else if((!v.disabled||o)&&!v.ignored&&!v.isGroup){f=v;return}if(v.isGroup){const g=getChild(v,l);g!==null?f=g:d(s(v,a))}else{const g=s(v,!1);if(g!==null)d(g);else{const y=rawGetParent(v);(y==null?void 0:y.isGroup)?d(s(y,a)):a&&d(s(v,!0))}}}}return d(r),f}function rawGetPrev(r,n){const a=r.siblings,o=a.length,{index:s}=r;return n?a[(s-1+o)%o]:s===0?null:a[s-1]}function rawGetParent(r){return r.parent}function getChild(r,n={}){const{reverse:a=!1}=n,{children:o}=r;if(o){const{length:s}=o,l=a?s-1:0,u=a?-1:s,f=a?-1:1;for(let d=l;d!==u;d+=f){const v=o[d];if(!v.disabled&&!v.ignored)if(v.isGroup){const g=getChild(v,n);if(g!==null)return g}else return v}}return null}var moveMethods={getChild(){return this.ignored?null:getChild(this)},getParent(){const{parent:r}=this;return(r==null?void 0:r.isGroup)?r.getParent():r},getNext(r={}){return move(this,"next",r)},getPrev(r={}){return move(this,"prev",r)}};function flatten3(r,n){const a=n?new Set(n):void 0,o=[];function s(l){l.forEach(u=>{o.push(u),!(u.isLeaf||!u.children||u.ignored)&&(u.isGroup||a===void 0||a.has(u.key))&&s(u.children)})}return s(r),o}function contains(r,n){const a=r.key;for(;n;){if(n.key===a)return!0;n=n.parent}return!1}function createTreeNodes(r,n,a,o,s,l=null,u=0){const f=[];return r.forEach((d,v)=>{var g;isNodeInvalid(d,s)&&console.error("[treemate]: node",d,"is invalid");const y=Object.create(o);if(y.rawNode=d,y.siblings=f,y.level=u,y.index=v,y.isFirstChild=v===0,y.isLastChild=v+1===r.length,y.parent=l,!y.ignored){const b=s(d);Array.isArray(b)&&(y.children=createTreeNodes(b,n,a,o,s,y,u+1))}f.push(y),n.set(y.key,y),a.has(u)||a.set(u,[]),(g=a.get(u))===null||g===void 0||g.push(y)}),f}function createTreeMate(r,n={}){var a;const o=new Map,s=new Map,{getDisabled:l=isDisabled,getIgnored:u=isIgnored,getIsGroup:f=isGroup,getKey:d=defaultGetKey}=n,v=(a=n.getChildren)!==null&&a!==void 0?a:defaultGetChildren,g=n.ignoreEmptyChildren?T=>{const P=v(T);return Array.isArray(P)?P.length?P:null:P}:v,y=Object.assign({get key(){return d(this.rawNode)},get disabled(){return l(this.rawNode)},get isGroup(){return f(this.rawNode)},get isLeaf(){return isLeaf(this.rawNode,g)},get shallowLoaded(){return isShallowLoaded(this.rawNode,g)},get ignored(){return u(this.rawNode)},contains(T){return contains(this,T)}},moveMethods),b=createTreeNodes(r,o,s,y,g);function _(T){if(T==null)return null;const P=o.get(T);return P&&!P.isGroup&&!P.ignored?P:null}function x(T){if(T==null)return null;const P=o.get(T);return P&&!P.ignored?P:null}function w(T,P){const E=x(T);return E?E.getPrev(P):null}function C(T,P){const E=x(T);return E?E.getNext(P):null}function S(T){const P=x(T);return P?P.getParent():null}function D(T){const P=x(T);return P?P.getChild():null}const A={treeNodes:b,treeNodeMap:o,levelTreeNodeMap:s,maxLevel:Math.max(...s.keys()),getChildren:g,getFlattenedNodes(T){return flatten3(b,T)},getNode:_,getPrev:w,getNext:C,getParent:S,getChild:D,getFirstAvailableNode(){return getFirstAvailableNode(b)},getPath(T,P={}){return getPath(T,P,A)},getCheckedKeys(T,P={}){const{cascade:E=!0,leafOnly:M=!1,checkStrategy:L="all",allowNotLoaded:F=!1}=P;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(T),indeterminateKeys:unwrapIndeterminateKeys(T),cascade:E,leafOnly:M,checkStrategy:L,allowNotLoaded:F},A)},check(T,P,E={}){const{cascade:M=!0,leafOnly:L=!1,checkStrategy:F="all",allowNotLoaded:I=!1}=E;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(P),indeterminateKeys:unwrapIndeterminateKeys(P),keysToCheck:T==null?[]:toArray(T),cascade:M,leafOnly:L,checkStrategy:F,allowNotLoaded:I},A)},uncheck(T,P,E={}){const{cascade:M=!0,leafOnly:L=!1,checkStrategy:F="all",allowNotLoaded:I=!1}=E;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(P),indeterminateKeys:unwrapIndeterminateKeys(P),keysToUncheck:T==null?[]:toArray(T),cascade:M,leafOnly:L,checkStrategy:F,allowNotLoaded:I},A)},getNonLeafKeys(T={}){return getNonLeafKeys(b,T)}};return A}var base={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},baseBackgroundRgb=rgba(base.neutralBase),baseInvertBackgroundRgb=rgba(base.neutralInvertBase),overlayPrefix="rgba("+baseInvertBackgroundRgb.slice(0,3).join(", ")+", ";function overlay(r){return overlayPrefix+String(r)+")"}function neutral(r){const n=Array.from(baseInvertBackgroundRgb);return n[3]=Number(r),composite(baseBackgroundRgb,n)}var derived=Object.assign(Object.assign({name:"common"},common_default),{baseColor:base.neutralBase,primaryColor:base.primaryDefault,primaryColorHover:base.primaryHover,primaryColorPressed:base.primaryActive,primaryColorSuppl:base.primarySuppl,infoColor:base.infoDefault,infoColorHover:base.infoHover,infoColorPressed:base.infoActive,infoColorSuppl:base.infoSuppl,successColor:base.successDefault,successColorHover:base.successHover,successColorPressed:base.successActive,successColorSuppl:base.successSuppl,warningColor:base.warningDefault,warningColorHover:base.warningHover,warningColorPressed:base.warningActive,warningColorSuppl:base.warningSuppl,errorColor:base.errorDefault,errorColorHover:base.errorHover,errorColorPressed:base.errorActive,errorColorSuppl:base.errorSuppl,textColorBase:base.neutralTextBase,textColor1:overlay(base.alpha1),textColor2:overlay(base.alpha2),textColor3:overlay(base.alpha3),textColorDisabled:overlay(base.alpha4),placeholderColor:overlay(base.alpha4),placeholderColorDisabled:overlay(base.alpha5),iconColor:overlay(base.alpha4),iconColorDisabled:overlay(base.alpha5),iconColorHover:overlay(Number(base.alpha4)*1.25),iconColorPressed:overlay(Number(base.alpha4)*.8),opacity1:base.alpha1,opacity2:base.alpha2,opacity3:base.alpha3,opacity4:base.alpha4,opacity5:base.alpha5,dividerColor:overlay(base.alphaDivider),borderColor:overlay(base.alphaBorder),closeColorHover:overlay(Number(base.alphaClose)*1.25),closeColor:overlay(Number(base.alphaClose)),closeColorPressed:overlay(Number(base.alphaClose)*.8),closeColorDisabled:overlay(base.alpha4),clearColor:overlay(base.alpha4),clearColorHover:scaleColor(overlay(base.alpha4),{alpha:1.25}),clearColorPressed:scaleColor(overlay(base.alpha4),{alpha:.8}),scrollbarColor:overlay(base.alphaScrollbar),scrollbarColorHover:overlay(base.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:overlay(base.alphaProgressRail),railColor:overlay(base.alphaRail),popoverColor:base.neutralPopover,tableColor:base.neutralCard,cardColor:base.neutralCard,modalColor:base.neutralModal,bodyColor:base.neutralBody,tagColor:neutral(base.alphaTag),avatarColor:overlay(base.alphaAvatar),invertedColor:base.neutralBase,inputColor:overlay(base.alphaInput),codeColor:overlay(base.alphaCode),tabColor:overlay(base.alphaTab),actionColor:overlay(base.alphaAction),tableHeaderColor:overlay(base.alphaAction),hoverColor:overlay(base.alphaPending),tableColorHover:overlay(base.alphaTablePending),tableColorStriped:overlay(base.alphaTableStriped),pressedColor:overlay(base.alphaPressed),opacityDisabled:base.alphaDisabled,inputColorDisabled:overlay(base.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .06)",buttonColor2Hover:"rgba(255, 255, 255, .09)",buttonColor2Pressed:"rgba(255, 255, 255, .05)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),dark_default=derived,base2={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.52",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb2=rgba(base2.neutralBase),baseInvertBackgroundRgb2=rgba(base2.neutralInvertBase),overlayPrefix2="rgba("+baseInvertBackgroundRgb2.slice(0,3).join(", ")+", ";function overlay2(r){return overlayPrefix2+String(r)+")"}function neutral2(r){const n=Array.from(baseInvertBackgroundRgb2);return n[3]=Number(r),composite(baseBackgroundRgb2,n)}var derived2=Object.assign(Object.assign({name:"common"},common_default),{baseColor:base2.neutralBase,primaryColor:base2.primaryDefault,primaryColorHover:base2.primaryHover,primaryColorPressed:base2.primaryActive,primaryColorSuppl:base2.primarySuppl,infoColor:base2.infoDefault,infoColorHover:base2.infoHover,infoColorPressed:base2.infoActive,infoColorSuppl:base2.infoSuppl,successColor:base2.successDefault,successColorHover:base2.successHover,successColorPressed:base2.successActive,successColorSuppl:base2.successSuppl,warningColor:base2.warningDefault,warningColorHover:base2.warningHover,warningColorPressed:base2.warningActive,warningColorSuppl:base2.warningSuppl,errorColor:base2.errorDefault,errorColorHover:base2.errorHover,errorColorPressed:base2.errorActive,errorColorSuppl:base2.errorSuppl,textColorBase:base2.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral2(base2.alpha4),placeholderColor:neutral2(base2.alpha4),placeholderColorDisabled:neutral2(base2.alpha5),iconColor:neutral2(base2.alpha4),iconColorHover:scaleColor(neutral2(base2.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral2(base2.alpha4),{lightness:.9}),iconColorDisabled:neutral2(base2.alpha5),opacity1:base2.alpha1,opacity2:base2.alpha2,opacity3:base2.alpha3,opacity4:base2.alpha4,opacity5:base2.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeColor:neutral2(Number(base2.alphaClose)),closeColorHover:neutral2(Number(base2.alphaClose)*1.25),closeColorPressed:neutral2(Number(base2.alphaClose)*.8),closeColorDisabled:neutral2(base2.alpha4),clearColor:neutral2(base2.alpha4),clearColorHover:scaleColor(neutral2(base2.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral2(base2.alpha4),{lightness:.9}),scrollbarColor:overlay2(base2.alphaScrollbar),scrollbarColorHover:overlay2(base2.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral2(base2.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base2.neutralPopover,tableColor:base2.neutralCard,cardColor:base2.neutralCard,modalColor:base2.neutralModal,bodyColor:base2.neutralBody,tagColor:"rgb(250, 250, 252)",avatarColor:neutral2(base2.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral2(base2.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base2.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),light_default=derived2,common_default2={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},self2=r=>{const{textColorDisabled:n,iconColor:a,textColor2:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,fontSizeHuge:f}=r;return Object.assign(Object.assign({},common_default2),{fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,fontSizeHuge:f,textColor:n,iconColor:a,extraTextColor:o})},emptyLight={name:"Empty",common:light_default,self:self2},light_default2=emptyLight,emptyDark={name:"Empty",common:dark_default,self:self2},dark_default2=emptyDark,index_cssr_default5=cB("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[cE("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[c2("+",[cE("description",`
 margin-top: 8px;
 `)])]),cE("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),emptyProps=Object.assign(Object.assign({},use_theme_default.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Empty_default2=defineComponent({name:"Empty",props:emptyProps,setup(r){const{mergedClsPrefixRef:n,inlineThemeDisabled:a}=useConfig(r),o=use_theme_default("Empty","-empty",index_cssr_default5,light_default2,r,n),{localeRef:s}=useLocale("Empty"),l=inject(configProviderInjectionKey,null),u=computed2(()=>{var g,y,b;return(g=r.description)!==null&&g!==void 0?g:(b=(y=l==null?void 0:l.mergedComponentPropsRef.value)===null||y===void 0?void 0:y.Empty)===null||b===void 0?void 0:b.description}),f=computed2(()=>{var g,y;return((y=(g=l==null?void 0:l.mergedComponentPropsRef.value)===null||g===void 0?void 0:g.Empty)===null||y===void 0?void 0:y.renderIcon)||(()=>h(Empty_default,null))}),d=computed2(()=>{const{size:g}=r,{common:{cubicBezierEaseInOut:y},self:{[createKey("iconSize",g)]:b,[createKey("fontSize",g)]:_,textColor:x,iconColor:w,extraTextColor:C}}=o.value;return{"--n-icon-size":b,"--n-font-size":_,"--n-bezier":y,"--n-text-color":x,"--n-icon-color":w,"--n-extra-text-color":C}}),v=a?useThemeClass("empty",computed2(()=>{let g="";const{size:y}=r;return g+=y[0],g}),d,r):void 0;return{mergedClsPrefix:n,mergedRenderIcon:f,localizedDescription:computed2(()=>u.value||s.value.description),cssVars:a?void 0:d,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){const{$slots:r,mergedClsPrefix:n,onRender:a}=this;return a==null||a(),h("div",{class:[`${n}-empty`,this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:`${n}-empty__icon`},r.icon?r.icon():h(Icon_default,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:`${n}-empty__description`},r.default?r.default():this.localizedDescription):null,r.extra?h("div",{class:`${n}-empty__extra`},r.extra()):null)}}),self3=r=>{const{scrollbarColor:n,scrollbarColorHover:a}=r;return{color:n,colorHover:a}},scrollbarLight={name:"Scrollbar",common:light_default,self:self3},light_default3=scrollbarLight,scrollbarDark={name:"Scrollbar",common:dark_default,self:self3},dark_default3=scrollbarDark,{cubicBezierEaseInOut:cubicBezierEaseInOut2}=common_default;function fade_in_cssr_default({name:r="fade-in",enterDuration:n="0.2s",leaveDuration:a="0.2s",enterCubicBezier:o=cubicBezierEaseInOut2,leaveCubicBezier:s=cubicBezierEaseInOut2}={}){return[c2(`&.${r}-transition-enter-active`,{transition:`all ${n} ${o}!important`}),c2(`&.${r}-transition-leave-active`,{transition:`all ${a} ${s}!important`}),c2(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0}),c2(`&.${r}-transition-leave-from, &.${r}-transition-enter-to`,{opacity:1})]}var index_cssr_default6=cB("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[c2(">",[cB("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[c2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c2(">",[cB("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])]),cB("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 `,[cM("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[c2(">",[cE("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),cM("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[c2(">",[cE("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),cM("disabled",[c2(">",[cE("scrollbar",{pointerEvents:"none"})])]),c2(">",[cE("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[fade_in_cssr_default(),c2("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),scrollbarProps=Object.assign(Object.assign({},use_theme_default.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,inheritAttrs:!1,setup(r){const{mergedClsPrefixRef:n,inlineThemeDisabled:a}=useConfig(r),o=ref(null),s=ref(null),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(null),b=ref(null),_=ref(null),x=ref(0),w=ref(0),C=ref(!1),S=ref(!1);let D=!1,A=!1,T,P,E=0,M=0,L=0,F=0;const I=useIsIos(),B=computed2(()=>{const{value:me}=g,{value:pe}=d,{value:ve}=b;return me===null||pe===null||ve===null?0:Math.min(me,ve*me/pe+r.size*1.5)}),O=computed2(()=>`${B.value}px`),R=computed2(()=>{const{value:me}=y,{value:pe}=v,{value:ve}=_;return me===null||pe===null||ve===null?0:ve*me/pe+r.size*1.5}),z=computed2(()=>`${R.value}px`),N=computed2(()=>{const{value:me}=g,{value:pe}=x,{value:ve}=d,{value:ne}=b;if(me===null||ve===null||ne===null)return 0;{const de=ve-me;return de?pe/de*(ne-B.value):0}}),V=computed2(()=>`${N.value}px`),W=computed2(()=>{const{value:me}=y,{value:pe}=w,{value:ve}=v,{value:ne}=_;if(me===null||ve===null||ne===null)return 0;{const de=ve-me;return de?pe/de*(ne-R.value):0}}),H=computed2(()=>`${W.value}px`),$=computed2(()=>{const{value:me}=g,{value:pe}=d;return me!==null&&pe!==null&&pe>me}),Y=computed2(()=>{const{value:me}=y,{value:pe}=v;return me!==null&&pe!==null&&pe>me}),ae=computed2(()=>{const{container:me}=r;return me?me():s.value}),X=computed2(()=>{const{content:me}=r;return me?me():l.value}),J=re,fe=me=>{const{onResize:pe}=r;pe&&pe(me),re()},ge=(me,pe)=>{if(!r.scrollable)return;if(typeof me=="number"){be(me,pe!=null?pe:0,0,!1,"auto");return}const{left:ve,top:ne,index:de,elSize:Ce,position:Te,behavior:Ae,el:Ee,debounce:Le=!0}=me;(ve!==void 0||ne!==void 0)&&be(ve!=null?ve:0,ne!=null?ne:0,0,!1,Ae),Ee!==void 0?be(0,Ee.offsetTop,Ee.offsetHeight,Le,Ae):de!==void 0&&Ce!==void 0?be(0,de*Ce,Ce,Le,Ae):Te==="bottom"?be(0,Number.MAX_SAFE_INTEGER,0,!1,Ae):Te==="top"&&be(0,0,0,!1,Ae)},ye=(me,pe)=>{if(!r.scrollable)return;const{value:ve}=ae;!ve||(typeof me=="object"?ve.scrollBy(me):ve.scrollBy(me,pe||0))};function be(me,pe,ve,ne,de){const{value:Ce}=ae;if(!!Ce){if(ne){const{scrollTop:Te,offsetHeight:Ae}=Ce;if(pe>Te){pe+ve<=Te+Ae||Ce.scrollTo({left:me,top:pe+ve-Ae,behavior:de});return}}Ce.scrollTo({left:me,top:pe,behavior:de})}}function K(){he(),G(),re()}function j(){Q()}function Q(){le(),oe()}function le(){P!==void 0&&window.clearTimeout(P),P=window.setTimeout(()=>{S.value=!1},r.duration)}function oe(){T!==void 0&&window.clearTimeout(T),T=window.setTimeout(()=>{C.value=!1},r.duration)}function he(){T!==void 0&&window.clearTimeout(T),C.value=!0}function G(){P!==void 0&&window.clearTimeout(P),S.value=!0}function U(me){const{onScroll:pe}=r;pe&&pe(me),ee()}function ee(){const{value:me}=ae;me&&(x.value=me.scrollTop,w.value=me.scrollLeft)}function te(){const{value:me}=X;me&&(d.value=me.offsetHeight,v.value=me.offsetWidth);const{value:pe}=ae;pe&&(g.value=pe.offsetHeight,y.value=pe.offsetWidth);const{value:ve}=f,{value:ne}=u;ve&&(_.value=ve.offsetWidth),ne&&(b.value=ne.offsetHeight)}function ie(){const{value:me}=ae;me&&(x.value=me.scrollTop,w.value=me.scrollLeft,g.value=me.offsetHeight,y.value=me.offsetWidth,d.value=me.scrollHeight,v.value=me.scrollWidth);const{value:pe}=f,{value:ve}=u;pe&&(_.value=pe.offsetWidth),ve&&(b.value=ve.offsetHeight)}function re(){!r.scrollable||(r.useUnifiedContainer?ie():(te(),ee()))}function ue(me){var pe;return!((pe=o.value)===null||pe===void 0?void 0:pe.contains(me.target))}function q(me){me.preventDefault(),me.stopPropagation(),A=!0,on("mousemove",window,Z,!0),on("mouseup",window,ce,!0),M=w.value,L=me.clientX}function Z(me){if(!A)return;T!==void 0&&window.clearTimeout(T),P!==void 0&&window.clearTimeout(P);const{value:pe}=y,{value:ve}=v,{value:ne}=R;if(pe===null||ve===null)return;const Ce=(me.clientX-L)*(ve-pe)/(pe-ne),Te=ve-pe;let Ae=M+Ce;Ae=Math.min(Te,Ae),Ae=Math.max(Ae,0);const{value:Ee}=ae;if(Ee){Ee.scrollLeft=Ae;const{internalOnUpdateScrollLeft:Le}=r;Le&&Le(Ae)}}function ce(me){me.preventDefault(),me.stopPropagation(),off("mousemove",window,Z,!0),off("mouseup",window,ce,!0),A=!1,re(),ue(me)&&Q()}function xe(me){me.preventDefault(),me.stopPropagation(),D=!0,on("mousemove",window,De,!0),on("mouseup",window,Se,!0),E=x.value,F=me.clientY}function De(me){if(!D)return;T!==void 0&&window.clearTimeout(T),P!==void 0&&window.clearTimeout(P);const{value:pe}=g,{value:ve}=d,{value:ne}=B;if(pe===null||ve===null)return;const Ce=(me.clientY-F)*(ve-pe)/(pe-ne),Te=ve-pe;let Ae=E+Ce;Ae=Math.min(Te,Ae),Ae=Math.max(Ae,0);const{value:Ee}=ae;Ee&&(Ee.scrollTop=Ae)}function Se(me){me.preventDefault(),me.stopPropagation(),off("mousemove",window,De,!0),off("mouseup",window,Se,!0),D=!1,re(),ue(me)&&Q()}watchEffect(()=>{const{value:me}=Y,{value:pe}=$,{value:ve}=n,{value:ne}=f,{value:de}=u;ne&&(me?ne.classList.remove(`${ve}-scrollbar-rail--disabled`):ne.classList.add(`${ve}-scrollbar-rail--disabled`)),de&&(pe?de.classList.remove(`${ve}-scrollbar-rail--disabled`):de.classList.add(`${ve}-scrollbar-rail--disabled`))}),onMounted(()=>{r.container||re()}),onBeforeUnmount(()=>{T!==void 0&&window.clearTimeout(T),P!==void 0&&window.clearTimeout(P),off("mousemove",window,De,!0),off("mouseup",window,Se,!0)});const we=use_theme_default("Scrollbar","-scrollbar",index_cssr_default6,light_default3,r,n),Me=computed2(()=>{const{common:{cubicBezierEaseInOut:me,scrollbarBorderRadius:pe,scrollbarHeight:ve,scrollbarWidth:ne},self:{color:de,colorHover:Ce}}=we.value;return{"--n-scrollbar-bezier":me,"--n-scrollbar-color":de,"--n-scrollbar-color-hover":Ce,"--n-scrollbar-border-radius":pe,"--n-scrollbar-width":ne,"--n-scrollbar-height":ve}}),Ie=a?useThemeClass("scrollbar",void 0,Me,r):void 0;return Object.assign(Object.assign({},{scrollTo:ge,scrollBy:ye,sync:re,syncUnifiedContainer:ie,handleMouseEnterWrapper:K,handleMouseLeaveWrapper:j}),{mergedClsPrefix:n,containerScrollTop:x,wrapperRef:o,containerRef:s,contentRef:l,yRailRef:u,xRailRef:f,needYBar:$,needXBar:Y,yBarSizePx:O,xBarSizePx:z,yBarTopPx:V,xBarLeftPx:H,isShowXBar:C,isShowYBar:S,isIos:I,handleScroll:U,handleContentResize:J,handleContainerResize:fe,handleYScrollMouseDown:xe,handleXScrollMouseDown:q,cssVars:a?void 0:Me,themeClass:Ie==null?void 0:Ie.themeClass,onRender:Ie==null?void 0:Ie.onRender})},render(){var r;const{$slots:n,mergedClsPrefix:a,triggerDisplayManually:o}=this;if(!this.scrollable)return(r=n.default)===null||r===void 0?void 0:r.call(n);const s=()=>{var l,u;return(l=this.onRender)===null||l===void 0||l.call(this),h("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${a}-scrollbar`,this.themeClass],style:this.cssVars,onMouseenter:o?void 0:this.handleMouseEnterWrapper,onMouseleave:o?void 0:this.handleMouseLeaveWrapper}),[this.container?(u=n.default)===null||u===void 0?void 0:u.call(n):h("div",{role:"none",ref:"containerRef",class:[`${a}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h(VResizeObserver_default,{onResize:this.handleContentResize},{default:()=>h("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${a}-scrollbar-content`,this.contentClass]},n)})),h("div",{ref:"yRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--vertical`,style:this.horizontalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?h("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),h("div",{ref:"xRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--horizontal`,style:this.verticalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?h("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,left:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])};return this.container?s():h(VResizeObserver_default,{onResize:this.handleContainerResize},{default:s})}}),ScrollBar_default=Scrollbar,common_default3={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},self4=r=>{const{borderRadius:n,popoverColor:a,textColor3:o,dividerColor:s,textColor2:l,primaryColorPressed:u,textColorDisabled:f,primaryColor:d,opacityDisabled:v,hoverColor:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_,fontSizeHuge:x,heightSmall:w,heightMedium:C,heightLarge:S,heightHuge:D}=r;return Object.assign(Object.assign({},common_default3),{optionFontSizeSmall:y,optionFontSizeMedium:b,optionFontSizeLarge:_,optionFontSizeHuge:x,optionHeightSmall:w,optionHeightMedium:C,optionHeightLarge:S,optionHeightHuge:D,borderRadius:n,color:a,groupHeaderTextColor:o,actionDividerColor:s,optionTextColor:l,optionTextColorPressed:u,optionTextColorDisabled:f,optionTextColorActive:d,optionOpacityDisabled:v,optionCheckColor:d,optionColorPending:g,optionColorActive:g,actionTextColor:l,loadingColor:d})},internalSelectMenuLight=createTheme({name:"InternalSelectMenu",common:light_default,peers:{Scrollbar:light_default3,Empty:light_default2},self:self4}),light_default4=internalSelectMenuLight,internalSelectMenuDark={name:"InternalSelectMenu",common:dark_default,peers:{Scrollbar:dark_default3,Empty:dark_default2},self:self4},dark_default4=internalSelectMenuDark,checkMarkIcon=h(Checkmark_default);function renderCheckMark(r,n){return h(Transition,{name:"fade-in-scale-up-transition"},{default:()=>r?h(Icon_default,{clsPrefix:n,class:`${n}-base-select-option__check`},{default:()=>checkMarkIcon}):null})}var SelectOption_default=defineComponent({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(r){const{valueRef:n,pendingTmNodeRef:a,multipleRef:o,valueSetRef:s,renderLabelRef:l,renderOptionRef:u,handleOptionClick:f,handleOptionMouseEnter:d}=inject(internalSelectionMenuInjectionKey),v=use_memo_default(()=>{const{value:_}=a;return _?r.tmNode.key===_.key:!1});function g(_){const{tmNode:x}=r;x.disabled||f(_,x)}function y(_){const{tmNode:x}=r;x.disabled||d(_,x)}function b(_){const{tmNode:x}=r,{value:w}=v;x.disabled||w||d(_,x)}return{multiple:o,isGrouped:use_memo_default(()=>{const{tmNode:_}=r,{parent:x}=_;return x&&x.rawNode.type==="group"}),isPending:v,isSelected:use_memo_default(()=>{const{value:_}=n,{value:x}=o;if(_===null)return!1;const w=r.tmNode.rawNode.value;if(x){const{value:C}=s;return C.has(w)}else return _===w}),renderLabel:l,renderOption:u,handleMouseMove:b,handleMouseEnter:y,handleClick:g}},render(){const{clsPrefix:r,tmNode:{rawNode:n},isSelected:a,isPending:o,isGrouped:s,multiple:l,renderOption:u,renderLabel:f,handleClick:d,handleMouseEnter:v,handleMouseMove:g}=this,b=renderCheckMark(l&&a,r),_=f?[f(n,a),b]:[render(n.label,n,a),b],x=h("div",{class:[`${r}-base-select-option`,n.class,{[`${r}-base-select-option--disabled`]:n.disabled,[`${r}-base-select-option--selected`]:a,[`${r}-base-select-option--grouped`]:s,[`${r}-base-select-option--pending`]:o}],style:n.style,onClick:d,onMouseenter:v,onMousemove:g},h("div",{class:`${r}-base-select-option__content`},_));return n.render?n.render({node:x,option:n,selected:a}):u?u({node:x,option:n,selected:a}):x}}),SelectGroupHeader_default=defineComponent({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:r,renderOptionRef:n}=inject(internalSelectionMenuInjectionKey);return{renderLabel:r,renderOption:n}},render(){const{clsPrefix:r,renderLabel:n,renderOption:a,tmNode:{rawNode:o}}=this,s=n?n(o,!1):render(o.label,o,!1),l=h("div",{class:`${r}-base-select-group-header`},s);return o.render?o.render({node:l,option:o}):a?a({node:l,option:o,selected:!1}):l}}),{cubicBezierEaseIn,cubicBezierEaseOut}=common_default;function fade_in_scale_up_cssr_default({transformOrigin:r="inherit",duration:n=".2s",enterScale:a=".9",originalTransform:o="",originalTransition:s=""}={}){return[c2("&.fade-in-scale-up-transition-leave-active",{transformOrigin:r,transition:`opacity ${n} ${cubicBezierEaseIn}, transform ${n} ${cubicBezierEaseIn} ${s&&","+s}`}),c2("&.fade-in-scale-up-transition-enter-active",{transformOrigin:r,transition:`opacity ${n} ${cubicBezierEaseOut}, transform ${n} ${cubicBezierEaseOut} ${s&&","+s}`}),c2("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${o} scale(${a})`}),c2("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${o} scale(1)`})]}var index_cssr_default7=cB("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[cM("multiple",[cB("base-select-option",`
 padding-right: 28px;
 `)]),cB("scrollbar",`
 max-height: var(--n-height);
 `),cB("virtual-list",`
 max-height: var(--n-height);
 `),cB("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[cE("content",`
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),cB("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),cB("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),cE("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),cE("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),cE("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),cB("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),cB("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[c2("&:active",`
 color: var(--n-option-text-color-pressed);
 `),cM("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),cM("pending",`
 background-color: var(--n-option-color-pending);
 `),cM("selected",`
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-active);
 `),cM("disabled",`
 cursor: not-allowed;
 `,[cNotM("selected",`
 color: var(--n-option-text-color-disabled);
 `),cM("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),cE("check",`
 font-size: 16px;
 position: absolute;
 right: 8px;
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[fade_in_scale_up_cssr_default({enterScale:"0.5"})])])]),SelectMenu_default=defineComponent({name:"InternalSelectMenu",props:Object.assign(Object.assign({},use_theme_default.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},width:[Number,String],autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(r){const n=use_theme_default("InternalSelectMenu","-internal-select-menu",index_cssr_default7,light_default4,r,toRef(r,"clsPrefix")),a=ref(null),o=ref(null),s=ref(null),l=computed2(()=>r.treeMate.getFlattenedNodes()),u=computed2(()=>createIndexGetter(l.value)),f=ref(null);function d(){const{treeMate:H}=r;let $=null;if(r.autoPending){const{value:Y}=r;Y===null?$=H.getFirstAvailableNode():(r.multiple?$=H.getNode((Y||[])[(Y||[]).length-1]):$=H.getNode(Y),(!$||$.disabled)&&($=H.getFirstAvailableNode())),$&&I($)}}let v;watch(toRef(r,"show"),H=>{H?v=watch(r.resetMenuOnOptionsChange?[toRef(r,"treeMate"),toRef(r,"multiple")]:[toRef(r,"multiple")],()=>{d(),nextTick(B)},{immediate:!0}):v==null||v()},{immediate:!0});const g=computed2(()=>depx(n.value.self[createKey("optionHeight",r.size)])),y=computed2(()=>getMargin(n.value.self[createKey("padding",r.size)])),b=computed2(()=>r.multiple&&Array.isArray(r.value)?new Set(r.value):new Set),_=computed2(()=>{const H=l.value;return H&&H.length===0});function x(H){const{onToggle:$}=r;$&&$(H)}function w(H){const{onScroll:$}=r;$&&$(H)}function C(H){var $;($=s.value)===null||$===void 0||$.sync(),w(H)}function S(){var H;(H=s.value)===null||H===void 0||H.sync()}function D(){const{value:H}=f;return H||null}function A(H,$){$.disabled||I($,!1)}function T(H,$){$.disabled||x($)}function P(H){var $;happensIn(H,"action")||($=r.onKeyup)===null||$===void 0||$.call(r,H)}function E(H){var $;happensIn(H,"action")||($=r.onKeydown)===null||$===void 0||$.call(r,H)}function M(H){var $;($=r.onMousedown)===null||$===void 0||$.call(r,H),!r.focusable&&H.preventDefault()}function L(){const{value:H}=f;H&&I(H.getNext({loop:!0}),!0)}function F(){const{value:H}=f;H&&I(H.getPrev({loop:!0}),!0)}function I(H,$=!1){f.value=H,$&&B()}function B(){var H,$;const Y=f.value;if(!Y)return;const ae=u.value(Y.key);ae!==null&&(r.virtualScroll?(H=o.value)===null||H===void 0||H.scrollTo({index:ae}):($=s.value)===null||$===void 0||$.scrollTo({index:ae,elSize:g.value}))}function O(H){var $,Y;(($=a.value)===null||$===void 0?void 0:$.contains(H.target))&&((Y=r.onFocus)===null||Y===void 0||Y.call(r,H))}function R(H){var $,Y;(($=a.value)===null||$===void 0?void 0:$.contains(H.relatedTarget))||(Y=r.onBlur)===null||Y===void 0||Y.call(r,H)}provide(internalSelectionMenuInjectionKey,{handleOptionMouseEnter:A,handleOptionClick:T,valueSetRef:b,multipleRef:toRef(r,"multiple"),valueRef:toRef(r,"value"),renderLabelRef:toRef(r,"renderLabel"),renderOptionRef:toRef(r,"renderOption"),pendingTmNodeRef:f}),provide(internalSelectionMenuBodyInjectionKey,a),onMounted(()=>{const{value:H}=s;H&&H.sync()});const z=computed2(()=>{const{size:H}=r,{common:{cubicBezierEaseInOut:$},self:{height:Y,borderRadius:ae,color:X,groupHeaderTextColor:J,actionDividerColor:fe,optionTextColorPressed:ge,optionTextColor:ye,optionTextColorDisabled:be,optionTextColorActive:K,optionOpacityDisabled:j,optionCheckColor:Q,actionTextColor:le,optionColorPending:oe,optionColorActive:he,loadingColor:G,loadingSize:U,[createKey("optionFontSize",H)]:ee,[createKey("optionHeight",H)]:te,[createKey("optionPadding",H)]:ie}}=n.value;return{"--n-height":Y,"--n-action-divider-color":fe,"--n-action-text-color":le,"--n-bezier":$,"--n-border-radius":ae,"--n-color":X,"--n-option-font-size":ee,"--n-group-header-text-color":J,"--n-option-check-color":Q,"--n-option-color-pending":oe,"--n-option-color-active":he,"--n-option-height":te,"--n-option-opacity-disabled":j,"--n-option-text-color":ye,"--n-option-text-color-active":K,"--n-option-text-color-disabled":be,"--n-option-text-color-pressed":ge,"--n-option-padding":ie,"--n-option-padding-left":getMargin(ie,"left"),"--n-loading-color":G,"--n-loading-size":U}}),{inlineThemeDisabled:N}=r,V=N?useThemeClass("internal-select-menu",computed2(()=>r.size[0]),z,r):void 0,W={selfRef:a,next:L,prev:F,getPendingTmNode:D};return useOnResize(a,r.onResize),Object.assign({mergedTheme:n,virtualListRef:o,scrollbarRef:s,itemSize:g,padding:y,flattenedNodes:l,empty:_,virtualListContainer(){const{value:H}=o;return H==null?void 0:H.listElRef},virtualListContent(){const{value:H}=o;return H==null?void 0:H.itemsElRef},doScroll:w,handleFocusin:O,handleFocusout:R,handleKeyUp:P,handleKeyDown:E,handleMouseDown:M,handleVirtualListResize:S,handleVirtualListScroll:C,cssVars:N?void 0:z,themeClass:V==null?void 0:V.themeClass,onRender:V==null?void 0:V.onRender},W)},render(){const{$slots:r,virtualScroll:n,clsPrefix:a,mergedTheme:o,themeClass:s,onRender:l}=this;return l==null||l(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${a}-base-select-menu`,s,this.multiple&&`${a}-base-select-menu--multiple`],style:[{width:formatLength(this.width)},this.cssVars],onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?h("div",{class:`${a}-base-select-menu__loading`},h(Loading_default,{clsPrefix:a,strokeWidth:20})):this.empty?h("div",{class:`${a}-base-select-menu__empty`,"data-empty":!0},resolveSlot(r.empty,()=>[h(Empty_default2,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty})])):h(ScrollBar_default,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,onScroll:n?void 0:this.doScroll},{default:()=>n?h(VirtualList_default,{ref:"virtualListRef",class:`${a}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:u})=>u.isGroup?h(SelectGroupHeader_default,{key:u.key,clsPrefix:a,tmNode:u}):u.ignored?null:h(SelectOption_default,{clsPrefix:a,key:u.key,tmNode:u})}):h("div",{class:`${a}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(u=>u.isGroup?h(SelectGroupHeader_default,{key:u.key,clsPrefix:a,tmNode:u}):h(SelectOption_default,{clsPrefix:a,key:u.key,tmNode:u})))}),resolveWrappedSlot(r.action,u=>u&&[h("div",{class:`${a}-base-select-menu__action`,"data-action":!0,key:"action"},u),h(focus_detector_default,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),index_cssr_default8=cB("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),Wave_default=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(r){useStyle("-base-wave",index_cssr_default8,toRef(r,"clsPrefix"));const n=ref(null),a=ref(!1);let o=null;return onBeforeUnmount(()=>{o!==null&&window.clearTimeout(o)}),{active:a,selfRef:n,play(){o!==null&&(window.clearTimeout(o),a.value=!1,o=null),nextTick(()=>{var s;(s=n.value)===null||s===void 0||s.offsetHeight,a.value=!0,o=window.setTimeout(()=>{a.value=!1,o=null},1e3)})}}},render(){const{clsPrefix:r}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:[`${r}-base-wave`,this.active&&`${r}-base-wave--active`]})}}),common_default4={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},self5=r=>{const{boxShadow2:n,popoverColor:a,textColor2:o,borderRadius:s,fontSize:l,dividerColor:u}=r;return Object.assign(Object.assign({},common_default4),{fontSize:l,borderRadius:s,color:a,dividerColor:u,textColor:o,boxShadow:n})},popoverLight={name:"Popover",common:light_default,self:self5},light_default5=popoverLight,popoverDark={name:"Popover",common:dark_default,self:self5},dark_default5=popoverDark,oppositePlacement={top:"bottom",bottom:"top",left:"right",right:"left"},arrowSize="var(--n-arrow-height) * 1.414",index_cssr_default9=c2([cB("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 transform-origin: inherit;
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[c2("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),c2("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),c2("&.popover-transition-enter-active",`
 transition:
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),c2("&.popover-transition-leave-active",`
 transition:
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `),cNotM("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[cNotM("show-header","padding: var(--n-padding);")]),cE("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),cE("content",`
 padding: var(--n-padding);
 `),cB("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[cB("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${arrowSize});
 height: calc(${arrowSize});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)])]),placementStyle("top-start",`
 top: calc(${arrowSize} / -2 + 1px);
 left: calc(${getArrowOffset("top-start")} - var(--v-offset-left));
 `),placementStyle("top",`
 top: calc(${arrowSize} / -2 + 1px);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("top-end",`
 top: calc(${arrowSize} / -2 + 1px);
 right: calc(${getArrowOffset("top-end")} + var(--v-offset-left));
 `),placementStyle("bottom-start",`
 bottom: calc(${arrowSize} / -2 + 1px);
 left: calc(${getArrowOffset("bottom-start")} - var(--v-offset-left));
 `),placementStyle("bottom",`
 bottom: calc(${arrowSize} / -2 + 1px);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("bottom-end",`
 bottom: calc(${arrowSize} / -2 + 1px);
 right: calc(${getArrowOffset("bottom-end")} + var(--v-offset-left));
 `),placementStyle("left-start",`
 left: calc(${arrowSize} / -2 + 1px);
 top: calc(${getArrowOffset("left-start")} - var(--v-offset-top));
 `),placementStyle("left",`
 left: calc(${arrowSize} / -2 + 1px);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("left-end",`
 left: calc(${arrowSize} / -2 + 1px);
 bottom: calc(${getArrowOffset("left-end")} + var(--v-offset-top));
 `),placementStyle("right-start",`
 right: calc(${arrowSize} / -2 + 1px);
 top: calc(${getArrowOffset("right-start")} - var(--v-offset-top));
 `),placementStyle("right",`
 right: calc(${arrowSize} / -2 + 1px);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("right-end",`
 right: calc(${arrowSize} / -2 + 1px);
 bottom: calc(${getArrowOffset("right-end")} + var(--v-offset-top));
 `),...map_default({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(r,n)=>{const a=["right","left"].includes(n),o=a?"width":"height";return r.map(s=>{const l=s.split("-")[1]==="end",f=`calc((${`var(--v-target-${o}, 0px)`} - ${arrowSize}) / 2)`,d=getArrowOffset(s);return c2(`[v-placement="${s}"] >`,[cB("popover",[cM("center-arrow",[cB("popover-arrow",`${n}: calc(max(${f}, ${d}) ${l?"+":"-"} var(--v-offset-${a?"left":"top"}));`)])])])})})]);function getArrowOffset(r){return["top","bottom"].includes(r.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function placementStyle(r,n){const a=r.split("-")[0],o=["top","bottom"].includes(a)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return c2(`[v-placement="${r}"] >`,[cB("popover",[cNotM("manual-trigger",`
 margin-${oppositePlacement[a]}: var(--n-space);
 `),cM("show-arrow",`
 margin-${oppositePlacement[a]}: var(--n-space-arrow);
 `),cM("overlap",`
 margin: 0;
 `),cCB("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${a}: calc(100% - 1px);
 ${oppositePlacement[a]}: auto;
 ${o}
 `,[cB("popover-arrow",n)])])])}var popoverBodyProps=Object.assign(Object.assign({},use_theme_default.props),{to:useAdjustedTo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,internalTrapFocus:Boolean,animated:Boolean,onClickoutside:Function,minWidth:Number,maxWidth:Number}),renderArrow=({arrowStyle:r,clsPrefix:n})=>h("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},h("div",{class:`${n}-popover-arrow`,style:r})),PopoverBody_default=defineComponent({name:"PopoverBody",inheritAttrs:!1,props:popoverBodyProps,setup(r,{slots:n,attrs:a}){const{namespaceRef:o,mergedClsPrefixRef:s,inlineThemeDisabled:l}=useConfig(r),u=use_theme_default("Popover","-popover",index_cssr_default9,light_default5,r,s),f=ref(null),d=inject("NPopover"),v=ref(null),g=ref(r.show),y=computed2(()=>{const{trigger:E,onClickoutside:M}=r,L=[],{positionManuallyRef:{value:F}}=d;return F||(E==="click"&&!M&&L.push([clickoutside_default,A,void 0,{capture:!0}]),E==="hover"&&L.push([mousemoveoutside_default,D])),M&&L.push([clickoutside_default,A,void 0,{capture:!0}]),r.displayDirective==="show"&&L.push([vShow,r.show]),L}),b=computed2(()=>[{width:r.width==="trigger"?"":formatLength(r.width)},r.maxWidth?{maxWidth:formatLength(r.maxWidth)}:{},r.minWidth?{minWidth:formatLength(r.minWidth)}:{},l?void 0:_.value]),_=computed2(()=>{const{common:{cubicBezierEaseInOut:E,cubicBezierEaseIn:M,cubicBezierEaseOut:L},self:{space:F,spaceArrow:I,padding:B,fontSize:O,textColor:R,dividerColor:z,color:N,boxShadow:V,borderRadius:W,arrowHeight:H,arrowOffset:$,arrowOffsetVertical:Y}}=u.value;return{"--n-box-shadow":V,"--n-bezier":E,"--n-bezier-ease-in":M,"--n-bezier-ease-out":L,"--n-font-size":O,"--n-text-color":R,"--n-color":N,"--n-divider-color":z,"--n-border-radius":W,"--n-arrow-height":H,"--n-arrow-offset":$,"--n-arrow-offset-vertical":Y,"--n-padding":B,"--n-space":F,"--n-space-arrow":I}}),x=l?useThemeClass("popover",void 0,_,r):void 0;d.setBodyInstance({syncPosition:w}),onBeforeUnmount(()=>{d.setBodyInstance(null)}),watch(toRef(r,"show"),E=>{r.animated||(E?g.value=!0:g.value=!1)});function w(){var E;(E=f.value)===null||E===void 0||E.syncPosition()}function C(E){r.trigger==="hover"&&r.keepAliveOnHover&&d.handleMouseEnter(E)}function S(E){r.trigger==="hover"&&r.keepAliveOnHover&&d.handleMouseLeave(E)}function D(E){r.trigger==="hover"&&!T().contains(E.target)&&d.handleMouseMoveOutside(E)}function A(E){(r.trigger==="click"&&!T().contains(E.target)||r.onClickoutside)&&d.handleClickOutside(E)}function T(){return d.getTriggerElement()}provide(popoverBodyInjectionKey,v),provide(drawerBodyInjectionKey,null),provide(modalBodyInjectionKey,null);function P(){x==null||x.onRender();let E;const{internalRenderBodyRef:{value:M}}=d,{value:L}=s;if(M)E=M([`${L}-popover`,x==null?void 0:x.themeClass.value,r.overlap&&`${L}-popover--overlap`],v,b.value,C,S);else{const{value:F}=d.extraClassRef,{internalTrapFocus:I}=r,B=()=>{var O;return[resolveWrappedSlot(n.header,R=>R&&[h("div",{class:`${L}-popover__header`},R),h("div",{class:`${L}-popover__content`},n)])||((O=n.default)===null||O===void 0?void 0:O.call(n)),r.showArrow?renderArrow({arrowStyle:r.arrowStyle,clsPrefix:L}):null]};E=h("div",mergeProps({class:[`${L}-popover`,x==null?void 0:x.themeClass.value,F.map(O=>`${L}-${O}`),{[`${L}-popover--overlap`]:r.overlap,[`${L}-popover--show-arrow`]:r.showArrow,[`${L}-popover--show-header`]:!isSlotEmpty(n.header),[`${L}-popover--raw`]:r.raw,[`${L}-popover--manual-trigger`]:r.trigger==="manual",[`${L}-popover--center-arrow`]:r.arrowPointToCenter}],ref:v,style:b.value,onKeydown:d.handleKeydown,onMouseenter:C,onMouseleave:S},a),I?h(FocusTrap,{active:r.show,autoFocus:!0},{default:B}):B())}return r.displayDirective==="show"||r.show?withDirectives(E,y.value):null}return{namespace:o,isMounted:d.isMountedRef,zIndex:d.zIndexRef,followerRef:f,adjustedTo:useAdjustedTo(r),followerEnabled:g,renderContentNode:P}},render(){return h(Follower_default,{zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,ref:"followerRef",overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey},{default:()=>this.animated?h(Transition,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{this.followerEnabled=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),bodyPropKeys=Object.keys(popoverBodyProps),triggerEventMap={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function appendEvents(r,n,a){triggerEventMap[n].forEach(o=>{r.props?r.props=Object.assign({},r.props):r.props={};const s=r.props[o],l=a[o];s?r.props[o]=(...u)=>{s(...u),l(...u)}:r.props[o]=l})}var textVNodeType=createTextVNode("").type,popoverBaseProps={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},onClickoutside:Function,internalExtraClass:{type:Array,default:()=>[]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],zIndex:Number,to:useAdjustedTo.propTo,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},popoverProps=Object.assign(Object.assign(Object.assign({},use_theme_default.props),popoverBaseProps),{internalRenderBody:Function}),Popover_default=defineComponent({name:"Popover",inheritAttrs:!1,props:popoverProps,__popover__:!0,setup(r){watchEffect(()=>{r.maxWidth!==void 0&&warnOnce("popover","`max-width` is deprecated, please use `style` instead."),r.minWidth!==void 0&&warnOnce("popover","`min-width` is deprecated, please use `style` instead."),r.arrow!==void 0&&warnOnce("popover","`arrow` is deprecated, please use `showArrow` instead."),r.onHide!==void 0&&warnOnce("popover","`on-hide` is deprecated, please use `on-update:show` instead."),r.onShow!==void 0&&warnOnce("popover","`on-show` is deprecated, please use `on-update:show` instead.")});const n=isMounted(),a=ref(null),o=computed2(()=>r.show),s=ref(r.defaultShow),l=useMergedState(o,s),u=use_memo_default(()=>r.disabled?!1:l.value),f=()=>{if(r.disabled)return!0;const{getDisabled:z}=r;return!!(z==null?void 0:z())},d=()=>f()?!1:l.value,v=useCompitable(r,["arrow","showArrow"]),g=computed2(()=>r.overlap?!1:v.value);let y=null;const b=ref(null),_=ref(null),x=use_memo_default(()=>r.x!==void 0&&r.y!==void 0);function w(z){const{"onUpdate:show":N,onUpdateShow:V,onShow:W,onHide:H}=r;s.value=z,N&&call(N,z),V&&call(V,z),z&&W&&call(W,!0),z&&H&&call(H,!1)}function C(){y&&y.syncPosition()}function S(){const{value:z}=b;z&&(window.clearTimeout(z),b.value=null)}function D(){const{value:z}=_;z&&(window.clearTimeout(z),_.value=null)}function A(){const z=f();if(r.trigger==="focus"&&!z){if(d())return;w(!0)}}function T(){const z=f();if(r.trigger==="focus"&&!z){if(!d())return;w(!1)}}function P(){const z=f();if(r.trigger==="hover"&&!z){if(D(),b.value!==null||d())return;const N=()=>{w(!0),b.value=null},{delay:V}=r;V===0?N():b.value=window.setTimeout(N,V)}}function E(){const z=f();if(r.trigger==="hover"&&!z){if(S(),_.value!==null||!d())return;const N=()=>{w(!1),_.value=null},{duration:V}=r;V===0?N():_.value=window.setTimeout(N,V)}}function M(){E()}function L(z){var N;!d()||(r.trigger==="click"&&(S(),D(),w(!1)),(N=r.onClickoutside)===null||N===void 0||N.call(r,z))}function F(){if(r.trigger==="click"&&!f()){S(),D();const z=!d();w(z)}}function I(z){!r.internalTrapFocus||z.code==="Escape"&&(S(),D(),w(!1))}function B(z){s.value=z}function O(){var z;return(z=a.value)===null||z===void 0?void 0:z.targetRef}function R(z){y=z}return provide("NPopover",{getTriggerElement:O,handleKeydown:I,handleMouseEnter:P,handleMouseLeave:E,handleClickOutside:L,handleMouseMoveOutside:M,setBodyInstance:R,positionManuallyRef:x,isMountedRef:n,zIndexRef:toRef(r,"zIndex"),extraClassRef:toRef(r,"internalExtraClass"),internalRenderBodyRef:toRef(r,"internalRenderBody")}),{binderInstRef:a,positionManually:x,mergedShowConsideringDisabledProp:u,uncontrolledShow:s,mergedShowArrow:g,getMergedShow:d,setShow:B,handleClick:F,handleMouseEnter:P,handleMouseLeave:E,handleFocus:A,handleBlur:T,syncPosition:C}},render(){var r;const{positionManually:n,$slots:a}=this;let o,s=!1;if(!n&&(a.activator?o=getFirstSlotVNode(a,"activator"):o=getFirstSlotVNode(a,"trigger"),o)){o=cloneVNode(o),o=o.type===textVNodeType?h("span",[o]):o;const l={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if((r=o.type)===null||r===void 0?void 0:r.__popover__)s=!0,o.props||(o.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),o.props.internalSyncTargetWithParent=!0,o.props.internalInheritedEventHandlers?o.props.internalInheritedEventHandlers=[l,...o.props.internalInheritedEventHandlers]:o.props.internalInheritedEventHandlers=[l];else{const{internalInheritedEventHandlers:u}=this,f=[l,...u],d={onBlur:v=>{f.forEach(g=>{g.onBlur(v)})},onFocus:v=>{f.forEach(g=>{g.onFocus(v)})},onClick:v=>{f.forEach(g=>{g.onClick(v)})},onMouseenter:v=>{f.forEach(g=>{g.onMouseenter(v)})},onMouseleave:v=>{f.forEach(g=>{g.onMouseleave(v)})}};appendEvents(o,u?"nested":n?"manual":this.trigger,d)}}return h(Binder_default,{ref:"binderInstRef",syncTarget:!s,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const l=this.getMergedShow();return[this.internalTrapFocus&&l?withDirectives(h("div",{style:{position:"fixed",inset:0}}),[[zindexable_default,{enabled:l,zIndex:this.zIndex}]]):null,n?null:h(Target_default,null,{default:()=>o}),h(PopoverBody_default,keep(this.$props,bodyPropKeys,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:l})),{default:()=>{var u,f;return(f=(u=this.$slots).default)===null||f===void 0?void 0:f.call(u)},header:()=>{var u,f;return(f=(u=this.$slots).header)===null||f===void 0?void 0:f.call(u)}})]}})}}),common_default5={closeSizeSmall:"14px",closeSizeMedium:"14px",closeSizeLarge:"14px",padding:"0 7px",closeMargin:"0 0 0 3px",closeMarginRtl:"0 3px 0 0"},tagDark={name:"Tag",common:dark_default,self(r){const{textColor2:n,primaryColorHover:a,primaryColorPressed:o,primaryColor:s,infoColor:l,successColor:u,warningColor:f,errorColor:d,baseColor:v,borderColor:g,opacityDisabled:y,closeColor:b,closeColorHover:_,closeColorPressed:x,borderRadiusSmall:w,fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:D,heightTiny:A,heightSmall:T,heightMedium:P}=r;return Object.assign(Object.assign({},common_default5),{heightSmall:A,heightMedium:T,heightLarge:P,borderRadius:w,opacityDisabled:y,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:D,textColorCheckable:n,textColorHoverCheckable:a,textColorPressedCheckable:o,textColorChecked:v,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:s,colorCheckedHover:a,colorCheckedPressed:o,border:`1px solid ${g}`,textColor:n,color:"#0000",closeColor:b,closeColorHover:_,closeColorPressed:x,borderPrimary:`1px solid ${changeColor(s,{alpha:.3})}`,textColorPrimary:s,colorPrimary:"#0000",closeColorPrimary:changeColor(s,{alpha:.7}),closeColorHoverPrimary:changeColor(s,{alpha:.85}),closeColorPressedPrimary:changeColor(s,{alpha:.57}),borderInfo:`1px solid ${changeColor(l,{alpha:.3})}`,textColorInfo:l,colorInfo:"#0000",closeColorInfo:changeColor(l,{alpha:.7}),closeColorHoverInfo:changeColor(l,{alpha:.85}),closeColorPressedInfo:changeColor(l,{alpha:.57}),borderSuccess:`1px solid ${changeColor(u,{alpha:.3})}`,textColorSuccess:u,colorSuccess:"#0000",closeColorSuccess:changeColor(u,{alpha:.7}),closeColorHoverSuccess:changeColor(u,{alpha:.85}),closeColorPressedSuccess:changeColor(u,{alpha:.57}),borderWarning:`1px solid ${changeColor(f,{alpha:.3})}`,textColorWarning:f,colorWarning:"#0000",closeColorWarning:changeColor(f,{alpha:.7}),closeColorHoverWarning:changeColor(f,{alpha:.85}),closeColorPressedWarning:changeColor(f,{alpha:.57}),borderError:`1px solid ${changeColor(d,{alpha:.3})}`,textColorError:d,colorError:"#0000",closeColorError:changeColor(d,{alpha:.7}),closeColorHoverError:changeColor(d,{alpha:.85}),closeColorPressedError:changeColor(d,{alpha:.57})})}},dark_default6=tagDark,self6=r=>{const{textColor2:n,primaryColorHover:a,primaryColorPressed:o,primaryColor:s,infoColor:l,successColor:u,warningColor:f,errorColor:d,baseColor:v,borderColor:g,opacityDisabled:y,tagColor:b,closeColor:_,closeColorHover:x,closeColorPressed:w,borderRadiusSmall:C,fontSizeTiny:S,fontSizeSmall:D,fontSizeMedium:A,heightTiny:T,heightSmall:P,heightMedium:E}=r;return Object.assign(Object.assign({},common_default5),{heightSmall:T,heightMedium:P,heightLarge:E,borderRadius:C,opacityDisabled:y,fontSizeSmall:S,fontSizeMedium:D,fontSizeLarge:A,textColorCheckable:n,textColorHoverCheckable:a,textColorPressedCheckable:o,textColorChecked:v,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:s,colorCheckedHover:a,colorCheckedPressed:o,border:`1px solid ${g}`,textColor:n,color:b,closeColor:_,closeColorHover:x,closeColorPressed:w,borderPrimary:`1px solid ${changeColor(s,{alpha:.3})}`,textColorPrimary:s,colorPrimary:changeColor(s,{alpha:.1}),closeColorPrimary:changeColor(s,{alpha:.75}),closeColorHoverPrimary:changeColor(s,{alpha:.6}),closeColorPressedPrimary:changeColor(s,{alpha:.9}),borderInfo:`1px solid ${changeColor(l,{alpha:.3})}`,textColorInfo:l,colorInfo:changeColor(l,{alpha:.1}),closeColorInfo:changeColor(l,{alpha:.75}),closeColorHoverInfo:changeColor(l,{alpha:.6}),closeColorPressedInfo:changeColor(l,{alpha:.9}),borderSuccess:`1px solid ${changeColor(u,{alpha:.3})}`,textColorSuccess:u,colorSuccess:changeColor(u,{alpha:.1}),closeColorSuccess:changeColor(u,{alpha:.75}),closeColorHoverSuccess:changeColor(u,{alpha:.6}),closeColorPressedSuccess:changeColor(u,{alpha:.9}),borderWarning:`1px solid ${changeColor(f,{alpha:.35})}`,textColorWarning:f,colorWarning:changeColor(f,{alpha:.12}),closeColorWarning:changeColor(f,{alpha:.75}),closeColorHoverWarning:changeColor(f,{alpha:.6}),closeColorPressedWarning:changeColor(f,{alpha:.9}),borderError:`1px solid ${changeColor(d,{alpha:.23})}`,textColorError:d,colorError:changeColor(d,{alpha:.08}),closeColorError:changeColor(d,{alpha:.65}),closeColorHoverError:changeColor(d,{alpha:.5}),closeColorPressedError:changeColor(d,{alpha:.8})})},tagLight={name:"Tag",common:light_default,self:self6},light_default6=tagLight,common_props_default={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},index_cssr_default10=cB("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[cE("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),cE("avatar",`
 display: flex;
 margin-right: 6px;
 `),cE("close",`
 font-size: var(--n-close-size);
 margin: var(--n-close-margin);
 transition: color .3s var(--n-bezier);
 cursor: pointer;
 `),cM("round",`
 padding: 0 calc(var(--n-height) / 2);
 border-radius: calc(var(--n-height) / 2);
 `,[cE("avatar",`
 margin-left: calc((var(--n-height) - 8px) / -2);
 `)]),cM("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),cM("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[cNotM("disabled",[c2("&:hover","background-color: var(--n-color-hover-checkable);",[cNotM("checked","color: var(--n-text-color-hover-checkable);")]),c2("&:active","background-color: var(--n-color-pressed-checkable);",[cNotM("checked","color: var(--n-text-color-pressed-checkable);")])]),cM("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[cNotM("disabled",[c2("&:hover","background-color: var(--n-color-checked-hover);"),c2("&:active","background-color: var(--n-color-checked-pressed);")])])])]);function useRtl(r,n,a){if(!n)return;const o=useSsrAdapter(),s=computed2(()=>{const{value:u}=n;if(!u)return;const f=u[r];if(!!f)return f}),l=()=>{watchEffect(()=>{const{value:u}=a,f=`${u}${r}Rtl`;if(exists(f,o))return;const{value:d}=s;!d||d.style.mount({id:f,head:!0,anchorMetaName:cssrAnchorMetaName2,props:{bPrefix:u?`.${u}-`:void 0},ssr:o})})};return o?l():onBeforeMount(l),s}var tagProps=Object.assign(Object.assign(Object.assign({},use_theme_default.props),common_props_default),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>(warn3("tag","`on-checked-change` is deprecated, please use `on-update:checked` instead"),!0),default:void 0}}),tagInjectionKey=createInjectionKey("n-tag"),Tag_default=defineComponent({name:"Tag",props:tagProps,setup(r){const n=ref(null),{mergedBorderedRef:a,mergedClsPrefixRef:o,inlineThemeDisabled:s,mergedRtlRef:l}=useConfig(r),u=use_theme_default("Tag","-tag",index_cssr_default10,light_default6,r,o);provide(tagInjectionKey,{roundRef:toRef(r,"round")});function f(_){if(!r.disabled&&r.checkable){const{checked:x,onCheckedChange:w,onUpdateChecked:C,"onUpdate:checked":S}=r;C&&C(!x),S&&S(!x),w&&w(!x)}}function d(_){if(r.internalStopClickPropagation&&_.stopPropagation(),!r.disabled){const{onClose:x}=r;x&&call(x,_)}}const v={setTextContent(_){const{value:x}=n;x&&(x.textContent=_)}},g=useRtl("Tag",l,o),y=computed2(()=>{const{type:_,size:x,color:{color:w,textColor:C}={}}=r,{common:{cubicBezierEaseInOut:S},self:{padding:D,closeMargin:A,closeMarginRtl:T,borderRadius:P,opacityDisabled:E,textColorCheckable:M,textColorHoverCheckable:L,textColorPressedCheckable:F,textColorChecked:I,colorCheckable:B,colorHoverCheckable:O,colorPressedCheckable:R,colorChecked:z,colorCheckedHover:N,colorCheckedPressed:V,[createKey("closeSize",x)]:W,[createKey("fontSize",x)]:H,[createKey("height",x)]:$,[createKey("color",_)]:Y,[createKey("textColor",_)]:ae,[createKey("border",_)]:X,[createKey("closeColor",_)]:J,[createKey("closeColorHover",_)]:fe,[createKey("closeColorPressed",_)]:ge}}=u.value;return{"--n-avatar-size-override":`calc(${$} - 8px)`,"--n-bezier":S,"--n-border-radius":P,"--n-border":X,"--n-close-color":J,"--n-close-color-hover":fe,"--n-close-color-pressed":ge,"--n-close-color-disabled":J,"--n-close-margin":A,"--n-close-margin-rtl":T,"--n-close-size":W,"--n-color":w||Y,"--n-color-checkable":B,"--n-color-checked":z,"--n-color-checked-hover":N,"--n-color-checked-pressed":V,"--n-color-hover-checkable":O,"--n-color-pressed-checkable":R,"--n-font-size":H,"--n-height":$,"--n-opacity-disabled":E,"--n-padding":D,"--n-text-color":C||ae,"--n-text-color-checkable":M,"--n-text-color-checked":I,"--n-text-color-hover-checkable":L,"--n-text-color-pressed-checkable":F}}),b=s?useThemeClass("tag",computed2(()=>{let _="";const{type:x,size:w,color:{color:C,textColor:S}={}}=r;return _+=x[0],_+=w[0],C&&(_+=`a${color2Class(C)}`),S&&(_+=`b${color2Class(S)}`),_}),y,r):void 0;return Object.assign(Object.assign({},v),{rtlEnabled:g,mergedClsPrefix:o,contentRef:n,mergedBordered:a,handleClick:f,handleCloseClick:d,cssVars:s?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){var r,n;const{mergedClsPrefix:a,rtlEnabled:o,color:{borderColor:s}={},onRender:l,$slots:u}=this;return l==null||l(),h("div",{class:[`${a}-tag`,this.themeClass,{[`${a}-tag--rtl`]:o,[`${a}-tag--disabled`]:this.disabled,[`${a}-tag--checkable`]:this.checkable,[`${a}-tag--checked`]:this.checkable&&this.checked,[`${a}-tag--round`]:this.round}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},resolveWrappedSlot(u.avatar,f=>f&&h("div",{class:`${a}-tag__avatar`},f)),h("span",{class:`${a}-tag__content`,ref:"contentRef"},(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r)),!this.checkable&&this.closable?h(Close_default2,{clsPrefix:a,class:`${a}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick}):null,!this.checkable&&this.mergedBordered?h("div",{class:`${a}-tag__border`,style:{borderColor:s}}):null)}}),index_cssr_default11=cB("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[c2(">",[cE("clear",`
 font-size: var(--n-clear-size);
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 `,[c2("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),c2("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),cE("placeholder",`
 display: flex;
 `),cE("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[icon_switch_cssr_default({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Clear_default2=defineComponent({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(r){return useStyle("-base-clear",index_cssr_default11,toRef(r,"clsPrefix")),{handleMouseDown(n){n.preventDefault()}}},render(){const{clsPrefix:r}=this;return h("div",{class:`${r}-base-clear`},h(IconSwitchTransition_default,null,{default:()=>{var n,a;return this.show?h(Icon_default,{clsPrefix:r,key:"dismiss",class:`${r}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},{default:()=>h(Clear_default,null)}):h("div",{key:"icon",class:`${r}-base-clear__placeholder`},(a=(n=this.$slots).default)===null||a===void 0?void 0:a.call(n))}}))}}),Suffix_default=defineComponent({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(r,{slots:n}){return()=>{const{clsPrefix:a}=r;return h(Loading_default,{clsPrefix:a,class:`${a}-base-suffix`,strokeWidth:24,scale:.85,show:r.loading},{default:()=>r.showArrow?h(Clear_default2,{clsPrefix:a,show:r.showClear,onClear:r.onClear},{default:()=>h(Icon_default,{clsPrefix:a,class:`${a}-base-suffix__arrow`},{default:()=>resolveSlot(n.default,()=>[h(ChevronDown_default,null)])})}):null})}}}),common_default6={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},self7=r=>{const{borderRadius:n,textColor2:a,textColorDisabled:o,inputColor:s,inputColorDisabled:l,primaryColor:u,primaryColorHover:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,borderColor:b,iconColor:_,iconColorDisabled:x,clearColor:w,clearColorHover:C,clearColorPressed:S,placeholderColor:D,placeholderColorDisabled:A,fontSizeTiny:T,fontSizeSmall:P,fontSizeMedium:E,fontSizeLarge:M,heightTiny:L,heightSmall:F,heightMedium:I,heightLarge:B}=r;return Object.assign(Object.assign({},common_default6),{fontSizeTiny:T,fontSizeSmall:P,fontSizeMedium:E,fontSizeLarge:M,heightTiny:L,heightSmall:F,heightMedium:I,heightLarge:B,borderRadius:n,textColor:a,textColorDisabled:o,placeholderColor:D,placeholderColorDisabled:A,color:s,colorDisabled:l,colorActive:s,border:`1px solid ${b}`,borderHover:`1px solid ${f}`,borderActive:`1px solid ${u}`,borderFocus:`1px solid ${f}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${changeColor(u,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${changeColor(u,{alpha:.2})}`,caretColor:u,arrowColor:_,arrowColorDisabled:x,loadingColor:u,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,borderActiveWarning:`1px solid ${d}`,borderFocusWarning:`1px solid ${v}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${changeColor(d,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(d,{alpha:.2})}`,colorActiveWarning:s,caretColorWarning:d,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,borderActiveError:`1px solid ${g}`,borderFocusError:`1px solid ${y}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${changeColor(g,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${changeColor(g,{alpha:.2})}`,colorActiveError:s,caretColorError:g,clearColor:w,clearColorHover:C,clearColorPressed:S})},internalSelectionLight=createTheme({name:"InternalSelection",common:light_default,peers:{Popover:light_default5},self:self7}),light_default7=internalSelectionLight,internalSelectionDark={name:"InternalSelection",common:dark_default,peers:{Popover:dark_default5},self(r){const{borderRadius:n,textColor2:a,textColorDisabled:o,inputColor:s,inputColorDisabled:l,primaryColor:u,primaryColorHover:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,iconColor:b,iconColorDisabled:_,clearColor:x,clearColorHover:w,clearColorPressed:C,placeholderColor:S,placeholderColorDisabled:D,fontSizeTiny:A,fontSizeSmall:T,fontSizeMedium:P,fontSizeLarge:E,heightTiny:M,heightSmall:L,heightMedium:F,heightLarge:I}=r;return Object.assign(Object.assign({},common_default6),{fontSizeTiny:A,fontSizeSmall:T,fontSizeMedium:P,fontSizeLarge:E,heightTiny:M,heightSmall:L,heightMedium:F,heightLarge:I,borderRadius:n,textColor:a,textColorDisabled:o,placeholderColor:S,placeholderColorDisabled:D,color:s,colorDisabled:l,colorActive:changeColor(u,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${f}`,borderActive:`1px solid ${u}`,borderFocus:`1px solid ${f}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${changeColor(u,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${changeColor(u,{alpha:.4})}`,caretColor:u,arrowColor:b,arrowColorDisabled:_,loadingColor:u,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,borderActiveWarning:`1px solid ${d}`,borderFocusWarning:`1px solid ${v}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${changeColor(d,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(d,{alpha:.4})}`,colorActiveWarning:changeColor(d,{alpha:.1}),caretColorWarning:d,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,borderActiveError:`1px solid ${g}`,borderFocusError:`1px solid ${y}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${changeColor(g,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(g,{alpha:.4})}`,colorActiveError:changeColor(g,{alpha:.1}),caretColorError:g,clearColor:x,clearColorHover:w,clearColorPressed:C})}},dark_default7=internalSelectionDark,index_cssr_default12=c2([cB("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[cB("base-loading",`
 color: var(--n-loading-color);
 `),cB("base-selection-tags","min-height: var(--n-height);"),cE("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 z-index: 1;
 border-color: #0000;
 `),cB("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[cE("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),cB("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[cE("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),cB("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `),cB("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),cB("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[cB("base-selection-input",`
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[cE("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),cE("render-label",`
 color: var(--n-text-color);
 `)]),cNotM("disabled",[c2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),cB("base-selection-label","background-color: var(--n-color-active);"),cB("base-selection-tags","background-color: var(--n-color-active);")])]),cM("disabled","cursor: not-allowed;",[cE("arrow",`
 color: var(--n-arrow-color-disabled);
 `),cB("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cB("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),cE("render-label",`
 color: var(--n-text-color-disabled);
 `)]),cB("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),cB("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),cB("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[cE("input",`
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),cE("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(r=>cM(`${r}-status`,[cE("state-border",`border: var(--n-border-${r});`),cNotM("disabled",[c2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover-${r});
 border: var(--n-border-hover-${r});
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active-${r});
 border: var(--n-border-active-${r});
 `),cB("base-selection-label",`background-color: var(--n-color-active-${r});`),cB("base-selection-tags",`background-color: var(--n-color-active-${r});`)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)])])]))]),cB("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 `),cB("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[c2("&:last-child","padding-right: 0;"),cB("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[cE("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),Selection_default=defineComponent({name:"InternalSelection",props:Object.assign(Object.assign({},use_theme_default.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeyup:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(r){const n=ref(null),a=ref(null),o=ref(null),s=ref(null),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(!1),b=ref(!1),_=ref(!1),x=use_theme_default("InternalSelection","-internal-selection",index_cssr_default12,light_default7,r,toRef(r,"clsPrefix")),w=computed2(()=>r.clearable&&!r.disabled&&(_.value||r.active)),C=computed2(()=>r.selectedOption?r.renderTag?r.renderTag({option:r.selectedOption,handleClose:()=>{}}):r.renderLabel?r.renderLabel(r.selectedOption,!0):render(r.selectedOption.label,r.selectedOption,!0):r.placeholder),S=computed2(()=>{const q=r.selectedOption;if(!!q)return q.label}),D=computed2(()=>r.multiple?!!(Array.isArray(r.selectedOptions)&&r.selectedOptions.length):r.selectedOption!==null);function A(){var q;const{value:Z}=n;if(Z){const{value:ce}=a;ce&&(ce.style.width=`${Z.offsetWidth}px`,r.maxTagCount!=="responsive"&&((q=v.value)===null||q===void 0||q.sync()))}}function T(){const{value:q}=g;q&&(q.style.display="none")}function P(){const{value:q}=g;q&&(q.style.display="inline-block")}watch(toRef(r,"active"),q=>{q||T()}),watch(toRef(r,"pattern"),()=>{r.multiple&&nextTick(A)});function E(q){const{onFocus:Z}=r;Z&&Z(q)}function M(q){const{onBlur:Z}=r;Z&&Z(q)}function L(q){const{onDeleteOption:Z}=r;Z&&Z(q)}function F(q){const{onClear:Z}=r;Z&&Z(q)}function I(q){const{onPatternInput:Z}=r;Z&&Z(q)}function B(q){var Z;(!q.relatedTarget||!((Z=o.value)===null||Z===void 0?void 0:Z.contains(q.relatedTarget)))&&E(q)}function O(q){var Z;((Z=o.value)===null||Z===void 0?void 0:Z.contains(q.relatedTarget))||M(q)}function R(q){F(q)}function z(){_.value=!0}function N(){_.value=!1}function V(q){!r.active||!r.filterable||q.target!==a.value&&q.preventDefault()}function W(q){L(q)}function H(q){if(q.code==="Backspace"&&!$.value&&!r.pattern.length){const{selectedOptions:Z}=r;(Z==null?void 0:Z.length)&&W(Z[Z.length-1])}}const $=ref(!1);let Y=null;function ae(q){const{value:Z}=n;if(Z){const ce=q.target.value;Z.textContent=ce,A()}$.value?Y=q:I(q)}function X(){$.value=!0}function J(){$.value=!1,I(Y),Y=null}function fe(q){var Z;b.value=!0,(Z=r.onPatternFocus)===null||Z===void 0||Z.call(r,q)}function ge(q){var Z;b.value=!1,(Z=r.onPatternBlur)===null||Z===void 0||Z.call(r,q)}function ye(){var q,Z;if(r.filterable)b.value=!1,(q=u.value)===null||q===void 0||q.blur(),(Z=a.value)===null||Z===void 0||Z.blur();else if(r.multiple){const{value:ce}=s;ce==null||ce.blur()}else{const{value:ce}=l;ce==null||ce.blur()}}function be(){var q,Z,ce;r.filterable?(b.value=!1,(q=u.value)===null||q===void 0||q.focus()):r.multiple?(Z=s.value)===null||Z===void 0||Z.focus():(ce=l.value)===null||ce===void 0||ce.focus()}function K(){const{value:q}=a;q&&(P(),q.focus())}function j(){const{value:q}=a;q&&q.blur()}function Q(q){const{value:Z}=f;Z&&Z.setTextContent(`+${q}`)}function le(){const{value:q}=d;return q}function oe(){return a.value}let he=null;function G(){he!==null&&window.clearTimeout(he)}function U(){r.disabled||r.active||(G(),he=window.setTimeout(()=>{y.value=!0},100))}function ee(){G()}function te(q){q||(G(),y.value=!1)}onMounted(()=>{watchEffect(()=>{const q=u.value;!q||(q.tabIndex=r.disabled||b.value?-1:0)})}),useOnResize(o,r.onResize);const{inlineThemeDisabled:ie}=r,re=computed2(()=>{const{size:q}=r,{common:{cubicBezierEaseInOut:Z},self:{borderRadius:ce,color:xe,placeholderColor:De,textColor:Se,paddingSingle:we,paddingMultiple:Me,caretColor:Ie,colorDisabled:Pe,textColorDisabled:me,placeholderColorDisabled:pe,colorActive:ve,boxShadowFocus:ne,boxShadowActive:de,boxShadowHover:Ce,border:Te,borderFocus:Ae,borderHover:Ee,borderActive:Le,arrowColor:ze,arrowColorDisabled:Re,loadingColor:Oe,colorActiveWarning:$e,boxShadowFocusWarning:Ke,boxShadowActiveWarning:je,boxShadowHoverWarning:He,borderWarning:se,borderFocusWarning:_e,borderHoverWarning:Fe,borderActiveWarning:Ve,colorActiveError:Ne,boxShadowFocusError:Be,boxShadowActiveError:ke,boxShadowHoverError:We,borderError:Ge,borderFocusError:Ue,borderHoverError:Ye,borderActiveError:qe,clearColor:Xe,clearColorHover:Ze,clearColorPressed:Je,clearSize:Qe,arrowSize:et,[createKey("height",q)]:tt,[createKey("fontSize",q)]:nt}}=x.value;return{"--n-bezier":Z,"--n-border":Te,"--n-border-active":Le,"--n-border-focus":Ae,"--n-border-hover":Ee,"--n-border-radius":ce,"--n-box-shadow-active":de,"--n-box-shadow-focus":ne,"--n-box-shadow-hover":Ce,"--n-caret-color":Ie,"--n-color":xe,"--n-color-active":ve,"--n-color-disabled":Pe,"--n-font-size":nt,"--n-height":tt,"--n-padding-single":we,"--n-padding-multiple":Me,"--n-placeholder-color":De,"--n-placeholder-color-disabled":pe,"--n-text-color":Se,"--n-text-color-disabled":me,"--n-arrow-color":ze,"--n-arrow-color-disabled":Re,"--n-loading-color":Oe,"--n-color-active-warning":$e,"--n-box-shadow-focus-warning":Ke,"--n-box-shadow-active-warning":je,"--n-box-shadow-hover-warning":He,"--n-border-warning":se,"--n-border-focus-warning":_e,"--n-border-hover-warning":Fe,"--n-border-active-warning":Ve,"--n-color-active-error":Ne,"--n-box-shadow-focus-error":Be,"--n-box-shadow-active-error":ke,"--n-box-shadow-hover-error":We,"--n-border-error":Ge,"--n-border-focus-error":Ue,"--n-border-hover-error":Ye,"--n-border-active-error":qe,"--n-clear-size":Qe,"--n-clear-color":Xe,"--n-clear-color-hover":Ze,"--n-clear-color-pressed":Je,"--n-arrow-size":et}}),ue=ie?useThemeClass("internal-selection",computed2(()=>r.size[0]),re,r):void 0;return{mergedTheme:x,mergedClearable:w,patternInputFocused:b,filterablePlaceholder:C,label:S,selected:D,showTagsPanel:y,isCompositing:$,counterRef:f,counterWrapperRef:d,patternInputMirrorRef:n,patternInputRef:a,selfRef:o,multipleElRef:s,singleElRef:l,patternInputWrapperRef:u,overflowRef:v,inputTagElRef:g,handleMouseDown:V,handleFocusin:B,handleClear:R,handleMouseEnter:z,handleMouseLeave:N,handleDeleteOption:W,handlePatternKeyDown:H,handlePatternInputInput:ae,handlePatternInputBlur:ge,handlePatternInputFocus:fe,handleMouseEnterCounter:U,handleMouseLeaveCounter:ee,handleFocusout:O,handleCompositionEnd:J,handleCompositionStart:X,onPopoverUpdateShow:te,focus:be,focusInput:K,blur:ye,blurInput:j,updateCounter:Q,getCounter:le,getTail:oe,renderLabel:r.renderLabel,cssVars:ie?void 0:re,themeClass:ue==null?void 0:ue.themeClass,onRender:ue==null?void 0:ue.onRender}},render(){const{status:r,multiple:n,size:a,disabled:o,filterable:s,maxTagCount:l,bordered:u,clsPrefix:f,onRender:d,renderTag:v,renderLabel:g}=this;d==null||d();const y=l==="responsive",b=typeof l=="number",_=y||b,x=h(Suffix_default,{clsPrefix:f,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var C,S;return(S=(C=this.$slots).arrow)===null||S===void 0?void 0:S.call(C)}});let w;if(n){const C=I=>h("div",{class:`${f}-base-selection-tag-wrapper`,key:I.value},v?v({option:I,handleClose:()=>this.handleDeleteOption(I)}):h(Tag_default,{size:a,closable:!I.disabled,disabled:o,internalStopClickPropagation:!0,onClose:()=>this.handleDeleteOption(I)},{default:()=>g?g(I,!0):render(I.label,I,!0)})),S=(b?this.selectedOptions.slice(0,l):this.selectedOptions).map(C),D=s?h("div",{class:`${f}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:`${f}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:`${f}-base-selection-input-tag__mirror`},this.pattern)):null,A=y?()=>h("div",{class:`${f}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},h(Tag_default,{size:a,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let T;if(b){const I=this.selectedOptions.length-l;I>0&&(T=h("div",{class:`${f}-base-selection-tag-wrapper`,key:"__counter__"},h(Tag_default,{size:a,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>`+${I}`})))}const P=y?s?h(src_default2,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>S,counter:A,tail:()=>D}):h(src_default2,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>S,counter:A}):b?S.concat(T):S,E=_?()=>h("div",{class:`${f}-base-selection-popover`},y?S:this.selectedOptions.map(C)):void 0,M=_?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,F=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`},this.placeholder):null;if(s){const I=h("div",{ref:"patternInputWrapperRef",class:`${f}-base-selection-tags`},P,y?null:D,x);w=h(Fragment,null,_?h(Popover_default,Object.assign({},M),{trigger:()=>I,default:E}):I,F)}else{const I=h("div",{ref:"multipleElRef",class:`${f}-base-selection-tags`,tabindex:o?void 0:0},P,x);w=h(Fragment,null,_?h(Popover_default,Object.assign({},M),{trigger:()=>I,default:E}):I,F)}}else if(s){const C=this.pattern||this.isCompositing,S=this.active?!C:!this.selected,D=this.active?!1:this.selected;w=h("div",{ref:"patternInputWrapperRef",class:`${f}-base-selection-label`},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${f}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),D?h("div",{class:`${f}-base-selection-label__render-label ${f}-base-selection-overlay`,key:"input"},h("div",{class:`${f}-base-selection-overlay__wrapper`},v?v({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):render(this.label,this.selectedOption,!0))):null,S?h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`,key:"placeholder"},h("div",{class:`${f}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,x)}else w=h("div",{ref:"singleElRef",class:`${f}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:`${f}-base-selection-input`,title:getTitleAttribute(this.label),key:"input"},h("div",{class:`${f}-base-selection-input__content`},v?v({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):render(this.label,this.selectedOption,!0))):h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`,key:"placeholder"},this.placeholder),x);return h("div",{ref:"selfRef",class:[`${f}-base-selection`,this.themeClass,r&&`${f}-base-selection--${r}-status`,{[`${f}-base-selection--active`]:this.active,[`${f}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${f}-base-selection--disabled`]:this.disabled,[`${f}-base-selection--multiple`]:this.multiple,[`${f}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeyup:this.onKeyup,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},w,u?h("div",{class:`${f}-base-selection__border`}):null,u?h("div",{class:`${f}-base-selection__state-border`}):null)}}),{cubicBezierEaseInOut:cubicBezierEaseInOut3}=common_default;function fade_in_width_expand_cssr_default({duration:r=".2s",delay:n=".1s"}={}){return[c2("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c2("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),c2("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${cubicBezierEaseInOut3},
 max-width ${r} ${cubicBezierEaseInOut3} ${n},
 margin-left ${r} ${cubicBezierEaseInOut3} ${n},
 margin-right ${r} ${cubicBezierEaseInOut3} ${n};
 `),c2("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${r} ${cubicBezierEaseInOut3} ${n},
 max-width ${r} ${cubicBezierEaseInOut3},
 margin-left ${r} ${cubicBezierEaseInOut3},
 margin-right ${r} ${cubicBezierEaseInOut3};
 `)]}var common_default7={iconMargin:"12px 8px 0 12px",iconMarginRtl:"12px 12px 0 8px",iconSize:"26px",closeSize:"16px",closeMargin:"14px 16px 0 0",closeMarginRtl:"14px 0 0 16px",padding:"15px"},alertDark={name:"Alert",common:dark_default,self(r){const{lineHeight:n,borderRadius:a,fontWeightStrong:o,dividerColor:s,inputColor:l,textColor1:u,textColor2:f,closeColor:d,closeColorHover:v,closeColorPressed:g,infoColorSuppl:y,successColorSuppl:b,warningColorSuppl:_,errorColorSuppl:x,fontSize:w}=r;return Object.assign(Object.assign({},common_default7),{fontSize:w,lineHeight:n,titleFontWeight:o,borderRadius:a,border:`1px solid ${s}`,color:l,titleTextColor:u,iconColor:f,contentTextColor:f,closeColor:d,closeColorHover:v,closeColorPressed:g,borderInfo:`1px solid ${changeColor(y,{alpha:.35})}`,colorInfo:changeColor(y,{alpha:.25}),titleTextColorInfo:u,iconColorInfo:y,contentTextColorInfo:f,closeColorInfo:d,closeColorHoverInfo:v,closeColorPressedInfo:g,borderSuccess:`1px solid ${changeColor(b,{alpha:.35})}`,colorSuccess:changeColor(b,{alpha:.25}),titleTextColorSuccess:u,iconColorSuccess:b,contentTextColorSuccess:f,closeColorSuccess:d,closeColorHoverSuccess:v,closeColorPressedSuccess:g,borderWarning:`1px solid ${changeColor(_,{alpha:.35})}`,colorWarning:changeColor(_,{alpha:.25}),titleTextColorWarning:u,iconColorWarning:_,contentTextColorWarning:f,closeColorWarning:d,closeColorHoverWarning:v,closeColorPressedWarning:g,borderError:`1px solid ${changeColor(x,{alpha:.35})}`,colorError:changeColor(x,{alpha:.25}),titleTextColorError:u,iconColorError:x,contentTextColorError:f,closeColorError:d,closeColorHoverError:v,closeColorPressedError:g})}},dark_default8=alertDark,common_default8={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},self8=r=>{const{borderRadius:n,railColor:a,primaryColor:o,primaryColorHover:s,primaryColorPressed:l,textColor2:u}=r;return Object.assign(Object.assign({},common_default8),{borderRadius:n,railColor:a,railColorActive:o,linkColor:changeColor(o,{alpha:.15}),linkTextColor:u,linkTextColorHover:s,linkTextColorPressed:l,linkTextColorActive:o})},anchorDark={name:"Anchor",common:dark_default,self:self8},dark_default9=anchorDark;function getKey(r){return getIsGroup(r)?r.name||r.key||"key-required":r.value}function getIsGroup(r){return r.type==="group"}function getIgnored(r){return r.type==="ignored"}var tmOptions={getKey,getIsGroup,getIgnored};function patternMatched(r,n){try{return!!(1+n.toString().toLowerCase().indexOf(r.trim().toLowerCase()))}catch(a){return!1}}function filterOptions(r,n,a){if(!n)return r;function o(s){if(!Array.isArray(s))return[];const l=[];for(const u of s)if(getIsGroup(u)){const f=o(u.children);f.length&&l.push(Object.assign({},u,{children:f}))}else{if(getIgnored(u))continue;n(a,u)&&l.push(u)}return l}return o(r)}function createValOptMap(r){const n=new Map;return r.forEach(a=>{getIsGroup(a)?a.children.forEach(o=>{n.set(o.value,o)}):n.set(a.value,a)}),n}function defaultFilter(r,n){return n?typeof n.label=="string"?patternMatched(r,n.label):n.value!==void 0?patternMatched(r,String(n.value)):!1:!1}var common_default9={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},inputDark={name:"Input",common:dark_default,self(r){const{textColor2:n,textColor3:a,textColorDisabled:o,primaryColor:s,primaryColorHover:l,inputColor:u,inputColorDisabled:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,borderRadius:b,lineHeight:_,fontSizeTiny:x,fontSizeSmall:w,fontSizeMedium:C,fontSizeLarge:S,heightTiny:D,heightSmall:A,heightMedium:T,heightLarge:P,clearColor:E,clearColorHover:M,clearColorPressed:L,placeholderColor:F,placeholderColorDisabled:I,iconColor:B,iconColorDisabled:O,iconColorHover:R,iconColorPressed:z}=r;return Object.assign(Object.assign({},common_default9),{countTextColor:a,heightTiny:D,heightSmall:A,heightMedium:T,heightLarge:P,fontSizeTiny:x,fontSizeSmall:w,fontSizeMedium:C,fontSizeLarge:S,lineHeight:_,lineHeightTextarea:_,borderRadius:b,iconSize:"16px",groupLabelColor:u,textColor:n,textColorDisabled:o,textDecorationColor:n,groupLabelTextColor:n,caretColor:s,placeholderColor:F,placeholderColorDisabled:I,color:u,colorDisabled:f,colorFocus:changeColor(s,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${l}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 8px 0 ${changeColor(s,{alpha:.3})}`,loadingColor:s,loadingColorWarning:d,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,colorFocusWarning:changeColor(d,{alpha:.1}),borderFocusWarning:`1px solid ${v}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(d,{alpha:.3})}`,caretColorWarning:d,loadingColorError:g,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,colorFocusError:changeColor(g,{alpha:.1}),borderFocusError:`1px solid ${y}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(g,{alpha:.3})}`,caretColorError:g,clearColor:E,clearColorHover:M,clearColorPressed:L,iconColor:B,iconColorDisabled:O,iconColorHover:R,iconColorPressed:z,suffixTextColor:n})}},dark_default10=inputDark,self9=r=>{const{textColor2:n,textColor3:a,textColorDisabled:o,primaryColor:s,primaryColorHover:l,inputColor:u,inputColorDisabled:f,borderColor:d,warningColor:v,warningColorHover:g,errorColor:y,errorColorHover:b,borderRadius:_,lineHeight:x,fontSizeTiny:w,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:D,heightTiny:A,heightSmall:T,heightMedium:P,heightLarge:E,actionColor:M,clearColor:L,clearColorHover:F,clearColorPressed:I,placeholderColor:B,placeholderColorDisabled:O,iconColor:R,iconColorDisabled:z,iconColorHover:N,iconColorPressed:V}=r;return Object.assign(Object.assign({},common_default9),{countTextColor:a,heightTiny:A,heightSmall:T,heightMedium:P,heightLarge:E,fontSizeTiny:w,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:D,lineHeight:x,lineHeightTextarea:x,borderRadius:_,iconSize:"16px",groupLabelColor:M,groupLabelTextColor:n,textColor:n,textColorDisabled:o,textDecorationColor:n,caretColor:s,placeholderColor:B,placeholderColorDisabled:O,color:u,colorDisabled:f,colorFocus:u,groupLabelBorder:`1px solid ${d}`,border:`1px solid ${d}`,borderHover:`1px solid ${l}`,borderDisabled:`1px solid ${d}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${changeColor(s,{alpha:.2})}`,loadingColor:s,loadingColorWarning:v,borderWarning:`1px solid ${v}`,borderHoverWarning:`1px solid ${g}`,colorFocusWarning:u,borderFocusWarning:`1px solid ${g}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(v,{alpha:.2})}`,caretColorWarning:v,loadingColorError:y,borderError:`1px solid ${y}`,borderHoverError:`1px solid ${b}`,colorFocusError:u,borderFocusError:`1px solid ${b}`,boxShadowFocusError:`0 0 0 2px ${changeColor(y,{alpha:.2})}`,caretColorError:y,clearColor:L,clearColorHover:F,clearColorPressed:I,iconColor:R,iconColorDisabled:z,iconColorHover:N,iconColorPressed:V,suffixTextColor:n})},inputLight={name:"Input",common:light_default,self:self9},light_default8=inputLight,inputInjectionKey=createInjectionKey("n-input");function len(r){let n=0;for(const a of r)n++;return n}function isEmptyValue(r){return["",void 0,null].includes(r)}var WordCount_default=defineComponent({name:"InputWordCount",setup(r,{slots:n}){const{mergedValueRef:a,maxlengthRef:o,mergedClsPrefixRef:s}=inject(inputInjectionKey),l=computed2(()=>{const{value:u}=a;return u===null||Array.isArray(u)?0:len(u)});return()=>{const{value:u}=o,{value:f}=a;return h("span",{class:`${s.value}-input-word-count`},resolveSlotWithProps(n.default,{value:f===null||Array.isArray(f)?"":f},()=>[u===void 0?l.value:`${l.value} / ${u}`]))}}}),input_cssr_default=cB("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[cE("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),cE("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),cE("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[c2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c2("&::placeholder","color: #0000;"),c2("&:-webkit-autofill ~",[cE("placeholder","display: none;")])]),cM("round",[cNotM("textarea","border-radius: calc(var(--n-height) / 2);")]),cE("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[c2("span",`
 width: 100%;
 display: inline-block;
 `)]),cM("textarea",[cE("placeholder","overflow: visible;")]),cNotM("autosize","width: 100%;"),cM("autosize",[cE("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),cB("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),cE("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),cE("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[c2("+",[cE("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),cNotM("textarea",[cE("placeholder","white-space: nowrap;")]),cE("eye",`
 transition: color .3s var(--n-bezier);
 `),cM("textarea","width: 100%;",[cB("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),cM("resizable",[cB("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),cE("textarea",`
 position: static;
 `),cE("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 left: var(--n-padding-left);
 right: var(--n-padding-right);
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),cE("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),cM("pair",[cE("input-el, placeholder","text-align: center;"),cE("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[cB("icon",`
 color: var(--n-icon-color);
 `),cB("base-icon",`
 color: var(--n-icon-color);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cE("border","border: var(--n-border-disabled);"),cE("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),cE("placeholder","color: var(--n-placeholder-color-disabled);"),cE("separator","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),cE("suffix, prefix","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),cNotM("disabled",[cE("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[c2("&:hover",`
 color: var(--n-icon-color-hover);
 `),c2("&:active",`
 color: var(--n-icon-color-pressed);
 `),cB("icon",[c2("&:hover",`
 color: var(--n-icon-color-hover);
 `),c2("&:active",`
 color: var(--n-icon-color-pressed);
 `)])]),c2("&:hover",[cE("state-border","border: var(--n-border-hover);")]),cM("focus","background-color: var(--n-color-focus);",[cE("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cE("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 border-color: #0000;
 z-index: 1;
 `),cE("prefix","margin-right: 4px;"),cE("suffix",`
 margin-left: 4px;
 `),cE("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[cB("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),cB("base-clear",`
 font-size: var(--n-icon-size);
 `,[cE("placeholder",[cB("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),c2(">",[cB("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),cB("base-icon",`
 font-size: var(--n-icon-size);
 `)]),cB("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(r=>cM(`${r}-status`,[cNotM("disabled",[cB("base-loading",`
 color: var(--n-loading-color-${r})
 `),cE("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${r});
 `),cE("state-border",`
 border: var(--n-border-${r});
 `),c2("&:hover",[cE("state-border",`
 border: var(--n-border-hover-${r});
 `)]),c2("&:focus",`
 background-color: var(--n-color-focus-${r});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)]),cM("focus",`
 background-color: var(--n-color-focus-${r});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${r});
 border: var(--n-border-focus-${r});
 `)])])]))]),inputProps=Object.assign(Object.assign({},use_theme_default.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),Input_default=defineComponent({name:"Input",props:inputProps,setup(r){watchEffect(()=>{r.showPasswordToggle&&warnOnce("input",'`show-password-toggle` is deprecated, please use `showPasswordOn="click"` instead')});const{mergedClsPrefixRef:n,mergedBorderedRef:a,inlineThemeDisabled:o,mergedRtlRef:s}=useConfig(r),l=use_theme_default("Input","-input",input_cssr_default,light_default8,r,n),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(null),b=ref(null),{localeRef:_}=useLocale("Input"),x=ref(r.defaultValue),w=toRef(r,"value"),C=useMergedState(w,x),S=useFormItem(r),{mergedSizeRef:D,mergedDisabledRef:A,mergedStatusRef:T}=S,P=ref(!1),E=ref(!1),M=ref(!1),L=ref(!1);let F=null;const I=computed2(()=>{const{placeholder:se,pair:_e}=r;return _e?Array.isArray(se)?se:se===void 0?["",""]:[se,se]:se===void 0?[_.value.placeholder]:[se]}),B=computed2(()=>{const{value:se}=M,{value:_e}=C,{value:Fe}=I;return!se&&(isEmptyValue(_e)||Array.isArray(_e)&&isEmptyValue(_e[0]))&&Fe[0]}),O=computed2(()=>{const{value:se}=M,{value:_e}=C,{value:Fe}=I;return!se&&Fe[1]&&(isEmptyValue(_e)||Array.isArray(_e)&&isEmptyValue(_e[1]))}),R=use_memo_default(()=>r.internalForceFocus||P.value),z=use_memo_default(()=>{if(A.value||r.readonly||!r.clearable||!R.value&&!E.value)return!1;const{value:se}=C,{value:_e}=R;return r.pair?!!(Array.isArray(se)&&(se[0]||se[1]))&&(E.value||_e):!!se&&(E.value||_e)}),N=computed2(()=>{const{showPasswordOn:se}=r;if(se)return se;if(r.showPasswordToggle)return"click"}),V=ref(!1),W=computed2(()=>{const{textDecoration:se}=r;return se?Array.isArray(se)?se.map(_e=>({textDecoration:_e})):[{textDecoration:se}]:["",""]}),H=ref(void 0),$=()=>{var se,_e;if(r.type==="textarea"){const{autosize:Fe}=r;if(Fe&&(H.value=(_e=(se=b.value)===null||se===void 0?void 0:se.$el)===null||_e===void 0?void 0:_e.offsetWidth),!f.value||typeof Fe=="boolean")return;const{paddingTop:Ve,paddingBottom:Ne,lineHeight:Be}=window.getComputedStyle(f.value),ke=Number(Ve.slice(0,-2)),We=Number(Ne.slice(0,-2)),Ge=Number(Be.slice(0,-2)),{value:Ue}=d;if(!Ue)return;if(Fe.minRows){const Ye=Math.max(Fe.minRows,1),qe=`${ke+We+Ge*Ye}px`;Ue.style.minHeight=qe}if(Fe.maxRows){const Ye=`${ke+We+Ge*Fe.maxRows}px`;Ue.style.maxHeight=Ye}}},Y=computed2(()=>{const{maxlength:se}=r;return se===void 0?void 0:Number(se)});onMounted(()=>{const{value:se}=C;Array.isArray(se)||Ae(se)});const ae=getCurrentInstance().proxy;function X(se){const{onUpdateValue:_e,"onUpdate:value":Fe,onInput:Ve}=r,{nTriggerFormInput:Ne}=S;_e&&call(_e,se),Fe&&call(Fe,se),Ve&&call(Ve,se),x.value=se,Ne()}function J(se){const{onChange:_e}=r,{nTriggerFormChange:Fe}=S;_e&&call(_e,se),x.value=se,Fe()}function fe(se){const{onBlur:_e}=r,{nTriggerFormBlur:Fe}=S;_e&&call(_e,se),Fe()}function ge(se){const{onFocus:_e}=r,{nTriggerFormFocus:Fe}=S;_e&&call(_e,se),Fe()}function ye(se){const{onClear:_e}=r;_e&&call(_e,se)}function be(se){const{onInputBlur:_e}=r;_e&&call(_e,se)}function K(se){const{onInputFocus:_e}=r;_e&&call(_e,se)}function j(){const{onDeactivate:se}=r;se&&call(se)}function Q(){const{onActivate:se}=r;se&&call(se)}function le(se){const{onClick:_e}=r;_e&&call(_e,se)}function oe(se){const{onWrapperFocus:_e}=r;_e&&call(_e,se)}function he(se){const{onWrapperBlur:_e}=r;_e&&call(_e,se)}function G(){M.value=!0}function U(se){M.value=!1,se.target===y.value?ee(se,1):ee(se,0)}function ee(se,_e=0,Fe="input"){const Ve=se.target.value;if(Ae(Ve),r.type==="textarea"){const{value:Be}=b;Be&&Be.syncUnifiedContainer()}if(F=Ve,M.value)return;const Ne=Ve;if(!r.pair)Fe==="input"?X(Ne):J(Ne);else{let{value:Be}=C;Array.isArray(Be)?Be=[...Be]:Be=["",""],Be[_e]=Ne,Fe==="input"?X(Be):J(Be)}ae.$forceUpdate()}function te(se){be(se),se.relatedTarget===u.value&&j(),se.relatedTarget!==null&&(se.relatedTarget===g.value||se.relatedTarget===y.value||se.relatedTarget===f.value)||(L.value=!1),q(se,"blur")}function ie(se){K(se),P.value=!0,L.value=!0,Q(),q(se,"focus")}function re(se){r.passivelyActivated&&(he(se),q(se,"blur"))}function ue(se){r.passivelyActivated&&(P.value=!0,oe(se),q(se,"focus"))}function q(se,_e){se.relatedTarget!==null&&(se.relatedTarget===g.value||se.relatedTarget===y.value||se.relatedTarget===f.value||se.relatedTarget===u.value)||(_e==="focus"?(ge(se),P.value=!0):_e==="blur"&&(fe(se),P.value=!1))}function Z(se,_e){ee(se,_e,"change")}function ce(se){le(se)}function xe(se){ye(se),r.pair?(X(["",""]),J(["",""])):(X(""),J(""))}function De(se){const{onMousedown:_e}=r;_e&&_e(se);const{tagName:Fe}=se.target;if(Fe!=="INPUT"&&Fe!=="TEXTAREA"){if(r.resizable){const{value:Ve}=u;if(Ve){const{left:Ne,top:Be,width:ke,height:We}=Ve.getBoundingClientRect(),Ge=14;if(Ne+ke-Ge<se.clientX&&se.clientY<Ne+ke&&Be+We-Ge<se.clientY&&se.clientY<Be+We)return}}se.preventDefault(),P.value||ve()}}function Se(){var se;E.value=!0,r.type==="textarea"&&((se=b.value)===null||se===void 0||se.handleMouseEnterWrapper())}function we(){var se;E.value=!1,r.type==="textarea"&&((se=b.value)===null||se===void 0||se.handleMouseLeaveWrapper())}function Me(){A.value||N.value==="click"&&(V.value=!V.value)}function Ie(se){if(A.value)return;se.preventDefault();const _e=Ve=>{Ve.preventDefault(),off("mouseup",document,_e)};if(on("mouseup",document,_e),N.value!=="mousedown")return;V.value=!0;const Fe=()=>{V.value=!1,off("mouseup",document,Fe)};on("mouseup",document,Fe)}function Pe(se){var _e;switch((_e=r.onKeydown)===null||_e===void 0||_e.call(r,se),se.code){case"Escape":pe();break;case"Enter":case"NumpadEnter":me(se);break}}function me(se){var _e,Fe;if(r.passivelyActivated){const{value:Ve}=L;if(Ve){r.internalDeactivateOnEnter&&pe();return}se.preventDefault(),r.type==="textarea"?(_e=f.value)===null||_e===void 0||_e.focus():(Fe=g.value)===null||Fe===void 0||Fe.focus()}}function pe(){r.passivelyActivated&&(L.value=!1,nextTick(()=>{var se;(se=u.value)===null||se===void 0||se.focus()}))}function ve(){var se,_e,Fe;A.value||(r.passivelyActivated?(se=u.value)===null||se===void 0||se.focus():((_e=f.value)===null||_e===void 0||_e.focus(),(Fe=g.value)===null||Fe===void 0||Fe.focus()))}function ne(){var se;((se=u.value)===null||se===void 0?void 0:se.contains(document.activeElement))&&document.activeElement.blur()}function de(){var se,_e;(se=f.value)===null||se===void 0||se.select(),(_e=g.value)===null||_e===void 0||_e.select()}function Ce(){A.value||(f.value?f.value.focus():g.value&&g.value.focus())}function Te(){const{value:se}=u;(se==null?void 0:se.contains(document.activeElement))&&se!==document.activeElement&&pe()}function Ae(se){const{type:_e,pair:Fe,autosize:Ve}=r;if(!Fe&&Ve)if(_e==="textarea"){const{value:Ne}=d;Ne&&(Ne.textContent=(se!=null?se:"")+`\r
`)}else{const{value:Ne}=v;Ne&&(se?Ne.textContent=se:Ne.innerHTML="&nbsp;")}}function Ee(){$()}const Le=ref({top:"0"});function ze(se){var _e;const{scrollTop:Fe}=se.target;Le.value.top=`${-Fe}px`,(_e=b.value)===null||_e===void 0||_e.syncUnifiedContainer()}let Re=null;watchEffect(()=>{const{autosize:se,type:_e}=r;se&&_e==="textarea"?Re=watch(C,Fe=>{!Array.isArray(Fe)&&Fe!==F&&Ae(Fe)}):Re==null||Re()});let Oe=null;watchEffect(()=>{r.type==="textarea"?Oe=watch(C,se=>{var _e;!Array.isArray(se)&&se!==F&&((_e=b.value)===null||_e===void 0||_e.syncUnifiedContainer())}):Oe==null||Oe()}),provide(inputInjectionKey,{mergedValueRef:C,maxlengthRef:Y,mergedClsPrefixRef:n});const $e={wrapperElRef:u,inputElRef:g,textareaElRef:f,isCompositing:M,focus:ve,blur:ne,select:de,deactivate:Te,activate:Ce},Ke=useRtl("Input",s,n),je=computed2(()=>{const{value:se}=D,{common:{cubicBezierEaseInOut:_e},self:{color:Fe,borderRadius:Ve,textColor:Ne,caretColor:Be,caretColorError:ke,caretColorWarning:We,textDecorationColor:Ge,border:Ue,borderDisabled:Ye,borderHover:qe,borderFocus:Xe,placeholderColor:Ze,placeholderColorDisabled:Je,lineHeightTextarea:Qe,colorDisabled:et,colorFocus:tt,textColorDisabled:nt,boxShadowFocus:it,iconSize:at,colorFocusWarning:ot,boxShadowFocusWarning:st,borderWarning:ut,borderFocusWarning:ct,borderHoverWarning:ft,colorFocusError:dt,boxShadowFocusError:ht,borderError:vt,borderFocusError:pt,borderHoverError:gt,clearSize:mt,clearColor:yt,clearColorHover:bt,clearColorPressed:_t,iconColor:xt,iconColorDisabled:wt,suffixTextColor:Ct,countTextColor:St,iconColorHover:Dt,iconColorPressed:At,loadingColor:Tt,loadingColorError:Et,loadingColorWarning:Mt,[createKey("padding",se)]:Pt,[createKey("fontSize",se)]:It,[createKey("height",se)]:Ft}}=l.value,{left:Lt,right:Rt}=getMargin(Pt);return{"--n-bezier":_e,"--n-count-text-color":St,"--n-color":Fe,"--n-font-size":It,"--n-border-radius":Ve,"--n-height":Ft,"--n-padding-left":Lt,"--n-padding-right":Rt,"--n-text-color":Ne,"--n-caret-color":Be,"--n-text-decoration-color":Ge,"--n-border":Ue,"--n-border-disabled":Ye,"--n-border-hover":qe,"--n-border-focus":Xe,"--n-placeholder-color":Ze,"--n-placeholder-color-disabled":Je,"--n-icon-size":at,"--n-line-height-textarea":Qe,"--n-color-disabled":et,"--n-color-focus":tt,"--n-text-color-disabled":nt,"--n-box-shadow-focus":it,"--n-loading-color":Tt,"--n-caret-color-warning":We,"--n-color-focus-warning":ot,"--n-box-shadow-focus-warning":st,"--n-border-warning":ut,"--n-border-focus-warning":ct,"--n-border-hover-warning":ft,"--n-loading-color-warning":Mt,"--n-caret-color-error":ke,"--n-color-focus-error":dt,"--n-box-shadow-focus-error":ht,"--n-border-error":vt,"--n-border-focus-error":pt,"--n-border-hover-error":gt,"--n-loading-color-error":Et,"--n-clear-color":yt,"--n-clear-size":mt,"--n-clear-color-hover":bt,"--n-clear-color-pressed":_t,"--n-icon-color":xt,"--n-icon-color-hover":Dt,"--n-icon-color-pressed":At,"--n-icon-color-disabled":wt,"--n-suffix-text-color":Ct}}),He=o?useThemeClass("input",computed2(()=>{const{value:se}=D;return se[0]}),je,r):void 0;return Object.assign(Object.assign({},$e),{wrapperElRef:u,inputElRef:g,inputMirrorElRef:v,inputEl2Ref:y,textareaElRef:f,textareaMirrorElRef:d,textareaScrollbarInstRef:b,rtlEnabled:Ke,uncontrolledValue:x,mergedValue:C,passwordVisible:V,mergedPlaceholder:I,showPlaceholder1:B,showPlaceholder2:O,mergedFocus:R,isComposing:M,activated:L,showClearButton:z,mergedSize:D,mergedDisabled:A,textDecorationStyle:W,mergedClsPrefix:n,mergedBordered:a,mergedShowPasswordOn:N,placeholderStyle:Le,mergedStatus:T,textAreaScrollContainerWidth:H,handleTextAreaScroll:ze,handleCompositionStart:G,handleCompositionEnd:U,handleInput:ee,handleInputBlur:te,handleInputFocus:ie,handleWrapperBlur:re,handleWrapperFocus:ue,handleMouseEnter:Se,handleMouseLeave:we,handleMouseDown:De,handleChange:Z,handleClick:ce,handleClear:xe,handlePasswordToggleClick:Me,handlePasswordToggleMousedown:Ie,handleWrapperKeyDown:Pe,handleTextAreaMirrorResize:Ee,getTextareaScrollContainer:()=>f.value,mergedTheme:l,cssVars:o?void 0:je,themeClass:He==null?void 0:He.themeClass,onRender:He==null?void 0:He.onRender})},render(){const{mergedClsPrefix:r,mergedStatus:n,themeClass:a,onRender:o,$slots:s}=this;return o==null||o(),h("div",{ref:"wrapperElRef",class:[`${r}-input`,a,n&&`${r}-input--${n}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:this.type==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&this.type!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},h("div",{class:`${r}-input-wrapper`},resolveWrappedSlot(s.prefix,l=>l&&h("div",{class:`${r}-input__prefix`},l)),this.type==="textarea"?h(ScrollBar_default,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0},{default:()=>{const{textAreaScrollContainerWidth:l}=this,u={width:this.autosize&&l&&`${l}px`};return h(Fragment,null,h("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${r}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],u],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?h("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,u],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?h(VResizeObserver_default,{onResize:this.handleTextAreaMirrorResize},{default:()=>h("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):h("div",{class:`${r}-input__input`},h("input",Object.assign({type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type},this.inputProps,{ref:"inputElRef",class:`${r}-input__input-el`,style:this.textDecorationStyle[0],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:l=>this.handleInput(l,0),onChange:l=>this.handleChange(l,0)})),this.showPlaceholder1?h("div",{class:`${r}-input__placeholder`},h("span",null,this.mergedPlaceholder[0])):null,this.autosize?h("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&resolveWrappedSlot(s.suffix,l=>l||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?h("div",{class:`${r}-input__suffix`},[resolveWrappedSlot(s.clear,u=>(this.clearable||u)&&h(Clear_default2,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>u})),this.internalLoadingBeforeSuffix?null:l,this.loading!==void 0?h(Suffix_default,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?l:null,this.showCount&&this.type!=="textarea"?h(WordCount_default,null,{default:u=>{var f;return(f=s.count)===null||f===void 0?void 0:f.call(s,u)}}):null,this.mergedShowPasswordOn&&this.type==="password"?h(Icon_default,{clsPrefix:r,class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?resolveSlot(s["password-visible-icon"],()=>[h(Eye_default,null)]):resolveSlot(s["password-invisible-icon"],()=>[h(EyeOff_default,null)])}):null]):null)),this.pair?h("span",{class:`${r}-input__separator`},resolveSlot(s.separator,()=>[this.separator])):null,this.pair?h("div",{class:`${r}-input-wrapper`},h("div",{class:`${r}-input__input`},h("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:l=>this.handleInput(l,1),onChange:l=>this.handleChange(l,1)}),this.showPlaceholder2?h("div",{class:`${r}-input__placeholder`},h("span",null,this.mergedPlaceholder[1])):null),resolveWrappedSlot(s.suffix,l=>(this.clearable||l)&&h("div",{class:`${r}-input__suffix`},[this.clearable&&h(Clear_default2,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{default:()=>{var u;return(u=s.clear)===null||u===void 0?void 0:u.call(s)}}),l]))):null,this.mergedBordered?h("div",{class:`${r}-input__border`}):null,this.mergedBordered?h("div",{class:`${r}-input__state-border`}):null,this.showCount&&this.type==="textarea"?h(WordCount_default,null,{default:l=>{var u;return(u=s.count)===null||u===void 0?void 0:u.call(s,l)}}):null)}});function self10(r){const{boxShadow2:n}=r;return{menuBoxShadow:n}}var autoCompleteLight=createTheme({name:"AutoComplete",common:light_default,peers:{InternalSelectMenu:light_default4,Input:light_default8},self:self10}),autoCompleteDark={name:"AutoComplete",common:dark_default,peers:{InternalSelectMenu:dark_default4,Input:dark_default10},self:self10},dark_default11=autoCompleteDark,self11=r=>{const{borderRadius:n,avatarColor:a,cardColor:o,fontSize:s,heightTiny:l,heightSmall:u,heightMedium:f,heightLarge:d,heightHuge:v,modalColor:g,popoverColor:y}=r;return{borderRadius:n,fontSize:s,border:`2px solid ${o}`,heightTiny:l,heightSmall:u,heightMedium:f,heightLarge:d,heightHuge:v,color:composite(o,a),colorModal:composite(g,a),colorPopover:composite(y,a)}},avatarDark={name:"Avatar",common:dark_default,self:self11},dark_default12=avatarDark,avatarGroupDark={name:"AvatarGroup",common:dark_default,peers:{Avatar:dark_default12}},dark_default13=avatarGroupDark,common_default10={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},backTopDark={name:"BackTop",common:dark_default,self(r){const{popoverColor:n,textColor2:a,primaryColorHover:o,primaryColorPressed:s}=r;return Object.assign(Object.assign({},common_default10),{color:n,textColor:a,iconColor:a,iconColorHover:o,iconColorPressed:s,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},dark_default14=backTopDark,badgeDark={name:"Badge",common:dark_default,self(r){const{errorColorSuppl:n,infoColorSuppl:a,successColorSuppl:o,warningColorSuppl:s,fontFamily:l}=r;return{color:n,colorInfo:a,colorSuccess:o,colorError:n,colorWarning:s,fontSize:"12px",fontFamily:l}}},dark_default15=badgeDark,common_default11={fontWeightActive:"400"},self12=r=>{const{fontSize:n,textColor3:a,primaryColorHover:o,primaryColorPressed:s,textColor2:l}=r;return Object.assign(Object.assign({},common_default11),{fontSize:n,itemTextColor:a,itemTextColorHover:o,itemTextColorPressed:s,itemTextColorActive:l,separatorColor:a})},breadcrumbDark={name:"Breadcrumb",common:dark_default,self:self12},dark_default16=breadcrumbDark;function createHoverColor(r){return composite(r,[255,255,255,.16])}function createPressedColor(r){return composite(r,[0,0,0,.12])}var common_default12={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},self13=r=>{const{heightTiny:n,heightSmall:a,heightMedium:o,heightLarge:s,borderRadius:l,fontSizeTiny:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,opacityDisabled:g,textColor2:y,textColor3:b,primaryColorHover:_,primaryColorPressed:x,borderColor:w,primaryColor:C,baseColor:S,infoColor:D,infoColorHover:A,infoColorPressed:T,successColor:P,successColorHover:E,successColorPressed:M,warningColor:L,warningColorHover:F,warningColorPressed:I,errorColor:B,errorColorHover:O,errorColorPressed:R,fontWeight:z,buttonColor2:N,buttonColor2Hover:V,buttonColor2Pressed:W,fontWeightStrong:H}=r;return Object.assign(Object.assign({},common_default12),{heightTiny:n,heightSmall:a,heightMedium:o,heightLarge:s,borderRadiusTiny:l,borderRadiusSmall:l,borderRadiusMedium:l,borderRadiusLarge:l,fontSizeTiny:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,opacityDisabled:g,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:N,colorSecondaryHover:V,colorSecondaryPressed:W,colorTertiary:N,colorTertiaryHover:V,colorTertiaryPressed:W,colorQuaternary:"#0000",colorQuaternaryHover:V,colorQuaternaryPressed:W,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:y,textColorTertiary:b,textColorHover:_,textColorPressed:x,textColorFocus:_,textColorDisabled:y,textColorText:y,textColorTextHover:_,textColorTextPressed:x,textColorTextFocus:_,textColorTextDisabled:y,textColorGhost:y,textColorGhostHover:_,textColorGhostPressed:x,textColorGhostFocus:_,textColorGhostDisabled:y,border:`1px solid ${w}`,borderHover:`1px solid ${_}`,borderPressed:`1px solid ${x}`,borderFocus:`1px solid ${_}`,borderDisabled:`1px solid ${w}`,rippleColor:C,colorPrimary:C,colorHoverPrimary:_,colorPressedPrimary:x,colorFocusPrimary:_,colorDisabledPrimary:C,textColorPrimary:S,textColorHoverPrimary:S,textColorPressedPrimary:S,textColorFocusPrimary:S,textColorDisabledPrimary:S,textColorTextPrimary:C,textColorTextHoverPrimary:_,textColorTextPressedPrimary:x,textColorTextFocusPrimary:_,textColorTextDisabledPrimary:y,textColorGhostPrimary:C,textColorGhostHoverPrimary:_,textColorGhostPressedPrimary:x,textColorGhostFocusPrimary:_,textColorGhostDisabledPrimary:C,borderPrimary:`1px solid ${C}`,borderHoverPrimary:`1px solid ${_}`,borderPressedPrimary:`1px solid ${x}`,borderFocusPrimary:`1px solid ${_}`,borderDisabledPrimary:`1px solid ${C}`,rippleColorPrimary:C,colorInfo:D,colorHoverInfo:A,colorPressedInfo:T,colorFocusInfo:A,colorDisabledInfo:D,textColorInfo:S,textColorHoverInfo:S,textColorPressedInfo:S,textColorFocusInfo:S,textColorDisabledInfo:S,textColorTextInfo:D,textColorTextHoverInfo:A,textColorTextPressedInfo:T,textColorTextFocusInfo:A,textColorTextDisabledInfo:y,textColorGhostInfo:D,textColorGhostHoverInfo:A,textColorGhostPressedInfo:T,textColorGhostFocusInfo:A,textColorGhostDisabledInfo:D,borderInfo:`1px solid ${D}`,borderHoverInfo:`1px solid ${A}`,borderPressedInfo:`1px solid ${T}`,borderFocusInfo:`1px solid ${A}`,borderDisabledInfo:`1px solid ${D}`,rippleColorInfo:D,colorSuccess:P,colorHoverSuccess:E,colorPressedSuccess:M,colorFocusSuccess:E,colorDisabledSuccess:P,textColorSuccess:S,textColorHoverSuccess:S,textColorPressedSuccess:S,textColorFocusSuccess:S,textColorDisabledSuccess:S,textColorTextSuccess:P,textColorTextHoverSuccess:E,textColorTextPressedSuccess:M,textColorTextFocusSuccess:E,textColorTextDisabledSuccess:y,textColorGhostSuccess:P,textColorGhostHoverSuccess:E,textColorGhostPressedSuccess:M,textColorGhostFocusSuccess:E,textColorGhostDisabledSuccess:P,borderSuccess:`1px solid ${P}`,borderHoverSuccess:`1px solid ${E}`,borderPressedSuccess:`1px solid ${M}`,borderFocusSuccess:`1px solid ${E}`,borderDisabledSuccess:`1px solid ${P}`,rippleColorSuccess:P,colorWarning:L,colorHoverWarning:F,colorPressedWarning:I,colorFocusWarning:F,colorDisabledWarning:L,textColorWarning:S,textColorHoverWarning:S,textColorPressedWarning:S,textColorFocusWarning:S,textColorDisabledWarning:S,textColorTextWarning:L,textColorTextHoverWarning:F,textColorTextPressedWarning:I,textColorTextFocusWarning:F,textColorTextDisabledWarning:y,textColorGhostWarning:L,textColorGhostHoverWarning:F,textColorGhostPressedWarning:I,textColorGhostFocusWarning:F,textColorGhostDisabledWarning:L,borderWarning:`1px solid ${L}`,borderHoverWarning:`1px solid ${F}`,borderPressedWarning:`1px solid ${I}`,borderFocusWarning:`1px solid ${F}`,borderDisabledWarning:`1px solid ${L}`,rippleColorWarning:L,colorError:B,colorHoverError:O,colorPressedError:R,colorFocusError:O,colorDisabledError:B,textColorError:S,textColorHoverError:S,textColorPressedError:S,textColorFocusError:S,textColorDisabledError:S,textColorTextError:B,textColorTextHoverError:O,textColorTextPressedError:R,textColorTextFocusError:O,textColorTextDisabledError:y,textColorGhostError:B,textColorGhostHoverError:O,textColorGhostPressedError:R,textColorGhostFocusError:O,textColorGhostDisabledError:B,borderError:`1px solid ${B}`,borderHoverError:`1px solid ${O}`,borderPressedError:`1px solid ${R}`,borderFocusError:`1px solid ${O}`,borderDisabledError:`1px solid ${B}`,rippleColorError:B,waveOpacity:"0.6",fontWeight:z,fontWeightStrong:H})},buttonLight={name:"Button",common:light_default,self:self13},light_default9=buttonLight,buttonDark={name:"Button",common:dark_default,self(r){const n=self13(r);return n.waveOpacity="0.8",n.colorOpacitySecondary="0.16",n.colorOpacitySecondaryHover="0.2",n.colorOpacitySecondaryPressed="0.12",n}},dark_default17=buttonDark,buttonGroupInjectionKey=createInjectionKey("n-button-group"),index_cssr_default13=c2([cB("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c2("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c2("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c2("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c2("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c2("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c2("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading",{"pointer-events":"none"}),cB("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),typeof window!="undefined"&&"MozBoxSizing"in document.createElement("div").style?c2("&::moz-focus-inner",{border:0}):null,cE("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[cB("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 `,[icon_switch_cssr_default({top:"50%",originalTransform:"translateY(-50%)"})]),fade_in_width_expand_cssr_default()]),cE("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[c2("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block",`
 display: flex;
 width: 100%;
 `),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c2("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c2("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),buttonProps=Object.assign(Object.assign({},use_theme_default.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],internalAutoFocus:Boolean}),Button=defineComponent({name:"Button",props:buttonProps,setup(r){watchEffect(()=>{const{dashed:T,ghost:P,text:E,secondary:M,tertiary:L,quaternary:F}=r;(T||P||E)&&(M||L||F)&&warnOnce("button","`dashed`, `ghost` and `text` props can't be used along with `secondary`, `tertiary` and `quaterary` props.")});const n=ref(null),a=ref(null),o=ref(!1);onMounted(()=>{const{value:T}=n;T&&!r.disabled&&r.focusable&&r.internalAutoFocus&&T.focus({preventScroll:!0})});const s=use_memo_default(()=>!r.quaternary&&!r.tertiary&&!r.secondary&&!r.text&&(!r.color||r.ghost||r.dashed)&&r.bordered),l=inject(buttonGroupInjectionKey,{}),{mergedSizeRef:u}=useFormItem({},{defaultSize:"medium",mergedSize:T=>{const{size:P}=r;if(P)return P;const{size:E}=l;if(E)return E;const{mergedSize:M}=T||{};return M?M.value:"medium"}}),f=computed2(()=>r.focusable&&!r.disabled),d=T=>{var P;T.preventDefault(),!r.disabled&&f.value&&((P=n.value)===null||P===void 0||P.focus({preventScroll:!0}))},v=T=>{var P;if(!r.disabled&&!r.loading){const{onClick:E}=r;E&&call(E,T),r.text||(P=a.value)===null||P===void 0||P.play()}},g=T=>{switch(T.code){case"Enter":case"NumpadEnter":if(!r.keyboard)return;o.value=!1}},y=T=>{switch(T.code){case"Enter":case"NumpadEnter":if(!r.keyboard||r.loading){T.preventDefault();return}o.value=!0}},b=()=>{o.value=!1},{inlineThemeDisabled:_,mergedClsPrefixRef:x,mergedRtlRef:w}=useConfig(r),C=use_theme_default("Button","-button",index_cssr_default13,light_default9,r,x),S=useRtl("Button",w,x),D=computed2(()=>{const T=C.value,{common:{cubicBezierEaseInOut:P,cubicBezierEaseOut:E},self:M}=T,{rippleDuration:L,opacityDisabled:F,fontWeight:I,fontWeightStrong:B}=M,O=u.value,{dashed:R,type:z,ghost:N,text:V,color:W,round:H,circle:$,textColor:Y,secondary:ae,tertiary:X,quaternary:J,strong:fe}=r,ge={"font-weight":fe?B:I};let ye={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const be=z==="tertiary",K=z==="default",j=be?"default":z;if(V){const ue=Y||W,q=ue||M[createKey("textColorText",j)];ye={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":q,"--n-text-color-hover":ue?createHoverColor(ue):M[createKey("textColorTextHover",j)],"--n-text-color-pressed":ue?createPressedColor(ue):M[createKey("textColorTextPressed",j)],"--n-text-color-focus":ue?createHoverColor(ue):M[createKey("textColorTextHover",j)],"--n-text-color-disabled":ue||M[createKey("textColorTextDisabled",j)]}}else if(N||R){const ue=Y||W;ye={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":W||M[createKey("rippleColor",j)],"--n-text-color":ue||M[createKey("textColorGhost",j)],"--n-text-color-hover":ue?createHoverColor(ue):M[createKey("textColorGhostHover",j)],"--n-text-color-pressed":ue?createPressedColor(ue):M[createKey("textColorGhostPressed",j)],"--n-text-color-focus":ue?createHoverColor(ue):M[createKey("textColorGhostHover",j)],"--n-text-color-disabled":ue||M[createKey("textColorGhostDisabled",j)]}}else if(ae){const ue=K?M.textColor:be?M.textColorTertiary:M[createKey("color",j)],q=W||ue,Z=z!=="default"&&z!=="tertiary";ye={"--n-color":Z?changeColor(q,{alpha:Number(M.colorOpacitySecondary)}):M.colorSecondary,"--n-color-hover":Z?changeColor(q,{alpha:Number(M.colorOpacitySecondaryHover)}):M.colorSecondaryHover,"--n-color-pressed":Z?changeColor(q,{alpha:Number(M.colorOpacitySecondaryPressed)}):M.colorSecondaryPressed,"--n-color-focus":Z?changeColor(q,{alpha:Number(M.colorOpacitySecondaryHover)}):M.colorSecondaryHover,"--n-color-disabled":M.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":q,"--n-text-color-hover":q,"--n-text-color-pressed":q,"--n-text-color-focus":q,"--n-text-color-disabled":q}}else if(X||J){const ue=K?M.textColor:be?M.textColorTertiary:M[createKey("color",j)],q=W||ue;X?(ye["--n-color"]=M.colorTertiary,ye["--n-color-hover"]=M.colorTertiaryHover,ye["--n-color-pressed"]=M.colorTertiaryPressed,ye["--n-color-focus"]=M.colorSecondaryHover,ye["--n-color-disabled"]=M.colorTertiary):(ye["--n-color"]=M.colorQuaternary,ye["--n-color-hover"]=M.colorQuaternaryHover,ye["--n-color-pressed"]=M.colorQuaternaryPressed,ye["--n-color-focus"]=M.colorQuaternaryHover,ye["--n-color-disabled"]=M.colorQuaternary),ye["--n-ripple-color"]="#0000",ye["--n-text-color"]=q,ye["--n-text-color-hover"]=q,ye["--n-text-color-pressed"]=q,ye["--n-text-color-focus"]=q,ye["--n-text-color-disabled"]=q}else ye={"--n-color":W||M[createKey("color",j)],"--n-color-hover":W?createHoverColor(W):M[createKey("colorHover",j)],"--n-color-pressed":W?createPressedColor(W):M[createKey("colorPressed",j)],"--n-color-focus":W?createHoverColor(W):M[createKey("colorFocus",j)],"--n-color-disabled":W||M[createKey("colorDisabled",j)],"--n-ripple-color":W||M[createKey("rippleColor",j)],"--n-text-color":Y||(W?M.textColorPrimary:be?M.textColorTertiary:M[createKey("textColor",j)]),"--n-text-color-hover":Y||(W?M.textColorHoverPrimary:M[createKey("textColorHover",j)]),"--n-text-color-pressed":Y||(W?M.textColorPressedPrimary:M[createKey("textColorPressed",j)]),"--n-text-color-focus":Y||(W?M.textColorFocusPrimary:M[createKey("textColorFocus",j)]),"--n-text-color-disabled":Y||(W?M.textColorDisabledPrimary:M[createKey("textColorDisabled",j)])};let Q={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};V?Q={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:Q={"--n-border":M[createKey("border",j)],"--n-border-hover":M[createKey("borderHover",j)],"--n-border-pressed":M[createKey("borderPressed",j)],"--n-border-focus":M[createKey("borderFocus",j)],"--n-border-disabled":M[createKey("borderDisabled",j)]};const{[createKey("height",O)]:le,[createKey("fontSize",O)]:oe,[createKey("padding",O)]:he,[createKey("paddingRound",O)]:G,[createKey("iconSize",O)]:U,[createKey("borderRadius",O)]:ee,[createKey("iconMargin",O)]:te,waveOpacity:ie}=M,re={"--n-width":$&&!V?le:"initial","--n-height":V?"initial":le,"--n-font-size":oe,"--n-padding":$||V?"initial":H?G:he,"--n-icon-size":U,"--n-icon-margin":te,"--n-border-radius":V?"initial":$||H?le:ee};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":P,"--n-bezier-ease-out":E,"--n-ripple-duration":L,"--n-opacity-disabled":F,"--n-wave-opacity":ie},ge),ye),Q),re)}),A=_?useThemeClass("button",computed2(()=>{let T="";const{dashed:P,type:E,ghost:M,text:L,color:F,round:I,circle:B,textColor:O,secondary:R,tertiary:z,quaternary:N,strong:V}=r;P&&(T+="a"),M&&(T+="b"),L&&(T+="c"),I&&(T+="d"),B&&(T+="e"),R&&(T+="f"),z&&(T+="g"),N&&(T+="h"),V&&(T+="i"),F&&(T+="j"+color2Class(F)),O&&(T+="k"+color2Class(O));const{value:W}=u;return T+="l"+W[0],T+="m"+E[0],T}),D,r):void 0;return{selfElRef:n,waveElRef:a,mergedClsPrefix:x,mergedFocusable:f,mergedSize:u,showBorder:s,enterPressed:o,rtlEnabled:S,handleMousedown:d,handleKeydown:y,handleBlur:b,handleKeyup:g,handleClick:v,customColorCssVars:computed2(()=>{const{color:T}=r;if(!T)return null;const P=createHoverColor(T);return{"--n-border-color":T,"--n-border-color-hover":P,"--n-border-color-pressed":createPressedColor(T),"--n-border-color-focus":P,"--n-border-color-disabled":T}}),cssVars:_?void 0:D,themeClass:A==null?void 0:A.themeClass,onRender:A==null?void 0:A.onRender}},render(){const{mergedClsPrefix:r,tag:n,onRender:a}=this;a==null||a();const o=resolveWrappedSlot(this.$slots.default,s=>s&&h("span",{class:`${r}-button__content`},s));return h(n,{ref:"selfElRef",class:[this.themeClass,`${r}-button`,`${r}-button--${this.type}-type`,`${r}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${r}-button--rtl`,this.disabled&&`${r}-button--disabled`,this.block&&`${r}-button--block`,this.enterPressed&&`${r}-button--pressed`,!this.text&&this.dashed&&`${r}-button--dashed`,this.color&&`${r}-button--color`,this.secondary&&`${r}-button--secondary`,this.loading&&`${r}-button--loading`,this.ghost&&`${r}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&o,h(FadeInExpandTransition_default,{width:!0},{default:()=>resolveWrappedSlot(this.$slots.icon,s=>(this.loading||s)&&h("span",{class:`${r}-button__icon`,style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h(IconSwitchTransition_default,null,{default:()=>this.loading?h(Loading_default,{clsPrefix:r,key:"loading",class:`${r}-icon-slot`,strokeWidth:20}):h("div",{key:"icon",class:`${r}-icon-slot`,role:"none"},s)})))}),this.iconPlacement==="left"&&o,this.text?null:h(Wave_default,{ref:"waveElRef",clsPrefix:r}),this.showBorder?h("div",{"aria-hidden":!0,class:`${r}-button__border`,style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:`${r}-button__state-border`,style:this.customColorCssVars}):null)}}),Button_default=Button,zero="0!important",n1="-1px!important";function createLeftBorderStyle(r){return cM(r+"-type",[c2("& +",[cB("button",{},[cM(r+"-type",[cE("border",{borderLeftWidth:zero}),cE("state-border",{left:n1})])])])])}function createTopBorderStyle(r){return cM(r+"-type",[c2("& +",[cB("button",[cM(r+"-type",[cE("border",{borderTopWidth:zero}),cE("state-border",{top:n1})])])])])}var index_cssr_default14=cB("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[cNotM("vertical",{flexDirection:"row"},[cNotM("rtl",[cB("button",[c2("&:first-child:not(:last-child)",`
 margin-right: ${zero};
 border-top-right-radius: ${zero};
 border-bottom-right-radius: ${zero};
 `),c2("&:last-child:not(:first-child)",`
 margin-left: ${zero};
 border-top-left-radius: ${zero};
 border-bottom-left-radius: ${zero};
 `),c2("&:not(:first-child):not(:last-child)",`
 margin-left: ${zero};
 margin-right: ${zero};
 border-radius: ${zero};
 `),createLeftBorderStyle("default"),cM("ghost",[createLeftBorderStyle("primary"),createLeftBorderStyle("info"),createLeftBorderStyle("success"),createLeftBorderStyle("warning"),createLeftBorderStyle("error")])])])]),cM("vertical",{flexDirection:"column"},[cB("button",[c2("&:first-child:not(:last-child)",`
 margin-bottom: ${zero};
 margin-left: ${zero};
 margin-right: ${zero};
 border-bottom-left-radius: ${zero};
 border-bottom-right-radius: ${zero};
 `),c2("&:last-child:not(:first-child)",`
 margin-top: ${zero};
 margin-left: ${zero};
 margin-right: ${zero};
 border-top-left-radius: ${zero};
 border-top-right-radius: ${zero};
 `),c2("&:not(:first-child):not(:last-child)",`
 margin: ${zero};
 border-radius: ${zero};
 `),createTopBorderStyle("default"),cM("ghost",[createTopBorderStyle("primary"),createTopBorderStyle("info"),createTopBorderStyle("success"),createTopBorderStyle("warning"),createTopBorderStyle("error")])])])]),buttonGroupProps={size:{type:String,default:void 0},vertical:Boolean},ButtonGroup_default=defineComponent({name:"ButtonGroup",props:buttonGroupProps,setup(r){const{mergedClsPrefixRef:n,mergedRtlRef:a}=useConfig(r);return useStyle("-button-group",index_cssr_default14,n),provide(buttonGroupInjectionKey,r),{rtlEnabled:useRtl("ButtonGroup",a,n),mergedClsPrefix:n}},render(){const{mergedClsPrefix:r}=this;return h("div",{class:[`${r}-button-group`,this.rtlEnabled&&`${r}-button-group--rtl`,this.vertical&&`${r}-button-group--vertical`],role:"group"},this.$slots)}}),common_default13={titleFontSize:"22px"},self14=r=>{const{borderRadius:n,fontSize:a,lineHeight:o,textColor2:s,textColor1:l,textColorDisabled:u,dividerColor:f,fontWeightStrong:d,primaryColor:v,baseColor:g,hoverColor:y,cardColor:b,modalColor:_,popoverColor:x}=r;return Object.assign(Object.assign({},common_default13),{borderRadius:n,borderColor:composite(b,f),borderColorModal:composite(_,f),borderColorPopover:composite(x,f),textColor:s,titleFontWeight:d,titleTextColor:l,dayTextColor:u,fontSize:a,lineHeight:o,dateColorCurrent:v,dateTextColorCurrent:g,cellColorHover:composite(b,y),cellColorHoverModal:composite(_,y),cellColorHoverPopover:composite(x,y),cellColor:b,cellColorModal:_,cellColorPopover:x,barColor:v})},calendarLight=createTheme({name:"Calendar",common:light_default,peers:{Button:light_default9},self:self14}),calendarDark={name:"Calendar",common:dark_default,peers:{Button:dark_default17},self:self14},dark_default18=calendarDark,self15=r=>{const{fontSize:n,boxShadow2:a,popoverColor:o,textColor2:s,borderRadius:l,borderColor:u,heightSmall:f,heightMedium:d,heightLarge:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,dividerColor:_}=r;return{panelFontSize:n,boxShadow:a,color:o,textColor:s,borderRadius:l,border:`1px solid ${u}`,heightSmall:f,heightMedium:d,heightLarge:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,dividerColor:_}},colorPickerLight=createTheme({name:"ColorPicker",common:light_default,peers:{Input:light_default8,Button:light_default9},self:self15}),colorPickerDark={name:"ColorPicker",common:dark_default,peers:{Input:dark_default10,Button:dark_default17},self:self15},dark_default19=colorPickerDark,common_default14={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeSize:"18px"},self16=r=>{const{primaryColor:n,borderRadius:a,lineHeight:o,fontSize:s,cardColor:l,textColor2:u,textColor1:f,dividerColor:d,fontWeightStrong:v,closeColor:g,closeColorHover:y,closeColorPressed:b,modalColor:_,boxShadow1:x,popoverColor:w,actionColor:C}=r;return Object.assign(Object.assign({},common_default14),{lineHeight:o,color:l,colorModal:_,colorPopover:w,colorTarget:n,colorEmbedded:C,textColor:u,titleTextColor:f,borderColor:d,actionColor:C,titleFontWeight:v,closeColor:g,closeColorHover:y,closeColorPressed:b,fontSizeSmall:s,fontSizeMedium:s,fontSizeLarge:s,fontSizeHuge:s,boxShadow:x,borderRadius:a})},cardLight={name:"Card",common:light_default,self:self16},light_default10=cardLight,cardDark={name:"Card",common:dark_default,self(r){const n=self16(r),{cardColor:a}=r;return n.colorEmbedded=a,n}},dark_default20=cardDark,self17=r=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),carouselDark={name:"Carousel",common:dark_default,self:self17},dark_default21=carouselDark,common_default15={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"},self18=r=>{const{baseColor:n,inputColorDisabled:a,cardColor:o,modalColor:s,popoverColor:l,textColorDisabled:u,borderColor:f,primaryColor:d,textColor2:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,borderRadiusSmall:_,lineHeight:x}=r;return Object.assign(Object.assign({},common_default15),{labelLineHeight:x,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,borderRadius:_,color:n,colorChecked:d,colorDisabled:a,colorDisabledChecked:a,colorTableHeader:o,colorTableHeaderModal:s,colorTableHeaderPopover:l,checkMarkColor:n,checkMarkColorDisabled:u,checkMarkColorDisabledChecked:u,border:`1px solid ${f}`,borderDisabled:`1px solid ${f}`,borderDisabledChecked:`1px solid ${f}`,borderChecked:`1px solid ${d}`,borderFocus:`1px solid ${d}`,boxShadowFocus:`0 0 0 2px ${changeColor(d,{alpha:.3})}`,textColor:v,textColorDisabled:u})},checkboxLight={name:"Checkbox",common:light_default,self:self18},light_default11=checkboxLight,checkboxDark={name:"Checkbox",common:dark_default,self(r){const{cardColor:n}=r,a=self18(r);return a.color="#0000",a.checkMarkColor=n,a}},dark_default22=checkboxDark,self19=r=>{const{borderRadius:n,boxShadow2:a,popoverColor:o,textColor2:s,textColor3:l,primaryColor:u,textColorDisabled:f,dividerColor:d,hoverColor:v,fontSizeMedium:g,heightMedium:y}=r;return{menuBorderRadius:n,menuColor:o,menuBoxShadow:a,menuDividerColor:d,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:l,optionHeight:y,optionFontSize:g,optionColorHover:v,optionTextColor:s,optionTextColorActive:u,optionTextColorDisabled:f,optionCheckMarkColor:u,loadingColor:u,columnWidth:"180px"}},cascaderLight=createTheme({name:"Cascader",common:light_default,peers:{InternalSelectMenu:light_default4,InternalSelection:light_default7,Scrollbar:light_default3,Checkbox:light_default11,Empty:light_default2},self:self19}),cascaderDark={name:"Cascader",common:dark_default,peers:{InternalSelectMenu:dark_default4,InternalSelection:dark_default7,Scrollbar:dark_default3,Checkbox:dark_default22,Empty:light_default2},self:self19},dark_default23=cascaderDark,codeDark={name:"Code",common:dark_default,self(r){const{textColor2:n,fontSize:a,fontWeightStrong:o}=r;return{textColor:n,fontSize:a,fontWeightStrong:o,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b"}}},dark_default24=codeDark,self20=r=>{const{fontWeight:n,textColor1:a,textColor2:o,dividerColor:s,fontSize:l}=r;return{titleFontSize:l,titleFontWeight:n,dividerColor:s,titleTextColor:a,fontSize:l,textColor:o,arrowColor:o}},collapseDark={name:"Collapse",common:dark_default,self:self20},dark_default25=collapseDark,self21=r=>{const{cubicBezierEaseInOut:n}=r;return{bezier:n}},collapseTransitionDark={name:"CollapseTransition",common:dark_default,self:self21},dark_default26=collapseTransitionDark,configProviderProps={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(warn3("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},ConfigProvider_default=defineComponent({name:"ConfigProvider",alias:["App"],props:configProviderProps,setup(r){const n=inject(configProviderInjectionKey,null),a=computed2(()=>{const{theme:_}=r;if(_===null)return;const x=n==null?void 0:n.mergedThemeRef.value;return _===void 0?x:x===void 0?_:Object.assign({},x,_)}),o=computed2(()=>{const{themeOverrides:_}=r;if(_!==null){if(_===void 0)return n==null?void 0:n.mergedThemeOverridesRef.value;{const x=n==null?void 0:n.mergedThemeOverridesRef.value;return x===void 0?_:merge_default({},x,_)}}}),s=use_memo_default(()=>{const{namespace:_}=r;return _===void 0?n==null?void 0:n.mergedNamespaceRef.value:_}),l=use_memo_default(()=>{const{bordered:_}=r;return _===void 0?n==null?void 0:n.mergedBorderedRef.value:_}),u=computed2(()=>{const{icons:_}=r;return _===void 0?n==null?void 0:n.mergedIconsRef.value:_}),f=computed2(()=>{const{componentOptions:_}=r;return _!==void 0?_:n==null?void 0:n.mergedComponentPropsRef.value}),d=computed2(()=>{const{clsPrefix:_}=r;return _!==void 0?_:n==null?void 0:n.mergedClsPrefixRef.value}),v=computed2(()=>{var _;const{rtl:x}=r;if(x===void 0)return n==null?void 0:n.mergedRtlRef.value;const w={};for(const C of x)w[C.name]=markRaw(C),(_=C.peers)===null||_===void 0||_.forEach(S=>{S.name in w||(w[S.name]=markRaw(S))});return w}),g=computed2(()=>r.breakpoints||(n==null?void 0:n.mergedBreakpointsRef.value)),y=r.inlineThemeDisabled||(n==null?void 0:n.inlineThemeDisabled),b=computed2(()=>{const{value:_}=a,{value:x}=o,w=x&&Object.keys(x).length!==0,C=_==null?void 0:_.name;return C?w?`${C}-${hash_browser_esm_default(JSON.stringify(o.value))}`:C:w?hash_browser_esm_default(JSON.stringify(o.value)):""});return provide(configProviderInjectionKey,{mergedThemeHashRef:b,mergedBreakpointsRef:g,mergedRtlRef:v,mergedIconsRef:u,mergedComponentPropsRef:f,mergedBorderedRef:l,mergedNamespaceRef:s,mergedClsPrefixRef:d,mergedLocaleRef:computed2(()=>{const{locale:_}=r;if(_!==null)return _===void 0?n==null?void 0:n.mergedLocaleRef.value:_}),mergedDateLocaleRef:computed2(()=>{const{dateLocale:_}=r;if(_!==null)return _===void 0?n==null?void 0:n.mergedDateLocaleRef.value:_}),mergedHljsRef:computed2(()=>{const{hljs:_}=r;return _===void 0?n==null?void 0:n.mergedHljsRef.value:_}),mergedThemeRef:a,mergedThemeOverridesRef:o,inlineThemeDisabled:y||!1}),{mergedClsPrefix:d,mergedBordered:l,mergedNamespace:s,mergedTheme:a,mergedThemeOverrides:o}},render(){var r,n,a,o;return this.abstract?(o=(a=this.$slots).default)===null||o===void 0?void 0:o.call(a):h(this.as||this.tag,{class:`${this.mergedClsPrefix||defaultClsPrefix}-config-provider`},(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r))}});function self22(r){const{boxShadow2:n}=r;return{menuBoxShadow:n}}var selectLight=createTheme({name:"Select",common:light_default,peers:{InternalSelection:light_default7,InternalSelectMenu:light_default4},self:self22}),light_default12=selectLight,selectDark={name:"Select",common:dark_default,peers:{InternalSelection:dark_default7,InternalSelectMenu:dark_default4},self:self22},dark_default27=selectDark,index_cssr_default15=c2([cB("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),cB("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[fade_in_scale_up_cssr_default()])]),selectProps=Object.assign(Object.assign({},use_theme_default.props),{to:useAdjustedTo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:{type:Function,default:defaultFilter},placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:{type:Function,default:r=>({label:r,value:r})},fallbackOption:{type:[Function,Boolean],default:()=>r=>({label:String(r),value:r})},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,onChange:[Function,Array],items:Array}),Select_default=defineComponent({name:"Select",props:selectProps,setup(r){watchEffect(()=>{r.items!==void 0&&warnOnce("select","`items` is deprecated, please use `options` instead."),r.onChange!==void 0&&warnOnce("select","`on-change` is deprecated, please use `on-update:value` instead.")});const{mergedClsPrefixRef:n,mergedBorderedRef:a,namespaceRef:o,inlineThemeDisabled:s}=useConfig(r),l=use_theme_default("Select","-select",index_cssr_default15,light_default12,r,n),u=ref(r.defaultValue),f=toRef(r,"value"),d=useMergedState(f,u),v=ref(!1),g=ref(""),y=computed2(()=>createTreeMate(I.value,tmOptions)),b=computed2(()=>createValOptMap(F.value)),_=ref(!1),x=useMergedState(toRef(r,"show"),_),w=ref(null),C=ref(null),S=ref(null),{localeRef:D}=useLocale("Select"),A=computed2(()=>{var ne;return(ne=r.placeholder)!==null&&ne!==void 0?ne:D.value.placeholder}),T=useCompitable(r,["items","options"]),P=ref([]),E=ref([]),M=ref(new Map),L=computed2(()=>{const{fallbackOption:ne}=r;return ne?de=>Object.assign(ne(de),{value:de}):!1}),F=computed2(()=>E.value.concat(P.value).concat(T.value)),I=computed2(()=>{if(r.remote)return T.value;{const{value:ne}=F,{value:de}=g;if(!de.length||!r.filterable)return ne;{const{filter:Ce}=r;return filterOptions(ne,Ce,de)}}});function B(ne){const de=r.remote,{value:Ce}=M,{value:Te}=b,{value:Ae}=L,Ee=[];return ne.forEach(Le=>{if(Te.has(Le))Ee.push(Te.get(Le));else if(de&&Ce.has(Le))Ee.push(Ce.get(Le));else if(Ae){const ze=Ae(Le);ze&&Ee.push(ze)}}),Ee}const O=computed2(()=>{if(r.multiple){const{value:ne}=d;return Array.isArray(ne)?B(ne):[]}return null}),R=computed2(()=>{const{value:ne}=d;return!r.multiple&&!Array.isArray(ne)?ne===null?null:B([ne])[0]||null:null}),z=useFormItem(r),{mergedSizeRef:N,mergedDisabledRef:V,mergedStatusRef:W}=z;function H(ne,de){const{onChange:Ce,"onUpdate:value":Te,onUpdateValue:Ae}=r,{nTriggerFormChange:Ee,nTriggerFormInput:Le}=z;Ce&&call(Ce,ne,de),Ae&&call(Ae,ne,de),Te&&call(Te,ne,de),u.value=ne,Ee(),Le()}function $(ne){const{onBlur:de}=r,{nTriggerFormBlur:Ce}=z;de&&call(de,ne),Ce()}function Y(){const{onClear:ne}=r;ne&&call(ne)}function ae(ne){const{onFocus:de}=r,{nTriggerFormFocus:Ce}=z;de&&call(de,ne),Ce()}function X(ne){const{onSearch:de}=r;de&&call(de,ne)}function J(ne){const{onScroll:de}=r;de&&call(de,ne)}function fe(){var ne;const{remote:de,multiple:Ce}=r;if(de){const{value:Te}=M;if(Ce)(ne=O.value)===null||ne===void 0||ne.forEach(Ae=>{Te.set(Ae.value,Ae)});else{const Ae=R.value;Ae&&Te.set(Ae.value,Ae)}}}function ge(ne){const{onUpdateShow:de,"onUpdate:show":Ce}=r;de&&call(de,ne),Ce&&call(Ce,ne),_.value=ne}function ye(){V.value||(ge(!0),_.value=!0,r.filterable&&Ie())}function be(){ge(!1)}function K(){g.value="",E.value=[]}const j=ref(!1);function Q(){r.filterable&&(j.value=!0)}function le(){r.filterable&&(j.value=!1,x.value||K())}function oe(){V.value||(x.value?r.filterable||be():ye())}function he(ne){var de,Ce;((Ce=(de=S.value)===null||de===void 0?void 0:de.selfRef)===null||Ce===void 0?void 0:Ce.contains(ne.relatedTarget))||(v.value=!1,$(ne),be())}function G(ne){ae(ne),v.value=!0}function U(ne){v.value=!0}function ee(ne){var de;((de=w.value)===null||de===void 0?void 0:de.$el.contains(ne.relatedTarget))||(v.value=!1,$(ne),be())}function te(){var ne;(ne=w.value)===null||ne===void 0||ne.focus(),be()}function ie(ne){var de;x.value&&(((de=w.value)===null||de===void 0?void 0:de.$el.contains(ne.target))||be())}function re(ne){if(!Array.isArray(ne))return[];if(L.value)return Array.from(ne);{const{remote:de}=r,{value:Ce}=b;if(de){const{value:Te}=M;return ne.filter(Ae=>Ce.has(Ae)||Te.has(Ae))}else return ne.filter(Te=>Ce.has(Te))}}function ue(ne){q(ne.rawNode)}function q(ne){if(V.value)return;const{tag:de,remote:Ce,clearFilterAfterSelect:Te}=r;if(de&&!Ce){const{value:Ae}=E,Ee=Ae[0]||null;Ee&&(P.value.push(Ee),E.value=[])}if(Ce&&M.value.set(ne.value,ne),r.multiple){const Ae=re(d.value),Ee=Ae.findIndex(Le=>Le===ne.value);if(~Ee){if(Ae.splice(Ee,1),de&&!Ce){const Le=Z(ne.value);~Le&&(P.value.splice(Le,1),Te&&(g.value=""))}}else Ae.push(ne.value),Te&&(g.value="");H(Ae,B(Ae))}else{if(de&&!Ce){const Ae=Z(ne.value);~Ae?P.value=[P.value[Ae]]:P.value=[]}Me(),be(),H(ne.value,ne)}}function Z(ne){return P.value.findIndex(Ce=>Ce.value===ne)}function ce(ne){x.value||ye();const{value:de}=ne.target;g.value=de;const{tag:Ce,remote:Te}=r;if(X(de),Ce&&!Te){if(!de){E.value=[];return}const Ae=r.onCreate(de);T.value.some(Ee=>Ee.value===Ae.value)||P.value.some(Ee=>Ee.value===Ae.value)?E.value=[]:E.value=[Ae]}}function xe(ne){ne.stopPropagation();const{multiple:de}=r;!de&&r.filterable&&be(),Y(),de?H([],[]):H(null,null)}function De(ne){!happensIn(ne,"action")&&!happensIn(ne,"empty")&&ne.preventDefault()}function Se(ne){J(ne)}function we(ne){var de,Ce,Te,Ae,Ee;switch(ne.code){case"Space":if(r.filterable)break;ne.preventDefault();case"Enter":case"NumpadEnter":if(!((de=w.value)===null||de===void 0?void 0:de.isCompositing)){if(x.value){const Le=(Ce=S.value)===null||Ce===void 0?void 0:Ce.getPendingTmNode();Le?ue(Le):r.filterable||(be(),Me())}else if(ye(),r.tag&&j.value){const Le=E.value[0];if(Le){const ze=Le.value,{value:Re}=d;r.multiple&&Array.isArray(Re)&&Re.some(Oe=>Oe===ze)||q(Le)}}}ne.preventDefault();break;case"ArrowUp":if(ne.preventDefault(),r.loading)return;x.value&&((Te=S.value)===null||Te===void 0||Te.prev());break;case"ArrowDown":if(ne.preventDefault(),r.loading)return;x.value?(Ae=S.value)===null||Ae===void 0||Ae.next():ye();break;case"Escape":be(),(Ee=w.value)===null||Ee===void 0||Ee.focus();break}}function Me(){var ne;(ne=w.value)===null||ne===void 0||ne.focus()}function Ie(){var ne;(ne=w.value)===null||ne===void 0||ne.focusInput()}function Pe(){var ne;!x.value||(ne=C.value)===null||ne===void 0||ne.syncPosition()}fe(),watch(toRef(r,"options"),fe);const me={focus:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.focus()},blur:()=>{var ne;(ne=w.value)===null||ne===void 0||ne.blur()}},pe=computed2(()=>{const{self:{menuBoxShadow:ne}}=l.value;return{"--n-menu-box-shadow":ne}}),ve=s?useThemeClass("select",void 0,pe,r):void 0;return Object.assign(Object.assign({},me),{mergedStatus:W,mergedClsPrefix:n,mergedBordered:a,namespace:o,treeMate:y,isMounted:isMounted(),triggerRef:w,menuRef:S,pattern:g,uncontrolledShow:_,mergedShow:x,adjustedTo:useAdjustedTo(r),uncontrolledValue:u,mergedValue:d,followerRef:C,localizedPlaceholder:A,selectedOption:R,selectedOptions:O,mergedSize:N,mergedDisabled:V,focused:v,activeWithoutMenuOpen:j,inlineThemeDisabled:s,onTriggerInputFocus:Q,onTriggerInputBlur:le,handleTriggerOrMenuResize:Pe,handleMenuFocus:U,handleMenuBlur:ee,handleMenuTabOut:te,handleTriggerClick:oe,handleToggle:ue,handleDeleteOption:q,handlePatternInput:ce,handleClear:xe,handleTriggerBlur:he,handleTriggerFocus:G,handleKeydown:we,handleMenuAfterLeave:K,handleMenuClickOutside:ie,handleMenuScroll:Se,handleMenuKeydown:we,handleMenuMousedown:De,mergedTheme:l,cssVars:s?void 0:pe,themeClass:ve==null?void 0:ve.themeClass,onRender:ve==null?void 0:ve.onRender})},render(){return h("div",{class:`${this.mergedClsPrefix}-select`},h(Binder_default,null,{default:()=>[h(Target_default,null,{default:()=>h(Selection_default,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus},{arrow:()=>{var r,n;return[(n=(r=this.$slots).arrow)===null||n===void 0?void 0:n.call(r)]}})}),h(Follower_default,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h(Transition,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var r,n,a;return this.mergedShow||this.displayDirective==="show"?((r=this.onRender)===null||r===void 0||r.call(this),withDirectives(h(SelectMenu_default,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(n=this.menuProps)===null||n===void 0?void 0:n.class],clsPrefix:this.mergedClsPrefix,focusable:!0,autoPending:!0,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(a=this.menuProps)===null||a===void 0?void 0:a.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,s;return[(s=(o=this.$slots).empty)===null||s===void 0?void 0:s.call(o)]},action:()=>{var o,s;return[(s=(o=this.$slots).action)===null||s===void 0?void 0:s.call(o)]}}),this.displayDirective==="show"?[[vShow,this.mergedShow],[clickoutside_default,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[clickoutside_default,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),common_default16={itemSize:"28px",itemPadding:"0 4px",itemMargin:"0 0 0 8px",itemMarginRtl:"0 8px 0 0",buttonIconSize:"16px",inputWidth:"60px",selectWidth:"unset",inputMargin:"0 0 0 8px",inputMarginRtl:"0 8px 0 0",selectMargin:"0 0 0 8px",prefixMargin:"0 8px 0 0",suffixMargin:"0 0 0 8px",jumperFontSize:"14px"},self23=r=>{const{textColor2:n,primaryColor:a,primaryColorHover:o,primaryColorPressed:s,inputColorDisabled:l,textColorDisabled:u,borderColor:f,borderRadius:d,fontSize:v}=r;return Object.assign(Object.assign({},common_default16),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${f}`,buttonBorderHover:`1px solid ${f}`,buttonBorderPressed:`1px solid ${f}`,buttonIconColor:n,buttonIconColorHover:n,buttonIconColorPressed:n,itemTextColor:n,itemTextColorHover:o,itemTextColorPressed:s,itemTextColorActive:a,itemTextColorDisabled:u,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:l,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${a}`,itemBorderDisabled:`1px solid ${f}`,itemBorderRadius:d,itemFontSize:v,jumperTextColor:n,jumperTextColorDisabled:u})},paginationLight=createTheme({name:"Pagination",common:light_default,peers:{Select:light_default12,Input:light_default8},self:self23}),light_default13=paginationLight,paginationDark={name:"Pagination",common:dark_default,peers:{Select:dark_default27,Input:dark_default10},self(r){const{primaryColor:n,opacity3:a}=r,o=changeColor(n,{alpha:Number(a)}),s=self23(r);return s.itemBorderActive=`1px solid ${o}`,s.itemBorderDisabled="1px solid #0000",s}},dark_default28=paginationDark;function pagesToShow(r,n,a=9){if(n===1)return[1];if(n===2)return[1,2];const o=1,s=n;let l=r,u=r;const f=(a-5)/2;u+=Math.ceil(f),u=Math.min(Math.max(u,o+a-3),s-2),l-=Math.floor(f),l=Math.max(Math.min(l,s-a+3),o+2);let d=!1,v=!1;l>o+2&&(d=!0),u<s-2&&(v=!0);const g=[];g.push(o),d?g.push(-2):s>=o+1&&g.push(o+1);for(let y=l;y<=u;++y)g.push(y);return v?g.push(-1):u===s-2&&g[g.length-1]!==s-1&&g.push(s-1),g[g.length-1]!==s&&g.push(s),g}function mapPagesToPageItems(r,n){return r.map(a=>{switch(a){case-2:return{type:"fast-backward",active:!1};case-1:return{type:"fast-forward",active:!1};default:return a===n?{type:"page",label:a,active:!0}:{type:"page",label:a,active:!1}}})}function pageItems(r,n,a){const o=pagesToShow(r,n,a);return mapPagesToPageItems(o,r)}var index_cssr_default16=cB("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[cB("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),cB("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),c2("> *:not(:first-child)",{margin:"var(--n-item-margin)"}),cB("select",{width:"var(--n-select-width)"}),c2("&.transition-disabled",[cB("pagination-item",{transition:"none!important"})]),cB("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumter-font-size);
 `,[cB("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),cB("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[cM("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 `,[cB("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),cNotM("disabled",[c2("&:hover",{background:"var(--n-item-color-hover)",color:"var(--n-item-text-color-hover)",border:"var(--n-item-border-hover)"},[cM("button",{background:"var(--n-button-color-hover)",border:"var(--n-button-border-hover)",color:"var(--n-button-icon-color-hover)"})]),c2("&:active",{background:"var(--n-item-color-pressed)",color:"var(--n-item-text-color-pressed)",border:"var(--n-item-border-pressed)"},[cM("button",{background:"var(--n-button-color-pressed)",border:"var(--n-button-border-pressed)",color:"var(--n-button-icon-color-pressed)"})]),cM("active",{background:"var(--n-item-color-active)",color:"var(--n-item-text-color-active)",border:"var(--n-item-border-active)"},[c2("&:hover",{background:"var(--n-item-color-active-hover)"})])]),cM("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[cM("active, button",{backgroundColor:"var(--n-item-color-disabled)",border:"var(--n-item-border-disabled)"})])]),cM("disabled",{cursor:"not-allowed"},[cB("pagination-quick-jumper",{color:"var(--n-jumper-text-color-disabled)"})])]),paginationProps=Object.assign(Object.assign({},use_theme_default.props),{page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:{type:Number,default:10},pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,disabled:Boolean,pageSlot:{type:Number,default:9},prev:Function,next:Function,prefix:Function,suffix:Function,label:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),Pagination_default=defineComponent({name:"Pagination",props:paginationProps,setup(r){watchEffect(()=>{r.pageCount!==void 0&&r.itemCount!==void 0&&warn3("pagination","`page-count` and `item-count` should't be specified together. Only `item-count` will take effect."),r.onPageSizeChange&&warnOnce("pagination","`on-page-size-change` is deprecated, please use `on-update:page-size` instead."),r.onChange&&warnOnce("pagination","`on-change` is deprecated, please use `on-update:page` instead.")});const{mergedComponentPropsRef:n,mergedClsPrefixRef:a,inlineThemeDisabled:o,mergedRtlRef:s}=useConfig(r),l=use_theme_default("Pagination","-pagination",index_cssr_default16,light_default13,r,a),{localeRef:u}=useLocale("Pagination"),f=ref(null),d=ref(null),v=ref(""),g=ref(r.defaultPage),y=ref(r.defaultPageSize),b=useMergedState(toRef(r,"page"),g),_=useMergedState(toRef(r,"pageSize"),y),x=computed2(()=>{const{itemCount:J}=r;if(J!==void 0)return Math.max(1,Math.ceil(J/_.value));const{pageCount:fe}=r;return fe!==void 0?fe:1}),w=ref(!1),C=ref(!1),S=computed2(()=>{const J=u.value.selectionSuffix;return r.pageSizes.map(fe=>typeof fe=="number"?{label:`${fe} / ${J}`,value:fe}:fe)}),D=computed2(()=>{var J,fe;return((fe=(J=n==null?void 0:n.value)===null||J===void 0?void 0:J.Pagination)===null||fe===void 0?void 0:fe.inputSize)||"small"}),A=computed2(()=>{var J,fe;return((fe=(J=n==null?void 0:n.value)===null||J===void 0?void 0:J.Pagination)===null||fe===void 0?void 0:fe.selectSize)||"small"}),T=computed2(()=>(b.value-1)*_.value),P=computed2(()=>{const J=b.value*_.value-1,{itemCount:fe}=r;return fe!==void 0&&J>fe?fe:J}),E=computed2(()=>{const{itemCount:J}=r;return J!==void 0?J:(r.pageCount||1)*_.value}),M=useRtl("Pagination",s,a),L=()=>{nextTick(()=>{var J;const{value:fe}=f;!fe||(fe.classList.add("transition-disabled"),(J=f.value)===null||J===void 0||J.offsetWidth,fe.classList.remove("transition-disabled"))})};function F(J){if(J===b.value)return;const{"onUpdate:page":fe,onUpdatePage:ge,onChange:ye}=r;fe&&call(fe,J),ge&&call(ge,J),ye&&call(ye,J),g.value=J}function I(J){if(J===_.value)return;const{"onUpdate:pageSize":fe,onUpdatePageSize:ge,onPageSizeChange:ye}=r;fe&&call(fe,J),ge&&call(ge,J),ye&&call(ye,J),y.value=J,x.value<b.value&&F(x.value)}function B(){if(r.disabled)return;const J=Math.min(b.value+1,x.value);F(J)}function O(){if(r.disabled)return;const J=Math.max(b.value-1,1);F(J)}function R(){if(r.disabled)return;const J=Math.min(b.value+(r.pageSlot-4),x.value);F(J)}function z(){if(r.disabled)return;const J=Math.max(b.value-(r.pageSlot-4),1);F(J)}function N(J){I(J)}function V(J){var fe;if(J.code==="Enter"||J.code==="NumpadEnter"){const ge=parseInt(v.value);!Number.isNaN(ge)&&ge>=1&&ge<=x.value&&(F(ge),v.value="",(fe=d.value)===null||fe===void 0||fe.blur())}}function W(J){if(!r.disabled)switch(J.type){case"page":F(J.label);break;case"fast-backward":z();break;case"fast-forward":R();break}}function H(J){if(!r.disabled){switch(J.type){case"fast-backward":C.value=!0;break;case"fast-forward":w.value=!0;break;default:return}L()}}function $(J){if(!r.disabled){switch(J.type){case"fast-backward":C.value=!1;break;case"fast-forward":w.value=!1;break;default:return}L()}}function Y(J){v.value=J}watchEffect(()=>{b.value,_.value,L()});const ae=computed2(()=>{const{self:{itemSize:J,itemPadding:fe,itemMargin:ge,itemMarginRtl:ye,inputWidth:be,selectWidth:K,inputMargin:j,inputMarginRtl:Q,selectMargin:le,buttonBorder:oe,buttonBorderHover:he,buttonBorderPressed:G,buttonIconColor:U,buttonIconColorHover:ee,buttonIconColorPressed:te,buttonIconSize:ie,itemTextColor:re,itemTextColorHover:ue,itemTextColorPressed:q,itemTextColorActive:Z,itemTextColorDisabled:ce,itemColor:xe,itemColorHover:De,itemColorPressed:Se,itemColorActive:we,itemColorActiveHover:Me,itemColorDisabled:Ie,itemBorder:Pe,itemBorderHover:me,itemBorderPressed:pe,itemBorderActive:ve,itemBorderDisabled:ne,itemBorderRadius:de,itemFontSize:Ce,jumperFontSize:Te,jumperTextColor:Ae,jumperTextColorDisabled:Ee,prefixMargin:Le,suffixMargin:ze,buttonColor:Re,buttonColorHover:Oe,buttonColorPressed:$e},common:{cubicBezierEaseInOut:Ke}}=l.value;return{"--n-prefix-margin":Le,"--n-suffix-margin":ze,"--n-item-font-size":Ce,"--n-select-width":K,"--n-select-margin":le,"--n-input-width":be,"--n-input-margin":j,"--n-input-margin-rtl":Q,"--n-item-size":J,"--n-item-text-color":re,"--n-item-text-color-disabled":ce,"--n-item-text-color-hover":ue,"--n-item-text-color-active":Z,"--n-item-text-color-pressed":q,"--n-item-color":xe,"--n-item-color-hover":De,"--n-item-color-disabled":Ie,"--n-item-color-active":we,"--n-item-color-active-hover":Me,"--n-item-color-pressed":Se,"--n-item-border":Pe,"--n-item-border-hover":me,"--n-item-border-disabled":ne,"--n-item-border-active":ve,"--n-item-border-pressed":pe,"--n-item-padding":fe,"--n-item-border-radius":de,"--n-bezier":Ke,"--n-jumper-font-size":Te,"--n-jumper-text-color":Ae,"--n-jumper-text-color-disabled":Ee,"--n-item-margin":ge,"--n-item-margin-rtl":ye,"--n-button-icon-size":ie,"--n-button-icon-color":U,"--n-button-icon-color-hover":ee,"--n-button-icon-color-pressed":te,"--n-button-color-hover":Oe,"--n-button-color":Re,"--n-button-color-pressed":$e,"--n-button-border":oe,"--n-button-border-hover":he,"--n-button-border-pressed":G}}),X=o?useThemeClass("pagination",void 0,ae,r):void 0;return{rtlEnabled:M,mergedClsPrefix:a,locale:u,selfRef:f,jumperRef:d,mergedPage:b,showFastBackward:C,showFastForward:w,pageItems:computed2(()=>pageItems(b.value,x.value,r.pageSlot)),mergedItemCount:E,jumperValue:v,pageSizeOptions:S,mergedPageSize:_,inputSize:D,selectSize:A,mergedTheme:l,mergedPageCount:x,startIndex:T,endIndex:P,handleJumperInput:Y,handleBackwardClick:O,handleForwardClick:B,handlePageItemClick:W,handleSizePickerChange:N,handleQuickJumperKeyUp:V,handlePageItemMouseEnter:H,handlePageItemMouseLeave:$,cssVars:o?void 0:ae,themeClass:X==null?void 0:X.themeClass,onRender:X==null?void 0:X.onRender}},render(){const{$slots:r,mergedClsPrefix:n,disabled:a,cssVars:o,mergedPage:s,mergedPageCount:l,pageItems:u,showFastBackward:f,showFastForward:d,showSizePicker:v,showQuickJumper:g,mergedTheme:y,locale:b,inputSize:_,selectSize:x,mergedPageSize:w,pageSizeOptions:C,jumperValue:S,prev:D,next:A,prefix:T,suffix:P,label:E,handleJumperInput:M,handleSizePickerChange:L,handleBackwardClick:F,handlePageItemClick:I,handlePageItemMouseEnter:B,handlePageItemMouseLeave:O,handleForwardClick:R,handleQuickJumperKeyUp:z,onRender:N}=this;N==null||N();const V=r.prefix||T,W=r.suffix||P,H=D||r.prev,$=A||r.next,Y=E||r.label;return h("div",{ref:"selfRef",class:[`${n}-pagination`,this.themeClass,this.rtlEnabled&&`${n}-pagination--rtl`,a&&`${n}-pagination--disabled`],style:o},V?h("div",{class:`${n}-pagination-prefix`},V({page:s,pageSize:w,pageCount:l,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,h("div",{class:[`${n}-pagination-item`,!H&&`${n}-pagination-item--button`,(s<=1||s>l||a)&&`${n}-pagination-item--disabled`],onClick:F},H?H({page:s,pageSize:w,pageCount:l,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):h(Icon_default,{clsPrefix:n},{default:()=>this.rtlEnabled?h(Forward_default,null):h(Backward_default,null)})),u.map((ae,X)=>{let J;switch(ae.type){case"page":const fe=ae.label;Y?J=Y({type:"page",node:fe,active:ae.active}):J=fe;break;case"fast-forward":const ge=d?h(Icon_default,{clsPrefix:n},{default:()=>this.rtlEnabled?h(FastBackward_default,null):h(FastForward_default,null)}):h(Icon_default,{clsPrefix:n},{default:()=>h(More_default,null)});Y?J=Y({type:"fast-forward",node:ge,active:d}):J=ge;break;case"fast-backward":const ye=f?h(Icon_default,{clsPrefix:n},{default:()=>this.rtlEnabled?h(FastForward_default,null):h(FastBackward_default,null)}):h(Icon_default,{clsPrefix:n},{default:()=>h(More_default,null)});Y?J=Y({type:"fast-backward",node:ye,active:f}):J=ye;break}return h("div",{key:X,class:[`${n}-pagination-item`,{[`${n}-pagination-item--active`]:ae.active,[`${n}-pagination-item--disabled`]:a}],onClick:()=>I(ae),onMouseenter:()=>B(ae),onMouseleave:()=>O(ae)},J)}),h("div",{class:[`${n}-pagination-item`,!$&&`${n}-pagination-item--button`,{[`${n}-pagination-item--disabled`]:s<1||s>=l||a}],onClick:R},$?$({page:s,pageSize:w,pageCount:l,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):h(Icon_default,{clsPrefix:n},{default:()=>this.rtlEnabled?h(Backward_default,null):h(Forward_default,null)})),v?h(Select_default,{size:x,placeholder:"",options:C,value:w,disabled:a,theme:y.peers.Select,themeOverrides:y.peerOverrides.Select,onUpdateValue:L}):null,g?h("div",{class:`${n}-pagination-quick-jumper`},resolveSlot(this.$slots.goto,()=>[b.goto]),h(Input_default,{ref:"jumperRef",value:S,onUpdateValue:M,size:_,placeholder:"",disabled:a,theme:y.peers.Input,themeOverrides:y.peerOverrides.Input,onKeyup:z})):null,W?h("div",{class:`${n}-pagination-suffix`},W({page:s,pageSize:w,pageCount:l,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),common_default17={padding:"8px 14px"},tooltipDark={name:"Tooltip",common:dark_default,peers:{Popover:dark_default5},self(r){const{borderRadius:n,boxShadow2:a,popoverColor:o,textColor2:s}=r;return Object.assign(Object.assign({},common_default17),{borderRadius:n,boxShadow:a,color:o,textColor:s})}},dark_default29=tooltipDark,self24=r=>{const{borderRadius:n,boxShadow2:a,baseColor:o}=r;return Object.assign(Object.assign({},common_default17),{borderRadius:n,boxShadow:a,color:composite(o,"rgba(0, 0, 0, .85)"),textColor:o})},tooltipLight=createTheme({name:"Tooltip",common:light_default,peers:{Popover:light_default5},self:self24}),light_default14=tooltipLight,ellipsisDark={name:"Ellipsis",common:dark_default,peers:{Tooltip:dark_default29}},dark_default30=ellipsisDark,ellipsisLight=createTheme({name:"Ellipsis",common:light_default,peers:{Tooltip:light_default14}}),light_default15=ellipsisLight,common_default18={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"},radioDark={name:"Radio",common:dark_default,self(r){const{borderColor:n,primaryColor:a,baseColor:o,textColorDisabled:s,inputColorDisabled:l,textColor2:u,opacityDisabled:f,borderRadius:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,heightSmall:b,heightMedium:_,heightLarge:x,lineHeight:w}=r;return Object.assign(Object.assign({},common_default18),{labelLineHeight:w,buttonHeightSmall:b,buttonHeightMedium:_,buttonHeightLarge:x,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,boxShadow:`inset 0 0 0 1px ${n}`,boxShadowActive:`inset 0 0 0 1px ${a}`,boxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${a}`,boxShadowDisabled:`inset 0 0 0 1px ${n}`,color:"#0000",colorDisabled:l,textColor:u,textColorDisabled:s,dotColorActive:a,dotColorDisabled:n,buttonBorderColor:n,buttonBorderColorActive:a,buttonBorderColorHover:a,buttonColor:"#0000",buttonColorActive:a,buttonTextColor:u,buttonTextColorActive:o,buttonTextColorHover:a,opacityDisabled:f,buttonBoxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${a}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:d})}},dark_default31=radioDark,self25=r=>{const{borderColor:n,primaryColor:a,baseColor:o,textColorDisabled:s,inputColorDisabled:l,textColor2:u,opacityDisabled:f,borderRadius:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,heightSmall:b,heightMedium:_,heightLarge:x,lineHeight:w}=r;return Object.assign(Object.assign({},common_default18),{labelLineHeight:w,buttonHeightSmall:b,buttonHeightMedium:_,buttonHeightLarge:x,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,boxShadow:`inset 0 0 0 1px ${n}`,boxShadowActive:`inset 0 0 0 1px ${a}`,boxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${a}`,boxShadowDisabled:`inset 0 0 0 1px ${n}`,color:o,colorDisabled:l,textColor:u,textColorDisabled:s,dotColorActive:a,dotColorDisabled:n,buttonBorderColor:n,buttonBorderColorActive:a,buttonBorderColorHover:n,buttonColor:o,buttonColorActive:o,buttonTextColor:u,buttonTextColorActive:a,buttonTextColorHover:a,opacityDisabled:f,buttonBoxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:d})},radioLight={name:"Radio",common:light_default,self:self25},light_default16=radioLight,common_default19={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},self26=r=>{const{cardColor:n,modalColor:a,popoverColor:o,textColor2:s,textColor1:l,tableHeaderColor:u,tableColorHover:f,iconColor:d,primaryColor:v,fontWeightStrong:g,borderRadius:y,lineHeight:b,fontSizeSmall:_,fontSizeMedium:x,fontSizeLarge:w,dividerColor:C,heightSmall:S,opacityDisabled:D,tableColorStriped:A}=r;return Object.assign(Object.assign({},common_default19),{actionDividerColor:C,lineHeight:b,borderRadius:y,fontSizeSmall:_,fontSizeMedium:x,fontSizeLarge:w,borderColor:composite(n,C),tdColorHover:composite(n,f),tdColorStriped:composite(n,A),thColor:composite(n,u),thColorHover:composite(composite(n,u),f),tdColor:n,tdTextColor:s,thTextColor:l,thFontWeight:g,thButtonColorHover:f,thIconColor:d,thIconColorActive:v,borderColorModal:composite(a,C),tdColorHoverModal:composite(a,f),tdColorStripedModal:composite(a,A),thColorModal:composite(a,u),thColorHoverModal:composite(composite(a,u),f),tdColorModal:a,borderColorPopover:composite(o,C),tdColorHoverPopover:composite(o,f),tdColorStripedPopover:composite(o,A),thColorPopover:composite(o,u),thColorHoverPopover:composite(composite(o,u),f),tdColorPopover:o,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:v,loadingSize:S,opacityLoading:D})},dataTableLight=createTheme({name:"DataTable",common:light_default,peers:{Button:light_default9,Checkbox:light_default11,Radio:light_default16,Pagination:light_default13,Scrollbar:light_default3,Empty:light_default2,Popover:light_default5,Ellipsis:light_default15},self:self26}),dataTableDark={name:"DataTable",common:dark_default,peers:{Button:dark_default17,Checkbox:dark_default22,Radio:dark_default31,Pagination:dark_default28,Scrollbar:dark_default3,Empty:dark_default2,Popover:dark_default5,Ellipsis:dark_default30},self(r){const n=self26(r);return n.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",n.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",n}},dark_default32=dataTableDark,radioProps={name:String,value:{type:[String,Number],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,validator:()=>(warn3("radio","`checked-value` is deprecated, please use `checked` instead."),!0),default:void 0}},radioGroupInjectionKey=createInjectionKey("n-radio-group");function setup(r){const n=useFormItem(r,{mergedSize(D){const{size:A}=r;if(A!==void 0)return A;if(u){const{mergedSizeRef:{value:T}}=u;if(T!==void 0)return T}return D?D.mergedSize.value:"medium"},mergedDisabled(D){return!!(r.disabled||(u==null?void 0:u.disabledRef.value)||(D==null?void 0:D.disabled.value))}}),{mergedSizeRef:a,mergedDisabledRef:o}=n,s=ref(null),l=ref(null),u=inject(radioGroupInjectionKey,null),f=ref(r.defaultChecked),d=toRef(r,"checked"),v=useMergedState(d,f),g=use_memo_default(()=>u?u.valueRef.value===r.value:v.value),y=use_memo_default(()=>{const{name:D}=r;if(D!==void 0)return D;if(u)return u.nameRef.value}),b=ref(!1);function _(){if(u){const{doUpdateValue:D}=u,{value:A}=r;call(D,A)}else{const{onUpdateChecked:D,"onUpdate:checked":A}=r,{nTriggerFormInput:T,nTriggerFormChange:P}=n;D&&call(D,!0),A&&call(A,!0),T(),P(),f.value=!0}}function x(){o.value||g.value||_()}function w(){x()}function C(){b.value=!1}function S(){b.value=!0}return{mergedClsPrefix:u?u.mergedClsPrefixRef:useConfig(r).mergedClsPrefixRef,inputRef:s,labelRef:l,mergedName:y,mergedDisabled:o,uncontrolledChecked:f,renderSafeChecked:g,focus:b,mergedSize:a,handleRadioInputChange:w,handleRadioInputBlur:C,handleRadioInputFocus:S}}setup.props=radioProps;var use_radio_default=setup,radio_cssr_default=cB("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[cE("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),cB("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 cursor: pointer;
 `),cE("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[c2("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),cM("checked",{boxShadow:"var(--n-box-shadow-active)"},[c2("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),cE("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),cNotM("disabled",`
 cursor: pointer;
 `,[c2("&:hover",[cE("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),cM("focus",[c2("&:not(:active)",[cE("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),cM("disabled",`
 cursor: not-allowed;
 `,[cE("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[c2("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),cM("checked",`
 opacity: 1;
 `)]),cE("label",{color:"var(--n-text-color-disabled)"}),cB("radio-input",`
 cursor: not-allowed;
 `)])]),Radio_default=defineComponent({name:"Radio",props:Object.assign(Object.assign({},use_theme_default.props),use_radio_default.props),setup(r){const n=use_radio_default(r),a=use_theme_default("Radio","-radio",radio_cssr_default,light_default16,r,n.mergedClsPrefix),o=computed2(()=>{const{mergedSize:{value:v}}=n,{common:{cubicBezierEaseInOut:g},self:{boxShadow:y,boxShadowActive:b,boxShadowDisabled:_,boxShadowFocus:x,boxShadowHover:w,color:C,colorDisabled:S,textColor:D,textColorDisabled:A,dotColorActive:T,dotColorDisabled:P,labelPadding:E,labelLineHeight:M,[createKey("fontSize",v)]:L,[createKey("radioSize",v)]:F}}=a.value;return{"--n-bezier":g,"--n-label-line-height":M,"--n-box-shadow":y,"--n-box-shadow-active":b,"--n-box-shadow-disabled":_,"--n-box-shadow-focus":x,"--n-box-shadow-hover":w,"--n-color":C,"--n-color-disabled":S,"--n-dot-color-active":T,"--n-dot-color-disabled":P,"--n-font-size":L,"--n-radio-size":F,"--n-text-color":D,"--n-text-color-disabled":A,"--n-label-padding":E}}),{inlineThemeDisabled:s,mergedClsPrefixRef:l,mergedRtlRef:u}=useConfig(r),f=useRtl("Radio",u,l),d=s?useThemeClass("radio",computed2(()=>n.mergedSize.value[0]),o,r):void 0;return Object.assign(n,{rtlEnabled:f,cssVars:s?void 0:o,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender})},render(){const{$slots:r,mergedClsPrefix:n,onRender:a,label:o}=this;return a==null||a(),h("label",{class:[`${n}-radio`,this.themeClass,{[`${n}-radio--rtl`]:this.rtlEnabled,[`${n}-radio--disabled`]:this.mergedDisabled,[`${n}-radio--checked`]:this.renderSafeChecked,[`${n}-radio--focus`]:this.focus}],style:this.cssVars},h("input",{ref:"inputRef",type:"radio",class:`${n}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:`${n}-radio__dot-wrapper`},"\xA0",h("div",{class:[`${n}-radio__dot`,this.renderSafeChecked&&`${n}-radio__dot--checked`]})),resolveWrappedSlot(r.default,s=>!s&&!o?null:h("div",{ref:"labelRef",class:`${n}-radio__label`},s||o)))}}),radio_group_cssr_default=cB("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[cE("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[cM("checked",{backgroundColor:"var(--n-button-border-color-active)"}),cM("disabled",{opacity:"var(--n-opacity-disabled)"})]),cM("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[cB("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),cE("splitor",{height:"var(--n-height)"})]),cB("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[cB("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),cE("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),c2("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[cE("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),c2("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[cE("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),cNotM("disabled",`
 cursor: pointer;
 `,[c2("&:hover",[cE("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),cNotM("checked",{color:"var(--n-button-text-color-hover)"})]),cM("focus",[c2("&:not(:active)",[cE("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),cM("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),cM("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function mapSlot(r,n,a){var o;const s=[];let l=!1;for(let u=0;u<r.length;++u){const f=r[u],d=(o=f.type)===null||o===void 0?void 0:o.name;if(d==="RadioButton"&&(l=!0),l&&d!=="RadioButton"){warn3("radio-group","`n-radio-group` in button mode only takes `n-radio-button` as children.");continue}const v=f.props;if(d!=="RadioButton"){s.push(f);continue}if(u===0)s.push(f);else{const g=s[s.length-1].props,y=n===g.value,b=g.disabled,_=n===v.value,x=v.disabled,w=(y?2:0)+(b?0:1),C=(_?2:0)+(x?0:1),S={[`${a}-radio-group__splitor--disabled`]:b,[`${a}-radio-group__splitor--checked`]:y},D={[`${a}-radio-group__splitor--disabled`]:x,[`${a}-radio-group__splitor--checked`]:_},A=w<C?D:S;s.push(h("div",{class:[`${a}-radio-group__splitor`,A]}),f)}}return{children:s,isButtonGroup:l}}var radioGroupProps=Object.assign(Object.assign({},use_theme_default.props),{name:String,value:[String,Number],defaultValue:{type:[String,Number],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),RadioGroup_default=defineComponent({name:"RadioGroup",props:radioGroupProps,setup(r){const n=ref(null),{mergedSizeRef:a,mergedDisabledRef:o,nTriggerFormChange:s,nTriggerFormInput:l,nTriggerFormBlur:u,nTriggerFormFocus:f}=useFormItem(r),{mergedClsPrefixRef:d,inlineThemeDisabled:v,mergedRtlRef:g}=useConfig(r),y=use_theme_default("Radio","-radio-group",radio_group_cssr_default,light_default16,r,d),b=ref(r.defaultValue),_=toRef(r,"value"),x=useMergedState(_,b);function w(P){const{onUpdateValue:E,"onUpdate:value":M}=r;E&&call(E,P),M&&call(M,P),b.value=P,s(),l()}function C(P){const{value:E}=n;!E||E.contains(P.relatedTarget)||f()}function S(P){const{value:E}=n;!E||E.contains(P.relatedTarget)||u()}provide(radioGroupInjectionKey,{mergedClsPrefixRef:d,nameRef:toRef(r,"name"),valueRef:x,disabledRef:o,mergedSizeRef:a,doUpdateValue:w});const D=useRtl("Radio",g,d),A=computed2(()=>{const{value:P}=a,{common:{cubicBezierEaseInOut:E},self:{buttonBorderColor:M,buttonBorderColorActive:L,buttonBorderRadius:F,buttonBoxShadow:I,buttonBoxShadowFocus:B,buttonBoxShadowHover:O,buttonColorActive:R,buttonTextColor:z,buttonTextColorActive:N,buttonTextColorHover:V,opacityDisabled:W,[createKey("buttonHeight",P)]:H,[createKey("fontSize",P)]:$}}=y.value;return{"--n-font-size":$,"--n-bezier":E,"--n-button-border-color":M,"--n-button-border-color-active":L,"--n-button-border-radius":F,"--n-button-box-shadow":I,"--n-button-box-shadow-focus":B,"--n-button-box-shadow-hover":O,"--n-button-color-active":R,"--n-button-text-color":z,"--n-button-text-color-hover":V,"--n-button-text-color-active":N,"--n-height":H,"--n-opacity-disabled":W}}),T=v?useThemeClass("radio-group",computed2(()=>a.value[0]),A,r):void 0;return{selfElRef:n,rtlEnabled:D,mergedClsPrefix:d,mergedValue:x,handleFocusout:S,handleFocusin:C,cssVars:v?void 0:A,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){var r;const{mergedValue:n,mergedClsPrefix:a,handleFocusin:o,handleFocusout:s}=this,{children:l,isButtonGroup:u}=mapSlot(flatten(getSlot(this)),n,a);return(r=this.onRender)===null||r===void 0||r.call(this),h("div",{onFocusin:o,onFocusout:s,ref:"selfElRef",class:[`${a}-radio-group`,this.rtlEnabled&&`${a}-radio-group--rtl`,this.themeClass,u&&`${a}-radio-group--button-group`],style:this.cssVars},l)}}),RadioButton_default=defineComponent({name:"RadioButton",props:use_radio_default.props,setup(r){return use_radio_default(r)},render(){const{mergedClsPrefix:r}=this;return h("label",{class:[`${r}-radio-button`,{[`${r}-radio-button--disabled`]:this.mergedDisabled,[`${r}-radio-button--checked`]:this.renderSafeChecked,[`${r}-radio-button--focus`]:this.focus}]},h("input",{ref:"inputRef",type:"radio",class:`${r}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:`${r}-radio-button__state-border`}),resolveWrappedSlot(this.$slots.default,n=>!n&&!this.label?null:h("div",{ref:"labelRef",class:`${r}-radio__label`},n||this.label)))}}),common_default20={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},self27=r=>{const{primaryColor:n,textColor2:a,dividerColor:o,hoverColor:s,popoverColor:l,invertedColor:u,borderRadius:f,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,fontSizeHuge:y,heightSmall:b,heightMedium:_,heightLarge:x,heightHuge:w,textColor3:C,opacityDisabled:S}=r;return Object.assign(Object.assign({},common_default20),{optionHeightSmall:b,optionHeightMedium:_,optionHeightLarge:x,optionHeightHuge:w,borderRadius:f,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,fontSizeHuge:y,optionTextColor:a,optionTextColorHover:a,optionTextColorActive:n,optionTextColorChildActive:n,color:l,dividerColor:o,suffixColor:a,prefixColor:a,optionColorHover:s,optionColorActive:changeColor(n,{alpha:.1}),groupHeaderTextColor:C,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:u,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:n,optionColorActiveInverted:n,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:S})},dropdownLight=createTheme({name:"Dropdown",common:light_default,peers:{Popover:light_default5},self:self27}),light_default17=dropdownLight,dropdownDark={name:"Dropdown",common:dark_default,peers:{Popover:dark_default5},self(r){const{primaryColorSuppl:n,primaryColor:a,popoverColor:o}=r,s=self27(r);return s.colorInverted=o,s.optionColorActive=changeColor(a,{alpha:.15}),s.optionColorActiveInverted=n,s.optionColorHoverInverted=n,s}},dark_default33=dropdownDark,self28=r=>{const{textColorBase:n,opacity1:a,opacity2:o,opacity3:s,opacity4:l,opacity5:u}=r;return{color:n,opacity1Depth:a,opacity2Depth:o,opacity3Depth:s,opacity4Depth:l,opacity5Depth:u}},iconDark={name:"Icon",common:dark_default,self:self28},dark_default34=iconDark,common_default21={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},self29=r=>{const{popoverColor:n,textColor2:a,primaryColor:o,hoverColor:s,dividerColor:l,opacityDisabled:u,boxShadow2:f,borderRadius:d,iconColor:v,iconColorDisabled:g}=r;return Object.assign(Object.assign({},common_default21),{panelColor:n,panelBoxShadow:f,panelDividerColor:l,itemTextColor:a,itemTextColorActive:o,itemColorHover:s,itemOpacityDisabled:u,itemBorderRadius:d,borderRadius:d,iconColor:v,iconColorDisabled:g})},timePickerLight=createTheme({name:"TimePicker",common:light_default,peers:{Scrollbar:light_default3,Button:light_default9,Input:light_default8},self:self29}),light_default18=timePickerLight,timePickerDark={name:"TimePicker",common:dark_default,peers:{Scrollbar:dark_default3,Button:dark_default17,Input:dark_default10},self:self29},dark_default35=timePickerDark,common_default22={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0"},self30=r=>{const{hoverColor:n,fontSize:a,textColor2:o,textColorDisabled:s,popoverColor:l,primaryColor:u,borderRadiusSmall:f,iconColor:d,iconColorDisabled:v,textColor1:g,dividerColor:y,boxShadow2:b,borderRadius:_,fontWeightStrong:x}=r;return Object.assign(Object.assign({},common_default22),{itemFontSize:a,calendarDaysFontSize:a,calendarTitleFontSize:a,itemTextColor:o,itemTextColorDisabled:s,itemTextColorActive:l,itemTextColorCurrent:u,itemColorIncluded:changeColor(u,{alpha:.1}),itemColorHover:n,itemColorDisabled:n,itemColorActive:u,itemBorderRadius:f,panelColor:l,panelTextColor:o,arrowColor:d,calendarTitleTextColor:g,calendarTitleColorHover:n,calendarDaysTextColor:o,panelHeaderDividerColor:y,calendarDaysDividerColor:y,calendarDividerColor:y,panelActionDividerColor:y,panelBoxShadow:b,panelBorderRadius:_,calendarTitleFontWeight:x,scrollItemBorderRadius:_,iconColor:d,iconColorDisabled:v})},datePickerLight=createTheme({name:"DatePicker",common:light_default,peers:{Input:light_default8,Button:light_default9,TimePicker:light_default18,Scrollbar:light_default3},self:self30}),datePickerDark={name:"DatePicker",common:dark_default,peers:{Input:dark_default10,Button:dark_default17,TimePicker:dark_default35,Scrollbar:dark_default3},self(r){const{popoverColor:n,hoverColor:a,primaryColor:o}=r,s=self30(r);return s.itemColorDisabled=composite(n,a),s.itemColorIncluded=changeColor(o,{alpha:.15}),s.itemColorHover=composite(n,a),s}},dark_default36=datePickerDark,common_default23={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},self31=r=>{const{tableHeaderColor:n,textColor2:a,textColor1:o,cardColor:s,modalColor:l,popoverColor:u,dividerColor:f,borderRadius:d,fontWeightStrong:v,lineHeight:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_}=r;return Object.assign(Object.assign({},common_default23),{lineHeight:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_,titleTextColor:o,thColor:composite(s,n),thColorModal:composite(l,n),thColorPopover:composite(u,n),thTextColor:o,thFontWeight:v,tdTextColor:a,tdColor:s,tdColorModal:l,tdColorPopover:u,borderColor:composite(s,f),borderColorModal:composite(l,f),borderColorPopover:composite(u,f),borderRadius:d})},descriptionsDark={name:"Descriptions",common:dark_default,self:self31},dark_default37=descriptionsDark,common_default24={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"18px",closeMargin:"22px 28px 0 0",closeMarginIconTop:"12px 18px 0 0"},self32=r=>{const{textColor1:n,textColor2:a,modalColor:o,closeColor:s,closeColorHover:l,closeColorPressed:u,infoColor:f,successColor:d,warningColor:v,errorColor:g,primaryColor:y,dividerColor:b,borderRadius:_,fontWeightStrong:x,lineHeight:w,fontSize:C}=r;return Object.assign(Object.assign({},common_default24),{fontSize:C,lineHeight:w,border:`1px solid ${b}`,titleTextColor:n,textColor:a,color:o,closeColor:s,closeColorHover:l,closeColorPressed:u,iconColor:y,iconColorInfo:f,iconColorSuccess:d,iconColorWarning:v,iconColorError:g,borderRadius:_,titleFontWeight:x})},dialogLight=createTheme({name:"Dialog",common:light_default,peers:{Button:light_default9},self:self32}),light_default19=dialogLight,dialogDark={name:"Dialog",common:dark_default,peers:{Button:dark_default17},self:self32},dark_default38=dialogDark,self33=r=>{const{modalColor:n,textColor2:a,boxShadow3:o}=r;return{color:n,textColor:a,boxShadow:o}},modalLight=createTheme({name:"Modal",common:light_default,peers:{Scrollbar:light_default3,Dialog:light_default19,Card:light_default10},self:self33}),modalDark={name:"Modal",common:dark_default,peers:{Scrollbar:dark_default3,Dialog:dark_default38,Card:dark_default20},self:self33},dark_default39=modalDark,self34=r=>{const{textColor1:n,dividerColor:a,fontWeightStrong:o}=r;return{textColor:n,color:a,fontWeight:o}},dividerDark={name:"Divider",common:dark_default,self:self34},dark_default40=dividerDark,self35=r=>{const{modalColor:n,textColor1:a,textColor2:o,boxShadow3:s,lineHeight:l,fontWeightStrong:u,dividerColor:f,closeColor:d,closeColorHover:v,closeColorPressed:g}=r;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:n,textColor:o,titleTextColor:a,titleFontSize:"18px",titleFontWeight:u,boxShadow:s,lineHeight:l,headerBorderBottom:`1px solid ${f}`,footerBorderTop:`1px solid ${f}`,closeColor:d,closeColorHover:v,closeColorPressed:g,closeSize:"18px"}},drawerLight=createTheme({name:"Drawer",common:light_default,peers:{Scrollbar:light_default3},self:self35}),light_default20=drawerLight,drawerDark={name:"Drawer",common:dark_default,peers:{Scrollbar:dark_default3},self:self35},dark_default41=drawerDark,DrawerBodyWrapper_default=defineComponent({name:"NDrawerContent",inheritAttrs:!1,props:{show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(r){const n=ref(r.show),a=ref(null),o=inject(drawerInjectionKey);watchEffect(()=>{r.show&&(n.value=!0)});function s(){var l;n.value=!1,(l=r.onAfterLeave)===null||l===void 0||l.call(r)}return provide(drawerBodyInjectionKey,a),provide(popoverBodyInjectionKey,null),provide(modalBodyInjectionKey,null),{bodyRef:a,mergedClsPrefix:o.mergedClsPrefixRef,isMounted:o.isMountedRef,mergedTheme:o.mergedThemeRef,displayed:n,transitionName:computed2(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[r.placement]),handleAfterLeave:s}},render(){const{$slots:r,mergedClsPrefix:n}=this;return this.displayDirective==="show"||this.displayed||this.show?withDirectives(h("div",{role:"none"},h(FocusTrap,{disabled:!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>h(Transition,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>withDirectives(h("div",mergeProps(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${n}-drawer`,`${n}-drawer--${this.placement}-placement`,this.nativeScrollbar&&`${n}-drawer--native-scrollbar`]}),[this.nativeScrollbar?h("div",{class:`${n}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},r):h(ScrollBar_default,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${n}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),r)]),[[vShow,this.show]])})})),[[vShow,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:cubicBezierEaseIn2,cubicBezierEaseOut:cubicBezierEaseOut2}=common_default;function slide_in_from_right_default({duration:r="0.3s",leaveDuration:n="0.2s",name:a="slide-in-from-right"}={}){return[c2(`&.${a}-transition-leave-active`,{transition:`transform ${n} ${cubicBezierEaseIn2}`}),c2(`&.${a}-transition-enter-active`,{transition:`transform ${r} ${cubicBezierEaseOut2}`}),c2(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),c2(`&.${a}-transition-enter-from`,{transform:"translateX(100%)"}),c2(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),c2(`&.${a}-transition-leave-to`,{transform:"translateX(100%)"})]}var{cubicBezierEaseIn:cubicBezierEaseIn3,cubicBezierEaseOut:cubicBezierEaseOut3}=common_default;function slide_in_from_left_default({duration:r="0.3s",leaveDuration:n="0.2s",name:a="slide-in-from-left"}={}){return[c2(`&.${a}-transition-leave-active`,{transition:`transform ${n} ${cubicBezierEaseIn3}`}),c2(`&.${a}-transition-enter-active`,{transition:`transform ${r} ${cubicBezierEaseOut3}`}),c2(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),c2(`&.${a}-transition-enter-from`,{transform:"translateX(-100%)"}),c2(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),c2(`&.${a}-transition-leave-to`,{transform:"translateX(-100%)"})]}var{cubicBezierEaseIn:cubicBezierEaseIn4,cubicBezierEaseOut:cubicBezierEaseOut4}=common_default;function slide_in_from_top_default({duration:r="0.3s",leaveDuration:n="0.2s",name:a="slide-in-from-top"}={}){return[c2(`&.${a}-transition-leave-active`,{transition:`transform ${n} ${cubicBezierEaseIn4}`}),c2(`&.${a}-transition-enter-active`,{transition:`transform ${r} ${cubicBezierEaseOut4}`}),c2(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),c2(`&.${a}-transition-enter-from`,{transform:"translateY(-100%)"}),c2(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),c2(`&.${a}-transition-leave-to`,{transform:"translateY(-100%)"})]}var{cubicBezierEaseIn:cubicBezierEaseIn5,cubicBezierEaseOut:cubicBezierEaseOut5}=common_default;function slide_in_from_bottom_default({duration:r="0.3s",leaveDuration:n="0.2s",name:a="slide-in-from-bottom"}={}){return[c2(`&.${a}-transition-leave-active`,{transition:`transform ${n} ${cubicBezierEaseIn5}`}),c2(`&.${a}-transition-enter-active`,{transition:`transform ${r} ${cubicBezierEaseOut5}`}),c2(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),c2(`&.${a}-transition-enter-from`,{transform:"translateY(100%)"}),c2(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),c2(`&.${a}-transition-leave-to`,{transform:"translateY(100%)"})]}var index_cssr_default17=c2([cB("drawer",`
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[slide_in_from_right_default(),slide_in_from_left_default(),slide_in_from_top_default(),slide_in_from_bottom_default(),cM("native-scrollbar",[cB("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),cB("drawer-content-wrapper",`
 box-sizing: border-box;
 `),cB("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[cM("native-scrollbar",[cB("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),cB("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),cB("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),cB("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[cE("close",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-close-size);
 `)]),cB("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),cM("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `),cM("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `),cM("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `),cM("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `)]),c2("body",[c2(">",[cB("drawer-container",{position:"fixed"})])]),cB("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[c2("> *",{pointerEvents:"all"})]),cB("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[fade_in_cssr_default({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),drawerProps=Object.assign(Object.assign({},use_theme_default.props),{show:Boolean,width:{type:[Number,String],default:251},height:{type:[Number,String],default:251},placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Drawer_default=defineComponent({name:"Drawer",inheritAttrs:!1,props:drawerProps,setup(r){watchEffect(()=>{r.drawerStyle!==void 0&&warnOnce("drawer","`drawer-style` is deprecated, please use `style` instead."),r.drawerClass!==void 0&&warnOnce("drawer","`drawer-class` is deprecated, please use `class` instead."),r.target!==void 0&&warnOnce("drawer","`target` is deprecated, please use `to` instead."),r.onShow!==void 0&&warnOnce("drawer","`on-show` is deprecated, please use `on-update:show` instead."),r.onHide!==void 0&&warnOnce("drawer","`on-hide` is deprecated, please use `on-update:show` instead.")});const{mergedClsPrefixRef:n,namespaceRef:a,inlineThemeDisabled:o}=useConfig(r),s=isMounted(),l=use_theme_default("Drawer","-drawer",index_cssr_default17,light_default20,r,n),u=computed2(()=>{const{placement:x}=r;if(x==="top"||x==="bottom")return"";const{width:w}=r;return formatLength(w)}),f=computed2(()=>{const{placement:x}=r;if(x==="left"||x==="right")return"";const{height:w}=r;return formatLength(w)}),d=computed2(()=>[{width:u.value,height:f.value},r.drawerStyle]);function v(x){const{onMaskClick:w,maskClosable:C}=r;C&&y(!1),w&&w(x)}function g(){var x;(x=r.onEsc)===null||x===void 0||x.call(r),r.closeOnEsc&&y(!1)}function y(x){const{onHide:w,onUpdateShow:C,"onUpdate:show":S}=r;C&&call(C,x),S&&call(S,x),w&&!x&&call(w,x)}provide(drawerInjectionKey,{isMountedRef:s,mergedThemeRef:l,mergedClsPrefixRef:n,doUpdateShow:y});const b=computed2(()=>{const{common:{cubicBezierEaseInOut:x,cubicBezierEaseIn:w,cubicBezierEaseOut:C},self:{color:S,textColor:D,boxShadow:A,lineHeight:T,headerPadding:P,footerPadding:E,bodyPadding:M,titleFontSize:L,titleTextColor:F,titleFontWeight:I,headerBorderBottom:B,footerBorderTop:O,closeColor:R,closeColorHover:z,closeColorPressed:N,closeSize:V}}=l.value;return{"--n-line-height":T,"--n-color":S,"--n-text-color":D,"--n-box-shadow":A,"--n-bezier":x,"--n-bezier-out":C,"--n-bezier-in":w,"--n-header-padding":P,"--n-body-padding":M,"--n-footer-padding":E,"--n-title-text-color":F,"--n-title-font-size":L,"--n-title-font-weight":I,"--n-header-border-bottom":B,"--n-footer-border-top":O,"--n-close-color":R,"--n-close-color-hover":z,"--n-close-color-pressed":N,"--n-close-size":V}}),_=o?useThemeClass("drawer",void 0,b,r):void 0;return{mergedClsPrefix:n,namespace:a,mergedBodyStyle:d,handleMaskClick:v,handleEsc:g,mergedTheme:l,cssVars:o?void 0:b,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender,isMounted:s}},render(){const{mergedClsPrefix:r}=this;return h(src_default,{to:this.to,show:this.show},{default:()=>{var n;return(n=this.onRender)===null||n===void 0||n.call(this),withDirectives(h("div",{class:[`${r}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},h(Transition,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?h("div",{"aria-hidden":!0,class:`${r}-drawer-mask`,onClick:this.handleMaskClick}):null}),h(DrawerBodyWrapper_default,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,onEsc:this.handleEsc}),this.$slots)),[[zindexable_default,{zIndex:this.zIndex,enabled:this.show}]])}})}}),drawerContentProps={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},DrawerContent_default=defineComponent({name:"DrawerContent",props:drawerContentProps,setup(){const r=inject(drawerInjectionKey,null);r||throwError("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:n}=r;function a(){n(!1)}return{handleCloseClick:a,mergedTheme:r.mergedThemeRef,mergedClsPrefix:r.mergedClsPrefixRef}},render(){const{title:r,mergedClsPrefix:n,nativeScrollbar:a,mergedTheme:o,bodyStyle:s,bodyContentStyle:l,headerStyle:u,footerStyle:f,scrollbarProps:d,closable:v,$slots:g}=this;return h("div",{role:"none",class:[`${n}-drawer-content`,a&&`${n}-drawer-content--native-scrollbar`]},g.header||r||v?h("div",{class:`${n}-drawer-header`,style:u,role:"none"},h("div",{class:`${n}-drawer-header__main`,role:"heading","aria-level":"1"},g.header!==void 0?g.header():r),v&&h(Close_default2,{onClick:this.handleCloseClick,clsPrefix:n,class:`${n}-drawer-header__close`})):null,a?h("div",{class:`${n}-drawer-body`,style:s,role:"none"},h("div",{class:`${n}-drawer-body-content-wrapper`,style:l,role:"none"},g)):h(ScrollBar_default,Object.assign({themeOverrides:o.peerOverrides.Scrollbar,theme:o.peers.Scrollbar},d,{class:`${n}-drawer-body`,contentClass:`${n}-drawer-body-content-wrapper`,contentStyle:l}),g),g.footer?h("div",{class:`${n}-drawer-footer`,style:f,role:"none"},g.footer()):null)}}),common_default25={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},dynamicInputDark={name:"DynamicInput",common:dark_default,peers:{Input:dark_default10,Button:dark_default17},self(){return common_default25}},dark_default42=dynamicInputDark,self36=()=>common_default25,dynamicInputLight=createTheme({name:"DynamicInput",common:light_default,peers:{Input:light_default8,Button:light_default9},self:self36}),light_default21=dynamicInputLight,dynamicInputInjectionKey=createInjectionKey("n-dynamic-input"),InputPreset_default=defineComponent({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:r,placeholderRef:n}=inject(dynamicInputInjectionKey);return{mergedTheme:r,placeholder:n}},render(){const{mergedTheme:r,placeholder:n,value:a,clsPrefix:o,onUpdateValue:s}=this;return h("div",{class:`${o}-dynamic-input-preset-input`},h(Input_default,{theme:r.peers.Input,"theme-overrides":r.peerOverrides.Input,value:a,placeholder:n,onUpdateValue:s}))}}),PairPreset_default=defineComponent({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(r){const{mergedThemeRef:n,keyPlaceholderRef:a,valuePlaceholderRef:o}=inject(dynamicInputInjectionKey);return{mergedTheme:n,keyPlaceholder:a,valuePlaceholder:o,handleKeyInput(s){r.onUpdateValue({key:s,value:r.value.value})},handleValueInput(s){r.onUpdateValue({key:r.value.key,value:s})}}},render(){const{mergedTheme:r,keyPlaceholder:n,valuePlaceholder:a,value:o,clsPrefix:s}=this;return h("div",{class:`${s}-dynamic-input-preset-pair`},h(Input_default,{theme:r.peers.Input,"theme-overrides":r.peerOverrides.Input,value:o.key,class:`${s}-dynamic-input-pair-input`,placeholder:n,onUpdateValue:this.handleKeyInput}),h(Input_default,{theme:r.peers.Input,"theme-overrides":r.peerOverrides.Input,value:o.value,class:`${s}-dynamic-input-pair-input`,placeholder:a,onUpdateValue:this.handleValueInput}))}}),index_cssr_default18=cB("dynamic-input",{width:"100%"},[cB("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[cB("dynamic-input-preset-input",{flex:1,alignItems:"center"}),cB("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[cB("dynamic-input-pair-input",[c2("&:first-child",{"margin-right":"12px"})])]),cE("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[cM("icon",{cursor:"pointer"})]),c2("&:last-child",{marginBottom:0})]),cB("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[cB("form-item-blank",{paddingTop:"0 !important"})])]),globalDataKeyMap=new WeakMap,dynamicInputProps=Object.assign(Object.assign({},use_theme_default.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),DynamicInput_default=defineComponent({name:"DynamicInput",props:dynamicInputProps,setup(r,{slots:n}){watchEffect(()=>{r.onClear!==void 0&&warnOnce("dynamic-input","`on-clear` is deprecated, it is out of usage anymore."),r.onInput!==void 0&&warnOnce("dynamic-input","`on-input` is deprecated, please use `on-update:value` instead.")});const{mergedComponentPropsRef:a,mergedClsPrefixRef:o,mergedRtlRef:s,inlineThemeDisabled:l}=useConfig(),u=inject(formItemInjectionKey,null),f=ref(r.defaultValue),d=toRef(r,"value"),v=useMergedState(d,f),g=use_theme_default("DynamicInput","-dynamic-input",index_cssr_default18,light_default21,r,o),y=computed2(()=>{const{value:F}=v;if(Array.isArray(F)){const{max:I}=r;return I!==void 0&&F.length>=I}return!1}),b=computed2(()=>{const{value:F}=v;return Array.isArray(F)?F.length<=r.min:!0}),_=computed2(()=>{var F,I;return(I=(F=a==null?void 0:a.value)===null||F===void 0?void 0:F.DynamicInput)===null||I===void 0?void 0:I.buttonSize});function x(F){const{onInput:I,"onUpdate:value":B,onUpdateValue:O}=r;I&&call(I,F),B&&call(B,F),O&&call(O,F),f.value=F}function w(F,I){if(F==null||typeof F!="object")return I;const B=isProxy(F)?toRaw(F):F;let O=globalDataKeyMap.get(B);return O===void 0&&globalDataKeyMap.set(B,O=createId()),O}function C(F,I){const{value:B}=v,O=Array.from(B!=null?B:[]),R=O[F];if(O[F]=I,R&&I&&typeof R=="object"&&typeof I=="object"){const z=isProxy(R)?toRaw(R):R,N=isProxy(I)?toRaw(I):I,V=globalDataKeyMap.get(z);V!==void 0&&globalDataKeyMap.set(N,V)}x(O)}function S(){D(0)}function D(F){const{value:I}=v,{onCreate:B}=r,O=Array.from(I!=null?I:[]);if(B)O.splice(F+1,0,B(F+1)),x(O);else if(n.default)O.splice(F+1,0,null),x(O);else switch(r.preset){case"input":O.splice(F+1,0,""),x(O);break;case"pair":O.splice(F+1,0,{key:"",value:""}),x(O);break}}function A(F){const{value:I}=v;if(!Array.isArray(I))return;const{min:B}=r;if(I.length<=B)return;const O=Array.from(I);O.splice(F,1),x(O);const{onRemove:R}=r;R&&R(F)}function T(F,I,B){if(I<0||B<0||I>=F.length||B>=F.length||I===B)return;const O=F[I];F[I]=F[B],F[B]=O}function P(F,I){const{value:B}=v;if(!Array.isArray(B))return;const O=Array.from(B);F==="up"&&T(O,I,I-1),F==="down"&&T(O,I,I+1),x(O)}provide(dynamicInputInjectionKey,{mergedThemeRef:g,keyPlaceholderRef:toRef(r,"keyPlaceholder"),valuePlaceholderRef:toRef(r,"valuePlaceholder"),placeholderRef:toRef(r,"placeholder")});const E=useRtl("DynamicInput",s,o),M=computed2(()=>{const{self:{actionMargin:F,actionMarginRtl:I}}=g.value;return{"--action-margin":F,"--action-margin-rtl":I}}),L=l?useThemeClass("dynamic-input",void 0,M,r):void 0;return{locale:useLocale("DynamicInput").localeRef,rtlEnabled:E,buttonSize:_,mergedClsPrefix:o,NFormItem:u,uncontrolledValue:f,mergedValue:v,insertionDisabled:y,removeDisabled:b,handleCreateClick:S,ensureKey:w,handleValueChange:C,remove:A,move:P,createItem:D,mergedTheme:g,cssVars:l?void 0:M,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{$slots:r,buttonSize:n,mergedClsPrefix:a,mergedValue:o,locale:s,mergedTheme:l,keyField:u,itemStyle:f,preset:d,showSortButton:v,NFormItem:g,ensureKey:y,handleValueChange:b,remove:_,createItem:x,move:w,onRender:C}=this;return C==null||C(),h("div",{class:[`${a}-dynamic-input`,this.rtlEnabled&&`${a}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?h(Button_default,Object.assign({block:!0,ghost:!0,dashed:!0,size:n},this.createButtonProps,{disabled:this.insertionDisabled,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>resolveSlot(r["create-button-default"],()=>[s.create]),icon:()=>resolveSlot(r["create-button-icon"],()=>[h(Icon_default,{clsPrefix:a},{default:()=>h(Add_default,null)})])}):o.map((S,D)=>h("div",{key:u?S[u]:y(S,D),"data-key":u?S[u]:y(S,D),class:`${a}-dynamic-input-item`,style:f},resolveSlotWithProps(r.default,{value:o[D],index:D},()=>[d==="input"?h(InputPreset_default,{clsPrefix:a,value:o[D],parentPath:g?g.path.value:void 0,path:(g==null?void 0:g.path.value)?`${g.path.value}[${D}]`:void 0,onUpdateValue:A=>b(D,A)}):d==="pair"?h(PairPreset_default,{clsPrefix:a,value:o[D],parentPath:g?g.path.value:void 0,path:(g==null?void 0:g.path.value)?`${g.path.value}[${D}]`:void 0,onUpdateValue:A=>b(D,A)}):null]),h("div",{class:`${a}-dynamic-input-item__action`},h(ButtonGroup_default,{size:n},{default:()=>[h(Button_default,{disabled:this.removeDisabled,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,circle:!0,onClick:()=>_(D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(Remove_default,null)})}),h(Button_default,{disabled:this.insertionDisabled,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>x(D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(Add_default,null)})}),v?h(Button_default,{disabled:D===0,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>w("up",D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(ArrowUp_default,null)})}):null,v?h(Button_default,{disabled:D===o.length-1,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>w("down",D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(ArrowDown_default,null)})}):null]})))))}}),common_default26={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},spaceDark={name:"Space",self(){return common_default26}},dark_default43=spaceDark,dynamicTagsDark={name:"DynamicTags",common:dark_default,peers:{Input:dark_default10,Button:dark_default17,Tag:dark_default6,Space:dark_default43},self(){return{inputWidth:"64px"}}},dark_default44=dynamicTagsDark,elementDark={name:"Element",common:dark_default},dark_default45=elementDark,common_default27={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 8px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"},self37=r=>{const{heightSmall:n,heightMedium:a,heightLarge:o,textColor1:s,errorColor:l,warningColor:u,lineHeight:f,textColor3:d}=r;return Object.assign(Object.assign({},common_default27),{blankHeightSmall:n,blankHeightMedium:a,blankHeightLarge:o,lineHeight:f,labelTextColor:s,asteriskColor:l,feedbackTextColorError:l,feedbackTextColorWarning:u,feedbackTextColor:d})},formLight={name:"Form",common:light_default,self:self37},light_default22=formLight,formItemDark={name:"Form",common:dark_default,self:self37},dark_default46=formItemDark,form_cssr_default=cB("form",[cM("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[cB("form-item",{width:"auto",marginRight:"18px"},[c2("&:last-child",{marginRight:0})])])]),formInjectionKey=createInjectionKey("n-form"),formItemInstsInjectionKey=createInjectionKey("n-form-item-insts"),__awaiter=function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(g){try{v(o.next(g))}catch(y){u(y)}}function d(g){try{v(o.throw(g))}catch(y){u(y)}}function v(g){g.done?l(g.value):s(g.value).then(f,d)}v((o=o.apply(r,n||[])).next())})},formProps=Object.assign(Object.assign({},use_theme_default.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:r=>r.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),Form_default=defineComponent({name:"Form",props:formProps,setup(r){const{mergedClsPrefixRef:n}=useConfig(r);use_theme_default("Form","-form",form_cssr_default,light_default22,r,n);const a={},o=ref(void 0),s=d=>{const v=o.value;(v===void 0||d>=v)&&(o.value=d)};function l(d,v=()=>!0){return __awaiter(this,void 0,void 0,function*(){return yield new Promise((g,y)=>{const b=[];for(const _ of keysOf(a)){const x=a[_];for(const w of x)w.path&&b.push(w.internalValidate(null,v))}Promise.all(b).then(_=>{if(_.some(x=>!x.valid)){const x=_.filter(w=>w.errors).map(w=>w.errors);d&&d(x),y(x)}else d&&d(),g()})})})}function u(){for(const d of keysOf(a)){const v=a[d];for(const g of v)g.restoreValidation()}}return provide(formInjectionKey,{props:r,maxChildLabelWidthRef:o,deriveMaxChildLabelWidth:s}),provide(formItemInstsInjectionKey,{formItems:a}),Object.assign({validate:l,restoreValidation:u},{mergedClsPrefix:n})},render(){const{mergedClsPrefix:r}=this;return h("form",{class:[`${r}-form`,this.inline&&`${r}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function _extends(){return _extends=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,_setPrototypeOf(r,n)}function _getPrototypeOf(r){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(r)}function _setPrototypeOf(r,n){return _setPrototypeOf=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},_setPrototypeOf(r,n)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function _construct(r,n,a){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(s,l,u){var f=[null];f.push.apply(f,l);var d=Function.bind.apply(s,f),v=new d;return u&&_setPrototypeOf(v,u.prototype),v},_construct.apply(null,arguments)}function _isNativeFunction(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function _wrapNativeSuper(r){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n!="undefined"){if(n.has(o))return n.get(o);n.set(o,s)}function s(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(s,o)},_wrapNativeSuper(r)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process!="undefined"&&process.env&&!0&&typeof window!="undefined"&&typeof document!="undefined"&&(warning=function(n,a){typeof console!="undefined"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING=="undefined"&&a.every(function(o){return typeof o=="string"})&&console.warn(n,a)});function convertFieldsError(r){if(!r||!r.length)return null;var n={};return r.forEach(function(a){var o=a.field;n[o]=n[o]||[],n[o].push(a)}),n}function format(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var s=0,l=a.length;if(typeof r=="function")return r.apply(null,a);if(typeof r=="string"){var u=r.replace(formatRegExp,function(f){if(f==="%%")return"%";if(s>=l)return f;switch(f){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch(d){return"[Circular]"}break;default:return f}});return u}return r}function isNativeStringType(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function isEmptyValue2(r,n){return!!(r==null||n==="array"&&Array.isArray(r)&&!r.length||isNativeStringType(n)&&typeof r=="string"&&!r)}function asyncParallelArray(r,n,a){var o=[],s=0,l=r.length;function u(f){o.push.apply(o,f||[]),s++,s===l&&a(o)}r.forEach(function(f){n(f,u)})}function asyncSerialArray(r,n,a){var o=0,s=r.length;function l(u){if(u&&u.length){a(u);return}var f=o;o=o+1,f<s?n(r[f],l):a([])}l([])}function flattenObjArr(r){var n=[];return Object.keys(r).forEach(function(a){n.push.apply(n,r[a]||[])}),n}var AsyncValidationError=function(r){_inheritsLoose(n,r);function n(a,o){var s;return s=r.call(this,"Async Validation Error")||this,s.errors=a,s.fields=o,s}return n}(_wrapNativeSuper(Error));function asyncMap(r,n,a,o,s){if(n.first){var l=new Promise(function(b,_){var x=function(S){return o(S),S.length?_(new AsyncValidationError(S,convertFieldsError(S))):b(s)},w=flattenObjArr(r);asyncSerialArray(w,a,x)});return l.catch(function(b){return b}),l}var u=n.firstFields===!0?Object.keys(r):n.firstFields||[],f=Object.keys(r),d=f.length,v=0,g=[],y=new Promise(function(b,_){var x=function(C){if(g.push.apply(g,C),v++,v===d)return o(g),g.length?_(new AsyncValidationError(g,convertFieldsError(g))):b(s)};f.length||(o(g),b(s)),f.forEach(function(w){var C=r[w];u.indexOf(w)!==-1?asyncSerialArray(C,a,x):asyncParallelArray(C,a,x)})});return y.catch(function(b){return b}),y}function isErrorObj(r){return!!(r&&r.message!==void 0)}function getValue3(r,n){for(var a=r,o=0;o<n.length;o++){if(a==null)return a;a=a[n[o]]}return a}function complementError(r,n){return function(a){var o;return r.fullFields?o=getValue3(n,r.fullFields):o=n[a.field||r.fullField],isErrorObj(a)?(a.field=a.field||r.fullField,a.fieldValue=o,a):{message:typeof a=="function"?a():a,fieldValue:o,field:a.field||r.fullField}}}function deepMerge(r,n){if(n){for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];typeof o=="object"&&typeof r[a]=="object"?r[a]=_extends({},r[a],o):r[a]=o}}return r}var required$1=function(n,a,o,s,l,u){n.required&&(!o.hasOwnProperty(n.field)||isEmptyValue2(a,u||n.type))&&s.push(format(l.messages.required,n.fullField))},whitespace=function(n,a,o,s,l){(/^\s+$/.test(a)||a==="")&&s.push(format(l.messages.whitespace,n.fullField))},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(n){return types.number(n)&&parseInt(n,10)===n},float:function(n){return types.number(n)&&!types.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch(a){return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!types.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(pattern$2.url)},hex:function(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function(n,a,o,s,l){if(n.required&&a===void 0){required$1(n,a,o,s,l);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],f=n.type;u.indexOf(f)>-1?types[f](a)||s.push(format(l.messages.types[f],n.fullField,n.type)):f&&typeof a!==n.type&&s.push(format(l.messages.types[f],n.fullField,n.type))},range=function(n,a,o,s,l){var u=typeof n.len=="number",f=typeof n.min=="number",d=typeof n.max=="number",v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=a,y=null,b=typeof a=="number",_=typeof a=="string",x=Array.isArray(a);if(b?y="number":_?y="string":x&&(y="array"),!y)return!1;x&&(g=a.length),_&&(g=a.replace(v,"_").length),u?g!==n.len&&s.push(format(l.messages[y].len,n.fullField,n.len)):f&&!d&&g<n.min?s.push(format(l.messages[y].min,n.fullField,n.min)):d&&!f&&g>n.max?s.push(format(l.messages[y].max,n.fullField,n.max)):f&&d&&(g<n.min||g>n.max)&&s.push(format(l.messages[y].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function(n,a,o,s,l){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(a)===-1&&s.push(format(l.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function(n,a,o,s,l){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(a)||s.push(format(l.messages.pattern.mismatch,n.fullField,a,n.pattern));else if(typeof n.pattern=="string"){var u=new RegExp(n.pattern);u.test(a)||s.push(format(l.messages.pattern.mismatch,n.fullField,a,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a,"string")&&!n.required)return o();rules.required(n,a,s,u,l,"string"),isEmptyValue2(a,"string")||(rules.type(n,a,s,u,l),rules.range(n,a,s,u,l),rules.pattern(n,a,s,u,l),n.whitespace===!0&&rules.whitespace(n,a,s,u,l))}o(u)},method2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&rules.type(n,a,s,u,l)}o(u)},number2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(a===""&&(a=void 0),isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&(rules.type(n,a,s,u,l),rules.range(n,a,s,u,l))}o(u)},_boolean=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&rules.type(n,a,s,u,l)}o(u)},regexp2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),isEmptyValue2(a)||rules.type(n,a,s,u,l)}o(u)},integer2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&(rules.type(n,a,s,u,l),rules.range(n,a,s,u,l))}o(u)},floatFn=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&(rules.type(n,a,s,u,l),rules.range(n,a,s,u,l))}o(u)},array2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(a==null&&!n.required)return o();rules.required(n,a,s,u,l,"array"),a!=null&&(rules.type(n,a,s,u,l),rules.range(n,a,s,u,l))}o(u)},object2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&rules.type(n,a,s,u,l)}o(u)},ENUM="enum",enumerable2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l),a!==void 0&&rules[ENUM](n,a,s,u,l)}o(u)},pattern2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a,"string")&&!n.required)return o();rules.required(n,a,s,u,l),isEmptyValue2(a,"string")||rules.pattern(n,a,s,u,l)}o(u)},date2=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a,"date")&&!n.required)return o();if(rules.required(n,a,s,u,l),!isEmptyValue2(a,"date")){var d;a instanceof Date?d=a:d=new Date(a),rules.type(n,d,s,u,l),d&&rules.range(n,d.getTime(),s,u,l)}}o(u)},required2=function(n,a,o,s,l){var u=[],f=Array.isArray(a)?"array":typeof a;rules.required(n,a,s,u,l,f),o(u)},type2=function(n,a,o,s,l){var u=n.type,f=[],d=n.required||!n.required&&s.hasOwnProperty(n.field);if(d){if(isEmptyValue2(a,u)&&!n.required)return o();rules.required(n,a,s,f,l,u),isEmptyValue2(a,u)||rules.type(n,a,s,f,l)}o(f)},any=function(n,a,o,s,l){var u=[],f=n.required||!n.required&&s.hasOwnProperty(n.field);if(f){if(isEmptyValue2(a)&&!n.required)return o();rules.required(n,a,s,u,l)}o(u)},validators={string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function r(a){this.rules=null,this._messages=messages,this.define(a)}var n=r.prototype;return n.define=function(o){var s=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(l){var u=o[l];s.rules[l]=Array.isArray(u)?u:[u]})},n.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},n.validate=function(o,s,l){var u=this;s===void 0&&(s={}),l===void 0&&(l=function(){});var f=o,d=s,v=l;if(typeof d=="function"&&(v=d,d={}),!this.rules||Object.keys(this.rules).length===0)return v&&v(null,f),Promise.resolve(f);function g(w){var C=[],S={};function D(T){if(Array.isArray(T)){var P;C=(P=C).concat.apply(P,T)}else C.push(T)}for(var A=0;A<w.length;A++)D(w[A]);C.length?(S=convertFieldsError(C),v(C,S)):v(null,f)}if(d.messages){var y=this.messages();y===messages&&(y=newMessages()),deepMerge(y,d.messages),d.messages=y}else d.messages=this.messages();var b={},_=d.keys||Object.keys(this.rules);_.forEach(function(w){var C=u.rules[w],S=f[w];C.forEach(function(D){var A=D;typeof A.transform=="function"&&(f===o&&(f=_extends({},f)),S=f[w]=A.transform(S)),typeof A=="function"?A={validator:A}:A=_extends({},A),A.validator=u.getValidationMethod(A),!!A.validator&&(A.field=w,A.fullField=A.fullField||w,A.type=u.getType(A),b[w]=b[w]||[],b[w].push({rule:A,value:S,source:f,field:w}))})});var x={};return asyncMap(b,d,function(w,C){var S=w.rule,D=(S.type==="object"||S.type==="array")&&(typeof S.fields=="object"||typeof S.defaultField=="object");D=D&&(S.required||!S.required&&w.value),S.field=w.field;function A(E,M){return _extends({},M,{fullField:S.fullField+"."+E,fullFields:S.fullFields?[].concat(S.fullFields,[E]):[E]})}function T(E){E===void 0&&(E=[]);var M=Array.isArray(E)?E:[E];!d.suppressWarning&&M.length&&r.warning("async-validator:",M),M.length&&S.message!==void 0&&(M=[].concat(S.message));var L=M.map(complementError(S,f));if(d.first&&L.length)return x[S.field]=1,C(L);if(!D)C(L);else{if(S.required&&!w.value)return S.message!==void 0?L=[].concat(S.message).map(complementError(S,f)):d.error&&(L=[d.error(S,format(d.messages.required,S.field))]),C(L);var F={};S.defaultField&&Object.keys(w.value).map(function(O){F[O]=S.defaultField}),F=_extends({},F,w.rule.fields);var I={};Object.keys(F).forEach(function(O){var R=F[O],z=Array.isArray(R)?R:[R];I[O]=z.map(A.bind(null,O))});var B=new r(I);B.messages(d.messages),w.rule.options&&(w.rule.options.messages=d.messages,w.rule.options.error=d.error),B.validate(w.value,w.rule.options||d,function(O){var R=[];L&&L.length&&R.push.apply(R,L),O&&O.length&&R.push.apply(R,O),C(R.length?R:null)})}}var P;S.asyncValidator?P=S.asyncValidator(S,w.value,T,w.source,d):S.validator&&(P=S.validator(S,w.value,T,w.source,d),P===!0?T():P===!1?T(typeof S.message=="function"?S.message(S.fullField||S.field):S.message||(S.fullField||S.field)+" fails"):P instanceof Array?T(P):P instanceof Error&&T(P.message)),P&&P.then&&P.then(function(){return T()},function(E){return T(E)})},function(w){g(w)},f)},n.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},n.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var s=Object.keys(o),l=s.indexOf("message");return l!==-1&&s.splice(l,1),s.length===1&&s[0]==="required"?validators.required:validators[this.getType(o)]||void 0},r}();Schema.register=function(n,a){if(typeof a!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=a},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;function formItemSize(r){const n=inject(formInjectionKey,null);return{mergedSize:computed2(()=>r.size!==void 0?r.size:(n==null?void 0:n.props.size)!==void 0?n.props.size:"medium")}}function formItemMisc(r){const n=inject(formInjectionKey,null),a=computed2(()=>{if(o.value==="top")return;const{labelWidth:b}=r;if(b!==void 0&&b!=="auto")return formatLength(b);if(b==="auto"||(n==null?void 0:n.props.labelWidth)==="auto"){const _=n==null?void 0:n.maxChildLabelWidthRef.value;return _!==void 0?formatLength(_):void 0}if((n==null?void 0:n.props.labelWidth)!==void 0)return formatLength(n.props.labelWidth)}),o=computed2(()=>{const{labelPlacement:b}=r;return b!==void 0?b:(n==null?void 0:n.props.labelPlacement)?n.props.labelPlacement:"top"}),s=computed2(()=>{const{labelAlign:b}=r;if(b)return b;if(n==null?void 0:n.props.labelAlign)return n.props.labelAlign}),l=computed2(()=>{var b;return[(b=r.labelProps)===null||b===void 0?void 0:b.style,r.labelStyle,{width:a.value}]}),u=computed2(()=>{const{showRequireMark:b}=r;return b!==void 0?b:n==null?void 0:n.props.showRequireMark}),f=computed2(()=>{const{requireMarkPlacement:b}=r;return b!==void 0?b:(n==null?void 0:n.props.requireMarkPlacement)||"right"}),d=ref(!1),v=computed2(()=>{const{validationStatus:b}=r;if(b!==void 0)return b;if(d.value)return"error"}),g=computed2(()=>{const{showFeedback:b}=r;return b!==void 0?b:(n==null?void 0:n.props.showFeedback)!==void 0?n.props.showFeedback:!0}),y=computed2(()=>{const{showLabel:b}=r;return b!==void 0?b:(n==null?void 0:n.props.showLabel)!==void 0?n.props.showLabel:!0});return{validationErrored:d,mergedLabelStyle:l,mergedLabelPlacement:o,mergedLabelAlign:s,mergedShowRequireMark:u,mergedRequireMarkPlacement:f,mergedValidationStatus:v,mergedShowFeedback:g,mergedShowLabel:y}}function formItemRule(r){const n=inject(formInjectionKey,null),a=computed2(()=>{const{rulePath:u}=r;if(u!==void 0)return u;const{path:f}=r;if(f!==void 0)return f}),o=computed2(()=>{const u=[],{rule:f}=r;if(f!==void 0&&(Array.isArray(f)?u.push(...f):u.push(f)),n){const{rules:d}=n.props,{value:v}=a;if(d!==void 0&&v!==void 0){const g=get_default(d,v);g!==void 0&&(Array.isArray(g)?u.push(...g):u.push(g))}}return u}),s=computed2(()=>o.value.some(u=>u.required)),l=computed2(()=>s.value||r.required);return{mergedRules:o,mergedRequired:l}}var Feedbacks_default=defineComponent({name:"FormItemFeedback",props:{clsPrefix:{type:String,required:!0},explains:Array,feedback:String},render(){var r;const{$slots:n,feedback:a,clsPrefix:o}=this;return n.default?n.default():a?h("div",{key:a,class:`${o}-form-item-feedback__line`},a):(r=this.explains)===null||r===void 0?void 0:r.map(s=>h("div",{key:s,class:`${o}-form-item-feedback__line`},s))}}),{cubicBezierEaseInOut:cubicBezierEaseInOut4}=common_default;function fade_down_cssr_default({name:r="fade-down",fromOffset:n="-4px",enterDuration:a=".3s",leaveDuration:o=".3s",enterCubicBezier:s=cubicBezierEaseInOut4,leaveCubicBezier:l=cubicBezierEaseInOut4}={}){return[c2(`&.${r}-transition-enter-from, &.${r}-transition-leave-to`,{opacity:0,transform:`translateY(${n})`}),c2(`&.${r}-transition-enter-to, &.${r}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),c2(`&.${r}-transition-leave-active`,{transition:`opacity ${o} ${l}, transform ${o} ${l}`}),c2(`&.${r}-transition-enter-active`,{transition:`opacity ${a} ${s}, transform ${a} ${s}`})]}var form_item_cssr_default=cB("form-item",{display:"grid",lineHeight:"var(--n-line-height)"},[cB("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 `,[cE("asterisk",`
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),cE("asterisk-placeholder",`
 visibility: hidden; 
 `)]),cB("form-item-blank",{gridArea:"blank",minHeight:"var(--n-blank-height)"}),cM("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 `,[cB("form-item-label",`
 height: var(--n-blank-height);
 line-height: var(--n-blank-height);
 box-sizing: border-box;
 white-space: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `)]),cM("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: var(--n-label-height) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[cM("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),cB("form-item-label",{display:"flex",alignItems:"flex-end",justifyContent:"var(--n-label-text-align)"})]),cB("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),cB("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[c2("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),cB("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[cM("warning",{color:"var(--n-feedback-text-color-warning)"}),cM("error",{color:"var(--n-feedback-text-color-error)"}),fade_down_cssr_default({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]),__awaiter2=function(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(g){try{v(o.next(g))}catch(y){u(y)}}function d(g){try{v(o.throw(g))}catch(y){u(y)}}function v(g){g.done?l(g.value):s(g.value).then(f,d)}v((o=o.apply(r,n||[])).next())})},formItemProps=Object.assign(Object.assign({},use_theme_default.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object}),formItemPropKeys=keysOf(formItemProps);function wrapValidator(r,n){return(...a)=>{try{const o=r(...a);return!n&&(typeof o=="boolean"||o instanceof Error||Array.isArray(o))||(o==null?void 0:o.then)?o:(o===void 0||warn3("form-item/validate",`You return a ${typeof o} typed value in the validator method, which is not recommended. Please use `+(n?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(o){warn3("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(o);return}}}var FormItem_default=defineComponent({name:"FormItem",props:formItemProps,setup(r){useInjectionInstanceCollection(formItemInstsInjectionKey,"formItems",toRef(r,"path"));const{mergedClsPrefixRef:n,inlineThemeDisabled:a}=useConfig(r),o=inject(formInjectionKey,null),s=formItemSize(r),l=formItemMisc(r),{validationErrored:u}=l,{mergedRequired:f,mergedRules:d}=formItemRule(r),{mergedSize:v}=s,{mergedLabelPlacement:g,mergedLabelAlign:y}=l,b=ref([]),_=ref(createId()),x=computed2(()=>{const{feedback:O}=r;return O!=null?!0:b.value.length}),w=o?toRef(o.props,"disabled"):ref(!1),C=use_theme_default("Form","-form-item",form_item_cssr_default,light_default22,r,n);watch(toRef(r,"path"),()=>{r.ignorePathChange||S()});function S(){b.value=[],u.value=!1,r.feedback&&(_.value=createId())}function D(){M("blur")}function A(){M("change")}function T(){M("focus")}function P(){M("input")}function E(O,R){return __awaiter2(this,void 0,void 0,function*(){let z,N,V,W;return typeof O=="string"?(z=O,N=R):O!==null&&typeof O=="object"&&(z=O.trigger,N=O.callback,V=O.shouldRuleBeApplied,W=O.options),yield new Promise((H,$)=>{M(z,V,W).then(({valid:Y,errors:ae})=>{Y?(N&&N(),H()):(N&&N(ae),$(ae))})})})}const M=(O=null,R=()=>!0,z={suppressWarning:!0})=>__awaiter2(this,void 0,void 0,function*(){const{path:N}=r;z?z.first||(z.first=r.first):z={};const{value:V}=d,W=o?get_default(o.props.model,N||""):void 0,H=(O?V.filter(X=>Array.isArray(X.trigger)?X.trigger.includes(O):X.trigger===O):V).filter(R).map(X=>{const J=Object.assign({},X);return J.validator&&(J.validator=wrapValidator(J.validator,!1)),J.asyncValidator&&(J.asyncValidator=wrapValidator(J.asyncValidator,!0)),J});if(!H.length)return yield Promise.resolve({valid:!0});const $=N!=null?N:"__n_no_path__",Y=new Schema({[$]:H}),{validateMessages:ae}=(o==null?void 0:o.props)||{};return ae&&Y.messages(ae),yield new Promise(X=>{Y.validate({[$]:W},z,(J,fe)=>{(J==null?void 0:J.length)?(b.value=J.map(ge=>(ge==null?void 0:ge.message)||""),u.value=!0,X({valid:!1,errors:J})):(S(),X({valid:!0}))})})});provide(formItemInjectionKey,{path:toRef(r,"path"),disabled:w,mergedSize:s.mergedSize,mergedValidationStatus:l.mergedValidationStatus,restoreValidation:S,handleContentBlur:D,handleContentChange:A,handleContentFocus:T,handleContentInput:P});const L={validate:E,restoreValidation:S,internalValidate:M},F=ref(null);onMounted(()=>{F.value!==null&&(o==null||o.deriveMaxChildLabelWidth(Number(getComputedStyle(F.value).width.slice(0,-2))))});const I=computed2(()=>{var O;const{value:R}=v,{value:z}=g,N=z==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:V},self:{labelTextColor:W,asteriskColor:H,lineHeight:$,feedbackTextColor:Y,feedbackTextColorWarning:ae,feedbackTextColorError:X,feedbackPadding:J,[createKey("labelHeight",R)]:fe,[createKey("blankHeight",R)]:ge,[createKey("feedbackFontSize",R)]:ye,[createKey("feedbackHeight",R)]:be,[createKey("labelPadding",N)]:K,[createKey("labelTextAlign",N)]:j,[createKey(createKey("labelFontSize",z),R)]:Q}}=C.value;let le=(O=y.value)!==null&&O!==void 0?O:j;return z==="top"&&(le=le==="right"?"flex-end":"flex-start"),{"--n-bezier":V,"--n-line-height":$,"--n-blank-height":ge,"--n-label-font-size":Q,"--n-label-text-align":le,"--n-label-height":fe,"--n-label-padding":K,"--n-asterisk-color":H,"--n-label-text-color":W,"--n-feedback-padding":J,"--n-feedback-font-size":ye,"--n-feedback-height":be,"--n-feedback-text-color":Y,"--n-feedback-text-color-warning":ae,"--n-feedback-text-color-error":X}}),B=useThemeClass("form-item",computed2(()=>{var O;return`${v.value[0]}${g.value[0]}${((O=y.value)===null||O===void 0?void 0:O[0])||""}`}),I,r);return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:F,mergedClsPrefix:n,mergedRequired:f,hasFeedback:x,feedbackId:_,explains:b},l),s),L),{cssVars:a?void 0:I,themeClass:B==null?void 0:B.themeClass,onRender:B==null?void 0:B.onRender})},render(){var r;const{$slots:n,mergedClsPrefix:a,mergedShowLabel:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:l,onRender:u}=this,f=s!==void 0?s:this.mergedRequired;return u==null||u(),h("div",{class:[`${a}-form-item`,this.themeClass,`${a}-form-item--${this.mergedSize}-size`,`${a}-form-item--${this.mergedLabelPlacement}-labelled`,!o&&`${a}-form-item--no-label`],style:this.cssVars},o&&(this.label||n.label)?h("label",Object.assign({},this.labelProps,{class:[(r=this.labelProps)===null||r===void 0?void 0:r.class,`${a}-form-item-label`],style:this.mergedLabelStyle,ref:"labelElementRef"}),l!=="left"?n.label?n.label():this.label:null,f?h("span",{class:`${a}-form-item-label__asterisk`},l!=="left"?"\xA0*":"*\xA0"):l==="right-hanging"&&h("span",{class:`${a}-form-item-label__asterisk-placeholder`},"\xA0*"),l==="left"?n.label?n.label():this.label:null):null,h("div",{class:[`${a}-form-item-blank`,this.mergedValidationStatus&&`${a}-form-item-blank--${this.mergedValidationStatus}`]},n),this.mergedShowFeedback?h("div",{key:this.feedbackId,class:`${a}-form-item-feedback-wrapper`},h(Transition,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const d=h(Feedbacks_default,{clsPrefix:a,explains:this.explains,feedback:this.feedback},{default:n.feedback}),{hasFeedback:v,mergedValidationStatus:g}=this;return v||n.feedback?g==="warning"?h("div",{key:"controlled-warning",class:`${a}-form-item-feedback ${a}-form-item-feedback--warning`},d):g==="error"?h("div",{key:"controlled-error",class:`${a}-form-item-feedback ${a}-form-item-feedback--error`},d):g==="success"?h("div",{key:"controlled-success",class:`${a}-form-item-feedback ${a}-form-item-feedback--success`},d):h("div",{key:"controlled-default",class:`${a}-form-item-feedback`},d):null}})):null)}}),gradientTextDark={name:"GradientText",common:dark_default,self(r){const{primaryColor:n,successColor:a,warningColor:o,errorColor:s,infoColor:l,primaryColorSuppl:u,successColorSuppl:f,warningColorSuppl:d,errorColorSuppl:v,infoColorSuppl:g,fontWeightStrong:y}=r;return{fontWeight:y,rotate:"252deg",colorStartPrimary:n,colorEndPrimary:u,colorStartInfo:l,colorEndInfo:g,colorStartWarning:o,colorEndWarning:d,colorStartError:s,colorEndError:v,colorStartSuccess:a,colorEndSuccess:f}}},dark_default47=gradientTextDark,self38=r=>{const{primaryColor:n,baseColor:a}=r;return{color:n,iconColor:a}},iconDark2={name:"IconWrapper",common:dark_default,self:self38},dark_default48=iconDark2,buttonGroupDark={name:"ButtonGroup",common:dark_default},dark_default49=buttonGroupDark,inputNumberDark={name:"InputNumber",common:dark_default,peers:{Button:dark_default17,Input:dark_default10},self(r){const{textColorDisabled:n}=r;return{iconColorDisabled:n}}},dark_default50=inputNumberDark,layoutDark={name:"Layout",common:dark_default,peers:{Scrollbar:dark_default3},self(r){const{textColor2:n,bodyColor:a,popoverColor:o,cardColor:s,dividerColor:l,scrollbarColor:u,scrollbarColorHover:f}=r;return{textColor:n,textColorInverted:n,color:a,colorEmbedded:a,headerColor:s,headerColorInverted:s,footerColor:s,footerColorInverted:s,headerBorderColor:l,headerBorderColorInverted:l,footerBorderColor:l,footerBorderColorInverted:l,siderBorderColor:l,siderBorderColorInverted:l,siderColor:s,siderColorInverted:s,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:o,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:composite(a,u),siderToggleBarColorHover:composite(a,f),__invertScrollbar:"false"}}},dark_default51=layoutDark,self39=r=>{const{textColor2:n,cardColor:a,modalColor:o,popoverColor:s,dividerColor:l,borderRadius:u,fontSize:f}=r;return{textColor:n,color:a,colorModal:o,colorPopover:s,borderColor:l,borderColorModal:composite(o,l),borderColorPopover:composite(s,l),borderRadius:u,fontSize:f}},listDark={name:"List",common:dark_default,self:self39},dark_default52=listDark,loadingBarDark={name:"LoadingBar",common:dark_default,self(r){const{primaryColor:n}=r;return{colorError:"red",colorLoading:n,height:"2px"}}},dark_default53=loadingBarDark,logDark={name:"Log",common:dark_default,peers:{Scrollbar:dark_default3,Code:dark_default24},self(r){const{textColor2:n,inputColor:a,fontSize:o,primaryColor:s}=r;return{loaderFontSize:o,loaderTextColor:n,loaderColor:a,loaderBorder:"1px solid #0000",loadingColor:s}}},dark_default54=logDark,listDark2={name:"Mention",common:dark_default,peers:{InternalSelectMenu:dark_default4,Input:dark_default10},self(r){const{boxShadow2:n}=r;return{menuBoxShadow:n}}},dark_default55=listDark2;function createPartialInvertedVars(r,n,a,o){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:n,itemColorActiveHoverInverted:n,itemColorActiveCollapsedInverted:n,itemTextColorInverted:r,itemTextColorHoverInverted:a,itemTextColorChildActiveInverted:a,itemTextColorActiveInverted:a,itemTextColorActiveHoverInverted:a,itemTextColorHorizontalInverted:r,itemTextColorHoverHorizontalInverted:a,itemTextColorChildActiveHorizontalInverted:a,itemTextColorActiveHorizontalInverted:a,itemTextColorActiveHoverHorizontalInverted:a,itemIconColorInverted:r,itemIconColorHoverInverted:a,itemIconColorActiveInverted:a,itemIconColorActiveHoverInverted:a,itemIconColorChildActiveInverted:a,itemIconColorCollapsedInverted:r,itemIconColorHorizontalInverted:r,itemIconColorHoverHorizontalInverted:a,itemIconColorActiveHorizontalInverted:a,itemIconColorActiveHoverHorizontalInverted:a,itemIconColorChildActiveHorizontalInverted:a,arrowColorInverted:r,arrowColorHoverInverted:a,arrowColorActiveInverted:a,arrowColorActiveHoverInverted:a,arrowColorChildActiveInverted:a,groupTextColorInverted:o}}var self40=r=>{const{borderRadius:n,textColor3:a,primaryColor:o,textColor2:s,textColor1:l,fontSize:u,dividerColor:f,hoverColor:d,primaryColorHover:v}=r;return Object.assign({borderRadius:n,color:"#0000",groupTextColor:a,itemColorHover:d,itemColorActive:changeColor(o,{alpha:.1}),itemColorActiveHover:changeColor(o,{alpha:.1}),itemColorActiveCollapsed:changeColor(o,{alpha:.1}),itemTextColor:s,itemTextColorHover:s,itemTextColorActive:o,itemTextColorActiveHover:o,itemTextColorChildActive:o,itemTextColorHorizontal:s,itemTextColorHoverHorizontal:v,itemTextColorActiveHorizontal:o,itemTextColorActiveHoverHorizontal:o,itemTextColorChildActiveHorizontal:o,itemIconColor:l,itemIconColorHover:l,itemIconColorActive:o,itemIconColorActiveHover:o,itemIconColorChildActive:o,itemIconColorCollapsed:l,itemIconColorHorizontal:l,itemIconColorHoverHorizontal:v,itemIconColorActiveHorizontal:o,itemIconColorActiveHoverHorizontal:o,itemIconColorChildActiveHorizontal:o,itemHeight:"42px",arrowColor:s,arrowColorHover:s,arrowColorActive:o,arrowColorActiveHover:o,arrowColorChildActive:o,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:u,dividerColor:f},createPartialInvertedVars("#BBB",o,"#FFF","#AAA"))},menuLight=createTheme({name:"Menu",common:light_default,peers:{Tooltip:light_default14,Dropdown:light_default17},self:self40}),menuDark={name:"Menu",common:dark_default,peers:{Tooltip:dark_default29,Dropdown:dark_default33},self(r){const{primaryColor:n,primaryColorSuppl:a}=r,o=self40(r);return o.itemColorActive=changeColor(n,{alpha:.15}),o.itemColorActiveHover=changeColor(n,{alpha:.15}),o.itemColorActiveCollapsed=changeColor(n,{alpha:.15}),o.itemColorActiveInverted=a,o.itemColorActiveHoverInverted=a,o.itemColorActiveCollapsedInverted=a,o}},dark_default56=menuDark,common_default28={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 12px",closeSize:"16px",iconSize:"20px",fontSize:"14px"},self41=r=>{const{textColor2:n,closeColor:a,closeColorHover:o,closeColorPressed:s,infoColor:l,successColor:u,errorColor:f,warningColor:d,popoverColor:v,boxShadow2:g,primaryColor:y,lineHeight:b,borderRadius:_}=r;return Object.assign(Object.assign({},common_default28),{textColor:n,textColorInfo:n,textColorSuccess:n,textColorError:n,textColorWarning:n,textColorLoading:n,color:v,colorInfo:v,colorSuccess:v,colorError:v,colorWarning:v,colorLoading:v,boxShadow:g,boxShadowInfo:g,boxShadowSuccess:g,boxShadowError:g,boxShadowWarning:g,boxShadowLoading:g,iconColor:n,iconColorInfo:l,iconColorSuccess:u,iconColorWarning:d,iconColorError:f,iconColorLoading:y,closeColor:a,closeColorHover:o,closeColorPressed:s,closeColorInfo:a,closeColorHoverInfo:o,closeColorPressedInfo:s,closeColorSuccess:a,closeColorHoverSuccess:o,closeColorPressedSuccess:s,closeColorError:a,closeColorHoverError:o,closeColorPressedError:s,closeColorWarning:a,closeColorHoverWarning:o,closeColorPressedWarning:s,closeColorLoading:a,closeColorHoverLoading:o,closeColorPressedLoading:s,loadingColor:y,lineHeight:b,borderRadius:_})},messageDark={name:"Message",common:dark_default,self:self41},dark_default57=messageDark,common_default29={closeMargin:"18px 14px",closeSize:"16px",width:"365px",padding:"16px"},self42=r=>{const{textColor2:n,successColor:a,infoColor:o,warningColor:s,errorColor:l,popoverColor:u,closeColor:f,closeColorHover:d,textColor1:v,textColor3:g,borderRadius:y,fontWeightStrong:b,boxShadow2:_,lineHeight:x,fontSize:w}=r;return Object.assign(Object.assign({},common_default29),{borderRadius:y,lineHeight:x,fontSize:w,headerFontWeight:b,iconColor:n,iconColorSuccess:a,iconColorInfo:o,iconColorWarning:s,iconColorError:l,color:u,textColor:n,closeColor:f,closeColorHover:d,closeColorPressed:f,headerTextColor:v,descriptionTextColor:g,actionTextColor:n,boxShadow:_})},notificationLight=createTheme({name:"Notification",common:light_default,peers:{Scrollbar:light_default3},self:self42}),notificationDark={name:"Notification",common:dark_default,peers:{Scrollbar:dark_default3},self:self42},dark_default58=notificationDark,common_default30={titleFontSize:"18px",backSize:"22px"};function self43(r){const{textColor1:n,textColor2:a,textColor3:o,fontSize:s,fontWeightStrong:l,primaryColorHover:u,primaryColorPressed:f}=r;return Object.assign(Object.assign({},common_default30),{titleFontWeight:l,fontSize:s,titleTextColor:n,backColor:a,backColorHover:u,backColorPressed:f,subtitleTextColor:o})}var pageHeaderLight=createTheme({name:"PageHeader",common:light_default,self:self43}),pageHeaderDark={name:"PageHeader",common:dark_default,self:self43},common_default31={iconSize:"22px"},self44=r=>{const{fontSize:n,warningColor:a}=r;return Object.assign(Object.assign({},common_default31),{fontSize:n,iconColor:a})},popconfirmLight=createTheme({name:"Popconfirm",common:light_default,peers:{Button:light_default9,Popover:light_default5},self:self44}),popconfirmDark={name:"Popconfirm",common:dark_default,peers:{Button:dark_default17,Popover:dark_default5},self:self44},dark_default59=popconfirmDark,popselect={name:"Popselect",common:dark_default,peers:{Popover:dark_default5,InternalSelectMenu:dark_default4}},dark_default60=popselect,self45=r=>{const{infoColor:n,successColor:a,warningColor:o,errorColor:s,textColor2:l,progressRailColor:u,fontSize:f,fontWeight:d}=r;return{fontSize:f,fontSizeCircle:"28px",fontWeightCircle:d,railColor:u,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:n,iconColorInfo:n,iconColorSuccess:a,iconColorWarning:o,iconColorError:s,textColorCircle:l,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:l,fillColor:n,fillColorInfo:n,fillColorSuccess:a,fillColorWarning:o,fillColorError:s,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},progressLight={name:"Progress",common:light_default,self:self45},light_default23=progressLight,progressDark={name:"Progress",common:dark_default,self(r){const n=self45(r);return n.textColorLineInner="rgb(0, 0, 0)",n.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",n}},dark_default61=progressDark,rateDark={name:"Rate",common:dark_default,self(r){const{railColor:n}=r;return{itemColor:n,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},dark_default62=rateDark,common_default32={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},self46=r=>{const{textColor2:n,textColor1:a,errorColor:o,successColor:s,infoColor:l,warningColor:u,lineHeight:f,fontWeightStrong:d}=r;return Object.assign(Object.assign({},common_default32),{lineHeight:f,titleFontWeight:d,titleTextColor:a,textColor:n,iconColorError:o,iconColorSuccess:s,iconColorInfo:l,iconColorWarning:u})},resultDark={name:"Result",common:dark_default,self:self46},dark_default63=resultDark,common_default33={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},sliderDark={name:"Slider",common:dark_default,self(r){const n="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:a,modalColor:o,primaryColorSuppl:s,popoverColor:l,textColor2:u,cardColor:f,borderRadius:d,fontSize:v,opacityDisabled:g}=r;return Object.assign(Object.assign({},common_default33),{fontSize:v,railColor:a,railColorHover:a,fillColor:s,fillColorHover:s,opacityDisabled:g,handleColor:"#FFF",dotColor:f,dotColorModal:o,dotColorPopover:l,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:l,indicatorBoxShadow:n,indicatorTextColor:u,indicatorBorderRadius:d,dotBorder:`2px solid ${a}`,dotBorderActive:`2px solid ${s}`,dotBoxShadow:""})}},dark_default64=sliderDark,self47=r=>{const{opacityDisabled:n,heightTiny:a,heightSmall:o,heightMedium:s,heightLarge:l,heightHuge:u,primaryColor:f,fontSize:d}=r;return{fontSize:d,textColor:f,sizeTiny:a,sizeSmall:o,sizeMedium:s,sizeLarge:l,sizeHuge:u,color:f,opacitySpinning:n}},spinDark={name:"Spin",common:dark_default,self:self47},dark_default65=spinDark,self48=r=>{const{textColor2:n,textColor3:a,fontSize:o,fontWeight:s}=r;return{labelFontSize:o,labelFontWeight:s,valueFontWeight:s,labelTextColor:a,valuePrefixTextColor:n,valueSuffixTextColor:n,valueTextColor:n}},statisticDark={name:"Statistic",common:dark_default,self:self48},dark_default66=statisticDark,common_default34={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},self49=r=>{const{fontWeightStrong:n,baseColor:a,textColorDisabled:o,primaryColor:s,errorColor:l,textColor1:u,textColor2:f}=r;return Object.assign(Object.assign({},common_default34),{stepHeaderFontWeight:n,indicatorTextColorProcess:a,indicatorTextColorWait:o,indicatorTextColorFinish:s,indicatorTextColorError:l,indicatorBorderColorProcess:s,indicatorBorderColorWait:o,indicatorBorderColorFinish:s,indicatorBorderColorError:l,indicatorColorProcess:s,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:o,splitorColorWait:o,splitorColorFinish:s,splitorColorError:o,headerTextColorProcess:u,headerTextColorWait:o,headerTextColorFinish:o,headerTextColorError:l,descriptionTextColorProcess:f,descriptionTextColorWait:o,descriptionTextColorFinish:o,descriptionTextColorError:l})},stepsDark={name:"Steps",common:dark_default,self:self49},dark_default67=stepsDark,common_default35={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},switchDark={name:"Switch",common:dark_default,self(r){const{primaryColorSuppl:n,opacityDisabled:a,borderRadius:o,primaryColor:s,textColor2:l,baseColor:u}=r,f="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},common_default35),{iconColor:u,textColor:l,loadingColor:n,opacityDisabled:a,railColor:f,railColorActive:n,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:o,railBorderRadiusMedium:o,railBorderRadiusLarge:o,buttonBorderRadiusSmall:o,buttonBorderRadiusMedium:o,buttonBorderRadiusLarge:o,boxShadowFocus:`0 0 8px 0 ${changeColor(s,{alpha:.3})}`})}},dark_default68=switchDark,common_default36={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},self50=r=>{const{dividerColor:n,cardColor:a,modalColor:o,popoverColor:s,tableHeaderColor:l,tableColorStriped:u,textColor1:f,textColor2:d,borderRadius:v,fontWeightStrong:g,lineHeight:y,fontSizeSmall:b,fontSizeMedium:_,fontSizeLarge:x}=r;return Object.assign(Object.assign({},common_default36),{fontSizeSmall:b,fontSizeMedium:_,fontSizeLarge:x,lineHeight:y,borderRadius:v,borderColor:composite(a,n),borderColorModal:composite(o,n),borderColorPopover:composite(s,n),tdColor:a,tdColorModal:o,tdColorPopover:s,tdColorStriped:composite(a,u),tdColorStripedModal:composite(o,u),tdColorStripedPopover:composite(s,u),thColor:composite(a,l),thColorModal:composite(o,l),thColorPopover:composite(s,l),thTextColor:f,tdTextColor:d,thFontWeight:g})},tableDark={name:"Table",common:dark_default,self:self50},dark_default69=tableDark,common_default37={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabPaddingSmallCard:"6px 10px",tabPaddingMediumCard:"8px 12px",tabPaddingLargeCard:"8px 16px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0"},self51=r=>{const{textColor2:n,primaryColor:a,textColorDisabled:o,closeColor:s,closeColorHover:l,closeColorPressed:u,tabColor:f,baseColor:d,dividerColor:v,fontWeight:g,textColor1:y,borderRadius:b,fontSize:_,fontWeightStrong:x}=r;return Object.assign(Object.assign({},common_default37),{colorSegment:f,tabFontSizeCard:_,tabTextColorLine:y,tabTextColorActiveLine:a,tabTextColorHoverLine:a,tabTextColorDisabledLine:o,tabTextColorSegment:y,tabTextColorActiveSegment:n,tabTextColorHoverSegment:n,tabTextColorDisabledSegment:o,tabTextColorBar:y,tabTextColorActiveBar:a,tabTextColorHoverBar:a,tabTextColorDisabledBar:o,tabTextColorCard:y,tabTextColorHoverCard:y,tabTextColorActiveCard:a,tabTextColorDisabledCard:o,barColor:a,closeColor:s,closeColorHover:l,closeColorPressed:u,tabColor:f,tabColorSegment:d,tabBorderColor:v,tabFontWeightActive:g,tabFontWeight:g,tabBorderRadius:b,paneTextColor:n,fontWeightStrong:x})},tabsDark={name:"Tabs",common:dark_default,self(r){const n=self51(r),{inputColor:a}=r;return n.colorSegment=a,n.tabColorSegment=a,n}},dark_default70=tabsDark,self52=r=>{const{textColor1:n,textColor2:a,fontWeightStrong:o,fontSize:s}=r;return{fontSize:s,titleTextColor:n,textColor:a,titleFontWeight:o}},thingDark={name:"Thing",common:dark_default,self:self52},dark_default71=thingDark,common_default38={titleMarginMedium:"0",titleMarginLarge:"-2px 0 0 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},timelineDark={name:"Timeline",common:dark_default,self(r){const{textColor3:n,infoColorSuppl:a,errorColorSuppl:o,successColorSuppl:s,warningColorSuppl:l,textColor1:u,textColor2:f,railColor:d,fontWeightStrong:v,fontSize:g}=r;return Object.assign(Object.assign({},common_default38),{contentFontSize:g,titleFontWeight:v,circleBorder:`2px solid ${n}`,circleBorderInfo:`2px solid ${a}`,circleBorderError:`2px solid ${o}`,circleBorderSuccess:`2px solid ${s}`,circleBorderWarning:`2px solid ${l}`,iconColor:n,iconColorInfo:a,iconColorError:o,iconColorSuccess:s,iconColorWarning:l,titleTextColor:u,contentTextColor:f,metaTextColor:n,lineColor:d})}},dark_default72=timelineDark,common_default39={extraFontSize:"12px",width:"440px"},transferDark={name:"Transfer",common:dark_default,peers:{Checkbox:dark_default22,Scrollbar:dark_default3,Input:dark_default10,Empty:dark_default2,Button:dark_default17},self(r){const{iconColorDisabled:n,iconColor:a,fontWeight:o,fontSizeLarge:s,fontSizeMedium:l,fontSizeSmall:u,heightLarge:f,heightMedium:d,heightSmall:v,borderRadius:g,inputColor:y,tableHeaderColor:b,textColor1:_,textColorDisabled:x,textColor2:w,hoverColor:C}=r;return Object.assign(Object.assign({},common_default39),{itemHeightSmall:v,itemHeightMedium:d,itemHeightLarge:f,fontSizeSmall:u,fontSizeMedium:l,fontSizeLarge:s,borderRadius:g,borderColor:"#0000",listColor:y,headerColor:b,titleTextColor:_,titleTextColorDisabled:x,extraTextColor:w,filterDividerColor:"#0000",itemTextColor:w,itemTextColorDisabled:x,itemColorPending:C,titleFontWeight:o,iconColor:a,iconColorDisabled:n})}},dark_default73=transferDark,self53=r=>{const{borderRadiusSmall:n,hoverColor:a,pressedColor:o,primaryColor:s,textColor3:l,textColor2:u,textColorDisabled:f,fontSize:d}=r;return{fontSize:d,nodeBorderRadius:n,nodeColorHover:a,nodeColorPressed:o,nodeColorActive:changeColor(s,{alpha:.1}),arrowColor:l,nodeTextColor:u,nodeTextColorDisabled:f,loadingColor:s,dropMarkColor:s}},treeLight=createTheme({name:"Tree",common:light_default,peers:{Checkbox:light_default11,Scrollbar:light_default3,Empty:light_default2},self:self53}),treeDark={name:"Tree",common:dark_default,peers:{Checkbox:dark_default22,Scrollbar:dark_default3,Empty:dark_default2},self(r){const{primaryColor:n}=r,a=self53(r);return a.nodeColorActive=changeColor(n,{alpha:.15}),a}},dark_default74=treeDark,treeSelectDark={name:"TreeSelect",common:dark_default,peers:{Tree:dark_default74,Empty:dark_default2,InternalSelection:dark_default7}},dark_default75=treeSelectDark,common_default40={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},self54=r=>{const{primaryColor:n,textColor2:a,borderColor:o,lineHeight:s,fontSize:l,borderRadiusSmall:u,dividerColor:f,fontWeightStrong:d,textColor1:v,textColor3:g,infoColor:y,warningColor:b,errorColor:_,successColor:x,codeColor:w}=r;return Object.assign(Object.assign({},common_default40),{aTextColor:n,blockquoteTextColor:a,blockquotePrefixColor:o,blockquoteLineHeight:s,blockquoteFontSize:l,codeBorderRadius:u,liTextColor:a,liLineHeight:s,liFontSize:l,hrColor:f,headerFontWeight:d,headerTextColor:v,pTextColor:a,pTextColor1Depth:v,pTextColor2Depth:a,pTextColor3Depth:g,pLineHeight:s,pFontSize:l,headerBarColor:n,headerBarColorPrimary:n,headerBarColorInfo:y,headerBarColorError:_,headerBarColorWarning:b,headerBarColorSuccess:x,textColor:a,textColor1Depth:v,textColor2Depth:a,textColor3Depth:g,textColorPrimary:n,textColorInfo:y,textColorSuccess:x,textColorWarning:b,textColorError:_,codeTextColor:a,codeColor:w,codeBorder:"1px solid #0000"})},typographyDark={name:"Typography",common:dark_default,self:self54},dark_default76=typographyDark,self55=r=>{const{iconColor:n,primaryColor:a,errorColor:o,textColor2:s,successColor:l,opacityDisabled:u,actionColor:f,borderColor:d,hoverColor:v,lineHeight:g,borderRadius:y,fontSize:b}=r;return{fontSize:b,lineHeight:g,borderRadius:y,draggerColor:f,draggerBorder:`1px dashed ${d}`,draggerBorderHover:`1px dashed ${a}`,itemColorHover:v,itemColorHoverError:changeColor(o,{alpha:.06}),itemTextColor:s,itemTextColorError:o,itemTextColorSuccess:l,itemIconColor:n,itemDisabledOpacity:u,itemBorderImageCardError:`1px solid ${o}`,itemBorderImageCard:`1px solid ${d}`}},uploadLight=createTheme({name:"Upload",common:light_default,peers:{Button:light_default9,Progress:light_default23},self:self55}),uploadDark={name:"Upload",common:dark_default,peers:{Button:dark_default17,Progress:dark_default61},self(r){const{errorColor:n}=r,a=self55(r);return a.itemColorHoverError=changeColor(n,{alpha:.09}),a}},dark_default77=uploadDark,watermarkDark={name:"Watermark",common:dark_default,self(r){const{fontFamily:n}=r;return{fontFamily:n}}},dark_default78=watermarkDark,imageDark={name:"Image",common:dark_default,peers:{Tooltip:dark_default29},self:r=>{const{textColor2:n}=r;return{toolbarIconColor:n,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},skeletonDark={name:"Skeleton",common:dark_default,self(r){const{heightSmall:n,heightMedium:a,heightLarge:o,borderRadius:s}=r;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:s,heightSmall:n,heightMedium:a,heightLarge:o}}},darkTheme={name:"dark",common:dark_default,Alert:dark_default8,Anchor:dark_default9,AutoComplete:dark_default11,Avatar:dark_default12,AvatarGroup:dark_default13,BackTop:dark_default14,Badge:dark_default15,Breadcrumb:dark_default16,Button:dark_default17,ButtonGroup:dark_default49,Calendar:dark_default18,Card:dark_default20,Carousel:dark_default21,Cascader:dark_default23,Checkbox:dark_default22,Code:dark_default24,Collapse:dark_default25,CollapseTransition:dark_default26,ColorPicker:dark_default19,DataTable:dark_default32,DatePicker:dark_default36,Descriptions:dark_default37,Dialog:dark_default38,Divider:dark_default40,Drawer:dark_default41,Dropdown:dark_default33,DynamicInput:dark_default42,DynamicTags:dark_default44,Element:dark_default45,Empty:dark_default2,Ellipsis:dark_default30,Form:dark_default46,GradientText:dark_default47,Icon:dark_default34,IconWrapper:dark_default48,Image:imageDark,Input:dark_default10,InputNumber:dark_default50,Layout:dark_default51,List:dark_default52,LoadingBar:dark_default53,Log:dark_default54,Menu:dark_default56,Mention:dark_default55,Message:dark_default57,Modal:dark_default39,Notification:dark_default58,PageHeader:pageHeaderDark,Pagination:dark_default28,Popconfirm:dark_default59,Popover:dark_default5,Popselect:dark_default60,Progress:dark_default61,Radio:dark_default31,Rate:dark_default62,Result:dark_default63,Scrollbar:dark_default3,Select:dark_default27,Skeleton:skeletonDark,Slider:dark_default64,Space:dark_default43,Spin:dark_default65,Statistic:dark_default66,Steps:dark_default67,Switch:dark_default68,Table:dark_default69,Tabs:dark_default70,Tag:dark_default6,Thing:dark_default71,TimePicker:dark_default35,Timeline:dark_default72,Tooltip:dark_default29,Transfer:dark_default73,Tree:dark_default74,TreeSelect:dark_default75,Typography:dark_default76,Upload:dark_default77,Watermark:dark_default78},YDCollins_default=defineComponent({props:{mydata:{type:Object,default:()=>[]}},setup(r,{expose:n}){n();const a=r;let o=ref("word"),s=computed2(()=>a.mydata.length===0?"":a.mydata.length===2&&o.value==="phase"?a.mydata[1].content:a.mydata[0].content);const l={props:a,mode:o,showedHTML:s};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),_hoisted_1={class:"wrapper"},_hoisted_2=createBaseVNode("option",{value:"word"},"\u5355\u8BCD",-1),_hoisted_3=createBaseVNode("option",{value:"phase"},"\u77ED\u8BED",-1),_hoisted_4=[_hoisted_2,_hoisted_3],_hoisted_5=["innerHTML"];function render3(r,n,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_1,[o.props.mydata.length>1?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":n[0]||(n[0]=u=>o.mode=u)},_hoisted_4,512)),[[vModelSelect,o.mode]]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:"content",innerHTML:o.showedHTML},null,8,_hoisted_5)])}YDCollins_default.render=render3,YDCollins_default.__file="src\\dictionary\\youdao\\YDCollins.vue";var YDCollins_default2=YDCollins_default,import_obsidian2=__toModule(require("obsidian")),import_obsidian=__toModule(require("obsidian"));function fetchDirtyDOM(r){return __async(this,null,function*(){const n={url:r,method:"GET"};let a=yield(0,import_obsidian.request)(n);return(0,import_obsidian.sanitizeHTMLToDom)(a)})}function isTagName(r,n){return(r.tagName||"").toLowerCase()===n.toLowerCase()}var isInternalPage=()=>!1;function getText(r,n){if(!r)return"";const a=n?r.querySelector(n):r;return a&&a.textContent||""}function getFullLink(r,n,a){r.endsWith("/")&&(r=r.slice(0,-1));const o=r.startsWith("https")?"https:":"http:",s=n.getAttribute(a);return s?/^[a-zA-Z0-9]+:/.test(s)?s:s.startsWith("//")?o+s:/^.?\/+/.test(s)?r+"/"+s.replace(/^.?\/+/,""):r+"/"+s:""}function getHTML(r,{mode:n="innerHTML",selector:a,transform:o,host:s}={}){const l=a?r.querySelector(a):r;if(!l)return"";if(s){const d=v=>{v.getAttribute("href")&&v.setAttribute("href",getFullLink(s,v,"href")),v.getAttribute("src")&&v.setAttribute("src",getFullLink(s,v,"src")),isInternalPage()&&v.getAttribute("srcset")&&v.setAttribute("srcset",v.getAttribute("srcset").replace(/(,| |^)\/\//g,(g,y)=>y+"https://"))};(isTagName(l,"a")||isTagName(l,"img"))&&d(l),l.querySelectorAll("a").forEach(d),l.querySelectorAll("img").forEach(d)}const u=(0,import_obsidian.sanitizeHTMLToDom)(l.outerHTML),f=u.firstChild?u.firstChild[n]:"";return o?o(f):f}function getInnerHTML(r,n,a={}){return getHTML(n,typeof a=="string"?{selector:a,host:r,mode:"innerHTML"}:__spreadProps(__spreadValues({},a),{host:r,mode:"innerHTML"}))}function handleNoResult(){return Promise.reject(new Error("NO_RESULT"))}function handleNetWorkError(){return Promise.reject(new Error("NETWORK_ERROR"))}function removeChild(r,n){const a=r.querySelector(n);a&&a.remove()}var HOST="http://www.youdao.com",search=r=>__async(void 0,null,function*(){const n={basic:!0,collins:!0,discrimination:!0,sentence:!0,translation:!0,wordGroup:!0,relWord:!0};return fetchDirtyDOM("https://dict.youdao.com/w/"+encodeURIComponent(r.replace(/\s+/g," "))).catch(handleNetWorkError).then(a=>checkResult(a,n)).catch(()=>{new import_obsidian2.Notice("Dictionary No Result.\u{1F61F}")})});function checkResult(r,n,a){const o=r.querySelector(".error-typo");if(o){if(n.related)return{result:{type:"related",list:getInnerHTML(HOST,o,{transform:a})}}}else return handleDOM(r,n,a);return handleNoResult()}function handleDOM(r,n,a){const o={type:"lex",title:getText(r,".keyword"),stars:0,rank:getText(r,".rank"),pattern:getText(r,".pattern"),prons:[],collins:[]},s={},l=r.querySelector(".star");return l&&(o.stars=Number((l.className.match(/\d+/)||[0])[0])),r.querySelectorAll(".baav .pronounce").forEach(u=>{const f=u.textContent||"",d=u.querySelector(".dictvoice");if(d&&d.dataset.rel){const v="https://dict.youdao.com/dictvoice?audio="+d.dataset.rel;o.prons.push({phsym:f,url:v}),f.includes("\u82F1")?s.uk=v:f.includes("\u7F8E")&&(s.us=v)}}),n.basic&&(o.basic=getInnerHTML(HOST,r,{selector:"#phrsListTab .trans-container",transform:a})),n.collins&&r.querySelectorAll("#collinsResult .wt-container").forEach(u=>{const f={title:"",content:""},d=u.querySelector(":scope > .title.trans-tip");d&&(removeChild(d,".do-detail"),f.title=getText(d),d.remove());const v=u.querySelector(".star");if(v){const g=/star(\d+)/.exec(String(v.className));if(g){const y=+g[1];let b="";for(let _=0;_<5;_++)b+=`<svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 426.67 426.67"
              width="1em"
              height="1em"
              style="${_===4?"":"margin-right: 1px"}"
            >
              <path
                fill=${_<y?"#FAC917":"#d1d8de"}
                d="M213.33 10.44l65.92 133.58 147.42 21.42L320 269.4l25.17 146.83-131.84-69.32-131.85 69.34 25.2-146.82L0 165.45l147.4-21.42"
              />
            </svg>`;v.innerHTML=b}}f.content=getInnerHTML(HOST,u,{transform:a}),f.content&&o.collins.push(f)}),r.querySelectorAll("#discriminate .wt-container .title a").forEach(u=>{u.remove()}),n.discrimination&&(o.discrimination=getInnerHTML(HOST,r,{selector:"#discriminate",transform:a})),n.sentence&&(o.sentence=getInnerHTML(HOST,r,{selector:"#authority .ol",transform:a})),n.translation&&(o.translation=getInnerHTML(HOST,r,{selector:"#fanyiToggle .trans-container",transform:a})),n.wordGroup&&(o.wordGroup=getInnerHTML(HOST,r,{selector:"#wordGroup",transform:a})),n.relWord&&(o.relWord=getInnerHTML(HOST,r,{selector:"#relWordTab",transform:a})),o.title||o.translation?{result:o,audio:s}:handleNoResult()}var View_default=defineComponent({props:{word:{type:String,required:!0},theme:{type:null,required:!1}},setup(r,{expose:n}){n();const a=r;function o(w){new Audio(f.value[w].url).play()}let s=ref(""),l=ref(""),u=ref(""),f=ref([]),d=ref("\u67EF\u6797\u65AF"),v=ref([{}]),g=ref(""),y=ref(""),b=ref("");function _(w){return __async(this,null,function*(){let C=yield search(w);if(!C)return;let S=C.result;s.value=S.title,l.value=S.basic,u.value=S.translation,f.value=S.prons,v.value=S.collins,g.value=S.discrimination,y.value=S.wordGroup,b.value=S.relWord})}watch(()=>a.word,w=>{_(w)});const x={props:a,play:o,word:s,meaningHTML:l,translationHTML:u,prons:f,curPanel:d,collins:v,discriminationHTML:g,wordGroupHTML:y,relWordHTML:b,searchWord:_,Collins:YDCollins_default2};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),_hoisted_12={class:"container"},_hoisted_22={class:"pronunces"},_hoisted_32=["onClick"],_hoisted_42=["innerHTML"],_hoisted_52=["innerHTML"],_hoisted_6=["onClick"],_hoisted_7=["innerHTML"],_hoisted_8=["innerHTML"],_hoisted_9=["innerHTML"];function render4(r,n,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("h2",null,toDisplayString(o.word),1),createBaseVNode("div",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.prons.length,u=>(openBlock(),createElementBlock("span",{class:"pron",onClick:f=>o.play(u-1)},toDisplayString(o.prons[u-1].phsym),9,_hoisted_32))),256))]),createBaseVNode("div",{style:{"margin-bottom":"10px"},innerHTML:o.meaningHTML},null,8,_hoisted_42),createBaseVNode("div",{class:"translation",innerHTML:o.translationHTML},null,8,_hoisted_52),(openBlock(),createElementBlock(Fragment,null,renderList(["\u67EF\u6797\u65AF","\u8FA8\u6790","\u8BCD\u7EC4","\u540C\u6839\u8BCD"],u=>createBaseVNode("button",{onClick:f=>o.curPanel=u,style:normalizeStyle(o.curPanel===u?"background-color:#483699;color:white;":"")},toDisplayString(u),13,_hoisted_6)),64)),o.curPanel==="\u67EF\u6797\u65AF"?(openBlock(),createBlock(o.Collins,{key:0,class:"collins",mydata:o.collins},null,8,["mydata"])):o.curPanel==="\u8FA8\u6790"?(openBlock(),createElementBlock("div",{key:1,class:"discrimination",innerHTML:o.discriminationHTML},null,8,_hoisted_7)):o.curPanel==="\u8BCD\u7EC4"?(openBlock(),createElementBlock("div",{key:2,class:"word-group",innerHTML:o.wordGroupHTML},null,8,_hoisted_8)):o.curPanel==="\u540C\u6839\u8BCD"?(openBlock(),createElementBlock("div",{key:3,class:"rel-word",innerHTML:o.relWordHTML},null,8,_hoisted_9)):createCommentVNode("v-if",!0)])}View_default.render=render4,View_default.__file="src\\dictionary\\youdao\\View.vue";var View_default2=View_default,zh_default={"Open word search panel":"\u6253\u5F00\u67E5\u8BCD\u9762\u677F","Open new word panel":"\u6253\u5F00\u65B0\u8BCD\u9762\u677F","Open statistics":"\u6253\u5F00\u7EDF\u8BA1","Open as Reading View":"\u6253\u5F00\u4E3A\u9605\u8BFB\u6A21\u5F0F","Search word":"\u67E5\u627E\u5355\u8BCD/\u77ED\u8BED","Refresh Word Database":"\u5237\u65B0\u5355\u8BCD\u6570\u636E\u5E93","Refresh Review Database":"\u5237\u65B0\u590D\u4E60\u6570\u636E\u5E93","Get all ignores":"\u83B7\u53D6\u6240\u6709\u65E0\u89C6\u5355\u8BCD","Ignores are copied to the clipboard":"\u65E0\u89C6\u5355\u8BCD\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F","Search Panel":"\u67E5\u8BCD\u9762\u677F",Search:"\u641C\u7D22","Finish Reading":"\u5B8C\u6210\u9605\u8BFB","Return to Markdown":"\u8FD4\u56DEMarkdown\u6A21\u5F0F",paragraph:"\u6BB5",page:"\u9875",All:"\u5168\u90E8","Learning New Words":"\u5B66\u4E60\u65B0\u5355\u8BCD",Expression:"\u8868\u8FBE","A word or a phrase":"\u8F93\u5165\u4E00\u4E2A\u5355\u8BCD\u6216\u77ED\u8BED",Meaning:"\u542B\u4E49","A short definition":"\u7ED9\u4E00\u4E2A\u7B80\u77ED\u7684\u5B9A\u4E49","Please input a word/phrase":"\u8F93\u5165\u4E00\u4E2A\u5355\u8BCD\u6216\u77ED\u8BED","A short definition is needed":"\u7B80\u77ED\u5730\u63CF\u8FF0\u4E00\u4E0B\u5427",Type:"\u7C7B\u522B",Word:"\u5355\u8BCD",Phrase:"\u77ED\u8BED",Status:"\u5B66\u4E60\u72B6\u6001",Ignore:"\u65E0\u89C6",Learning:"\u65B0\u5B66",Familiar:"\u773C\u719F",Known:"\u638C\u63E1",Learned:"\u4F1A\u4E86",Tags:"\u6807\u7B7E","Input or select some tags":"\u8F93\u5165\u6216\u9009\u62E9\u82E5\u5E72\u6807\u7B7E",Notes:"\u7B14\u8BB0",Create:"\u6DFB\u52A0","Write a new note":"\u8BB0\u4E00\u6761\u7B14\u8BB0\u5427",Sentences:"\u4F8B\u53E5","Origin sentence":"\u6E90\u53E5","Translation (Optional)":"\u7FFB\u8BD1(\u53EF\u9009)","Origin (Optional)":"\u51FA\u5904(\u53EF\u9009)","Expression is empty!":"\u5355\u8BCD\u5FD8\u8F93\u5165\u4E86\u5427","It looks more like a PHRASE than a WORD":"\u8FD9\u770B\u8D77\u6765\u66F4\u50CF\u662F\u4E2A\u8BCD\u7EC4\u800C\u4E0D\u662F\u5355\u8BCD","Meaning is empty":"\u542B\u4E49\u4E0D\u5E94\u4E3A\u7A7A",Submit:"\u63D0\u4EA4","Day Ignore":"\u5355\u65E5-\u65E0\u89C6","Day Non-Ignore":"\u5355\u65E5-\u5B66\u4E60",Accumulated:"\u7D2F\u8BA1",Statistics:"\u7EDF\u8BA1","Use Server":"\u4F7F\u7528\u670D\u52A1\u5668","Use a seperated backend server":"\u4F7F\u7528\u5355\u72EC\u7684\u540E\u7AEF\u670D\u52A1\u5668","Server Port":"\u670D\u52A1\u5668\u7AEF\u53E3",'An integer between 1024-65535. It should be same as "PORT" variable in .env file of server':"\u4E00\u4E2A\u4ECB\u4E8E1024-65535\u4E4B\u95F4\u7684\u6574\u6570.\u8FD9\u5E94\u8BE5\u548C\u670D\u52A1\u5668.env\u6587\u4EF6\u4E2D\u7684PORT\u5B57\u6BB5\u4E00\u81F4","Wrong port format":"\u7AEF\u53E3\u683C\u5F0F\u4E0D\u5BF9","Word Database Path":"\u5355\u8BCD\u6570\u636E\u5E93\u8DEF\u5F84","Choose a md file as word database for auto-completion":"\u9009\u62E9\u4E00\u4E2Amd\u6587\u4EF6\u4F5C\u4E3A\u5355\u8BCD\u6570\u636E\u5E93\u4EE5\u81EA\u52A8\u8865\u5168","Review Database Path":"\u590D\u4E60\u6570\u636E\u5E93\u8DEF\u5F84","Choose a md file as review database for spaced-repetition":"\u9009\u62E9\u4E00\u4E2Amd\u6587\u4EF6\u4F5C\u4E3A\u590D\u4E60\u6570\u636E\u5E93\u4EE5\u95F4\u9694\u590D\u4E60","Last review sync":"\u4E0A\u6B21\u66F4\u65B0\u65F6\u95F4","Last time the review database was updated":"\u4E0A\u6B21\u66F4\u65B0\u590D\u4E60\u6570\u636E\u5E93\u7684\u65F6\u95F4","Destroy Database":"\u9500\u6BC1\u6570\u636E\u5E93","Destroy all stuff and start over":"\u9500\u6BC1\u4E00\u5207\u4ECE\u5934\u5F00\u59CB","Are you sure you want to destroy your database?":"\u5220\u4E86\u5E93\uFF0C\u53EF\u5C31\u56DE\u4E0D\u4E86\u5934\u5566",Destroy:"\u9500\u6BC1",Yes:"\u786E\u5B9A","No!!!":"\u4E0D\u8981!!!",Reset:"\u91CD\u7F6E","Are you sure you want to reset last sync time?":"\u786E\u5B9A\u8981\u91CD\u7F6E\u5237\u65B0\u65F6\u95F4\u5417?","Text Database":"\u6587\u672C\u6570\u636E\u5E93","Auto refresh":"\u81EA\u52A8\u5237\u65B0\u6570\u636E\u5E93","Auto refresh database when submitting":"\u5F53\u63D0\u4EA4\u5355\u8BCD\u65F6\u81EA\u52A8\u5237\u65B0\u6587\u672C\u6570\u636E\u5E93","IndexDB Database":"IndexDB \u6570\u636E\u5E93","Database Name":"\u6570\u636E\u5E93\u540D\u79F0","Reopen app after changing database name":"\u6539\u540D\u540E\u8BF7\u91CD\u542Fobsidian","Import & Export":"\u5BFC\u5165\u5BFC\u51FA\u6570\u636E","Warning: Import will override current database":"\u8B66\u544A: \u5BFC\u5165\u4F1A\u8986\u76D6\u6389\u5F53\u524D\u7684\u6570\u636E\u5E93",Import:"\u5BFC\u5165",Export:"\u5BFC\u51FA","Reading Mode":"\u9605\u8BFB\u6A21\u5F0F","Default Paragraphs":"\u6BCF\u9875\u9ED8\u8BA4\u6BB5\u6570","Use Machine Translation":"\u4F7F\u7528\u673A\u5668\u7FFB\u8BD1","Auto translate sentences":"\u7528\u673A\u5668\u7FFB\u8BD1\u81EA\u52A8\u7FFB\u8BD1\u4F8B\u53E5","Auto Completion":"\u81EA\u52A8\u8865\u5168","Column delimiter":"\u5217\u5206\u9694\u7B26",Comma:"\u82F1\u6587\u9017\u53F7 ,",Tab:"\u5236\u8868\u7B26 tab",Pipe:"\u7AD6\u7EBF |",Review:"\u590D\u4E60",Accent:"\u53E3\u97F3","Choose your preferred accent":"\u9009\u62E9\u4F60\u66F4\u559C\u6B22\u7684\u53E3\u97F3",American:"\u7F8E\u5F0F",British:"\u82F1\u5F0F"},en_default={"Open word search panel":"Open word search panel","Open new word panel":"Open new word panel","Open statistics":"Open statistics","Open as Reading View":"Open as Reading View","Search word":"Search word","Refresh Word Database":"Refresh Word Database","Refresh Review Database":"Refresh Review Database","Get all ignores":"Get all ignores","Ignores are copied to the clipboard":"Ignores are copied to the clipboard","Search Panel":"Search Panel",Search:"Search","Finish Reading":"Finish Reading","Return to Markdown":"Return Markdown View",paragraph:"paragraph",page:"page",All:"All","Learning New Words":"Learning New Words",Expression:"Expression","A word or a phrase":"A word or a phrase",Meaning:"Meaning","A short definition":"A short definition","Please input a word/phrase":"Please input a word/phrase","A short definition is needed":"A short definition is needed",Type:"Type",Word:"Word",Phrase:"Phrase",Status:"Status",Ignore:"Ignore",Learning:"Learning",Familiar:"Familiar",Known:"Known",Learned:"Learned",Tags:"Tags","Input or select some tags":"Input or select some tags",Notes:"Notes",Create:"Create","Write a new note":"Write a new note",Sentences:"Sentences","Origin sentence":"Origin sentence","Translation (Optional)":"Translation (Optional)","Origin (Optional)":"Origin (Optional)","It looks more like a PHRASE than a WORD":"It looks more like a PHRASE than a WORD","Meaning is empty!":"Meaning is empty",Submit:"Submit","Day Ignore":"Day Ignore","Day Non-Ignore":"Day Non-Ignore",Accumulated:"Accumulated","Expression is empty!":"Expression is empty",Statistics:"Statistics","Use Server":"Use Server","Use a seperated backend server":"Use a seperated backend server","Server Port":"Server Port",'An integer between 1024-65535. It should be same as "PORT" variable in .env file of server':'An integer between 1024-65535. It should be same as "PORT" variable in .env file of server',"Wrong port format":"Wrong port format","Word Database Path":"Word Database Path","Choose a md file as word database for auto-completion":"Choose a md file as word database for auto-completion","Review Database Path":"Review Database Path","Choose a md file as review database for spaced-repetition":"Choose a md file as review database for spaced-repetition","Last review sync":"Last review sync","Last time the review database was updated":"Last time the review database was updated","Destroy Database":"Destroy Database","Destroy all stuff and start over":"Destroy all stuff and start over","Are you sure you want to destroy your database?":"Are you sure you want to destroy your database",Destroy:"Destroy",Yes:"Yes","No!!!":"No!!!",Reset:"Reset","Are you sure you want to reset last sync time?":"Are you sure you want to reset last sync time","Text Database":"Text Database","Auto refresh":"Auto refresh","Auto refresh database when submitting":"Auto refresh database when submitting","IndexDB Database":"IndexDB Database","Database Name":"Database Name","Reopen app after changing database name":"Reopen app after changing database name","Import & Export":"Import & Export","Warning: Import will override current database":"Warning: Import will override current database",Import:"Import",Export:"Export","Reading Mode":"Reading Mode","Default Paragraphs":"Default paragraphs","Use Machine Translation":"Use Machine Translation","Auto translate sentences":"Auto translate sentences","Auto Completion":"Auto Completion","Column delimiter":"Column delimiter",Comma:"Comma",Tab:"Tab",Pipe:"Pipe",Review:"Review",Accent:"Accent","Choose your preferred accent":"Choose your preferred accent",American:"American",British:"British"},localeMap={en:en_default,zh:zh_default},lang=window.localStorage.getItem("language"),locale=localeMap[lang||"en"];function t(r){return locale&&locale[r]||en_default[r]}var SearchPanel_default=defineComponent({setup(r,{expose:n}){n();let a=document.body.hasClass("theme-dark")?darkTheme:null,o=[],s=ref(o.length-1),l=ref(-1);function u(x){l.value=Math.max(0,Math.min(l.value+(x==="prev"?-1:1),o.length-1)),v.value=o[l.value]}function f(){l.value<o.length-1&&(o=o.slice(0,l.value+1)),o.push(v.value),s.value=o.length-1,l.value++}let d=ref(""),v=ref("");const g=x=>__async(this,null,function*(){let w=x.detail.selection;v.value=w,f()});function y(){v.value=d.value,f()}function b(x){const w=x.target;w.tagName==="A"&&(x.preventDefault(),x.stopPropagation(),v.value=w.textContent,f())}onMounted(()=>{addEventListener("obsidian-langr-search",g)}),onUnmounted(()=>{removeEventListener("obsidian-langr-search",g)});const _={theme:a,history:o,lastHistory:s,historyIndex:l,switchHistory:u,appendHistory:f,inputWord:d,word:v,onSearch:g,handleSearch:y,handleClick:b,NConfigProvider:ConfigProvider_default,NButton:Button_default,NButtonGroup:ButtonGroup_default,NInput:Input_default,Youdao:View_default2,t};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),_hoisted_13={class:"search-bar",style:{display:"flex"}},_hoisted_23=createTextVNode(toDisplayString("<")),_hoisted_33=createTextVNode(toDisplayString(">"));function render5(r,n,a,o,s,l){return openBlock(),createElementBlock("div",{class:"container",onClick:o.handleClick},[createVNode(o.NConfigProvider,{theme:o.theme},{default:withCtx(()=>[createBaseVNode("div",_hoisted_13,[createVNode(o.NButtonGroup,{size:"small"},{default:withCtx(()=>[createVNode(o.NButton,{disabled:o.historyIndex<=0,onClick:n[0]||(n[0]=u=>o.switchHistory("prev"))},{default:withCtx(()=>[_hoisted_23]),_:1},8,["disabled"]),createVNode(o.NButton,{disabled:o.historyIndex>=o.lastHistory,onClick:n[1]||(n[1]=u=>o.switchHistory("next"))},{default:withCtx(()=>[_hoisted_33]),_:1},8,["disabled"])]),_:1}),createVNode(o.NInput,{size:"small",type:"text",placeholder:"\u8F93\u5165\u5355\u8BCD",value:o.inputWord,"onUpdate:value":n[2]||(n[2]=u=>o.inputWord=u),style:{flex:"1"},onKeydown:withKeys(o.handleSearch,["enter"])},null,8,["value","onKeydown"]),createVNode(o.NButton,{size:"small",onClick:o.handleSearch,style:{"margin-left":"5px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Search")),1)]),_:1})])]),_:1},8,["theme"]),(openBlock(),createBlock(KeepAlive,null,[(openBlock(),createBlock(resolveDynamicComponent(o.Youdao),{word:o.word},null,8,["word"]))],1024))])}SearchPanel_default.render=render5,SearchPanel_default.__file="src\\views\\SearchPanel.vue";var SearchPanel_default2=SearchPanel_default,SEARCH_PANEL_VIEW="langr-panel",SearchPanelView=class extends import_obsidian3.ItemView{constructor(r,n){super(r);this.plugin=n}query(r){dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:r}}))}getViewType(){return SEARCH_PANEL_VIEW}getDisplayText(){return t("Search Panel")}getIcon(){return"book"}onOpen(){return __async(this,null,function*(){const r=this.containerEl.children[1];r.empty();const n=r.createEl("div",{cls:"langr-search"});this.vueapp=createApp(SearchPanel_default2),this.vueapp.config.globalProperties.plugin=this.plugin,this.vueapp.mount(n)})}onClose(){return __async(this,null,function*(){this.vueapp.unmount()})}},import_obsidian4=__toModule(require("obsidian")),store=reactive({text:""}),store_default=store,ReadingArea_default=defineComponent({setup(r,{expose:n}){n();let a=getCurrentInstance(),o=a.appContext.config.globalProperties.view,s=o.plugin,l=o.contentEl,u=document.body.hasClass("theme-dark")?darkTheme:null,f=s.app.metadataCache.getFileCache(o.file).frontmatter,d=f["langr-audio"]||"";const v=[{label:`1 ${t("paragraph")} / ${t("page")}`,value:2},{label:`2 ${t("paragraph")} / ${t("page")}`,value:4},{label:`4 ${t("paragraph")} / ${t("page")}`,value:8},{label:`8 ${t("paragraph")} / ${t("page")}`,value:16},{label:`16 ${t("paragraph")} / ${t("page")}`,value:32},{label:`${t("All")}`,value:Number.MAX_VALUE}];let g=ref(1),y=s.settings.default_paragraphs,b=ref(y==="all"?Number.MAX_VALUE:parseInt(y)),_=ref(!1),x=ref("");function w(){return __async(this,null,function*(){x.value=yield o.readContent("notes",!0)})}function C(){return __async(this,null,function*(){o.writeContent("notes",x.value)})}let S=store_default.text.split(`
`),D=o.divide(S),A=S.slice(D.article.start,D.article.end),T=A.length,P=ref(""),E=ref(!0),M=ref(!0);watch([b],(B,O)=>__async(this,[B,O],function*([R],[z]){let N=g.value;g.value=Math.ceil(((g.value-1)*z+1)/R),N===g.value&&(M.value=!M.value)}));let L=!0;watch([g,M,E],(B,O)=>__async(this,[B,O],function*([R,z],[N,V]){let W=0;if(L){let $=yield s.frontManager.getFrontMatter(o.file,"langr-pos");$&&(g.value=Math.ceil(parseInt($)/b.value)),W=(g.value-1)*b.value,L=!1}else W=(R-1)*b.value;let H=W+b.value>T?T:W+b.value;P.value=yield s.parser.parse(A.slice(W,H).join(`
`)),(R!==N||z!=V)&&s.frontManager.setFrontMatter(o.file,"langr-pos",`${(R-1)*b.value+1}`)}),{immediate:!0});function F(){return __async(this,null,function*(){let B=l.querySelectorAll(".word.new"),O=new Set;B.forEach(R=>{O.add(R.textContent.toLowerCase())}),yield s.db.postIgnoreWords([...O]),E.value=!E.value,dispatchEvent(new CustomEvent("obsidian-langr-refresh-stat")),g.value*b.value<T&&g.value++})}const I={vueThis:a,view:o,plugin:s,contentEl:l,theme:u,frontMatter:f,audioSource:d,pageSizes:v,page:g,dp:y,pageSize:b,activeNotes:_,notes:x,afterNoteEnter:w,afterNoteLeave:C,lines:S,segments:D,article:A,totalLines:T,renderedText:P,refreshHandle:E,psChange:M,firstInit:L,addIgnores:F,NPagination:Pagination_default,NConfigProvider:ConfigProvider_default,NDrawer:Drawer_default,NDrawerContent:DrawerContent_default,NInput:Input_default};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}}),_hoisted_14={id:"langr-reading",style:{height:"100%"}},_hoisted_24={class:"function-area",style:{"padding-bottom":"10px","border-bottom":"2px solid gray"}},_hoisted_34=["src"],_hoisted_43={style:{display:"flex"}},_hoisted_53=createBaseVNode("span",{style:{flex:"1"}},null,-1),_hoisted_62=["innerHTML"],_hoisted_72={class:"pagination",style:{"padding-top":"10px","border-top":"2px solid gray",display:"flex","flex-direction":"column"}};function render6(r,n,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_14,[createVNode(o.NConfigProvider,{theme:o.theme,style:{height:"100%",display:"flex","flex-direction":"column"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_24,[o.audioSource?(openBlock(),createElementBlock("audio",{key:0,controls:"",src:o.audioSource},null,8,_hoisted_34)):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_43,[createBaseVNode("button",{onClick:n[0]||(n[0]=u=>o.activeNotes=!0)},"\u505A\u7B14\u8BB0"),_hoisted_53,o.page*o.pageSize<o.totalLines?(openBlock(),createElementBlock("button",{key:0,class:"finish-reading",onClick:o.addIgnores},"\u7ED3\u675F\u9605\u8BFB\u5E76\u8F6C\u5165\u4E0B\u4E00\u9875")):(openBlock(),createElementBlock("button",{key:1,class:"finish-reading",onClick:o.addIgnores},"\u7ED3\u675F\u9605\u8BFB"))])]),createBaseVNode("div",{class:"text-area",style:{flex:"1",overflow:"auto","padding-left":"5%","padding-right":"5%"},innerHTML:o.renderedText},null,8,_hoisted_62),createBaseVNode("div",_hoisted_72,[createVNode(o.NPagination,{style:{"justify-content":"center"},page:o.page,"onUpdate:page":n[1]||(n[1]=u=>o.page=u),"page-size":o.pageSize,"onUpdate:page-size":n[2]||(n[2]=u=>o.pageSize=u),"item-count":o.totalLines,"show-size-picker":"","page-sizes":o.pageSizes},null,8,["page","page-size","item-count"])]),createVNode(o.NDrawer,{show:o.activeNotes,"onUpdate:show":n[4]||(n[4]=u=>o.activeNotes=u),placement:"bottom","close-on-esc":!0,"auto-focus":!0,"on-after-enter":o.afterNoteEnter,"on-after-leave":o.afterNoteLeave,to:"#langr-reading"},{default:withCtx(()=>[createVNode(o.NDrawerContent,{title:"Notes"},{default:withCtx(()=>[createVNode(o.NInput,{value:o.notes,"onUpdate:value":n[3]||(n[3]=u=>o.notes=u),type:"textarea",autosize:{minRows:5}},null,8,["value"])]),_:1})]),_:1},8,["show"])]),_:1},8,["theme"])])}ReadingArea_default.render=render6,ReadingArea_default.__file="src\\views\\ReadingArea.vue";var ReadingArea_default2=ReadingArea_default,READING_VIEW_TYPE="langr-reading",READING_ICON="highlight-glyph",ReadingView=class extends import_obsidian4.TextFileView{constructor(r,n){super(r);this.actionButtons={},this.refresh=a=>{let o=a.detail.expression.toLowerCase(),s=a.detail.type,l=a.detail.status;const u=["ignore","learning","familiar","known","learned"];if(s==="WORD"){let f=this.contentEl.querySelectorAll(".word");if(f.length===0)return;f.forEach(d=>{d.textContent.toLowerCase()===o&&(d.className=`word ${u[l]}`)})}else if(s==="PHRASE"){let f=this.contentEl.querySelectorAll(".phrase"),d=!1;if(f.length>0&&f.forEach(b=>{b.textContent.toLowerCase()===o&&(d=!0,b.className=`phrase ${u[l]}`)}),this.removeSelect(),d)return;let v=[];o.split(" ").forEach(b=>{b!==""&&v.push(b," ")}),v.pop();let g=(b,_)=>{let x=b,w=[];for(let C of _){if(!x||x.textContent.toLowerCase()!==C)return null;w.push(x),x=x.nextSibling}return w};this.containerEl.querySelectorAll(".stns").forEach(b=>{let _=b.children,x=-1;for(;x++<_.length;){let w;if(w=g(_[x],v)){let C=createSpan({cls:`phrase ${u[l]}`});b.insertBefore(C,_[x]),w.forEach(S=>{S.remove(),C.appendChild(S)}),x+=v.length-1}}})}},this.plugin=n,this.firstInit=!0}getIcon(){return READING_ICON}getViewData(){return this.data}setViewData(r,n){return __async(this,null,function*(){this.data=r,store_default.text=r,this.firstInit&&(this.vueapp=createApp(ReadingArea_default2),this.vueapp.config.globalProperties.plugin=this.plugin,this.vueapp.config.globalProperties.data=this.data,this.vueapp.config.globalProperties.view=this,this.vueapp.mount(this.contentEl),this.firstInit=!1)})}getViewType(){return READING_VIEW_TYPE}onMoreOptionsMenu(r){r.addItem(n=>{n.setTitle(t("Return to Markdown")).setIcon("document").onClick(()=>{this.backToMarkdown()})}).addSeparator(),super.onMoreOptionsMenu(r)}backToMarkdown(){this.plugin.setMarkdownView(this.leaf)}saveWords(){return __async(this,null,function*(){if((yield this.readContent("words"))===null)return;let r=yield this.readContent("article"),n=(yield this.plugin.parser.getWordsPhrases(r)).map(a=>`+ **${a.expression}** : ${a.meaning}`).join(`
`)+`

`;yield this.writeContent("words",n)})}divide(r){let n=[];n.push(["article",r.indexOf("^^^article")],["words",r.indexOf("^^^words")],["notes",r.indexOf("^^^notes")]),n.sort((o,s)=>o[1]-s[1]),n=n.filter(o=>o[1]!==-1),n.push(["eof",r.length]);let a={};for(let o=0;o<n.length-1;o++)a[`${n[o][0]}`]={start:n[o][1]+1,end:n[o+1][1]};return a}readContent(r,n=!1){return __async(this,null,function*(){let a=yield this.plugin.app.vault.read(this.file),o=a.split(`
`),s=this.divide(o);return s[r]?o.slice(s[r].start,s[r].end).join(`
`):n?(this.plugin.app.vault.modify(this.file,a+`
^^^${r}

`),""):null})}writeContent(r,n){return __async(this,null,function*(){let o=(yield this.plugin.app.vault.read(this.file)).split(`
`),s=this.divide(o);if(!s[r])return;let l=o.slice(0,s[r].start).join(`
`)+`
`+n.trim()+`

`+o.slice(s[r].end,o.length).join(`
`);this.plugin.app.vault.modify(this.file,l)})}clear(){}removeSelect(){this.contentEl.querySelectorAll("span.select").forEach(n=>{let a=n.parentElement,o=[];n.childNodes.forEach(s=>{o.push(s)});for(let s of o)a.insertBefore(s,n);n.remove()})}initHeaderButtons(){this.addAction("book",t("Return to Markdown"),()=>{this.backToMarkdown()})}onOpen(){return __async(this,null,function*(){addEventListener("obsidian-langr-refresh",this.refresh),this.initHeaderButtons()})}onClose(){return __async(this,null,function*(){removeEventListener("obsidian-langr-refresh",this.refresh),this.vueapp.unmount(),this.saveWords()})}},import_obsidian6=__toModule(require("obsidian")),import_obsidian5=__toModule(require("obsidian")),LearnPanel_default=defineComponent({setup(r,{expose:n}){n();const a=getCurrentInstance().appContext.config.globalProperties.view,o=getCurrentInstance().appContext.config.globalProperties.plugin,s=document.body.hasClass("theme-dark")?darkTheme:null;let l=ref({expression:null,meaning:null,status:0,t:"WORD",tags:[],notes:[],sentences:[]}),u={expression:{required:!0,trigger:["blur","input"],message:t("Please input a word/phrase")},meaning:{required:!0,trigger:["blur","input"],message:t("A short definition is needed")},t:{required:!0,trigger:"change",message:"Expression can be a word or phrase"},status:{required:!0}},f={required:!0,trigger:["blur","input"],message:"At least input a source sentence"},d={fontSize:"16px",fontWeight:"bold",padding:"0 0 8px 2px"};function v(){return{text:"",trans:"",origin:""}}const g={},y={backgroundColor:"#ff980055"},b={backgroundColor:"#ffeb3c55"},_={backgroundColor:"#9eda5855"},x={backgroundColor:"#4cb05155"};let w=ref([]),C=ref(!1),S=[];function D(M){return __async(this,null,function*(){if(C.value=!0,M.length<2&&(S=yield o.db.getTags()),C.value=!1,!M.length){w.value=S.map(L=>({label:L,value:L}));return}w.value=S.filter(L=>~L.indexOf(M)).map(L=>({label:L,value:L}))})}let A=ref(!1);function T(){return __async(this,null,function*(){if(!l.value.expression){new import_obsidian5.Notice(t("Expression is empty!"));return}if(!l.value.meaning){new import_obsidian5.Notice(t("Meaning is empty!"));return}if(l.value.expression.trim().split(" ").length>1&&l.value.t==="WORD"){new import_obsidian5.Notice(t("It looks more like a PHRASE than a WORD"));return}A.value=!0;let M=yield o.db.postExpression(JSON.parse(JSON.stringify(l.value)));if(A.value=!1,M!==200){new import_obsidian5.Notice("Submit failed"),console.warn("Submit failed, please check server status");return}dispatchEvent(new CustomEvent("obsidian-langr-refresh",{detail:{expression:l.value.expression,type:l.value.t,status:l.value.status}})),dispatchEvent(new CustomEvent("obsidian-langr-refresh-stat")),o.settings.auto_refresh_db&&setTimeout(()=>{o.app.commands.executeCommandById("obsidian-language-learner:langr-refresh-review-database"),o.app.commands.executeCommandById("obsidian-language-learner:langr-refresh-word-database")},0)})}function P(M){return __async(this,null,function*(){var L,F;let I=M.detail.selection,B=yield o.db.getExpression(I),O="WORD";I.trim().contains(" ")&&(O="PHRASE");let R=M.detail.target,z="",N=null,V=null,W=null;if(R){z=(R.parentElement.hasClass("stns")?R.parentElement:R.parentElement.parentElement).textContent,N=yield o.db.tryGetSen(z);let $=a.app.workspace.getActiveViewOfType(ReadingView);if($){let Y=a.app.metadataCache.getFileCache($.file).frontmatter["langr-origin"];V=Y||$.file.name}if(o.settings.use_machine_trans){let Y=yield search(z);Y&&Y.result.translation&&(W=(F=(L=Y.result.translation.match(/<p>([^<>]+)<\/p>/g)[1])==null?void 0:L.match(/<p>(.*)<\/p>/)[1])!=null?F:null)}}if(B){z&&(N?B.sentences.find($=>$.text===z)||(B.sentences=B.sentences.concat(N)):B.sentences=B.sentences.concat({text:z,trans:W,origin:V})),l.value=B;return}else{if(!R){l.value={expression:I,meaning:"",status:1,t:O,tags:[],notes:[],sentences:[]};return}l.value={expression:I,meaning:"",status:1,t:O,tags:[],notes:[],sentences:N?[N]:[{text:z,trans:W,origin:V}]}}})}onMounted(()=>{addEventListener("obsidian-langr-search",P)}),onUnmounted(()=>{removeEventListener("obsidian-langr-search",P)});const E={view:a,plugin:o,theme:s,model:l,rules:u,sourceRule:f,labelStyle:d,onCreateSentence:v,basicStyle:g,learningStyle:y,familiarStyle:b,knownStyle:_,LearnedStyle:x,tagOptions:w,tagLoading:C,tags:S,tagSearch:D,submitLoading:A,submit:T,onSearch:P,NForm:Form_default,NFormItem:FormItem_default,NInput:Input_default,NRadio:Radio_default,NRadioButton:RadioButton_default,NRadioGroup:RadioGroup_default,NButton:Button_default,NDynamicInput:DynamicInput_default,NSelect:Select_default,NConfigProvider:ConfigProvider_default,t};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),_hoisted_15={id:"langr-learn-panel"},_hoisted_25={style:{"margin-bottom":"8px"}},_hoisted_35={style:{display:"flex","flex-direction":"column",flex:"1",border:"2px solid gray","border-radius":"3px",padding:"3px"}},_hoisted_44={style:{"margin-top":"10px"}};function render7(r,n,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_15,[createVNode(o.NConfigProvider,{theme:o.theme},{default:withCtx(()=>[createVNode(o.NForm,{model:o.model,"label-placement":"top","label-width":"auto",rules:o.rules,"require-mark-placement":"right-hanging"},{default:withCtx(()=>[createCommentVNode(" \u4E00\u4E2A\u5355\u8BCD\u6216\u77ED\u8BED\u5B57\u7B26\u4E32 "),createVNode(o.NFormItem,{label:o.t("Expression"),"label-style":o.labelStyle,path:"expression"},{default:withCtx(()=>[createVNode(o.NInput,{value:o.model.expression,"onUpdate:value":n[0]||(n[0]=u=>o.model.expression=u),placeholder:o.t("A word or a phrase")},null,8,["value","placeholder"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u5355\u8BCD\u6216\u77ED\u8BED\u7684\u542B\u4E49(\u7CBE\u7B80) "),createVNode(o.NFormItem,{label:o.t("Meaning"),"label-style":o.labelStyle,path:"meaning"},{default:withCtx(()=>[createVNode(o.NInput,{value:o.model.meaning,"onUpdate:value":n[1]||(n[1]=u=>o.model.meaning=u),placeholder:o.t("A short definition"),type:"textarea",autosize:""},null,8,["value","placeholder"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u7C7B\u522B\uFF0C\u53EF\u4EE5\u662FWord\u6216Phrase "),createVNode(o.NFormItem,{label:o.t("Type"),"label-style":o.labelStyle,path:"t"},{default:withCtx(()=>[createVNode(o.NRadioGroup,{value:o.model.t,"onUpdate:value":n[2]||(n[2]=u=>o.model.t=u)},{default:withCtx(()=>[createVNode(o.NRadio,{value:"WORD"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Word")),1)]),_:1}),createVNode(o.NRadio,{value:"PHRASE"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Phrase")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u5F53\u524D\u5355\u8BCD\u7684\u5B66\u4E60\u72B6\u6001 "),createVNode(o.NFormItem,{label:o.t("Status"),"label-style":o.labelStyle,path:"status"},{default:withCtx(()=>[createVNode(o.NRadioGroup,{value:o.model.status,"onUpdate:value":n[3]||(n[3]=u=>o.model.status=u),size:"small"},{default:withCtx(()=>[createVNode(o.NRadioButton,{value:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Ignore")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.learningStyle,value:1},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Learning")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.familiarStyle,value:2},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Familiar")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.knownStyle,value:3},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Known")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.LearnedStyle,value:4},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Learned")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u52A0\u4E00\u4E9Btag, \u53EF\u4EE5\u7528\u6765\u641C\u7D22 "),createVNode(o.NFormItem,{label:o.t("Tags"),"label-style":o.labelStyle,path:"tags"},{default:withCtx(()=>[createVNode(o.NSelect,{value:o.model.tags,"onUpdate:value":n[4]||(n[4]=u=>o.model.tags=u),filterable:"",multiple:"",tag:"",placeholder:o.t("Input or select some tags"),loading:o.tagLoading,options:o.tagOptions,onSearch:o.tagSearch},null,8,["value","placeholder","loading","options"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u53EF\u9009,\u53EF\u4EE5\u8BB0\u591A\u6761\u7B14\u8BB0 "),createVNode(o.NFormItem,{label:o.t("Notes"),"label-style":o.labelStyle,path:"tags"},{default:withCtx(()=>[createVNode(o.NDynamicInput,{value:o.model.notes,"onUpdate:value":n[5]||(n[5]=u=>o.model.notes=u)},{"create-button-default":withCtx(()=>[createTextVNode(toDisplayString(o.t("Create")),1)]),default:withCtx(({index:u,value:f})=>[createVNode(o.NInput,{type:"textarea",placeholder:o.t("Write a new note"),value:o.model.notes[u],"onUpdate:value":d=>o.model.notes[u]=d},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u53EF\u9009,\u4F8B\u53E5\u4E5F\u53EF\u4EE5\u8BB0\u591A\u6761 "),createBaseVNode("div",_hoisted_25,[createBaseVNode("label",{for:"Sentences",style:normalizeStyle([o.labelStyle])},toDisplayString(o.t("Sentences")),5)]),createVNode(o.NDynamicInput,{value:o.model.sentences,"onUpdate:value":n[6]||(n[6]=u=>o.model.sentences=u),"on-create":o.onCreateSentence},{"create-button-default":withCtx(()=>[createTextVNode(toDisplayString(o.t("Create")),1)]),default:withCtx(({index:u,value:f})=>[createBaseVNode("div",_hoisted_35,[createVNode(o.NFormItem,{"show-label":!1,path:`sentences[${u}].text`,rule:o.sourceRule},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].text,"onUpdate:value":d=>o.model.sentences[u].text=d,placeholder:o.t("Origin sentence"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path","rule"]),createVNode(o.NFormItem,{"show-feedback":!1,"show-label":!1,path:`sentences[${u}].trans`},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].trans,"onUpdate:value":d=>o.model.sentences[u].trans=d,placeholder:o.t("Translation (Optional)"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path"]),createVNode(o.NFormItem,{"show-feedback":!1,"show-label":!1,path:`sentences[${u}].origin`},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].origin,"onUpdate:value":d=>o.model.sentences[u].origin=d,placeholder:o.t("Origin (Optional)"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path"])])]),_:1},8,["value"])]),_:1},8,["model","rules"]),createCommentVNode(" \u63D0\u4EA4\u6309\u94AE "),createBaseVNode("div",_hoisted_44,[createVNode(o.NButton,{style:{"--n-width":"100%"},"attr-type":"submit",size:"large",onClick:o.submit,loading:o.submitLoading},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Submit")),1)]),_:1},8,["loading"])])]),_:1},8,["theme"])])}LearnPanel_default.render=render7,LearnPanel_default.__file="src\\views\\LearnPanel.vue";var LearnPanel_default2=LearnPanel_default,LEARN_PANEL_VIEW="langr-learn-panel",LearnPanelView=class extends import_obsidian6.ItemView{constructor(r,n){super(r);this.plugin=n}getViewType(){return LEARN_PANEL_VIEW}getDisplayText(){return t("Learning New Words")}getIcon(){return"reading-glasses"}onOpen(){return __async(this,null,function*(){const r=this.containerEl.children[1];r.empty();const n=r.createEl("div",{cls:"langr-learn"});this.vueapp=createApp(LearnPanel_default2),this.vueapp.config.globalProperties.view=this,this.vueapp.config.globalProperties.plugin=this.plugin,this.vueapp.mount(n)})}onClose(){return __async(this,null,function*(){this.vueapp.unmount()})}},import_obsidian8=__toModule(require("obsidian")),import_obsidian7=__toModule(require("obsidian")),import_tslib=__toModule(require_tslib()),{__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter:__awaiter3,__generator,__exportStar,__createBinding,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet}=import_tslib.default,Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?env.worker=!0:typeof navigator=="undefined"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,n){var a=n.browser,o=r.match(/Firefox\/([\d.]+)/),s=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),l=r.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(r);o&&(a.firefox=!0,a.version=o[1]),s&&(a.ie=!0,a.version=s[1]),l&&(a.edge=!0,a.version=l[1],a.newEdge=+l[1].split(".")[0]>18),u&&(a.weChat=!0),n.svgSupported=typeof SVGRect!="undefined",n.touchEventsSupported="ontouchstart"in window&&!a.ie&&!a.edge,n.pointerEventsSupported="onpointerdown"in window&&(a.edge||a.ie&&+a.version>=11),n.domSupported=typeof document!="undefined";var f=document.documentElement.style;n.transform3dSupported=(a.ie&&"transition"in f||a.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),n.transformSupported=n.transform3dSupported||a.ie&&+a.version>=9}var env_default=env,DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var n={};if(typeof JSON=="undefined")return n;for(var a=0;a<r.length;a++){var o=String.fromCharCode(a+32),s=(r.charCodeAt(a)-OFFSET)/SCALE;n[o]=s}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var r,n;return function(a,o){if(!r){var s=platformApi.createCanvas();r=s&&s.getContext("2d")}if(r)return n!==o&&(n=r.font=o||DEFAULT_FONT),r.measureText(a);a=a||"",o=o||DEFAULT_FONT;var l=/^([0-9]*?)px$/.exec(o),u=+(l&&l[1])||DEFAULT_FONT_SIZE,f=0;if(o.indexOf("mono")>=0)f=u*a.length;else for(var d=0;d<a.length;d++){var v=DEFAULT_TEXT_WIDTH_MAP[a[d]];f+=v==null?u:v*u}return{width:f}}}(),loadImage:function(r,n,a){var o=new Image;return o.onload=n,o.onerror=a,o.src=r,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,n){return r["[object "+n+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,n){return r["[object "+n+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto2=Array.prototype,nativeForEach=arrayProto2.forEach,nativeFilter=arrayProto2.filter,nativeSlice=arrayProto2.slice,nativeMap=arrayProto2.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError2(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];typeof console!="undefined"&&console.error.apply(console,r)}function clone(r){if(r==null||typeof r!="object")return r;var n=r,a=objToString.call(r);if(a==="[object Array]"){if(!isPrimitive(r)){n=[];for(var o=0,s=r.length;o<s;o++)n[o]=clone(r[o])}}else if(TYPED_ARRAY[a]){if(!isPrimitive(r)){var l=r.constructor;if(l.from)n=l.from(r);else{n=new l(r.length);for(var o=0,s=r.length;o<s;o++)n[o]=r[o]}}}else if(!BUILTIN_OBJECT[a]&&!isPrimitive(r)&&!isDom(r)){n={};for(var u in r)r.hasOwnProperty(u)&&u!==protoKey&&(n[u]=clone(r[u]))}return n}function merge3(r,n,a){if(!isObject3(n)||!isObject3(r))return a?clone(n):r;for(var o in n)if(n.hasOwnProperty(o)&&o!==protoKey){var s=r[o],l=n[o];isObject3(l)&&isObject3(s)&&!isArray3(l)&&!isArray3(s)&&!isDom(l)&&!isDom(s)&&!isBuiltInObject(l)&&!isBuiltInObject(s)&&!isPrimitive(l)&&!isPrimitive(s)?merge3(s,l,a):(a||!(o in r))&&(r[o]=clone(n[o]))}return r}function mergeAll(r,n){for(var a=r[0],o=1,s=r.length;o<s;o++)a=merge3(a,r[o],n);return a}function extend2(r,n){if(Object.assign)Object.assign(r,n);else for(var a in n)n.hasOwnProperty(a)&&a!==protoKey&&(r[a]=n[a]);return r}function defaults(r,n,a){for(var o=keys2(n),s=0;s<o.length;s++){var l=o[s];(a?n[l]!=null:r[l]==null)&&(r[l]=n[l])}return r}var createCanvas=platformApi.createCanvas;function indexOf(r,n){if(r){if(r.indexOf)return r.indexOf(n);for(var a=0,o=r.length;a<o;a++)if(r[a]===n)return a}return-1}function inherits(r,n){var a=r.prototype;function o(){}o.prototype=n.prototype,r.prototype=new o;for(var s in a)a.hasOwnProperty(s)&&(r.prototype[s]=a[s]);r.prototype.constructor=r,r.superClass=n}function mixin(r,n,a){if(r="prototype"in r?r.prototype:r,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),s=0;s<o.length;s++){var l=o[s];l!=="constructor"&&(a?n[l]!=null:r[l]==null)&&(r[l]=n[l])}else defaults(r,n,a)}function isArrayLike2(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each(r,n,a){if(!!(r&&n))if(r.forEach&&r.forEach===nativeForEach)r.forEach(n,a);else if(r.length===+r.length)for(var o=0,s=r.length;o<s;o++)n.call(a,r[o],o,r);else for(var l in r)r.hasOwnProperty(l)&&n.call(a,r[l],l,r)}function map3(r,n,a){if(!r)return[];if(!n)return slice(r);if(r.map&&r.map===nativeMap)return r.map(n,a);for(var o=[],s=0,l=r.length;s<l;s++)o.push(n.call(a,r[s],s,r));return o}function reduce(r,n,a,o){if(!!(r&&n)){for(var s=0,l=r.length;s<l;s++)a=n.call(o,a,r[s],s,r);return a}}function filter(r,n,a){if(!r)return[];if(!n)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(n,a);for(var o=[],s=0,l=r.length;s<l;s++)n.call(a,r[s],s,r)&&o.push(r[s]);return o}function keys2(r){if(!r)return[];if(Object.keys)return Object.keys(r);var n=[];for(var a in r)r.hasOwnProperty(a)&&n.push(a);return n}function bindPolyfill(r,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return function(){return r.apply(n,a.concat(nativeSlice.call(arguments)))}}var bind=protoFunction&&isFunction3(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return r.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray3(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction3(r){return typeof r=="function"}function isString2(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber(r){return typeof r=="number"}function isObject3(r){var n=typeof r;return n==="function"||!!r&&n==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray2(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var a=0,o=r.length;a<o;a++)if(r[a]!=null)return r[a]}function retrieve2(r,n){return r!=null?r:n}function retrieve3(r,n,a){return r!=null?r:n!=null?n:a}function slice(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return nativeSlice.apply(r,n)}function normalizeCssArray(r){if(typeof r=="number")return[r,r,r,r];var n=r.length;return n===2?[r[0],r[1],r[0],r[1]]:n===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,n){if(!r)throw new Error(n)}function trim(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var HashMap=function(){function r(n){this.data={};var a=isArray3(n);this.data={};var o=this;n instanceof r?n.each(s):n&&each(n,s);function s(l,u){a?o.set(l,u):o.set(u,l)}}return r.prototype.get=function(n){return this.data.hasOwnProperty(n)?this.data[n]:null},r.prototype.set=function(n,a){return this.data[n]=a},r.prototype.each=function(n,a){for(var o in this.data)this.data.hasOwnProperty(o)&&n.call(a,this.data[o],o)},r.prototype.keys=function(){return keys2(this.data)},r.prototype.removeKey=function(n){delete this.data[n]},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,n){for(var a=new r.constructor(r.length+n.length),o=0;o<r.length;o++)a[o]=r[o];for(var s=r.length,o=0;o<n.length;o++)a[o+s]=n[o];return a}function createObject(r,n){var a;if(Object.create)a=Object.create(r);else{var o=function(){};o.prototype=r,a=new o}return n&&extend2(a,n),a}function disableUserSelect(r){var n=r.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn2(r,n){return r.hasOwnProperty(n)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI,import_tslib2=__toModule(require_tslib2()),{__extends:__extends2,__assign:__assign2,__rest:__rest2,__decorate:__decorate2,__param:__param2,__metadata:__metadata2,__awaiter:__awaiter4,__generator:__generator2,__exportStar:__exportStar2,__createBinding:__createBinding2,__values:__values2,__read:__read2,__spread:__spread2,__spreadArrays:__spreadArrays2,__spreadArray:__spreadArray2,__await:__await2,__asyncGenerator:__asyncGenerator2,__asyncDelegator:__asyncDelegator2,__asyncValues:__asyncValues2,__makeTemplateObject:__makeTemplateObject2,__importStar:__importStar2,__importDefault:__importDefault2,__classPrivateFieldGet:__classPrivateFieldGet2,__classPrivateFieldSet:__classPrivateFieldSet2}=import_tslib2.default;function create(r,n){return r==null&&(r=0),n==null&&(n=0),[r,n]}function copy(r,n){return r[0]=n[0],r[1]=n[1],r}function clone2(r){return[r[0],r[1]]}function add2(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r}function scaleAndAdd(r,n,a,o){return r[0]=n[0]+a[0]*o,r[1]=n[1]+a[1]*o,r}function sub(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r}function len2(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r}function normalize(r,n){var a=len2(n);return a===0?(r[0]=0,r[1]=0):(r[0]=n[0]/a,r[1]=n[1]/a),r}function distance(r,n){return Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}var dist=distance;function distanceSquare(r,n){return(r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])}var distSquare=distanceSquare;function lerp(r,n,a,o){return r[0]=n[0]+o*(a[0]-n[0]),r[1]=n[1]+o*(a[1]-n[1]),r}function applyTransform(r,n,a){var o=n[0],s=n[1];return r[0]=a[0]*o+a[2]*s+a[4],r[1]=a[1]*o+a[3]*s+a[5],r}function min(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r}function max(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r}var Param=function(){function r(n,a){this.target=n,this.topTarget=a&&a.topTarget}return r}(),Draggable=function(){function r(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(n){for(var a=n.target;a&&!a.draggable;)a=a.parent||a.__hostTarget;a&&(this._draggingTarget=a,a.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(a,n),"dragstart",n.event))},r.prototype._drag=function(n){var a=this._draggingTarget;if(a){var o=n.offsetX,s=n.offsetY,l=o-this._x,u=s-this._y;this._x=o,this._y=s,a.drift(l,u,n),this.handler.dispatchToElement(new Param(a,n),"drag",n.event);var f=this.handler.findHover(o,s,a).target,d=this._dropTarget;this._dropTarget=f,a!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,n),"dragenter",n.event))}},r.prototype._dragEnd=function(n){var a=this._draggingTarget;a&&(a.dragging=!1),this.handler.dispatchToElement(new Param(a,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},r}(),Draggable_default=Draggable,Eventful=function(){function r(n){n&&(this._$eventProcessor=n)}return r.prototype.on=function(n,a,o,s){this._$handlers||(this._$handlers={});var l=this._$handlers;if(typeof a=="function"&&(s=o,o=a,a=null),!o||!n)return this;var u=this._$eventProcessor;a!=null&&u&&u.normalizeQuery&&(a=u.normalizeQuery(a)),l[n]||(l[n]=[]);for(var f=0;f<l[n].length;f++)if(l[n][f].h===o)return this;var d={h:o,query:a,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},v=l[n].length-1,g=l[n][v];return g&&g.callAtLast?l[n].splice(v,0,d):l[n].push(d),this},r.prototype.isSilent=function(n){var a=this._$handlers;return!a||!a[n]||!a[n].length},r.prototype.off=function(n,a){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(a){if(o[n]){for(var s=[],l=0,u=o[n].length;l<u;l++)o[n][l].h!==a&&s.push(o[n][l]);o[n]=s}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},r.prototype.trigger=function(n){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[n],l=this._$eventProcessor;if(s)for(var u=a.length,f=s.length,d=0;d<f;d++){var v=s[d];if(!(l&&l.filter&&v.query!=null&&!l.filter(n,v.query)))switch(u){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,a[0]);break;case 2:v.h.call(v.ctx,a[0],a[1]);break;default:v.h.apply(v.ctx,a);break}}return l&&l.afterTrigger&&l.afterTrigger(n),this},r.prototype.triggerWithContext=function(n){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[n],l=this._$eventProcessor;if(s)for(var u=a.length,f=a[u-1],d=s.length,v=0;v<d;v++){var g=s[v];if(!(l&&l.filter&&g.query!=null&&!l.filter(n,g.query)))switch(u){case 0:g.h.call(f);break;case 1:g.h.call(f,a[0]);break;case 2:g.h.call(f,a[0],a[1]);break;default:g.h.apply(f,a.slice(1,u-1));break}}return l&&l.afterTrigger&&l.afterTrigger(n),this},r}(),Eventful_default=Eventful,LN2=Math.log(2);function determinant(r,n,a,o,s,l){var u=o+"-"+s,f=r.length;if(l.hasOwnProperty(u))return l[u];if(n===1){var d=Math.round(Math.log((1<<f)-1&~s)/LN2);return r[a][d]}for(var v=o|1<<a,g=a+1;o&1<<g;)g++;for(var y=0,b=0,_=0;b<f;b++){var x=1<<b;x&s||(y+=(_%2?-1:1)*r[a][b]*determinant(r,n-1,g,v,s|x,l),_++)}return l[u]=y,y}function buildTransformer(r,n){var a=[[r[0],r[1],1,0,0,0,-n[0]*r[0],-n[0]*r[1]],[0,0,0,r[0],r[1],1,-n[1]*r[0],-n[1]*r[1]],[r[2],r[3],1,0,0,0,-n[2]*r[2],-n[2]*r[3]],[0,0,0,r[2],r[3],1,-n[3]*r[2],-n[3]*r[3]],[r[4],r[5],1,0,0,0,-n[4]*r[4],-n[4]*r[5]],[0,0,0,r[4],r[5],1,-n[5]*r[4],-n[5]*r[5]],[r[6],r[7],1,0,0,0,-n[6]*r[6],-n[6]*r[7]],[0,0,0,r[6],r[7],1,-n[7]*r[6],-n[7]*r[7]]],o={},s=determinant(a,8,0,0,0,o);if(s!==0){for(var l=[],u=0;u<8;u++)for(var f=0;f<8;f++)l[f]==null&&(l[f]=0),l[f]+=((u+f)%2?-1:1)*determinant(a,7,u===0?1:0,1<<u,1<<f,o)/s*n[u];return function(d,v,g){var y=v*l[6]+g*l[7]+1;d[0]=(v*l[0]+g*l[1]+l[2])/y,d[1]=(v*l[3]+g*l[4]+l[5])/y}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut=[];function transformLocalCoord(r,n,a,o,s){return transformCoordWithViewport(_calcOut,n,o,s,!0)&&transformCoordWithViewport(r,a,_calcOut[0],_calcOut[1])}function transformCoordWithViewport(r,n,a,o,s){if(n.getBoundingClientRect&&env_default.domSupported&&!isCanvasEl(n)){var l=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),u=prepareCoordMarkers(n,l),f=preparePointerTransformer(u,l,s);if(f)return f(r,a,o),!0}return!1}function prepareCoordMarkers(r,n){var a=n.markers;if(a)return a;a=n.markers=[];for(var o=["left","right"],s=["top","bottom"],l=0;l<4;l++){var u=document.createElement("div"),f=u.style,d=l%2,v=(l>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",s[v]+":0",o[1-d]+":auto",s[1-v]+":auto",""].join("!important;"),r.appendChild(u),a.push(u)}return a}function preparePointerTransformer(r,n,a){for(var o=a?"invTrans":"trans",s=n[o],l=n.srcCoords,u=[],f=[],d=!0,v=0;v<4;v++){var g=r[v].getBoundingClientRect(),y=2*v,b=g.left,_=g.top;u.push(b,_),d=d&&l&&b===l[y]&&_===l[y+1],f.push(r[v].offsetLeft,r[v].offsetTop)}return d&&s?s:(n.srcCoords=u,n[o]=a?buildTransformer(f,u):buildTransformer(u,f))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut2=[],firefoxNotSupportOffsetXY=env_default.browser.firefox&&+env_default.browser.version.split(".")[0]<39;function clientToLocal(r,n,a,o){return a=a||{},o?calculateZrXY(r,n,a):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(a.zrX=n.layerX,a.zrY=n.layerY):n.offsetX!=null?(a.zrX=n.offsetX,a.zrY=n.offsetY):calculateZrXY(r,n,a),a}function calculateZrXY(r,n,a){if(env_default.domSupported&&r.getBoundingClientRect){var o=n.clientX,s=n.clientY;if(isCanvasEl(r)){var l=r.getBoundingClientRect();a.zrX=o-l.left,a.zrY=s-l.top;return}else if(transformCoordWithViewport(_calcOut2,r,o,s)){a.zrX=_calcOut2[0],a.zrY=_calcOut2[1];return}}a.zrX=a.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,n,a){if(n=getNativeEvent(n),n.zrX!=null)return n;var o=n.type,s=o&&o.indexOf("touch")>=0;if(s){var u=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];u&&clientToLocal(r,u,n,a)}else{clientToLocal(r,n,n,a);var l=getWheelDeltaMayPolyfill(n);n.zrDelta=l?l/120:-(n.detail||0)/3}var f=n.button;return n.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=f&1?1:f&2?3:f&4?2:0),n}function getWheelDeltaMayPolyfill(r){var n=r.wheelDelta;if(n)return n;var a=r.deltaX,o=r.deltaY;if(a==null||o==null)return n;var s=Math.abs(o!==0?o:a),l=o>0?-1:o<0?1:a>0?-1:1;return 3*s*l}function addEventListener3(r,n,a,o){r.addEventListener(n,a,o)}function removeEventListener3(r,n,a,o){r.removeEventListener(n,a,o)}var stop2=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(r){return r.which===2||r.which===3}var GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(n,a,o){return this._doTrack(n,a,o),this._recognize(n)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(n,a,o){var s=n.touches;if(!!s){for(var l={points:[],touches:[],target:a,event:n},u=0,f=s.length;u<f;u++){var d=s[u],v=clientToLocal(o,d,{});l.points.push([v.zrX,v.zrY]),l.touches.push(d)}this._track.push(l)}},r.prototype._recognize=function(n){for(var a in recognizers)if(recognizers.hasOwnProperty(a)){var o=recognizers[a](this._track,n);if(o)return o}},r}();function dist2(r){var n=r[1][0]-r[0][0],a=r[1][1]-r[0][1];return Math.sqrt(n*n+a*a)}function center(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,n){var a=r.length;if(!!a){var o=(r[a-1]||{}).points,s=(r[a-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var l=dist2(o)/dist2(s);!isFinite(l)&&(l=1),n.pinchScale=l;var u=center(o);return n.pinchX=u[0],n.pinchY=u[1],{type:"pinch",target:r[0].target,event:n}}}}},SILENT="silent";function makeEventPacket(r,n,a){return{type:r,event:a,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:stopEvent}}function stopEvent(){stop2(this.event)}var EmptyProxy=function(r){__extends2(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.handler=null,a}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful_default),HoveredResult=function(){function r(n,a){this.x=n,this.y=a}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler=function(r){__extends2(n,r);function n(a,o,s,l){var u=r.call(this)||this;return u._hovered=new HoveredResult(0,0),u.storage=a,u.painter=o,u.painterRoot=l,s=s||new EmptyProxy,u.proxy=null,u.setHandlerProxy(s),u._draggingMgr=new Draggable_default(u),u}return n.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(each(handlerNames,function(o){a.on&&a.on(o,this[o],this)},this),a.handler=this),this.proxy=a},n.prototype.mousemove=function(a){var o=a.zrX,s=a.zrY,l=isOutsideBoundary(this,o,s),u=this._hovered,f=u.target;f&&!f.__zr&&(u=this.findHover(u.x,u.y),f=u.target);var d=this._hovered=l?new HoveredResult(o,s):this.findHover(o,s),v=d.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),f&&v!==f&&this.dispatchToElement(u,"mouseout",a),this.dispatchToElement(d,"mousemove",a),v&&v!==f&&this.dispatchToElement(d,"mouseover",a)},n.prototype.mouseout=function(a){var o=a.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",a),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:a})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(a,o){var s=this[a];s&&s.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(a){var o=this.proxy;o.setCursor&&o.setCursor(a)},n.prototype.dispatchToElement=function(a,o,s){a=a||{};var l=a.target;if(!(l&&l.silent)){for(var u="on"+o,f=makeEventPacket(o,a,s);l&&(l[u]&&(f.cancelBubble=!!l[u].call(l,f)),l.trigger(o,f),l=l.__hostTarget?l.__hostTarget:l.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[u]=="function"&&d[u].call(d,f),d.trigger&&d.trigger(o,f)}))}},n.prototype.findHover=function(a,o,s){for(var l=this.storage.getDisplayList(),u=new HoveredResult(a,o),f=l.length-1;f>=0;f--){var d=void 0;if(l[f]!==s&&!l[f].ignore&&(d=isHover(l[f],a,o))&&(!u.topTarget&&(u.topTarget=l[f]),d!==SILENT)){u.target=l[f];break}}return u},n.prototype.processGesture=function(a,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var s=this._gestureMgr;o==="start"&&s.clear();var l=s.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if(o==="end"&&s.clear(),l){var u=l.type;a.gestureEvent=u;var f=new HoveredResult;f.target=l.target,this.dispatchToElement(f,u,l.event)}},n}(Eventful_default);each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(n){var a=n.zrX,o=n.zrY,s=isOutsideBoundary(this,a,o),l,u;if((r!=="mouseup"||!s)&&(l=this.findHover(a,o),u=l.target),r==="mousedown")this._downEl=u,this._downPoint=[n.zrX,n.zrY],this._upEl=u;else if(r==="mouseup")this._upEl=u;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(l,r,n)}});function isHover(r,n,a){if(r[r.rectHover?"rectContain":"contain"](n,a)){for(var o=r,s=void 0,l=!1;o;){if(o.ignoreClip&&(l=!0),!l){var u=o.getClipPath();if(u&&!u.contain(n,a))return!1;o.silent&&(s=!0)}var f=o.__hostTarget;o=f||o.parent}return s?SILENT:!0}return!1}function isOutsideBoundary(r,n,a){var o=r.painter;return n<0||n>o.getWidth()||a<0||a>o.getHeight()}var Handler_default=Handler,DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7,DEFAULT_TMP_STORAGE_LENGTH=256;function minRunLength(r){for(var n=0;r>=DEFAULT_MIN_MERGE;)n|=r&1,r>>=1;return r+n}function makeAscendingRun(r,n,a,o){var s=n+1;if(s===a)return 1;if(o(r[s++],r[n])<0){for(;s<a&&o(r[s],r[s-1])<0;)s++;reverseRun(r,n,s)}else for(;s<a&&o(r[s],r[s-1])>=0;)s++;return s-n}function reverseRun(r,n,a){for(a--;n<a;){var o=r[n];r[n++]=r[a],r[a--]=o}}function binaryInsertionSort(r,n,a,o,s){for(o===n&&o++;o<a;o++){for(var l=r[o],u=n,f=o,d;u<f;)d=u+f>>>1,s(l,r[d])<0?f=d:u=d+1;var v=o-u;switch(v){case 3:r[u+3]=r[u+2];case 2:r[u+2]=r[u+1];case 1:r[u+1]=r[u];break;default:for(;v>0;)r[u+v]=r[u+v-1],v--}r[u]=l}}function gallopLeft(r,n,a,o,s,l){var u=0,f=0,d=1;if(l(r,n[a+s])>0){for(f=o-s;d<f&&l(r,n[a+s+d])>0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),u+=s,d+=s}else{for(f=s+1;d<f&&l(r,n[a+s-d])<=0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=u;u=s-d,d=s-v}for(u++;u<d;){var g=u+(d-u>>>1);l(r,n[a+g])>0?u=g+1:d=g}return d}function gallopRight(r,n,a,o,s,l){var u=0,f=0,d=1;if(l(r,n[a+s])<0){for(f=s+1;d<f&&l(r,n[a+s-d])<0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=u;u=s-d,d=s-v}else{for(f=o-s;d<f&&l(r,n[a+s+d])>=0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),u+=s,d+=s}for(u++;u<d;){var g=u+(d-u>>>1);l(r,n[a+g])<0?d=g:u=g+1}return d}function TimSort(r,n){var a=DEFAULT_MIN_GALLOPING,o=0,s=DEFAULT_TMP_STORAGE_LENGTH,l=0,u,f,d=0;o=r.length,o<2*DEFAULT_TMP_STORAGE_LENGTH&&(s=o>>>1);var v=[];l=o<120?5:o<1542?10:o<119151?19:40,u=[],f=[];function g(C,S){u[d]=C,f[d]=S,d+=1}function y(){for(;d>1;){var C=d-2;if(C>=1&&f[C-1]<=f[C]+f[C+1]||C>=2&&f[C-2]<=f[C]+f[C-1])f[C-1]<f[C+1]&&C--;else if(f[C]>f[C+1])break;_(C)}}function b(){for(;d>1;){var C=d-2;C>0&&f[C-1]<f[C+1]&&C--,_(C)}}function _(C){var S=u[C],D=f[C],A=u[C+1],T=f[C+1];f[C]=D+T,C===d-3&&(u[C+1]=u[C+2],f[C+1]=f[C+2]),d--;var P=gallopRight(r[A],r,S,D,0,n);S+=P,D-=P,D!==0&&(T=gallopLeft(r[S+D-1],r,A,T,T-1,n),T!==0&&(D<=T?x(S,D,A,T):w(S,D,A,T)))}function x(C,S,D,A){var T=0;for(T=0;T<S;T++)v[T]=r[C+T];var P=0,E=D,M=C;if(r[M++]=r[E++],--A==0){for(T=0;T<S;T++)r[M+T]=v[P+T];return}if(S===1){for(T=0;T<A;T++)r[M+T]=r[E+T];r[M+A]=v[P];return}for(var L=a,F,I,B;;){F=0,I=0,B=!1;do if(n(r[E],v[P])<0){if(r[M++]=r[E++],I++,F=0,--A==0){B=!0;break}}else if(r[M++]=v[P++],F++,I=0,--S==1){B=!0;break}while((F|I)<L);if(B)break;do{if(F=gallopRight(r[E],v,P,S,0,n),F!==0){for(T=0;T<F;T++)r[M+T]=v[P+T];if(M+=F,P+=F,S-=F,S<=1){B=!0;break}}if(r[M++]=r[E++],--A==0){B=!0;break}if(I=gallopLeft(v[P],r,E,A,0,n),I!==0){for(T=0;T<I;T++)r[M+T]=r[E+T];if(M+=I,E+=I,A-=I,A===0){B=!0;break}}if(r[M++]=v[P++],--S==1){B=!0;break}L--}while(F>=DEFAULT_MIN_GALLOPING||I>=DEFAULT_MIN_GALLOPING);if(B)break;L<0&&(L=0),L+=2}if(a=L,a<1&&(a=1),S===1){for(T=0;T<A;T++)r[M+T]=r[E+T];r[M+A]=v[P]}else{if(S===0)throw new Error;for(T=0;T<S;T++)r[M+T]=v[P+T]}}function w(C,S,D,A){var T=0;for(T=0;T<A;T++)v[T]=r[D+T];var P=C+S-1,E=A-1,M=D+A-1,L=0,F=0;if(r[M--]=r[P--],--S==0){for(L=M-(A-1),T=0;T<A;T++)r[L+T]=v[T];return}if(A===1){for(M-=S,P-=S,F=M+1,L=P+1,T=S-1;T>=0;T--)r[F+T]=r[L+T];r[M]=v[E];return}for(var I=a;;){var B=0,O=0,R=!1;do if(n(v[E],r[P])<0){if(r[M--]=r[P--],B++,O=0,--S==0){R=!0;break}}else if(r[M--]=v[E--],O++,B=0,--A==1){R=!0;break}while((B|O)<I);if(R)break;do{if(B=S-gallopRight(v[E],r,C,S,S-1,n),B!==0){for(M-=B,P-=B,S-=B,F=M+1,L=P+1,T=B-1;T>=0;T--)r[F+T]=r[L+T];if(S===0){R=!0;break}}if(r[M--]=v[E--],--A==1){R=!0;break}if(O=A-gallopLeft(r[P],v,0,A,A-1,n),O!==0){for(M-=O,E-=O,A-=O,F=M+1,L=E+1,T=0;T<O;T++)r[F+T]=v[L+T];if(A<=1){R=!0;break}}if(r[M--]=r[P--],--S==0){R=!0;break}I--}while(B>=DEFAULT_MIN_GALLOPING||O>=DEFAULT_MIN_GALLOPING);if(R)break;I<0&&(I=0),I+=2}if(a=I,a<1&&(a=1),A===1){for(M-=S,P-=S,F=M+1,L=P+1,T=S-1;T>=0;T--)r[F+T]=r[L+T];r[M]=v[E]}else{if(A===0)throw new Error;for(L=M-(A-1),T=0;T<A;T++)r[L+T]=v[T]}}return{mergeRuns:y,forceMergeRuns:b,pushRun:g}}function sort(r,n,a,o){a||(a=0),o||(o=r.length);var s=o-a;if(!(s<2)){var l=0;if(s<DEFAULT_MIN_MERGE){l=makeAscendingRun(r,a,o,n),binaryInsertionSort(r,a,o,a+l,n);return}var u=TimSort(r,n),f=minRunLength(s);do{if(l=makeAscendingRun(r,a,o,n),l<f){var d=s;d>f&&(d=f),binaryInsertionSort(r,a,a+d,a+l,n),l=d}u.pushRun(a,l),u.mergeRuns(),s-=l,a+=l}while(s!==0);u.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,n){return r.zlevel===n.zlevel?r.z===n.z?r.z2-n.z2:r.z-n.z:r.zlevel-n.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(n,a){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,a)},r.prototype.getDisplayList=function(n,a){a=a||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(a),o},r.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var a=this._roots,o=this._displayList,s=0,l=a.length;s<l;s++)this._updateAndAddDisplayable(a[s],null,n);o.length=this._displayListLen,sort(o,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(n,a,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var s=n.getClipPath();if(n.ignoreClip)a=null;else if(s){a?a=a.slice():a=[];for(var l=s,u=n;l;)l.parent=u,l.updateTransform(),a.push(l),u=l,l=l.getClipPath()}if(n.childrenRef){for(var f=n.childrenRef(),d=0;d<f.length;d++){var v=f[d];n.__dirty&&(v.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(v,a,o)}n.__dirty=0}else{var g=n;a&&a.length?g.__clipPaths=a:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(logInvalidZError(),g.z=0),isNaN(g.z2)&&(logInvalidZError(),g.z2=0),isNaN(g.zlevel)&&(logInvalidZError(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=n.getDecalElement&&n.getDecalElement();y&&this._updateAndAddDisplayable(y,a,o);var b=n.getTextGuideLine();b&&this._updateAndAddDisplayable(b,a,o);var _=n.getTextContent();_&&this._updateAndAddDisplayable(_,a,o)}},r.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},r.prototype.delRoot=function(n){if(n instanceof Array){for(var a=0,o=n.length;a<o;a++)this.delRoot(n[a]);return}var s=indexOf(this._roots,n);s>=0&&this._roots.splice(s,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),Storage_default=Storage,requestAnimationFrame2;requestAnimationFrame2=env_default.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var requestAnimationFrame_default=requestAnimationFrame2,easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)))},elasticOut:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*r)*Math.sin((r-n)*(2*Math.PI)/o)+1)},elasticInOut:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),(r*=2)<1?-.5*(a*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)):a*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)*.5+1)},backIn:function(r){var n=1.70158;return r*r*((n+1)*r-n)},backOut:function(r){var n=1.70158;return--r*r*((n+1)*r+n)+1},backInOut:function(r){var n=1.70158*1.525;return(r*=2)<1?.5*(r*r*((n+1)*r-n)):.5*((r-=2)*r*((n+1)*r+n)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}},easing_default=easingFuncs,mathPow=Math.pow,mathSqrt=Math.sqrt,EPSILON=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3,_v0=create(),_v1=create(),_v2=create();function isAroundZero(r){return r>-EPSILON&&r<EPSILON}function isNotAroundZero(r){return r>EPSILON||r<-EPSILON}function cubicAt(r,n,a,o,s){var l=1-s;return l*l*(l*r+3*s*n)+s*s*(s*o+3*l*a)}function cubicDerivativeAt(r,n,a,o,s){var l=1-s;return 3*(((n-r)*l+2*(a-n)*s)*l+(o-a)*s*s)}function cubicRootAt(r,n,a,o,s,l){var u=o+3*(n-a)-r,f=3*(a-n*2+r),d=3*(n-r),v=r-s,g=f*f-3*u*d,y=f*d-9*u*v,b=d*d-3*f*v,_=0;if(isAroundZero(g)&&isAroundZero(y))if(isAroundZero(f))l[0]=0;else{var x=-d/f;x>=0&&x<=1&&(l[_++]=x)}else{var w=y*y-4*g*b;if(isAroundZero(w)){var C=y/g,x=-f/u+C,S=-C/2;x>=0&&x<=1&&(l[_++]=x),S>=0&&S<=1&&(l[_++]=S)}else if(w>0){var D=mathSqrt(w),A=g*f+1.5*u*(-y+D),T=g*f+1.5*u*(-y-D);A<0?A=-mathPow(-A,ONE_THIRD):A=mathPow(A,ONE_THIRD),T<0?T=-mathPow(-T,ONE_THIRD):T=mathPow(T,ONE_THIRD);var x=(-f-(A+T))/(3*u);x>=0&&x<=1&&(l[_++]=x)}else{var P=(2*g*f-3*u*y)/(2*mathSqrt(g*g*g)),E=Math.acos(P)/3,M=mathSqrt(g),L=Math.cos(E),x=(-f-2*M*L)/(3*u),S=(-f+M*(L+THREE_SQRT*Math.sin(E)))/(3*u),F=(-f+M*(L-THREE_SQRT*Math.sin(E)))/(3*u);x>=0&&x<=1&&(l[_++]=x),S>=0&&S<=1&&(l[_++]=S),F>=0&&F<=1&&(l[_++]=F)}}return _}function cubicExtrema(r,n,a,o,s){var l=6*a-12*n+6*r,u=9*n+3*o-3*r-9*a,f=3*n-3*r,d=0;if(isAroundZero(u)){if(isNotAroundZero(l)){var v=-f/l;v>=0&&v<=1&&(s[d++]=v)}}else{var g=l*l-4*u*f;if(isAroundZero(g))s[0]=-l/(2*u);else if(g>0){var y=mathSqrt(g),v=(-l+y)/(2*u),b=(-l-y)/(2*u);v>=0&&v<=1&&(s[d++]=v),b>=0&&b<=1&&(s[d++]=b)}}return d}function cubicSubdivide(r,n,a,o,s,l){var u=(n-r)*s+r,f=(a-n)*s+n,d=(o-a)*s+a,v=(f-u)*s+u,g=(d-f)*s+f,y=(g-v)*s+v;l[0]=r,l[1]=u,l[2]=v,l[3]=y,l[4]=y,l[5]=g,l[6]=d,l[7]=o}function cubicProjectPoint(r,n,a,o,s,l,u,f,d,v,g){var y,b=.005,_=1/0,x,w,C,S;_v0[0]=d,_v0[1]=v;for(var D=0;D<1;D+=.05)_v1[0]=cubicAt(r,a,s,u,D),_v1[1]=cubicAt(n,o,l,f,D),C=distSquare(_v0,_v1),C<_&&(y=D,_=C);_=1/0;for(var A=0;A<32&&!(b<EPSILON_NUMERIC);A++)x=y-b,w=y+b,_v1[0]=cubicAt(r,a,s,u,x),_v1[1]=cubicAt(n,o,l,f,x),C=distSquare(_v1,_v0),x>=0&&C<_?(y=x,_=C):(_v2[0]=cubicAt(r,a,s,u,w),_v2[1]=cubicAt(n,o,l,f,w),S=distSquare(_v2,_v0),w<=1&&S<_?(y=w,_=S):b*=.5);return g&&(g[0]=cubicAt(r,a,s,u,y),g[1]=cubicAt(n,o,l,f,y)),mathSqrt(_)}function cubicLength(r,n,a,o,s,l,u,f,d){for(var v=r,g=n,y=0,b=1/d,_=1;_<=d;_++){var x=_*b,w=cubicAt(r,a,s,u,x),C=cubicAt(n,o,l,f,x),S=w-v,D=C-g;y+=Math.sqrt(S*S+D*D),v=w,g=C}return y}function quadraticAt(r,n,a,o){var s=1-o;return s*(s*r+2*o*n)+o*o*a}function quadraticDerivativeAt(r,n,a,o){return 2*((1-o)*(n-r)+o*(a-n))}function quadraticRootAt(r,n,a,o,s){var l=r-2*n+a,u=2*(n-r),f=r-o,d=0;if(isAroundZero(l)){if(isNotAroundZero(u)){var v=-f/u;v>=0&&v<=1&&(s[d++]=v)}}else{var g=u*u-4*l*f;if(isAroundZero(g)){var v=-u/(2*l);v>=0&&v<=1&&(s[d++]=v)}else if(g>0){var y=mathSqrt(g),v=(-u+y)/(2*l),b=(-u-y)/(2*l);v>=0&&v<=1&&(s[d++]=v),b>=0&&b<=1&&(s[d++]=b)}}return d}function quadraticExtremum(r,n,a){var o=r+a-2*n;return o===0?.5:(r-n)/o}function quadraticSubdivide(r,n,a,o,s){var l=(n-r)*o+r,u=(a-n)*o+n,f=(u-l)*o+l;s[0]=r,s[1]=l,s[2]=f,s[3]=f,s[4]=u,s[5]=a}function quadraticProjectPoint(r,n,a,o,s,l,u,f,d){var v,g=.005,y=1/0;_v0[0]=u,_v0[1]=f;for(var b=0;b<1;b+=.05){_v1[0]=quadraticAt(r,a,s,b),_v1[1]=quadraticAt(n,o,l,b);var _=distSquare(_v0,_v1);_<y&&(v=b,y=_)}y=1/0;for(var x=0;x<32&&!(g<EPSILON_NUMERIC);x++){var w=v-g,C=v+g;_v1[0]=quadraticAt(r,a,s,w),_v1[1]=quadraticAt(n,o,l,w);var _=distSquare(_v1,_v0);if(w>=0&&_<y)v=w,y=_;else{_v2[0]=quadraticAt(r,a,s,C),_v2[1]=quadraticAt(n,o,l,C);var S=distSquare(_v2,_v0);C<=1&&S<y?(v=C,y=S):g*=.5}}return d&&(d[0]=quadraticAt(r,a,s,v),d[1]=quadraticAt(n,o,l,v)),mathSqrt(y)}function quadraticLength(r,n,a,o,s,l,u){for(var f=r,d=n,v=0,g=1/u,y=1;y<=u;y++){var b=y*g,_=quadraticAt(r,a,s,b),x=quadraticAt(n,o,l,b),w=_-f,C=x-d;v+=Math.sqrt(w*w+C*C),f=_,d=x}return v}var regexp4=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var n=r&&regexp4.exec(r);if(n){var a=n[1].split(","),o=+trim(a[0]),s=+trim(a[1]),l=+trim(a[2]),u=+trim(a[3]);if(isNaN(o+s+l+u))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,l,1,d,f)&&cubicAt(0,s,u,1,f[0])}}}var Clip=function(){function r(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop,this.ondestroy=n.ondestroy||noop,this.onrestart=n.onrestart||noop,n.easing&&this.setEasing(n.easing)}return r.prototype.step=function(n,a){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=a;return}var o=this._life,s=n-this._startTime-this._pausedTime,l=s/o;l<0&&(l=0),l=Math.min(l,1);var u=this.easingFunc,f=u?u(l):l;if(this.onframe(f),l===1)if(this.loop){var d=s%o;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction3(n)?n:easing_default[n]||createCubicEasingFunc(n)},r}(),Clip_default=Clip,Entry=function(){function r(n){this.value=n}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(n){var a=new Entry(n);return this.insertEntry(a),a},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var a=n.prev,o=n.next;a?a.next=o:this.head=o,o?o.prev=a:this.tail=a,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,a){var o=this._list,s=this._map,l=null;if(s[n]==null){var u=o.len(),f=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var d=o.head;o.remove(d),delete s[d.key],l=d.value,this._lastRemovedEntry=d}f?f.value=a:f=new Entry(a),f.key=n,o.insertEntry(f),s[n]=f}return l},r.prototype.get=function(n){var a=this._map[n],o=this._list;if(a!=null)return a!==o.tail&&(o.remove(a),o.insertEntry(a)),a.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),LRU_default=LRU,kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssAngle(r){return r=Math.round(r),r<0?0:r>360?360:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(r,n,a){return a<0?a+=1:a>1&&(a-=1),a*6<1?r+(n-r)*a*6:a*2<1?n:a*3<2?r+(n-r)*(2/3-a)*6:r}function lerpNumber(r,n,a){return r+(n-r)*a}function setRgba(r,n,a,o,s){return r[0]=n,r[1]=a,r[2]=o,r[3]=s,r}function copyRgba(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}var colorCache=new LRU_default(20),lastRemovedArr=null;function putToCache(r,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(r,lastRemovedArr||n.slice())}function parse(r,n){if(!!r){n=n||[];var a=colorCache.get(r);if(a)return copyRgba(n,a);r=r+"";var o=r.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(n,kCSSColorTable[o]),putToCache(r,n),n;var s=o.length;if(o.charAt(0)==="#"){if(s===4||s===5){var l=parseInt(o.slice(1,4),16);if(!(l>=0&&l<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(l&3840)>>4|(l&3840)>>8,l&240|(l&240)>>4,l&15|(l&15)<<4,s===5?parseInt(o.slice(4),16)/15:1),putToCache(r,n),n}else if(s===7||s===9){var l=parseInt(o.slice(1,7),16);if(!(l>=0&&l<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(l&16711680)>>16,(l&65280)>>8,l&255,s===9?parseInt(o.slice(7),16)/255:1),putToCache(r,n),n}return}var u=o.indexOf("("),f=o.indexOf(")");if(u!==-1&&f+1===s){var d=o.substr(0,u),v=o.substr(u+1,f-(u+1)).split(","),g=1;switch(d){case"rgba":if(v.length!==4)return v.length===3?setRgba(n,+v[0],+v[1],+v[2],1):setRgba(n,0,0,0,1);g=parseCssFloat(v.pop());case"rgb":if(v.length!==3){setRgba(n,0,0,0,1);return}return setRgba(n,parseCssInt(v[0]),parseCssInt(v[1]),parseCssInt(v[2]),g),putToCache(r,n),n;case"hsla":if(v.length!==4){setRgba(n,0,0,0,1);return}return v[3]=parseCssFloat(v[3]),hsla2rgba(v,n),putToCache(r,n),n;case"hsl":if(v.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(v,n),putToCache(r,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(r,n){var a=(parseFloat(r[0])%360+360)%360/360,o=parseCssFloat(r[1]),s=parseCssFloat(r[2]),l=s<=.5?s*(o+1):s+o-s*o,u=s*2-l;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(u,l,a+1/3)*255),clampCssByte(cssHueToRgb(u,l,a)*255),clampCssByte(cssHueToRgb(u,l,a-1/3)*255),1),r.length===4&&(n[3]=r[3]),n}function rgba2hsla(r){if(!!r){var n=r[0]/255,a=r[1]/255,o=r[2]/255,s=Math.min(n,a,o),l=Math.max(n,a,o),u=l-s,f=(l+s)/2,d,v;if(u===0)d=0,v=0;else{f<.5?v=u/(l+s):v=u/(2-l-s);var g=((l-n)/6+u/2)/u,y=((l-a)/6+u/2)/u,b=((l-o)/6+u/2)/u;n===l?d=b-y:a===l?d=1/3+g-b:o===l&&(d=2/3+y-g),d<0&&(d+=1),d>1&&(d-=1)}var _=[d*360,v,f];return r[3]!=null&&_.push(r[3]),_}}function lift(r,n){var a=parse(r);if(a){for(var o=0;o<3;o++)n<0?a[o]=a[o]*(1-n)|0:a[o]=(255-a[o])*n+a[o]|0,a[o]>255?a[o]=255:a[o]<0&&(a[o]=0);return stringify(a,a.length===4?"rgba":"rgb")}}function fastLerp(r,n,a){if(!(!(n&&n.length)||!(r>=0&&r<=1))){a=a||[];var o=r*(n.length-1),s=Math.floor(o),l=Math.ceil(o),u=n[s],f=n[l],d=o-s;return a[0]=clampCssByte(lerpNumber(u[0],f[0],d)),a[1]=clampCssByte(lerpNumber(u[1],f[1],d)),a[2]=clampCssByte(lerpNumber(u[2],f[2],d)),a[3]=clampCssFloat(lerpNumber(u[3],f[3],d)),a}}function lerp2(r,n,a){if(!(!(n&&n.length)||!(r>=0&&r<=1))){var o=r*(n.length-1),s=Math.floor(o),l=Math.ceil(o),u=parse(n[s]),f=parse(n[l]),d=o-s,v=stringify([clampCssByte(lerpNumber(u[0],f[0],d)),clampCssByte(lerpNumber(u[1],f[1],d)),clampCssByte(lerpNumber(u[2],f[2],d)),clampCssFloat(lerpNumber(u[3],f[3],d))],"rgba");return a?{color:v,leftIndex:s,rightIndex:l,value:o}:v}}function modifyHSL(r,n,a,o){var s=parse(r);if(r)return s=rgba2hsla(s),n!=null&&(s[0]=clampCssAngle(n)),a!=null&&(s[1]=parseCssFloat(a)),o!=null&&(s[2]=parseCssFloat(o)),stringify(hsla2rgba(s),"rgba")}function modifyAlpha(r,n){var a=parse(r);if(a&&n!=null)return a[3]=clampCssFloat(n),stringify(a,"rgba")}function stringify(r,n){if(!(!r||!r.length)){var a=r[0]+","+r[1]+","+r[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(a+=","+r[3]),n+"("+a+")"}}function lum(r,n){var a=parse(r);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*n:0}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}var encodeBase64=function(){return env_default.hasGlobalWindow&&isFunction3(window.btoa)?function(r){return window.btoa(unescape(r))}:typeof Buffer!="undefined"?function(r){return Buffer.from(r).toString("base64")}:function(r){return logError2("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(r,n,a){return(n-r)*a+r}function interpolate1DArray(r,n,a,o){for(var s=n.length,l=0;l<s;l++)r[l]=interpolateNumber(n[l],a[l],o);return r}function interpolate2DArray(r,n,a,o){for(var s=n.length,l=s&&n[0].length,u=0;u<s;u++){r[u]||(r[u]=[]);for(var f=0;f<l;f++)r[u][f]=interpolateNumber(n[u][f],a[u][f],o)}return r}function add1DArray(r,n,a,o){for(var s=n.length,l=0;l<s;l++)r[l]=n[l]+a[l]*o;return r}function add2DArray(r,n,a,o){for(var s=n.length,l=s&&n[0].length,u=0;u<s;u++){r[u]||(r[u]=[]);for(var f=0;f<l;f++)r[u][f]=n[u][f]+a[u][f]*o}return r}function fillColorStops(r,n){for(var a=r.length,o=n.length,s=a>o?n:r,l=Math.min(a,o),u=s[l-1]||{color:[0,0,0,0],offset:0},f=l;f<Math.max(a,o);f++)s.push({offset:u.offset,color:u.color.slice()})}function fillArray(r,n,a){var o=r,s=n;if(!(!o.push||!s.push)){var l=o.length,u=s.length;if(l!==u){var f=l>u;if(f)o.length=u;else for(var d=l;d<u;d++)o.push(a===1?s[d]:arraySlice.call(s[d]))}for(var v=o[0]&&o[0].length,d=0;d<o.length;d++)if(a===1)isNaN(o[d])&&(o[d]=s[d]);else for(var g=0;g<v;g++)isNaN(o[d][g])&&(o[d][g]=s[d][g])}}function cloneValue(r){if(isArrayLike2(r)){var n=r.length;if(isArrayLike2(r[0])){for(var a=[],o=0;o<n;o++)a.push(arraySlice.call(r[o]));return a}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike2(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(n,a,o){this._needsSort=!0;var s=this.keyframes,l=s.length,u=!1,f=VALUE_TYPE_UNKOWN,d=a;if(isArrayLike2(a)){var v=guessArrayDim(a);f=v,(v===1&&!isNumber(a[0])||v===2&&!isNumber(a[0][0]))&&(u=!0)}else if(isNumber(a)&&!eqNaN(a))f=VALUE_TYPE_NUMBER;else if(isString2(a))if(!isNaN(+a))f=VALUE_TYPE_NUMBER;else{var g=parse(a);g&&(d=g,f=VALUE_TYPE_COLOR)}else if(isGradientObject(a)){var y=extend2({},d);y.colorStops=map3(a.colorStops,function(_){return{offset:_.offset,color:parse(_.color)}}),isLinearGradient(a)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(a)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=y}l===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(u=!0),this.discrete=this.discrete||u;var b={time:n,value:d,rawValue:a,percent:0};return o&&(b.easing=o,b.easingFunc=isFunction3(o)?o:easing_default[o]||createCubicEasingFunc(o)),s.push(b),b},r.prototype.prepare=function(n,a){var o=this.keyframes;this._needsSort&&o.sort(function(w,C){return w.time-C.time});for(var s=this.valType,l=o.length,u=o[l-1],f=this.discrete,d=isArrayValueType(s),v=isGradientValueType(s),g=0;g<l;g++){var y=o[g],b=y.value,_=u.value;y.percent=y.time/n,f||(d&&g!==l-1?fillArray(b,_,s):v&&fillColorStops(b.colorStops,_.colorStops))}if(!f&&s!==VALUE_TYPE_RADIAL_GRADIENT&&a&&this.needsAnimate()&&a.needsAnimate()&&s===a.valType&&!a._finished){this._additiveTrack=a;for(var x=o[0].value,g=0;g<l;g++)s===VALUE_TYPE_NUMBER?o[g].additiveValue=o[g].value-x:s===VALUE_TYPE_COLOR?o[g].additiveValue=add1DArray([],o[g].value,x,-1):isArrayValueType(s)&&(o[g].additiveValue=s===VALUE_TYPE_1D_ARRAY?add1DArray([],o[g].value,x,-1):add2DArray([],o[g].value,x,-1))}},r.prototype.step=function(n,a){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,s=o?"additiveValue":"value",l=this.valType,u=this.keyframes,f=u.length,d=this.propName,v=l===VALUE_TYPE_COLOR,g,y=this._lastFr,b=Math.min,_,x;if(f===1)_=x=u[0];else{if(a<0)g=0;else if(a<this._lastFrP){var w=b(y+1,f-1);for(g=w;g>=0&&!(u[g].percent<=a);g--);g=b(g,f-2)}else{for(g=y;g<f&&!(u[g].percent>a);g++);g=b(g-1,f-2)}x=u[g+1],_=u[g]}if(!!(_&&x)){this._lastFr=g,this._lastFrP=a;var C=x.percent-_.percent,S=C===0?1:b((a-_.percent)/C,1);x.easingFunc&&(S=x.easingFunc(S));var D=o?this._additiveValue:v?tmpRgba:n[d];if((isArrayValueType(l)||v)&&!D&&(D=this._additiveValue=[]),this.discrete)n[d]=S<1?_.rawValue:x.rawValue;else if(isArrayValueType(l))l===VALUE_TYPE_1D_ARRAY?interpolate1DArray(D,_[s],x[s],S):interpolate2DArray(D,_[s],x[s],S);else if(isGradientValueType(l)){var A=_[s],T=x[s],P=l===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:P?"linear":"radial",x:interpolateNumber(A.x,T.x,S),y:interpolateNumber(A.y,T.y,S),colorStops:map3(A.colorStops,function(M,L){var F=T.colorStops[L];return{offset:interpolateNumber(M.offset,F.offset,S),color:rgba2String(interpolate1DArray([],M.color,F.color,S))}}),global:T.global},P?(n[d].x2=interpolateNumber(A.x2,T.x2,S),n[d].y2=interpolateNumber(A.y2,T.y2,S)):n[d].r=interpolateNumber(A.r,T.r,S)}else if(v)interpolate1DArray(D,_[s],x[s],S),o||(n[d]=rgba2String(D));else{var E=interpolateNumber(_[s],x[s],S);o?this._additiveValue=E:n[d]=E}o&&this._addToTarget(n)}}},r.prototype._addToTarget=function(n){var a=this.valType,o=this.propName,s=this._additiveValue;a===VALUE_TYPE_NUMBER?n[o]=n[o]+s:a===VALUE_TYPE_COLOR?(parse(n[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,s,1),n[o]=rgba2String(tmpRgba)):a===VALUE_TYPE_1D_ARRAY?add1DArray(n[o],n[o],s,1):a===VALUE_TYPE_2D_ARRAY&&add2DArray(n[o],n[o],s,1)},r}(),Animator=function(){function r(n,a,o,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=a,a&&s){logError2("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=o}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(n){this._target=n},r.prototype.when=function(n,a,o){return this.whenWithKeys(n,a,keys2(a),o)},r.prototype.whenWithKeys=function(n,a,o,s){for(var l=this._tracks,u=0;u<o.length;u++){var f=o[u],d=l[f];if(!d){d=l[f]=new Track(f);var v=void 0,g=this._getAdditiveTrack(f);if(g){var y=g.keyframes,b=y[y.length-1];v=b&&b.value,g.valType===VALUE_TYPE_COLOR&&v&&(v=rgba2String(v))}else v=this._target[f];if(v==null)continue;n>0&&d.addKeyframe(0,cloneValue(v),s),this._trackKeys.push(f)}d.addKeyframe(n,cloneValue(a[f]),s)}return this._maxTime=Math.max(this._maxTime,n),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var a=n.length,o=0;o<a;o++)n[o].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,a=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,a)for(var o=0;o<a.length;o++)a[o].call(this)},r.prototype._setTracksFinished=function(){for(var n=this._tracks,a=this._trackKeys,o=0;o<a.length;o++)n[a[o]].setFinished()},r.prototype._getAdditiveTrack=function(n){var a,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var l=o[s].getTrack(n);l&&(a=l)}return a},r.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var a=this,o=[],s=this._maxTime||0,l=0;l<this._trackKeys.length;l++){var u=this._trackKeys[l],f=this._tracks[u],d=this._getAdditiveTrack(u),v=f.keyframes,g=v.length;if(f.prepare(s,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var y=v[g-1];y&&(a._target[f.propName]=y.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var b=new Clip_default({life:s,loop:this._loop,delay:this._delay||0,onframe:function(_){a._started=2;var x=a._additiveAnimators;if(x){for(var w=!1,C=0;C<x.length;C++)if(x[C]._clip){w=!0;break}w||(a._additiveAnimators=null)}for(var C=0;C<o.length;C++)o[C].step(a._target,_);var S=a._onframeCbs;if(S)for(var C=0;C<S.length;C++)S[C](a._target,_)},ondestroy:function(){a._doneCallback()}});this._clip=b,this.animation&&this.animation.addClip(b),n&&b.setEasing(n)}else this._doneCallback();return this}},r.prototype.stop=function(n){if(!!this._clip){var a=this._clip;n&&a.onframe(1),this._abortedCallback()}},r.prototype.delay=function(n){return this._delay=n,this},r.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},r.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},r.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(n){return this._tracks[n]},r.prototype.getTracks=function(){var n=this;return map3(this._trackKeys,function(a){return n._tracks[a]})},r.prototype.stopTracks=function(n,a){if(!n.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,l=0;l<n.length;l++){var u=o[n[l]];u&&!u.isFinished()&&(a?u.step(this._target,1):this._started===1&&u.step(this._target,0),u.setFinished())}for(var f=!0,l=0;l<s.length;l++)if(!o[s[l]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},r.prototype.saveTo=function(n,a,o){if(!!n){a=a||this._trackKeys;for(var s=0;s<a.length;s++){var l=a[s],u=this._tracks[l];if(!(!u||u.isFinished())){var f=u.keyframes,d=f[o?0:f.length-1];d&&(n[l]=cloneValue(d.rawValue))}}}},r.prototype.__changeFinalValue=function(n,a){a=a||keys2(n);for(var o=0;o<a.length;o++){var s=a[o],l=this._tracks[s];if(!!l){var u=l.keyframes;if(u.length>1){var f=u.pop();l.addKeyframe(f.time,n[s]),l.prepare(this._maxTime,l.getAdditiveTrack())}}}},r}(),Animator_default=Animator;function getTime(){return new Date().getTime()}var Animation=function(r){__extends2(n,r);function n(a){var o=r.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,a=a||{},o.stage=a.stage||{},o}return n.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},n.prototype.addAnimator=function(a){a.animation=this;var o=a.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(a){if(!!a.animation){var o=a.prev,s=a.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,a.next=a.prev=a.animation=null}},n.prototype.removeAnimator=function(a){var o=a.getClip();o&&this.removeClip(o),a.animation=null},n.prototype.update=function(a){for(var o=getTime()-this._pausedTime,s=o-this._time,l=this._head;l;){var u=l.next,f=l.step(o,s);f&&(l.ondestroy(),this.removeClip(l)),l=u}this._time=o,a||(this.trigger("frame",s),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var a=this;this._running=!0;function o(){a._running&&(requestAnimationFrame_default(o),!a._paused&&a.update())}requestAnimationFrame_default(o)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var a=this._head;a;){var o=a.next;a.prev=a.next=a.animation=null,a=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(a,o){o=o||{},this.start();var s=new Animator_default(a,o.loop);return this.addAnimator(s),s},n}(Eventful_default),Animation_default=Animation,TOUCH_CLICK_DELAY=300,globalEventSupported=env_default.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map3(r,function(s){var l=s.replace("mouse","pointer");return a.hasOwnProperty(l)?l:s});return{mouse:r,touch:n,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var n=r.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,n){return normalizeEvent(r.dom,new FakeGlobalEvent(r,n),!0)}function isLocalEl(r,n){for(var a=n,o=!1;a&&a.nodeType!==9&&!(o=a.domBelongToZr||a!==n&&a===r.painterRoot);)a=a.parentNode;return o}var FakeGlobalEvent=function(){function r(n,a){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=a.type,this.target=this.currentTarget=n.dom,this.pointerType=a.pointerType,this.clientX=a.clientX,this.clientY=a.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var n=this.__mayPointerCapture;n&&(r.zrX!==n[0]||r.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var n=r.toElement||r.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(n){n=normalizeEvent(this.dom,n),this.trigger(r,n)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),n&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,n){var a=n.domHandlers;env_default.pointerEventsSupported?each(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(n,o,function(s){a[o].call(r,s)})}):(env_default.touchEventsSupported&&each(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(n,o,function(s){a[o].call(r,s),setTouchTimer(n)})}),each(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(n,o,function(s){s=getNativeEvent(s),n.touching||a[o].call(r,s)})}))}function mountGlobalDOMEventListeners(r,n){env_default.pointerEventsSupported?each(globalNativeListenerNames.pointer,a):env_default.touchEventsSupported||each(globalNativeListenerNames.mouse,a);function a(o){function s(l){l=getNativeEvent(l),isLocalEl(r,l.target)||(l=normalizeGlobalEvent(r,l),n.domHandlers[o].call(r,l))}mountSingleDOMEventListener(n,o,s,{capture:!0})}}function mountSingleDOMEventListener(r,n,a,o){r.mounted[n]=a,r.listenerOpts[n]=o,addEventListener3(r.domTarget,n,a,o)}function unmountDOMEventListeners(r){var n=r.mounted;for(var a in n)n.hasOwnProperty(a)&&removeEventListener3(r.domTarget,a,n[a],r.listenerOpts[a]);r.mounted={}}var DOMHandlerScope=function(){function r(n,a){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=a}return r}(),HandlerDomProxy=function(r){__extends2(n,r);function n(a,o){var s=r.call(this)||this;return s.__pointerCapturing=!1,s.dom=a,s.painterRoot=o,s._localHandlerScope=new DOMHandlerScope(a,localDOMHandlers),globalEventSupported&&(s._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(s,s._localHandlerScope),s}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},n.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+a){this.__pointerCapturing=a;var o=this._globalHandlerScope;a?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},n}(Eventful_default),HandlerProxy_default=HandlerDomProxy,dpr=1;env_default.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio2=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee";function create2(){return[1,0,0,1,0,0]}function identity2(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy2(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function mul(r,n,a){var o=n[0]*a[0]+n[2]*a[1],s=n[1]*a[0]+n[3]*a[1],l=n[0]*a[2]+n[2]*a[3],u=n[1]*a[2]+n[3]*a[3],f=n[0]*a[4]+n[2]*a[5]+n[4],d=n[1]*a[4]+n[3]*a[5]+n[5];return r[0]=o,r[1]=s,r[2]=l,r[3]=u,r[4]=f,r[5]=d,r}function translate(r,n,a){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4]+a[0],r[5]=n[5]+a[1],r}function rotate(r,n,a){var o=n[0],s=n[2],l=n[4],u=n[1],f=n[3],d=n[5],v=Math.sin(a),g=Math.cos(a);return r[0]=o*g+u*v,r[1]=-o*v+u*g,r[2]=s*g+f*v,r[3]=-s*v+g*f,r[4]=g*l+v*d,r[5]=g*d-v*l,r}function scale2(r,n,a){var o=a[0],s=a[1];return r[0]=n[0]*o,r[1]=n[1]*s,r[2]=n[2]*o,r[3]=n[3]*s,r[4]=n[4]*o,r[5]=n[5]*s,r}function invert(r,n){var a=n[0],o=n[2],s=n[4],l=n[1],u=n[3],f=n[5],d=a*u-l*o;return d?(d=1/d,r[0]=u*d,r[1]=-l*d,r[2]=-o*d,r[3]=a*d,r[4]=(o*f-u*s)*d,r[5]=(l*s-a*f)*d,r):null}function clone3(r){var n=create2();return copy2(n,r),n}var mIdentity=identity2,EPSILON2=5e-5;function isNotAroundZero2(r){return r>EPSILON2||r<-EPSILON2}var scaleTmp=[],tmpTransform=[],originTransform=create2(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(n){return r.getLocalTransform(this,n)},r.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},r.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},r.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},r.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero2(this.rotation)||isNotAroundZero2(this.x)||isNotAroundZero2(this.y)||isNotAroundZero2(this.scaleX-1)||isNotAroundZero2(this.scaleY-1)||isNotAroundZero2(this.skewX)||isNotAroundZero2(this.skewY)},r.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,a=this.needLocalTransform(),o=this.transform;if(!(a||n)){o&&mIdentity(o);return}o=o||create2(),a?this.getLocalTransform(o):mIdentity(o),n&&(a?mul(o,n,o):copy2(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},r.prototype._resolveGlobalScaleRatio=function(n){var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,s=scaleTmp[1]<0?-1:1,l=((scaleTmp[0]-o)*a+o)/scaleTmp[0]||0,u=((scaleTmp[1]-s)*a+s)/scaleTmp[1]||0;n[0]*=l,n[1]*=l,n[2]*=u,n[3]*=u}this.invTransform=this.invTransform||create2(),invert(this.invTransform,n)},r.prototype.getComputedTransform=function(){for(var n=this,a=[];n;)a.push(n),n=n.parent;for(;n=a.pop();)n.updateTransform();return this.transform},r.prototype.setLocalTransform=function(n){if(!!n){var a=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],s=Math.atan2(n[1],n[0]),l=Math.PI/2+s-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(l),a=Math.sqrt(a),this.skewX=l,this.skewY=0,this.rotation=-s,this.x=+n[4],this.y=+n[5],this.scaleX=a,this.scaleY=o,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(!!this.transform){var n=this.parent,a=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,a),a=tmpTransform);var o=this.originX,s=this.originY;(o||s)&&(originTransform[4]=o,originTransform[5]=s,mul(tmpTransform,a,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=s,a=tmpTransform),this.setLocalTransform(a)}},r.prototype.getGlobalScale=function(n){var a=this.transform;return n=n||[],a?(n[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(n[0]=-n[0]),a[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},r.prototype.transformCoordToLocal=function(n,a){var o=[n,a],s=this.invTransform;return s&&applyTransform(o,o,s),o},r.prototype.transformCoordToGlobal=function(n,a){var o=[n,a],s=this.transform;return s&&applyTransform(o,o,s),o},r.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},r.prototype.copyTransform=function(n){copyTransform(this,n)},r.getLocalTransform=function(n,a){a=a||[];var o=n.originX||0,s=n.originY||0,l=n.scaleX,u=n.scaleY,f=n.anchorX,d=n.anchorY,v=n.rotation||0,g=n.x,y=n.y,b=n.skewX?Math.tan(n.skewX):0,_=n.skewY?Math.tan(-n.skewY):0;if(o||s||f||d){var x=o+f,w=s+d;a[4]=-x*l-b*w*u,a[5]=-w*u-_*x*l}else a[4]=a[5]=0;return a[0]=l,a[3]=u,a[1]=_*l,a[2]=b*u,v&&rotate(a,a,v),a[4]+=o+g,a[5]+=s+y,a},r.initDefaultProps=function(){var n=r.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,n){for(var a=0;a<TRANSFORMABLE_PROPS.length;a++){var o=TRANSFORMABLE_PROPS[a];r[o]=n[o]}}var Transformable_default=Transformable,Point=function(){function r(n,a){this.x=n||0,this.y=a||0}return r.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(n,a){return this.x=n,this.y=a,this},r.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},r.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.prototype.scale=function(n){this.x*=n,this.y*=n},r.prototype.scaleAndAdd=function(n,a){this.x+=n.x*a,this.y+=n.y*a},r.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},r.prototype.dot=function(n){return this.x*n.x+this.y*n.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},r.prototype.distance=function(n){var a=this.x-n.x,o=this.y-n.y;return Math.sqrt(a*a+o*o)},r.prototype.distanceSquare=function(n){var a=this.x-n.x,o=this.y-n.y;return a*a+o*o},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(n){if(!!n){var a=this.x,o=this.y;return this.x=n[0]*a+n[2]*o+n[4],this.y=n[1]*a+n[3]*o+n[5],this}},r.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},r.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},r.set=function(n,a,o){n.x=a,n.y=o},r.copy=function(n,a){n.x=a.x,n.y=a.y},r.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},r.lenSquare=function(n){return n.x*n.x+n.y*n.y},r.dot=function(n,a){return n.x*a.x+n.y*a.y},r.add=function(n,a,o){n.x=a.x+o.x,n.y=a.y+o.y},r.sub=function(n,a,o){n.x=a.x-o.x,n.y=a.y-o.y},r.scale=function(n,a,o){n.x=a.x*o,n.y=a.y*o},r.scaleAndAdd=function(n,a,o,s){n.x=a.x+o.x*s,n.y=a.y+o.y*s},r.lerp=function(n,a,o,s){var l=1-s;n.x=l*a.x+s*o.x,n.y=l*a.y+s*o.y},r}(),Point_default=Point,mathMin=Math.min,mathMax=Math.max,lt=new Point_default,rb=new Point_default,lb=new Point_default,rt=new Point_default,minTv=new Point_default,maxTv=new Point_default,BoundingRect=function(){function r(n,a,o,s){o<0&&(n=n+o,o=-o),s<0&&(a=a+s,s=-s),this.x=n,this.y=a,this.width=o,this.height=s}return r.prototype.union=function(n){var a=mathMin(n.x,this.x),o=mathMin(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax(n.x+n.width,this.x+this.width)-a:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=a,this.y=o},r.prototype.applyTransform=function(n){r.applyTransform(this,this,n)},r.prototype.calculateTransform=function(n){var a=this,o=n.width/a.width,s=n.height/a.height,l=create2();return translate(l,l,[-a.x,-a.y]),scale2(l,l,[o,s]),translate(l,l,[n.x,n.y]),l},r.prototype.intersect=function(n,a){if(!n)return!1;n instanceof r||(n=r.create(n));var o=this,s=o.x,l=o.x+o.width,u=o.y,f=o.y+o.height,d=n.x,v=n.x+n.width,g=n.y,y=n.y+n.height,b=!(l<d||v<s||f<g||y<u);if(a){var _=1/0,x=0,w=Math.abs(l-d),C=Math.abs(v-s),S=Math.abs(f-g),D=Math.abs(y-u),A=Math.min(w,C),T=Math.min(S,D);l<d||v<s?A>x&&(x=A,w<C?Point_default.set(maxTv,-w,0):Point_default.set(maxTv,C,0)):A<_&&(_=A,w<C?Point_default.set(minTv,w,0):Point_default.set(minTv,-C,0)),f<g||y<u?T>x&&(x=T,S<D?Point_default.set(maxTv,0,-S):Point_default.set(maxTv,0,D)):A<_&&(_=A,S<D?Point_default.set(minTv,0,S):Point_default.set(minTv,0,-D))}return a&&Point_default.copy(a,b?minTv:maxTv),b},r.prototype.contain=function(n,a){var o=this;return n>=o.x&&n<=o.x+o.width&&a>=o.y&&a<=o.y+o.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(n){r.copy(this,n)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(n){return new r(n.x,n.y,n.width,n.height)},r.copy=function(n,a){n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height},r.applyTransform=function(n,a,o){if(!o){n!==a&&r.copy(n,a);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],l=o[3],u=o[4],f=o[5];n.x=a.x*s+u,n.y=a.y*l+f,n.width=a.width*s,n.height=a.height*l,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=a.x,lt.y=rt.y=a.y,rb.x=rt.x=a.x+a.width,rb.y=lb.y=a.y+a.height,lt.transform(o),rt.transform(o),rb.transform(o),lb.transform(o),n.x=mathMin(lt.x,rb.x,lb.x,rt.x),n.y=mathMin(lt.y,rb.y,lb.y,rt.y);var d=mathMax(lt.x,rb.x,lb.x,rt.x),v=mathMax(lt.y,rb.y,lb.y,rt.y);n.width=d-n.x,n.height=v-n.y},r}(),BoundingRect_default=BoundingRect,textWidthCache={};function getWidth(r,n){n=n||DEFAULT_FONT;var a=textWidthCache[n];a||(a=textWidthCache[n]=new LRU_default(500));var o=a.get(r);return o==null&&(o=platformApi.measureText(r,n).width,a.put(r,o)),o}function innerGetBoundingRect(r,n,a,o){var s=getWidth(r,n),l=getLineHeight(n),u=adjustTextX(0,s,a),f=adjustTextY(0,l,o),d=new BoundingRect_default(u,f,s,l);return d}function getBoundingRect(r,n,a,o){var s=((r||"")+"").split(`
`),l=s.length;if(l===1)return innerGetBoundingRect(s[0],n,a,o);for(var u=new BoundingRect_default(0,0,0,0),f=0;f<s.length;f++){var d=innerGetBoundingRect(s[f],n,a,o);f===0?u.copy(d):u.union(d)}return u}function adjustTextX(r,n,a){return a==="right"?r-=n:a==="center"&&(r-=n/2),r}function adjustTextY(r,n,a){return a==="middle"?r-=n/2:a==="bottom"&&(r-=n),r}function getLineHeight(r){return getWidth("\u56FD",r)}function parsePercent(r,n){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*n:parseFloat(r):r}function calculateTextPosition(r,n,a){var o=n.position||"inside",s=n.distance!=null?n.distance:5,l=a.height,u=a.width,f=l/2,d=a.x,v=a.y,g="left",y="top";if(o instanceof Array)d+=parsePercent(o[0],a.width),v+=parsePercent(o[1],a.height),g=null,y=null;else switch(o){case"left":d-=s,v+=f,g="right",y="middle";break;case"right":d+=s+u,v+=f,y="middle";break;case"top":d+=u/2,v-=s,g="center",y="bottom";break;case"bottom":d+=u/2,v+=l+s,g="center";break;case"inside":d+=u/2,v+=f,g="center",y="middle";break;case"insideLeft":d+=s,v+=f,y="middle";break;case"insideRight":d+=u-s,v+=f,g="right",y="middle";break;case"insideTop":d+=u/2,v+=s,g="center";break;case"insideBottom":d+=u/2,v+=l-s,g="center",y="bottom";break;case"insideTopLeft":d+=s,v+=s;break;case"insideTopRight":d+=u-s,v+=s,g="right";break;case"insideBottomLeft":d+=s,v+=l-s,y="bottom";break;case"insideBottomRight":d+=u-s,v+=l-s,g="right",y="bottom";break}return r=r||{},r.x=d,r.y=v,r.align=g,r.verticalAlign=y,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect_default(0,0,0,0),Element2=function(){function r(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return r.prototype._init=function(n){this.attr(n)},r.prototype.drift=function(n,a,o){switch(this.draggable){case"horizontal":a=0;break;case"vertical":n=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=n,s[5]+=a,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(n){var a=this._textContent;if(a&&(!a.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,l=a.innerTransformable,u=void 0,f=void 0,d=!1;l.parent=s?this:null;var v=!1;if(l.copyTransform(a),o.position!=null){var g=tmpBoundingRect;o.layoutRect?g.copy(o.layoutRect):g.copy(this.getBoundingRect()),s||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,g):calculateTextPosition(tmpTextPosCalcRes,o,g),l.x=tmpTextPosCalcRes.x,l.y=tmpTextPosCalcRes.y,u=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var y=o.origin;if(y&&o.rotation!=null){var b=void 0,_=void 0;y==="center"?(b=g.width*.5,_=g.height*.5):(b=parsePercent(y[0],g.width),_=parsePercent(y[1],g.height)),v=!0,l.originX=-l.x+b+(s?0:g.x),l.originY=-l.y+_+(s?0:g.y)}}o.rotation!=null&&(l.rotation=o.rotation);var x=o.offset;x&&(l.x+=x[0],l.y+=x[1],v||(l.originX=-x[0],l.originY=-x[1]));var w=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,C=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),S=void 0,D=void 0,A=void 0;w&&this.canBeInsideText()?(S=o.insideFill,D=o.insideStroke,(S==null||S==="auto")&&(S=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(S),A=!0)):(S=o.outsideFill,D=o.outsideStroke,(S==null||S==="auto")&&(S=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(S),A=!0)),S=S||"#000",(S!==C.fill||D!==C.stroke||A!==C.autoStroke||u!==C.align||f!==C.verticalAlign)&&(d=!0,C.fill=S,C.stroke=D,C.autoStroke=A,C.align=u,C.verticalAlign=f,a.setDefaultTextStyle(C)),a.__dirty|=REDRAW_BIT,d&&a.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(n){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(n){var a=this.__zr&&this.__zr.getBackgroundColor(),o=typeof a=="string"&&parse(a);o||(o=[255,255,255,1]);for(var s=o[3],l=this.__zr.isDarkMode(),u=0;u<3;u++)o[u]=o[u]*s+(l?0:255)*(1-s);return o[3]=1,stringify(o,"rgba")},r.prototype.traverse=function(n,a){},r.prototype.attrKV=function(n,a){n==="textConfig"?this.setTextConfig(a):n==="textContent"?this.setTextContent(a):n==="clipPath"?this.setClipPath(a):n==="extra"?(this.extra=this.extra||{},extend2(this.extra,a)):this[n]=a},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(n,a){if(typeof n=="string")this.attrKV(n,a);else if(isObject3(n))for(var o=n,s=keys2(o),l=0;l<s.length;l++){var u=s[l];this.attrKV(u,n[u])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var a=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],l=s.__fromStateTransition;if(!(s.getLoop()||l&&l!==PRESERVED_NORMAL_STATE)){var u=s.targetName,f=u?a[u]:a;s.saveTo(f)}}},r.prototype._innerSaveToNormal=function(n){var a=this._normalState;a||(a=this._normalState={}),n.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(n,a,PRIMARY_STATES_KEYS)},r.prototype._savePrimaryToNormal=function(n,a,o){for(var s=0;s<o.length;s++){var l=o[s];n[l]!=null&&!(l in a)&&(a[l]=this[l])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(n){return this.states[n]},r.prototype.ensureState=function(n){var a=this.states;return a[n]||(a[n]={}),a[n]},r.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},r.prototype.useState=function(n,a,o,s){var l=n===PRESERVED_NORMAL_STATE,u=this.hasState();if(!(!u&&l)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,n)>=0&&(a||f.length===1))){var v;if(this.stateProxy&&!l&&(v=this.stateProxy(n)),v||(v=this.states&&this.states[n]),!v&&!l){logError2("State "+n+" not exists.");return}l||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||s);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,v,this._normalState,a,!o&&!this.__inHover&&d&&d.duration>0,d);var y=this._textContent,b=this._textGuide;return y&&y.useState(n,a,o,g),b&&b.useState(n,a,o,g),l?(this.currentStates=[],this._normalState={}):a?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),v}}},r.prototype.useStates=function(n,a,o){if(!n.length)this.clearStates();else{var s=[],l=this.currentStates,u=n.length,f=u===l.length;if(f){for(var d=0;d<u;d++)if(n[d]!==l[d]){f=!1;break}}if(f)return;for(var d=0;d<u;d++){var v=n[d],g=void 0;this.stateProxy&&(g=this.stateProxy(v,n)),g||(g=this.states[v]),g&&s.push(g)}var y=s[u-1],b=!!(y&&y.hoverLayer||o);b&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(s),x=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(n.join(","),_,this._normalState,!1,!a&&!this.__inHover&&x&&x.duration>0,x);var w=this._textContent,C=this._textGuide;w&&w.useStates(n,a,b),C&&C.useStates(n,a,b),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var a=this.animators[n];a.targetName&&a.changeTarget(this[a.targetName])}},r.prototype.removeState=function(n){var a=indexOf(this.currentStates,n);if(a>=0){var o=this.currentStates.slice();o.splice(a,1),this.useStates(o)}},r.prototype.replaceState=function(n,a,o){var s=this.currentStates.slice(),l=indexOf(s,n),u=indexOf(s,a)>=0;l>=0?u?s.splice(l,1):s[l]=a:o&&!u&&s.push(a),this.useStates(s)},r.prototype.toggleState=function(n,a){a?this.useState(n,!0):this.removeState(n)},r.prototype._mergeStates=function(n){for(var a={},o,s=0;s<n.length;s++){var l=n[s];extend2(a,l),l.textConfig&&(o=o||{},extend2(o,l.textConfig))}return o&&(a.textConfig=o),a},r.prototype._applyStateObj=function(n,a,o,s,l,u){var f=!(a&&s);a&&a.textConfig?(this.textConfig=extend2({},s?this.textConfig:o.textConfig),extend2(this.textConfig,a.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},v=!1,g=0;g<PRIMARY_STATES_KEYS.length;g++){var y=PRIMARY_STATES_KEYS[g],b=l&&DEFAULT_ANIMATABLE_MAP[y];a&&a[y]!=null?b?(v=!0,d[y]=a[y]):this[y]=a[y]:f&&o[y]!=null&&(b?(v=!0,d[y]=o[y]):this[y]=o[y])}if(!l)for(var g=0;g<this.animators.length;g++){var _=this.animators[g],x=_.targetName;_.getLoop()||_.__changeFinalValue(x?(a||o)[x]:a||o)}v&&this._transitionState(n,d,u)},r.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");if(n===this)throw new Error("Recursive component attachment.");var a=this.__zr;a&&n.addSelfToZr(a),n.__zr=a,n.__hostTarget=this},r.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},r.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(n){var a=this._textContent;if(a!==n){if(a&&a!==n&&this.removeTextContent(),n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Transformable_default,this._attachComponent(n),this._textContent=n,this.markRedraw()}},r.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend2(this.textConfig,n),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var a=this._textContent,o=this._textGuide;a&&(a.__inHover=n),o&&(o.__inHover=n)},r.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var a=this.animators;if(a)for(var o=0;o<a.length;o++)n.animation.addAnimator(a[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){if(!!this.__zr){this.__zr=null;var a=this.animators;if(a)for(var o=0;o<a.length;o++)n.animation.removeAnimator(a[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},r.prototype.animate=function(n,a,o){var s=n?this[n]:this;if(!s){logError2('Property "'+n+'" is not existed in element '+this.id);return}var l=new Animator_default(s,a,o);return n&&(l.targetName=n),this.addAnimator(l,n),l},r.prototype.addAnimator=function(n,a){var o=this.__zr,s=this;n.during(function(){s.updateDuringAnimation(a)}).done(function(){var l=s.animators,u=indexOf(l,n);u>=0&&l.splice(u,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},r.prototype.updateDuringAnimation=function(n){this.markRedraw()},r.prototype.stopAnimation=function(n,a){for(var o=this.animators,s=o.length,l=[],u=0;u<s;u++){var f=o[u];!n||n===f.scope?f.stop(a):l.push(f)}return this.animators=l,this},r.prototype.animateTo=function(n,a,o){animateTo(this,n,a,o)},r.prototype.animateFrom=function(n,a,o){animateTo(this,n,a,o,!0)},r.prototype._transitionState=function(n,a,o,s){for(var l=animateTo(this,a,o,s),u=0;u<l.length;u++)l[u].__fromStateTransition=n},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var n=r.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;var a={};function o(l,u,f){a[l+u+f]||(console.warn("DEPRECATED: '"+l+"' has been deprecated. use '"+u+"', '"+f+"' instead"),a[l+u+f]=!0)}function s(l,u,f,d){Object.defineProperty(n,l,{get:function(){if(o(l,f,d),!this[u]){var g=this[u]=[];v(this,g)}return this[u]},set:function(g){o(l,f,d),this[f]=g[0],this[d]=g[1],this[u]=g,v(this,g)}});function v(g,y){Object.defineProperty(y,0,{get:function(){return g[f]},set:function(b){g[f]=b}}),Object.defineProperty(y,1,{get:function(){return g[d]},set:function(b){g[d]=b}})}}Object.defineProperty&&(s("position","_legacyPos","x","y"),s("scale","_legacyScale","scaleX","scaleY"),s("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element2,Eventful_default),mixin(Element2,Transformable_default);function animateTo(r,n,a,o,s){a=a||{};var l=[];animateToShallow(r,"",r,n,a,o,l,s);var u=l.length,f=!1,d=a.done,v=a.aborted,g=function(){f=!0,u--,u<=0&&(f?d&&d():v&&v())},y=function(){u--,u<=0&&(f?d&&d():v&&v())};u||d&&d(),l.length>0&&a.during&&l[0].during(function(x,w){a.during(w)});for(var b=0;b<l.length;b++){var _=l[b];g&&_.done(g),y&&_.aborted(y),a.force&&_.duration(a.duration),_.start(a.easing)}return l}function copyArrShallow(r,n,a){for(var o=0;o<a;o++)r[o]=n[o]}function is2DArray(r){return isArrayLike2(r[0])}function copyValue(r,n,a){if(isArrayLike2(n[a]))if(isArrayLike2(r[a])||(r[a]=[]),isTypedArray2(n[a])){var o=n[a].length;r[a].length!==o&&(r[a]=new n[a].constructor(o),copyArrShallow(r[a],n[a],o))}else{var s=n[a],l=r[a],u=s.length;if(is2DArray(s))for(var f=s[0].length,d=0;d<u;d++)l[d]?copyArrShallow(l[d],s[d],f):l[d]=Array.prototype.slice.call(s[d]);else copyArrShallow(l,s,u);l.length=s.length}else r[a]=n[a]}function isValueSame(r,n){return r===n||isArrayLike2(r)&&isArrayLike2(n)&&is1DArraySame(r,n)}function is1DArraySame(r,n){var a=r.length;if(a!==n.length)return!1;for(var o=0;o<a;o++)if(r[o]!==n[o])return!1;return!0}function animateToShallow(r,n,a,o,s,l,u,f){for(var d=keys2(o),v=s.duration,g=s.delay,y=s.additive,b=s.setToFinal,_=!isObject3(l),x=r.animators,w=[],C=0;C<d.length;C++){var S=d[C],D=o[S];if(D!=null&&a[S]!=null&&(_||l[S]))if(isObject3(D)&&!isArrayLike2(D)&&!isGradientObject(D)){if(n){f||(a[S]=D,r.updateDuringAnimation(n));continue}animateToShallow(r,S,a[S],D,s,l&&l[S],u,f)}else w.push(S);else f||(a[S]=D,r.updateDuringAnimation(n),w.push(S))}var A=w.length;if(!y&&A)for(var T=0;T<x.length;T++){var P=x[T];if(P.targetName===n){var E=P.stopTracks(w);if(E){var M=indexOf(x,P);x.splice(M,1)}}}if(s.force||(w=filter(w,function(B){return!isValueSame(o[B],a[B])}),A=w.length),A>0||s.force&&!u.length){var L=void 0,F=void 0,I=void 0;if(f){F={},b&&(L={});for(var T=0;T<A;T++){var S=w[T];F[S]=a[S],b?L[S]=o[S]:a[S]=o[S]}}else if(b){I={};for(var T=0;T<A;T++){var S=w[T];I[S]=cloneValue(a[S]),copyValue(a,o,S)}}var P=new Animator_default(a,!1,!1,y?filter(x,function(O){return O.targetName===n}):null);P.targetName=n,s.scope&&(P.scope=s.scope),b&&L&&P.whenWithKeys(0,L,w),I&&P.whenWithKeys(0,I,w),P.whenWithKeys(v==null?500:v,f?F:o,w).delay(g||0),r.addAnimator(P,n),u.push(P)}}var Element_default=Element2,Group=function(r){__extends2(n,r);function n(a){var o=r.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(a),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(a){return this._children[a]},n.prototype.childOfName=function(a){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===a)return o[s]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(a){if(a&&(a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),a.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(a,o){if(a&&a!==this&&a.parent!==this&&o&&o.parent===this){var s=this._children,l=s.indexOf(o);l>=0&&(s.splice(l,0,a),this._doAdd(a))}return this},n.prototype.replace=function(a,o){var s=indexOf(this._children,a);return s>=0&&this.replaceAt(o,s),this},n.prototype.replaceAt=function(a,o){var s=this._children,l=s[o];if(a&&a!==this&&a.parent!==this&&a!==l){s[o]=a,l.parent=null;var u=this.__zr;u&&l.removeSelfFromZr(u),this._doAdd(a)}return this},n.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var o=this.__zr;o&&o!==a.__zr&&a.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(a){var o=this.__zr,s=this._children,l=indexOf(s,a);return l<0?this:(s.splice(l,1),a.parent=null,o&&a.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var a=this._children,o=this.__zr,s=0;s<a.length;s++){var l=a[s];o&&l.removeSelfFromZr(o),l.parent=null}return a.length=0,this},n.prototype.eachChild=function(a,o){for(var s=this._children,l=0;l<s.length;l++){var u=s[l];a.call(o,u,l)}return this},n.prototype.traverse=function(a,o){for(var s=0;s<this._children.length;s++){var l=this._children[s],u=a.call(o,l);l.isGroup&&!u&&l.traverse(a,o)}return this},n.prototype.addSelfToZr=function(a){r.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.addSelfToZr(a)}},n.prototype.removeSelfFromZr=function(a){r.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.removeSelfFromZr(a)}},n.prototype.getBoundingRect=function(a){for(var o=new BoundingRect_default(0,0,0,0),s=a||this._children,l=[],u=null,f=0;f<s.length;f++){var d=s[f];if(!(d.ignore||d.invisible)){var v=d.getBoundingRect(),g=d.getLocalTransform(l);g?(BoundingRect_default.applyTransform(o,v,g),u=u||o.clone(),u.union(o)):(u=u||v.clone(),u.union(v))}}return u||o},n}(Element_default);Group.prototype.type="group";var Group_default=Group,painterCtors={},instances={};function delInstance(r){delete instances[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var n=r.colorStops,a=0,o=n.length,s=0;s<o;s++)a+=lum(n[s].color,1);return a/=o,a<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(n,a,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=a,this.id=n;var l=new Storage_default,u=o.renderer||"canvas";if(painterCtors[u]||(u=keys2(painterCtors)[0]),!painterCtors[u])throw new Error("Renderer '"+u+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var f=new painterCtors[u](a,l,o,n),d=o.ssr||f.ssrOnly;this.storage=l,this.painter=f;var v=!env_default.node&&!env_default.worker&&!d?new HandlerProxy_default(f.getViewportRoot(),f.root):null;this.handler=new Handler_default(l,f,v,f.root),this.animation=new Animation_default({stage:{update:d?null:function(){return s._flush(!0)}}}),d||this.animation.start()}return r.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},r.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(n,a){this.painter.configLayer&&this.painter.configLayer(n,a),this.refresh()},r.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(n){this._darkMode=n},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(n){var a,o=getTime();this._needsRefresh&&(a=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var s=getTime();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},r.prototype.findHover=function(n,a){return this.handler.findHover(n,a)},r.prototype.on=function(n,a,o){return this.handler.on(n,a,o),this},r.prototype.off=function(n,a){this.handler.off(n,a)},r.prototype.trigger=function(n,a){this.handler.trigger(n,a)},r.prototype.clear=function(){for(var n=this.storage.getRoots(),a=0;a<n.length;a++)n[a]instanceof Group_default&&n[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},r}();function init2(r,n){var a=new ZRender(guid(),r,n);return instances[a.id]=a,a}function registerPainter(r,n){painterCtors[r]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap(r,n,a,o){var s=n[0],l=n[1],u=a[0],f=a[1],d=l-s,v=f-u;if(d===0)return v===0?u:(u+f)/2;if(o)if(d>0){if(r<=s)return u;if(r>=l)return f}else{if(r>=s)return u;if(r<=l)return f}else{if(r===s)return u;if(r===l)return f}return(r-s)/d*v+u}function parsePercent2(r,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString2(r)?_trim(r).match(/%$/)?parseFloat(r)/100*n:parseFloat(r):r==null?NaN:+r}function round(r,n,a){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(n),a?r:+r}function asc(r){return r.sort(function(n,a){return n-a}),r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var n=1,a=0;a<15;a++,n*=10)if(Math.round(r*n)/n===r)return a}return getPrecisionSafe(r)}function getPrecisionSafe(r){var n=r.toString().toLowerCase(),a=n.indexOf("e"),o=a>0?+n.slice(a+1):0,s=a>0?a:n.length,l=n.indexOf("."),u=l<0?0:s-1-l;return Math.max(0,u-o)}function getPixelPrecision(r,n){var a=Math.log,o=Math.LN10,s=Math.floor(a(r[1]-r[0])/o),l=Math.round(a(Math.abs(n[1]-n[0]))/o),u=Math.min(Math.max(-s+l,0),20);return isFinite(u)?u:20}function getPercentWithPrecision(r,n,a){if(!r[n])return 0;var o=reduce(r,function(x,w){return x+(isNaN(w)?0:w)},0);if(o===0)return 0;for(var s=Math.pow(10,a),l=map3(r,function(x){return(isNaN(x)?0:x)/o*s*100}),u=s*100,f=map3(l,function(x){return Math.floor(x)}),d=reduce(f,function(x,w){return x+w},0),v=map3(l,function(x,w){return x-f[w]});d<u;){for(var g=Number.NEGATIVE_INFINITY,y=null,b=0,_=v.length;b<_;++b)v[b]>g&&(g=v[b],y=b);++f[y],v[y]=0,++d}return f[n]/s}function addSafe(r,n){var a=Math.max(getPrecision(r),getPrecision(n)),o=r+n;return a>ROUND_SUPPORTED_PRECISION_MAX?o:round(o,a)}function remRadian(r){var n=Math.PI*2;return(r%n+n)%n}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString2(r)){var n=TIME_REG.exec(r);if(!n)return new Date(NaN);if(n[8]){var a=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(a-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,a,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var n=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,n)>=10&&n++,n}function nice(r,n){var a=quantityExponent(r),o=Math.pow(10,a),s=r/o,l;return n?s<1.5?l=1:s<2.5?l=2:s<4?l=3:s<7?l=5:l=10:s<1?l=1:s<2?l=2:s<3?l=3:s<5?l=5:l=10,r=l*o,a>=-20?+r.toFixed(a<0?-a:0):r}function reformIntervals(r){r.sort(function(d,v){return f(d,v,0)?-1:1});for(var n=-1/0,a=1,o=0;o<r.length;){for(var s=r[o].interval,l=r[o].close,u=0;u<2;u++)s[u]<=n&&(s[u]=n,l[u]=u?1:1-a),n=s[u],a=l[u];s[0]===s[1]&&l[0]*l[1]!=1?r.splice(o,1):o++}return r;function f(d,v,g){return d.interval[g]<v.interval[g]||d.interval[g]===v.interval[g]&&(d.close[g]-v.close[g]==(g?-1:1)||!g&&f(d,v,1))}}function numericToNumber(r){var n=parseFloat(r);return n==r&&(n!==0||!isString2(r)||r.indexOf("x")<=0)?n:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,n){return n===0?r:getGreatestCommonDividor(n,r%n)}function getLeastCommonMultiple(r,n){return r==null?n:n==null?r:r*n/getGreatestCommonDividor(r,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console!="undefined"&&console.warn&&console.log;function outputLog(r,n,a){if(hasConsole){if(a){if(storedLogs[n])return;storedLogs[n]=!0}console[r](ECHARTS_PREFIX+n)}}function log(r,n){outputLog("log",r,n)}function warn6(r,n){outputLog("warn",r,n)}function error(r,n){outputLog("error",r,n)}function deprecateLog(r){outputLog("warn","DEPRECATED: "+r,!0)}function deprecateReplaceLog(r,n,a){deprecateLog((a?"["+a+"]":"")+(r+" is deprecated, use "+n+" instead."))}function makePrintable(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a="",o=function(s){return s===void 0?"undefined":s===1/0?"Infinity":s===-1/0?"-Infinity":eqNaN(s)?"NaN":s instanceof Date?"Date("+s.toISOString()+")":isFunction3(s)?"function () { ... }":isRegExp(s)?s+"":null};return a=map3(r,function(s){if(isString2(s))return s;var l=o(s);if(l!=null)return l;if(typeof JSON!="undefined"&&JSON.stringify)try{return JSON.stringify(s,function(u,f){var d=o(f);return d==null?f:d})}catch(u){return"?"}else return"?"}).join(" "),a}function throwError2(r){throw new Error(r)}function interpolateNumber2(r,n,a){return(n-r)*a+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,n,a){if(r){r[n]=r[n]||{},r.emphasis=r.emphasis||{},r.emphasis[n]=r.emphasis[n]||{};for(var o=0,s=a.length;o<s;o++){var l=a[o];!r.emphasis[n].hasOwnProperty(l)&&r[n].hasOwnProperty(l)&&(r.emphasis[n][l]=r[n][l])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject3(r)&&!isArray3(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject3(r)&&!(r instanceof Array)}function mappingToExists(r,n,a){var o=a==="normalMerge",s=a==="replaceMerge",l=a==="replaceAll";r=r||[],n=(n||[]).slice();var u=createHashMap();each(n,function(d,v){if(!isObject3(d)){n[v]=null;return}d.id!=null&&!isValidIdOrName(d.id)&&warnInvalidateIdOrName(d.id),d.name!=null&&!isValidIdOrName(d.name)&&warnInvalidateIdOrName(d.name)});var f=prepareResult(r,u,a);return(o||s)&&mappingById(f,r,u,n),o&&mappingByName(f,n),o||s?mappingByIndex(f,n,s):l&&mappingInReplaceAllMode(f,n),makeIdAndName(f),f}function prepareResult(r,n,a){var o=[];if(a==="replaceAll")return o;for(var s=0;s<r.length;s++){var l=r[s];l&&l.id!=null&&n.set(l.id,s),o.push({existing:a==="replaceMerge"||isComponentIdInternal(l)?null:l,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(r,n,a,o){each(o,function(s,l){if(!(!s||s.id==null)){var u=makeComparableKey(s.id),f=a.get(u);if(f!=null){var d=r[f];assert(!d.newOption,'Duplicated option on id "'+u+'".'),d.newOption=s,d.existing=n[f],o[l]=null}}})}function mappingByName(r,n){each(n,function(a,o){if(!(!a||a.name==null))for(var s=0;s<r.length;s++){var l=r[s].existing;if(!r[s].newOption&&l&&(l.id==null||a.id==null)&&!isComponentIdInternal(a)&&!isComponentIdInternal(l)&&keyExistAndEqual("name",l,a)){r[s].newOption=a,n[o]=null;return}}})}function mappingByIndex(r,n,a){each(n,function(o){if(!!o){for(var s,l=0;(s=r[l])&&(s.newOption||isComponentIdInternal(s.existing)||s.existing&&o.id!=null&&!keyExistAndEqual("id",o,s.existing));)l++;s?(s.newOption=o,s.brandNew=a):r.push({newOption:o,brandNew:a,existing:null,keyInfo:null}),l++}})}function mappingInReplaceAllMode(r,n){each(n,function(a){r.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var n=createHashMap();each(r,function(a){var o=a.existing;o&&n.set(o.id,a)}),each(r,function(a){var o=a.newOption;assert(!o||o.id==null||!n.get(o.id)||n.get(o.id)===a,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,a),!a.keyInfo&&(a.keyInfo={})}),each(r,function(a,o){var s=a.existing,l=a.newOption,u=a.keyInfo;if(!!isObject3(l)){if(u.name=l.name!=null?makeComparableKey(l.name):s?s.name:DUMMY_COMPONENT_NAME_PREFIX+o,s)u.id=makeComparableKey(s.id);else if(l.id!=null)u.id=makeComparableKey(l.id);else{var f=0;do u.id="\0"+u.name+"\0"+f++;while(n.get(u.id))}n.set(u.id,a)}})}function keyExistAndEqual(r,n,a){var o=convertOptionIdName(n[r],null),s=convertOptionIdName(a[r],null);return o!=null&&s!=null&&o===s}function makeComparableKey(r){if(r==null)throw new Error;return convertOptionIdName(r,"")}function convertOptionIdName(r,n){return r==null?n:isString2(r)?r:isNumber(r)||isStringSafe(r)?r+"":n}function warnInvalidateIdOrName(r){warn6("`"+r+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(r){return isStringSafe(r)||isNumeric(r)}function isNameSpecified(r){var n=r.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(r){return INTERNAL_COMPONENT_ID_PREFIX+r}function setComponentTypeToKeyInfo(r,n,a){each(r,function(o){var s=o.newOption;isObject3(s)&&(o.keyInfo.mainType=n,o.keyInfo.subType=determineSubType(n,s,o.existing,a))})}function determineSubType(r,n,a,o){var s=n.type?n.type:a?a.subType:o.determineSubType(r,n);return s}function compressBatches(r,n){var a={},o={};return s(r||[],a),s(n||[],o,a),[l(a),l(o)];function s(u,f,d){for(var v=0,g=u.length;v<g;v++){var y=convertOptionIdName(u[v].seriesId,null);if(y==null)return;for(var b=normalizeToArray(u[v].dataIndex),_=d&&d[y],x=0,w=b.length;x<w;x++){var C=b[x];_&&_[C]?_[C]=null:(f[y]||(f[y]={}))[C]=1}}}function l(u,f){var d=[];for(var v in u)if(u.hasOwnProperty(v)&&u[v]!=null)if(f)d.push(+v);else{var g=l(u[v],!0);g.length&&d.push({seriesId:v,dataIndex:g})}return d}}function queryDataIndex(r,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray3(n.dataIndex)?map3(n.dataIndex,function(a){return r.indexOfRawIndex(a)}):r.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray3(n.name)?map3(n.name,function(a){return r.indexOfName(a)}):r.indexOfName(n.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(n){return n[r]||(n[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(r,n,a){var o=preParseFinder(n,a),s=o.mainTypeSpecified,l=o.queryOptionMap,u=o.others,f=u,d=a?a.defaultMainType:null;return!s&&d&&l.set(d,{}),l.each(function(v,g){var y=queryReferringComponents(r,g,v,{useDefault:d===g,enableAll:a&&a.enableAll!=null?a.enableAll:!0,enableNone:a&&a.enableNone!=null?a.enableNone:!0});f[g+"Models"]=y.models,f[g+"Model"]=y.models[0]}),f}function preParseFinder(r,n){var a;if(isString2(r)){var o={};o[r+"Index"]=0,a=o}else a=r;var s=createHashMap(),l={},u=!1;return each(a,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){l[d]=f;return}var v=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,g)<0)){u=u||!!g;var b=s.get(g)||s.set(g,{});b[y]=f}}),{mainTypeSpecified:u,queryOptionMap:s,others:l}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(r,n,a,o){o=o||SINGLE_REFERRING;var s=a.index,l=a.id,u=a.name,f={models:null,specified:s!=null||l!=null||u!=null};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=r.getComponent(n))?[d]:[],f}return s==="none"||s===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(s==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),s=l=u=null),f.models=r.queryComponents({mainType:n,index:s,id:l,name:u}),f)}function setAttribute(r,n,a){r.setAttribute?r.setAttribute(n,a):r[n]=a}function getAttribute(r,n){return r.getAttribute?r.getAttribute(n):r[n]}function getTooltipRenderMode(r){return r==="auto"?env_default.domSupported?"html":"richText":r||"html"}function groupData(r,n){var a=createHashMap(),o=[];return each(r,function(s){var l=n(s);(a.get(l)||(o.push(l),a.set(l,[]))).push(s)}),{keys:o,buckets:a}}function interpolateRawValues(r,n,a,o,s){var l=n==null||n==="auto";if(o==null)return o;if(isNumber(o)){var u=interpolateNumber2(a||0,o,s);return round(u,l?Math.max(getPrecision(a||0),getPrecision(o)):n)}else{if(isString2(o))return s<1?a:o;for(var f=[],d=a,v=o,g=Math.max(d?d.length:0,v.length),y=0;y<g;++y){var b=r.getDimensionInfo(y);if(b&&b.type==="ordinal")f[y]=(s<1&&d?d:v)[y];else{var _=d&&d[y]?d[y]:0,x=v[y],u=interpolateNumber2(_,x,s);f[y]=round(u,l?Math.max(getPrecision(_),getPrecision(x)):n)}}return f}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var n={main:"",sub:""};if(r){var a=r.split(TYPE_DELIMITER);n.main=a[0]||"",n.sub=a[1]||""}return n}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,n){r.$constructor=r,r.extend=function(a){each(n,function(l){a[l]||console.warn("Method `"+l+"` should be implemented"+(a.type?" in "+a.type:"")+".")});var o=this,s;return isESClass(o)?s=function(l){__extends(u,l);function u(){return l.apply(this,arguments)||this}return u}(o):(s=function(){(a.$constructor||o).apply(this,arguments)},inherits(s,this)),extend2(s.prototype,a),s[IS_EXTENDED_CLASS]=!0,s.extend=this.extend,s.superCall=superCall,s.superApply=superApply,s.superClass=o,s}}function isESClass(r){return isFunction3(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,n){r.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var n=["__\0is_clz",classBase++].join("_");r.prototype[n]=!0,assert(!r.isInstance,'The method "is" can not be defined.'),r.isInstance=function(a){return!!(a&&a[n])}}function superCall(r,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return this.superClass.prototype[n].apply(r,a)}function superApply(r,n,a){return this.superClass.prototype[n].apply(r,a)}function enableClassManagement(r){var n={};r.registerClass=function(o){var s=o.type||o.prototype.type;if(s){checkClassType(s),o.prototype.type=s;var l=parseClassType(s);if(!l.sub)n[l.main]&&console.warn(l.main+" exists."),n[l.main]=o;else if(l.sub!==IS_CONTAINER){var u=a(l);u[l.sub]=o}}return o},r.getClass=function(o,s,l){var u=n[o];if(u&&u[IS_CONTAINER]&&(u=s?u[s]:null),l&&!u)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return u},r.getClassesByMainType=function(o){var s=parseClassType(o),l=[],u=n[s.main];return u&&u[IS_CONTAINER]?each(u,function(f,d){d!==IS_CONTAINER&&l.push(f)}):l.push(u),l},r.hasClass=function(o){var s=parseClassType(o);return!!n[s.main]},r.getAllClassMainTypes=function(){var o=[];return each(n,function(s,l){o.push(l)}),o},r.hasSubTypes=function(o){var s=parseClassType(o),l=n[s.main];return l&&l[IS_CONTAINER]};function a(o){var s=n[o.main];return(!s||!s[IS_CONTAINER])&&(s=n[o.main]={},s[IS_CONTAINER]=!0),s}}function makeStyleMapper(r,n){for(var a=0;a<r.length;a++)r[a][1]||(r[a][1]=r[a][0]);return n=n||!1,function(o,s,l){for(var u={},f=0;f<r.length;f++){var d=r[f][1];if(!(s&&indexOf(s,d)>=0||l&&indexOf(l,d)<0)){var v=o.getShallow(d,n);v!=null&&(u[r[f][0]]=v)}}return u}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(n,a){return getAreaStyle(this,n,a)},r}(),globalImageCache=new LRU_default(50);function findExistImage(r){if(typeof r=="string"){var n=globalImageCache.get(r);return n&&n.image}else return r}function createOrUpdateImage(r,n,a,o,s){if(r)if(typeof r=="string"){if(n&&n.__zrImageSrc===r||!a)return n;var l=globalImageCache.get(r),u={hostEl:a,cb:o,cbPayload:s};if(l)n=l.image,!isImageReady(n)&&l.pending.push(u);else{var f=platformApi.loadImage(r,imageOnLoad,imageOnLoad);f.__zrImageSrc=r,globalImageCache.put(r,f.__cachedImgObj={image:f,pending:[u]})}return n}else return r;else return n}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<r.pending.length;n++){var a=r.pending[n],o=a.cb;o&&o(this,a.cbPayload),a.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,n,a,o,s){if(!n)return"";var l=(r+"").split(`
`);s=prepareTruncateOptions(n,a,o,s);for(var u=0,f=l.length;u<f;u++)l[u]=truncateSingleLine(l[u],s);return l.join(`
`)}function prepareTruncateOptions(r,n,a,o){o=o||{};var s=extend2({},o);s.font=n,a=retrieve2(a,"..."),s.maxIterations=retrieve2(o.maxIterations,2);var l=s.minChar=retrieve2(o.minChar,0);s.cnCharWidth=getWidth("\u56FD",n);var u=s.ascCharWidth=getWidth("a",n);s.placeholder=retrieve2(o.placeholder,"");for(var f=r=Math.max(0,r-1),d=0;d<l&&f>=u;d++)f-=u;var v=getWidth(a,n);return v>f&&(a="",v=0),f=r-v,s.ellipsis=a,s.ellipsisWidth=v,s.contentWidth=f,s.containerWidth=r,s}function truncateSingleLine(r,n){var a=n.containerWidth,o=n.font,s=n.contentWidth;if(!a)return"";var l=getWidth(r,o);if(l<=a)return r;for(var u=0;;u++){if(l<=s||u>=n.maxIterations){r+=n.ellipsis;break}var f=u===0?estimateLength(r,s,n.ascCharWidth,n.cnCharWidth):l>0?Math.floor(r.length*s/l):0;r=r.substr(0,f),l=getWidth(r,o)}return r===""&&(r=n.placeholder),r}function estimateLength(r,n,a,o){for(var s=0,l=0,u=r.length;l<u&&s<n;l++){var f=r.charCodeAt(l);s+=0<=f&&f<=127?a:o}return l}function parsePlainText(r,n){r!=null&&(r+="");var a=n.overflow,o=n.padding,s=n.font,l=a==="truncate",u=getLineHeight(s),f=retrieve2(n.lineHeight,u),d=!!n.backgroundColor,v=n.lineOverflow==="truncate",g=n.width,y;g!=null&&(a==="break"||a==="breakAll")?y=r?wrapText(r,n.font,g,a==="breakAll",0).lines:[]:y=r?r.split(`
`):[];var b=y.length*f,_=retrieve2(n.height,b);if(b>_&&v){var x=Math.floor(_/f);y=y.slice(0,x)}if(r&&l&&g!=null)for(var w=prepareTruncateOptions(g,s,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),C=0;C<y.length;C++)y[C]=truncateSingleLine(y[C],w);for(var S=_,D=0,C=0;C<y.length;C++)D=Math.max(getWidth(y[C],s),D);g==null&&(g=D);var A=D;return o&&(S+=o[0]+o[2],A+=o[1]+o[3],g+=o[1]+o[3]),d&&(A=g),{lines:y,height:_,outerWidth:A,outerHeight:S,lineHeight:f,calculatedLineHeight:u,contentWidth:D,contentHeight:b,width:g}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(n){this.tokens=[],n&&(this.tokens=n)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function parseRichText(r,n){var a=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return a;for(var o=n.width,s=n.height,l=n.overflow,u=(l==="break"||l==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:l==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(r))!=null;){var v=d.index;v>f&&pushTokens(a,r.substring(f,v),n,u),pushTokens(a,d[2],n,u,d[1]),f=STYLE_REG.lastIndex}f<r.length&&pushTokens(a,r.substring(f,r.length),n,u);var g=[],y=0,b=0,_=n.padding,x=l==="truncate",w=n.lineOverflow==="truncate";function C(H,$,Y){H.width=$,H.lineHeight=Y,y+=Y,b=Math.max(b,$)}e:for(var S=0;S<a.lines.length;S++){for(var D=a.lines[S],A=0,T=0,P=0;P<D.tokens.length;P++){var E=D.tokens[P],M=E.styleName&&n.rich[E.styleName]||{},L=E.textPadding=M.padding,F=L?L[1]+L[3]:0,I=E.font=M.font||n.font;E.contentHeight=getLineHeight(I);var B=retrieve2(M.height,E.contentHeight);if(E.innerHeight=B,L&&(B+=L[0]+L[2]),E.height=B,E.lineHeight=retrieve3(M.lineHeight,n.lineHeight,B),E.align=M&&M.align||n.align,E.verticalAlign=M&&M.verticalAlign||"middle",w&&s!=null&&y+E.lineHeight>s){P>0?(D.tokens=D.tokens.slice(0,P),C(D,T,A),a.lines=a.lines.slice(0,S+1)):a.lines=a.lines.slice(0,S);break e}var O=M.width,R=O==null||O==="auto";if(typeof O=="string"&&O.charAt(O.length-1)==="%")E.percentWidth=O,g.push(E),E.contentWidth=getWidth(E.text,I);else{if(R){var z=M.backgroundColor,N=z&&z.image;N&&(N=findExistImage(N),isImageReady(N)&&(E.width=Math.max(E.width,N.width*B/N.height)))}var V=x&&o!=null?o-T:null;V!=null&&V<E.width?!R||V<F?(E.text="",E.width=E.contentWidth=0):(E.text=truncateText(E.text,V-F,I,n.ellipsis,{minChar:n.truncateMinChar}),E.width=E.contentWidth=getWidth(E.text,I)):E.contentWidth=getWidth(E.text,I)}E.width+=F,T+=E.width,M&&(A=Math.max(A,E.lineHeight))}C(D,T,A)}a.outerWidth=a.width=retrieve2(o,b),a.outerHeight=a.height=retrieve2(s,y),a.contentHeight=y,a.contentWidth=b,_&&(a.outerWidth+=_[1]+_[3],a.outerHeight+=_[0]+_[2]);for(var S=0;S<g.length;S++){var E=g[S],W=E.percentWidth;E.width=parseInt(W,10)/100*a.width}return a}function pushTokens(r,n,a,o,s){var l=n==="",u=s&&a.rich[s]||{},f=r.lines,d=u.font||a.font,v=!1,g,y;if(o){var b=u.padding,_=b?b[1]+b[3]:0;if(u.width!=null&&u.width!=="auto"){var x=parsePercent(u.width,o.width)+_;f.length>0&&x+o.accumWidth>o.width&&(g=n.split(`
`),v=!0),o.accumWidth=x}else{var w=wrapText(n,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=w.accumWidth+_,y=w.linesWidths,g=w.lines}}else g=n.split(`
`);for(var C=0;C<g.length;C++){var S=g[C],D=new RichTextToken;if(D.styleName=s,D.text=S,D.isLineHolder=!S&&!l,typeof u.width=="number"?D.width=u.width:D.width=y?y[C]:getWidth(S,d),!C&&!v){var A=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,T=A.length;T===1&&A[0].isLineHolder?A[0]=D:(S||!T||l)&&A.push(D)}else f.push(new RichTextLine([D]))}}function isLatin(r){var n=r.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(r,n){return r[n]=!0,r},{});function isWordBreakChar(r){return isLatin(r)?!!breakCharMap[r]:!0}function wrapText(r,n,a,o,s){for(var l=[],u=[],f="",d="",v=0,g=0,y=0;y<r.length;y++){var b=r.charAt(y);if(b===`
`){d&&(f+=d,g+=v),l.push(f),u.push(g),f="",d="",v=0,g=0;continue}var _=getWidth(b,n),x=o?!1:!isWordBreakChar(b);if(l.length?g+_>a:s+g+_>a){g?(f||d)&&(x?(f||(f=d,d="",v=0,g=v),l.push(f),u.push(g-v),d+=b,v+=_,f="",g=v):(d&&(f+=d,d="",v=0),l.push(f),u.push(g),f=b,g=_)):x?(l.push(d),u.push(v),d=b,v=_):(l.push(b),u.push(_));continue}g+=_,x?(d+=b,v+=_):(d&&(f+=d,d="",v=0),f+=b)}return!l.length&&!f&&(f=r,d="",v=0),d&&(f+=d),f&&(l.push(f),u.push(g)),l.length===1&&(g+=s),{accumWidth:g,lines:l,linesWidths:u}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS2=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype._init=function(a){for(var o=keys2(a),s=0;s<o.length;s++){var l=o[s];l==="style"?this.useStyle(a[l]):r.prototype.attrKV.call(this,l,a[l])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(a,o,s,l){var u=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,a,o)||u&&!u[0]&&!u[3])return!1;if(s&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(l&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(a,o){return this.rectContain(a,o)},n.prototype.traverse=function(a,o){a.call(o,this)},n.prototype.rectContain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();return l.contain(s[0],s[1])},n.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),l=this.style,u=l.shadowBlur||0,f=l.shadowOffsetX||0,d=l.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new BoundingRect_default(0,0,0,0)),o?BoundingRect_default.applyTransform(a,s,o):a.copy(s),(u||f||d)&&(a.width+=u*2+Math.abs(f),a.height+=u*2+Math.abs(d),a.x=Math.min(a.x,a.x+f-u),a.y=Math.min(a.y,a.y+d-u));var v=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-v),a.y=Math.floor(a.y-v),a.width=Math.ceil(a.width+1+v*2),a.height=Math.ceil(a.height+1+v*2))}return a},n.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new BoundingRect_default(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(a){return this.animate("style",a)},n.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(a,o){a!=="style"?r.prototype.attrKV.call(this,a,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(a,o){return typeof a=="string"?this.style[a]=o:extend2(this.style,a),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(a){return createObject(DEFAULT_COMMON_STYLE,a)},n.prototype.useStyle=function(a){a[STYLE_MAGIC_KEY]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},n.prototype.isStyleObject=function(a){return a[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(a){r.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(a,o,PRIMARY_STATES_KEYS2)},n.prototype._applyStateObj=function(a,o,s,l,u,f){r.prototype._applyStateObj.call(this,a,o,s,l,u,f);var d=!(o&&l),v;if(o&&o.style?u?l?v=o.style:(v=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(v,o.style)):(v=this._mergeStyle(this.createStyle(),l?this.style:s.style),this._mergeStyle(v,o.style)):d&&(v=s.style),v)if(u){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var y=keys2(g),b=0;b<y.length;b++){var _=y[b];_ in v&&(v[_]=v[_],this.style[_]=g[_])}for(var x=keys2(v),b=0;b<x.length;b++){var _=x[b];this.style[_]=this.style[_]}this._transitionState(a,{style:v},f,this.getAnimationStyleProps())}else this.useStyle(v);for(var w=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS2,b=0;b<w.length;b++){var _=w[b];o&&o[_]!=null?this[_]=o[_]:d&&s[_]!=null&&(this[_]=s[_])}},n.prototype._mergeStates=function(a){for(var o=r.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var u=a[l];u.style&&(s=s||{},this._mergeStyle(s,u.style))}return s&&(o.style=s),o},n.prototype._mergeStyle=function(a,o){return extend2(a,o),a},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var a=n.prototype;a.type="displayable",a.invisible=!1,a.z=0,a.z2=0,a.zlevel=0,a.culling=!1,a.cursor="pointer",a.rectHover=!1,a.incremental=!1,a._rect=null,a.dirtyRectTolerance=0,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element_default),tmpRect=new BoundingRect_default(0,0,0,0),viewRect=new BoundingRect_default(0,0,0,0);function isDisplayableCulled(r,n,a){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=n,viewRect.height=a,!tmpRect.intersect(viewRect)}var Displayable_default=Displayable,mathMin2=Math.min,mathMax2=Math.max,mathSin=Math.sin,mathCos=Math.cos,PI2=Math.PI*2,start=create(),end=create(),extremity=create();function fromPoints(r,n,a){if(r.length!==0){for(var o=r[0],s=o[0],l=o[0],u=o[1],f=o[1],d=1;d<r.length;d++)o=r[d],s=mathMin2(s,o[0]),l=mathMax2(l,o[0]),u=mathMin2(u,o[1]),f=mathMax2(f,o[1]);n[0]=s,n[1]=u,a[0]=l,a[1]=f}}function fromLine(r,n,a,o,s,l){s[0]=mathMin2(r,a),s[1]=mathMin2(n,o),l[0]=mathMax2(r,a),l[1]=mathMax2(n,o)}var xDim=[],yDim=[];function fromCubic(r,n,a,o,s,l,u,f,d,v){var g=cubicExtrema,y=cubicAt,b=g(r,a,s,u,xDim);d[0]=1/0,d[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var _=0;_<b;_++){var x=y(r,a,s,u,xDim[_]);d[0]=mathMin2(x,d[0]),v[0]=mathMax2(x,v[0])}b=g(n,o,l,f,yDim);for(var _=0;_<b;_++){var w=y(n,o,l,f,yDim[_]);d[1]=mathMin2(w,d[1]),v[1]=mathMax2(w,v[1])}d[0]=mathMin2(r,d[0]),v[0]=mathMax2(r,v[0]),d[0]=mathMin2(u,d[0]),v[0]=mathMax2(u,v[0]),d[1]=mathMin2(n,d[1]),v[1]=mathMax2(n,v[1]),d[1]=mathMin2(f,d[1]),v[1]=mathMax2(f,v[1])}function fromQuadratic(r,n,a,o,s,l,u,f){var d=quadraticExtremum,v=quadraticAt,g=mathMax2(mathMin2(d(r,a,s),1),0),y=mathMax2(mathMin2(d(n,o,l),1),0),b=v(r,a,s,g),_=v(n,o,l,y);u[0]=mathMin2(r,s,b),u[1]=mathMin2(n,l,_),f[0]=mathMax2(r,s,b),f[1]=mathMax2(n,l,_)}function fromArc(r,n,a,o,s,l,u,f,d){var v=min,g=max,y=Math.abs(s-l);if(y%PI2<1e-4&&y>1e-4){f[0]=r-a,f[1]=n-o,d[0]=r+a,d[1]=n+o;return}if(start[0]=mathCos(s)*a+r,start[1]=mathSin(s)*o+n,end[0]=mathCos(l)*a+r,end[1]=mathSin(l)*o+n,v(f,start,end),g(d,start,end),s=s%PI2,s<0&&(s=s+PI2),l=l%PI2,l<0&&(l=l+PI2),s>l&&!u?l+=PI2:s<l&&u&&(s+=PI2),u){var b=l;l=s,s=b}for(var _=0;_<l;_+=Math.PI/2)_>s&&(extremity[0]=mathCos(_)*a+r,extremity[1]=mathSin(_)*o+n,v(f,extremity,f),g(d,extremity,d))}var CMD={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min2=[],max2=[],min22=[],max22=[],mathMin3=Math.min,mathMax3=Math.max,mathCos2=Math.cos,mathSin2=Math.sin,mathAbs=Math.abs,PI=Math.PI,PI22=PI*2,hasTypedArray=typeof Float32Array!="undefined",tmpAngles=[];function modPI2(r){var n=Math.round(r/PI*1e8)/1e8;return n%2*PI}function normalizeArcAngles(r,n){var a=modPI2(r[0]);a<0&&(a+=PI22);var o=a-r[0],s=r[1];s+=o,!n&&s-a>=PI22?s=a+PI22:n&&a-s>=PI22?s=a-PI22:!n&&a>s?s=a+(PI22-modPI2(a-s)):n&&a<s&&(s=a-(PI22-modPI2(s-a))),r[0]=a,r[1]=s}var PathProxy=function(){function r(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(n,a,o){o=o||0,o>0&&(this._ux=mathAbs(o/devicePixelRatio2/n)||0,this._uy=mathAbs(o/devicePixelRatio2/a)||0)},r.prototype.setDPR=function(n){this.dpr=n},r.prototype.setContext=function(n){this._ctx=n},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(n,a){return this._drawPendingPt(),this.addData(CMD.M,n,a),this._ctx&&this._ctx.moveTo(n,a),this._x0=n,this._y0=a,this._xi=n,this._yi=a,this},r.prototype.lineTo=function(n,a){var o=mathAbs(n-this._xi),s=mathAbs(a-this._yi),l=o>this._ux||s>this._uy;if(this.addData(CMD.L,n,a),this._ctx&&l&&this._ctx.lineTo(n,a),l)this._xi=n,this._yi=a,this._pendingPtDist=0;else{var u=o*o+s*s;u>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=a,this._pendingPtDist=u)}return this},r.prototype.bezierCurveTo=function(n,a,o,s,l,u){return this._drawPendingPt(),this.addData(CMD.C,n,a,o,s,l,u),this._ctx&&this._ctx.bezierCurveTo(n,a,o,s,l,u),this._xi=l,this._yi=u,this},r.prototype.quadraticCurveTo=function(n,a,o,s){return this._drawPendingPt(),this.addData(CMD.Q,n,a,o,s),this._ctx&&this._ctx.quadraticCurveTo(n,a,o,s),this._xi=o,this._yi=s,this},r.prototype.arc=function(n,a,o,s,l,u){this._drawPendingPt(),tmpAngles[0]=s,tmpAngles[1]=l,normalizeArcAngles(tmpAngles,u),s=tmpAngles[0],l=tmpAngles[1];var f=l-s;return this.addData(CMD.A,n,a,o,o,s,f,0,u?0:1),this._ctx&&this._ctx.arc(n,a,o,s,l,u),this._xi=mathCos2(l)*o+n,this._yi=mathSin2(l)*o+a,this},r.prototype.arcTo=function(n,a,o,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,a,o,s,l),this},r.prototype.rect=function(n,a,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,a,o,s),this.addData(CMD.R,n,a,o,s),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD.Z);var n=this._ctx,a=this._x0,o=this._y0;return n&&n.closePath(),this._xi=a,this._yi=o,this},r.prototype.fill=function(n){n&&n.fill(),this.toStatic()},r.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(n){var a=n.length;!(this.data&&this.data.length===a)&&hasTypedArray&&(this.data=new Float32Array(a));for(var o=0;o<a;o++)this.data[o]=n[o];this._len=a},r.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var a=n.length,o=0,s=this._len,l=0;l<a;l++)o+=n[l].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o));for(var l=0;l<a;l++)for(var u=n[l].data,f=0;f<u.length;f++)this.data[s++]=u[f];this._len=s},r.prototype.addData=function(n,a,o,s,l,u,f,d,v){if(!!this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],a=0;a<this._len;a++)n[a]=this.data[a];this.data=n}},r.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},r.prototype.getBoundingRect=function(){min2[0]=min2[1]=min22[0]=min22[1]=Number.MAX_VALUE,max2[0]=max2[1]=max22[0]=max22[1]=-Number.MAX_VALUE;var n=this.data,a=0,o=0,s=0,l=0,u;for(u=0;u<this._len;){var f=n[u++],d=u===1;switch(d&&(a=n[u],o=n[u+1],s=a,l=o),f){case CMD.M:a=s=n[u++],o=l=n[u++],min22[0]=s,min22[1]=l,max22[0]=s,max22[1]=l;break;case CMD.L:fromLine(a,o,n[u],n[u+1],min22,max22),a=n[u++],o=n[u++];break;case CMD.C:fromCubic(a,o,n[u++],n[u++],n[u++],n[u++],n[u],n[u+1],min22,max22),a=n[u++],o=n[u++];break;case CMD.Q:fromQuadratic(a,o,n[u++],n[u++],n[u],n[u+1],min22,max22),a=n[u++],o=n[u++];break;case CMD.A:var v=n[u++],g=n[u++],y=n[u++],b=n[u++],_=n[u++],x=n[u++]+_;u+=1;var w=!n[u++];d&&(s=mathCos2(_)*y+v,l=mathSin2(_)*b+g),fromArc(v,g,y,b,_,x,w,min22,max22),a=mathCos2(x)*y+v,o=mathSin2(x)*b+g;break;case CMD.R:s=a=n[u++],l=o=n[u++];var C=n[u++],S=n[u++];fromLine(s,l,s+C,l+S,min22,max22);break;case CMD.Z:a=s,o=l;break}min(min2,min2,min22),max(max2,max2,max22)}return u===0&&(min2[0]=min2[1]=max2[0]=max2[1]=0),new BoundingRect_default(min2[0],min2[1],max2[0]-min2[0],max2[1]-min2[1])},r.prototype._calculateLength=function(){var n=this.data,a=this._len,o=this._ux,s=this._uy,l=0,u=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,b=0;b<a;){var _=n[b++],x=b===1;x&&(l=n[b],u=n[b+1],f=l,d=u);var w=-1;switch(_){case CMD.M:l=f=n[b++],u=d=n[b++];break;case CMD.L:{var C=n[b++],S=n[b++],D=C-l,A=S-u;(mathAbs(D)>o||mathAbs(A)>s||b===a-1)&&(w=Math.sqrt(D*D+A*A),l=C,u=S);break}case CMD.C:{var T=n[b++],P=n[b++],C=n[b++],S=n[b++],E=n[b++],M=n[b++];w=cubicLength(l,u,T,P,C,S,E,M,10),l=E,u=M;break}case CMD.Q:{var T=n[b++],P=n[b++],C=n[b++],S=n[b++];w=quadraticLength(l,u,T,P,C,S,10),l=C,u=S;break}case CMD.A:var L=n[b++],F=n[b++],I=n[b++],B=n[b++],O=n[b++],R=n[b++],z=R+O;b+=1;var N=!n[b++];x&&(f=mathCos2(O)*I+L,d=mathSin2(O)*B+F),w=mathMax3(I,B)*mathMin3(PI22,Math.abs(R)),l=mathCos2(z)*I+L,u=mathSin2(z)*B+F;break;case CMD.R:{f=l=n[b++],d=u=n[b++];var V=n[b++],W=n[b++];w=V*2+W*2;break}case CMD.Z:{var D=f-l,A=d-u;w=Math.sqrt(D*D+A*A),l=f,u=d;break}}w>=0&&(v[y++]=w,g+=w)}return this._pathLen=g,g},r.prototype.rebuildPath=function(n,a){var o=this.data,s=this._ux,l=this._uy,u=this._len,f,d,v,g,y,b,_=a<1,x,w,C=0,S=0,D,A=0,T,P;if(_&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,w=this._pathLen,D=a*w,!D))return;e:for(var E=0;E<u;){var M=o[E++],L=E===1;switch(L&&(v=o[E],g=o[E+1],f=v,d=g),M!==CMD.L&&A>0&&(n.lineTo(T,P),A=0),M){case CMD.M:f=v=o[E++],d=g=o[E++],n.moveTo(v,g);break;case CMD.L:{y=o[E++],b=o[E++];var F=mathAbs(y-v),I=mathAbs(b-g);if(F>s||I>l){if(_){var B=x[S++];if(C+B>D){var O=(D-C)/B;n.lineTo(v*(1-O)+y*O,g*(1-O)+b*O);break e}C+=B}n.lineTo(y,b),v=y,g=b,A=0}else{var R=F*F+I*I;R>A&&(T=y,P=b,A=R)}break}case CMD.C:{var z=o[E++],N=o[E++],V=o[E++],W=o[E++],H=o[E++],$=o[E++];if(_){var B=x[S++];if(C+B>D){var O=(D-C)/B;cubicSubdivide(v,z,V,H,O,tmpOutX),cubicSubdivide(g,N,W,$,O,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}C+=B}n.bezierCurveTo(z,N,V,W,H,$),v=H,g=$;break}case CMD.Q:{var z=o[E++],N=o[E++],V=o[E++],W=o[E++];if(_){var B=x[S++];if(C+B>D){var O=(D-C)/B;quadraticSubdivide(v,z,V,O,tmpOutX),quadraticSubdivide(g,N,W,O,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}C+=B}n.quadraticCurveTo(z,N,V,W),v=V,g=W;break}case CMD.A:var Y=o[E++],ae=o[E++],X=o[E++],J=o[E++],fe=o[E++],ge=o[E++],ye=o[E++],be=!o[E++],K=X>J?X:J,j=mathAbs(X-J)>.001,Q=fe+ge,le=!1;if(_){var B=x[S++];C+B>D&&(Q=fe+ge*(D-C)/B,le=!0),C+=B}if(j&&n.ellipse?n.ellipse(Y,ae,X,J,ye,fe,Q,be):n.arc(Y,ae,K,fe,Q,be),le)break e;L&&(f=mathCos2(fe)*X+Y,d=mathSin2(fe)*J+ae),v=mathCos2(Q)*X+Y,g=mathSin2(Q)*J+ae;break;case CMD.R:f=v=o[E],d=g=o[E+1],y=o[E++],b=o[E++];var oe=o[E++],he=o[E++];if(_){var B=x[S++];if(C+B>D){var G=D-C;n.moveTo(y,b),n.lineTo(y+mathMin3(G,oe),b),G-=oe,G>0&&n.lineTo(y+oe,b+mathMin3(G,he)),G-=he,G>0&&n.lineTo(y+mathMax3(oe-G,0),b+he),G-=oe,G>0&&n.lineTo(y,b+mathMax3(he-G,0));break e}C+=B}n.rect(y,b,oe,he);break;case CMD.Z:if(_){var B=x[S++];if(C+B>D){var O=(D-C)/B;n.lineTo(v*(1-O)+f*O,g*(1-O)+d*O);break e}C+=B}n.closePath(),v=f,g=d}}},r.prototype.clone=function(){var n=new r,a=this.data;return n.data=a.slice?a.slice():Array.prototype.slice.call(a),n._len=this._len,n},r.CMD=CMD,r.initDefaultProps=function(){var n=r.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),r}(),PathProxy_default=PathProxy;function containStroke(r,n,a,o,s,l,u){if(s===0)return!1;var f=s,d=0,v=r;if(u>n+f&&u>o+f||u<n-f&&u<o-f||l>r+f&&l>a+f||l<r-f&&l<a-f)return!1;if(r!==a)d=(n-o)/(r-a),v=(r*o-a*n)/(r-a);else return Math.abs(l-r)<=f/2;var g=d*l-u+v,y=g*g/(d*d+1);return y<=f/2*f/2}function containStroke2(r,n,a,o,s,l,u,f,d,v,g){if(d===0)return!1;var y=d;if(g>n+y&&g>o+y&&g>l+y&&g>f+y||g<n-y&&g<o-y&&g<l-y&&g<f-y||v>r+y&&v>a+y&&v>s+y&&v>u+y||v<r-y&&v<a-y&&v<s-y&&v<u-y)return!1;var b=cubicProjectPoint(r,n,a,o,s,l,u,f,v,g,null);return b<=y/2}function containStroke3(r,n,a,o,s,l,u,f,d){if(u===0)return!1;var v=u;if(d>n+v&&d>o+v&&d>l+v||d<n-v&&d<o-v&&d<l-v||f>r+v&&f>a+v&&f>s+v||f<r-v&&f<a-v&&f<s-v)return!1;var g=quadraticProjectPoint(r,n,a,o,s,l,f,d,null);return g<=v/2}var PI23=Math.PI*2;function normalizeRadian(r){return r%=PI23,r<0&&(r+=PI23),r}var PI24=Math.PI*2;function containStroke4(r,n,a,o,s,l,u,f,d){if(u===0)return!1;var v=u;f-=r,d-=n;var g=Math.sqrt(f*f+d*d);if(g-v>a||g+v<a)return!1;if(Math.abs(o-s)%PI24<1e-4)return!0;if(l){var y=o;o=normalizeRadian(s),s=normalizeRadian(y)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI24);var b=Math.atan2(d,f);return b<0&&(b+=PI24),b>=o&&b<=s||b+PI24>=o&&b+PI24<=s}function windingLine(r,n,a,o,s,l){if(l>n&&l>o||l<n&&l<o||o===n)return 0;var u=(l-n)/(o-n),f=o<n?1:-1;(u===1||u===0)&&(f=o<n?.5:-.5);var d=u*(a-r)+r;return d===s?1/0:d>s?f:0}var CMD2=PathProxy_default.CMD,PI25=Math.PI*2,EPSILON3=1e-4;function isAroundEqual(r,n){return Math.abs(r-n)<EPSILON3}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,n,a,o,s,l,u,f,d,v){if(v>n&&v>o&&v>l&&v>f||v<n&&v<o&&v<l&&v<f)return 0;var g=cubicRootAt(n,o,l,f,v,roots);if(g===0)return 0;for(var y=0,b=-1,_=void 0,x=void 0,w=0;w<g;w++){var C=roots[w],S=C===0||C===1?.5:1,D=cubicAt(r,a,s,u,C);D<d||(b<0&&(b=cubicExtrema(n,o,l,f,extrema),extrema[1]<extrema[0]&&b>1&&swapExtrema(),_=cubicAt(n,o,l,f,extrema[0]),b>1&&(x=cubicAt(n,o,l,f,extrema[1]))),b===2?C<extrema[0]?y+=_<n?S:-S:C<extrema[1]?y+=x<_?S:-S:y+=f<x?S:-S:C<extrema[0]?y+=_<n?S:-S:y+=f<_?S:-S)}return y}function windingQuadratic(r,n,a,o,s,l,u,f){if(f>n&&f>o&&f>l||f<n&&f<o&&f<l)return 0;var d=quadraticRootAt(n,o,l,f,roots);if(d===0)return 0;var v=quadraticExtremum(n,o,l);if(v>=0&&v<=1){for(var g=0,y=quadraticAt(n,o,l,v),b=0;b<d;b++){var _=roots[b]===0||roots[b]===1?.5:1,x=quadraticAt(r,a,s,roots[b]);x<u||(roots[b]<v?g+=y<n?_:-_:g+=l<y?_:-_)}return g}else{var _=roots[0]===0||roots[0]===1?.5:1,x=quadraticAt(r,a,s,roots[0]);return x<u?0:l<n?_:-_}}function windingArc(r,n,a,o,s,l,u,f){if(f-=n,f>a||f<-a)return 0;var d=Math.sqrt(a*a-f*f);roots[0]=-d,roots[1]=d;var v=Math.abs(o-s);if(v<1e-4)return 0;if(v>=PI25-1e-4){o=0,s=PI25;var g=l?1:-1;return u>=roots[0]+r&&u<=roots[1]+r?g:0}if(o>s){var y=o;o=s,s=y}o<0&&(o+=PI25,s+=PI25);for(var b=0,_=0;_<2;_++){var x=roots[_];if(x+r>u){var w=Math.atan2(f,x),g=l?1:-1;w<0&&(w=PI25+w),(w>=o&&w<=s||w+PI25>=o&&w+PI25<=s)&&(w>Math.PI/2&&w<Math.PI*1.5&&(g=-g),b+=g)}}return b}function containPath(r,n,a,o,s){for(var l=r.data,u=r.len(),f=0,d=0,v=0,g=0,y=0,b,_,x=0;x<u;){var w=l[x++],C=x===1;switch(w===CMD2.M&&x>1&&(a||(f+=windingLine(d,v,g,y,o,s))),C&&(d=l[x],v=l[x+1],g=d,y=v),w){case CMD2.M:g=l[x++],y=l[x++],d=g,v=y;break;case CMD2.L:if(a){if(containStroke(d,v,l[x],l[x+1],n,o,s))return!0}else f+=windingLine(d,v,l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.C:if(a){if(containStroke2(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],n,o,s))return!0}else f+=windingCubic(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.Q:if(a){if(containStroke3(d,v,l[x++],l[x++],l[x],l[x+1],n,o,s))return!0}else f+=windingQuadratic(d,v,l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.A:var S=l[x++],D=l[x++],A=l[x++],T=l[x++],P=l[x++],E=l[x++];x+=1;var M=!!(1-l[x++]);b=Math.cos(P)*A+S,_=Math.sin(P)*T+D,C?(g=b,y=_):f+=windingLine(d,v,b,_,o,s);var L=(o-S)*T/A+S;if(a){if(containStroke4(S,D,T,P,P+E,M,n,L,s))return!0}else f+=windingArc(S,D,T,P,P+E,M,L,s);d=Math.cos(P+E)*A+S,v=Math.sin(P+E)*T+D;break;case CMD2.R:g=d=l[x++],y=v=l[x++];var F=l[x++],I=l[x++];if(b=g+F,_=y+I,a){if(containStroke(g,y,b,y,n,o,s)||containStroke(b,y,b,_,n,o,s)||containStroke(b,_,g,_,n,o,s)||containStroke(g,_,g,y,n,o,s))return!0}else f+=windingLine(b,y,b,_,o,s),f+=windingLine(g,_,g,y,o,s);break;case CMD2.Z:if(a){if(containStroke(d,v,g,y,n,o,s))return!0}else f+=windingLine(d,v,g,y,o,s);d=g,v=y;break}}return!a&&!isAroundEqual(v,y)&&(f+=windingLine(d,v,g,y,o,s)||0),f!==0}function contain(r,n,a){return containPath(r,0,!1,n,a)}function containStroke5(r,n,a,o){return containPath(r,n,!0,a,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.update=function(){var a=this;r.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new n;s.buildPath===n.prototype.buildPath&&(s.buildPath=function(d){a.buildPath(d,a.shape)}),s.silent=!0;var l=s.style;for(var u in o)l[u]!==o[u]&&(l[u]=o[u]);l.fill=o.fill?o.decal:null,l.decal=null,l.shadowColor=null,o.strokeFirst&&(l.stroke=null);for(var f=0;f<pathCopyParams.length;++f)s[pathCopyParams[f]]=this[pathCopyParams[f]];s.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(a){var o=keys2(a);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var l=0;l<o.length;l++){var u=o[l],f=a[u];u==="style"?this.style?extend2(this.style,f):this.useStyle(f):u==="shape"?extend2(this.shape,f):r.prototype.attrKV.call(this,u,f)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var a=this.style.fill;if(a!=="none"){if(isString2(a)){var o=lum(a,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(a)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(a){var o=this.style.fill;if(isString2(o)){var s=this.__zr,l=!!(s&&s.isDarkMode()),u=lum(a,0)<DARK_MODE_THRESHOLD;if(l===u)return o}},n.prototype.buildPath=function(a,o,s){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(a){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy_default(!1)},n.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return!(o==null||o==="none"||!(a.lineWidth>0))},n.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var a=this._rect,o=this.style,s=!a;if(s){var l=!1;this.path||(l=!0,this.createPathProxy());var u=this.path;(l||this.__dirty&SHAPE_CHANGED_BIT)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),a=u.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||s){f.copy(a);var d=o.strokeNoScale?this.getLineScale():1,v=o.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g==null?4:g)}d>1e-10&&(f.width+=v/d,f.height+=v/d,f.x-=v/d/2,f.y-=v/d/2)}return f}return a},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect(),u=this.style;if(a=s[0],o=s[1],l.contain(a,o)){var f=this.path;if(this.hasStroke()){var d=u.lineWidth,v=u.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke5(f,d/v,a,o)))return!0}if(this.hasFill())return contain(f,a,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(a){return this.animate("shape",a)},n.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():a==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(a,o){a==="shape"?this.setShape(o):r.prototype.attrKV.call(this,a,o)},n.prototype.setShape=function(a,o){var s=this.shape;return s||(s=this.shape={}),typeof a=="string"?s[a]=o:extend2(s,a),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(a){return createObject(DEFAULT_PATH_STYLE,a)},n.prototype._innerSaveToNormal=function(a){r.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.shape&&!o.shape&&(o.shape=extend2({},this.shape))},n.prototype._applyStateObj=function(a,o,s,l,u,f){r.prototype._applyStateObj.call(this,a,o,s,l,u,f);var d=!(o&&l),v;if(o&&o.shape?u?l?v=o.shape:(v=extend2({},s.shape),extend2(v,o.shape)):(v=extend2({},l?this.shape:s.shape),extend2(v,o.shape)):d&&(v=s.shape),v)if(u){this.shape=extend2({},this.shape);for(var g={},y=keys2(v),b=0;b<y.length;b++){var _=y[b];typeof v[_]=="object"?this.shape[_]=v[_]:g[_]=v[_]}this._transitionState(a,{shape:g},f)}else this.shape=v,this.dirtyShape()},n.prototype._mergeStates=function(a){for(var o=r.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var u=a[l];u.shape&&(s=s||{},this._mergeStyle(s,u.shape))}return s&&(o.shape=s),o},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(a){var o=function(l){__extends2(u,l);function u(f){var d=l.call(this,f)||this;return a.init&&a.init.call(d,f),d}return u.prototype.getDefaultStyle=function(){return clone(a.style)},u.prototype.getDefaultShape=function(){return clone(a.shape)},u}(n);for(var s in a)typeof a[s]=="function"&&(o.prototype[s]=a[s]);return o},n.initDefaultProps=function(){var a=n.prototype;a.type="path",a.strokeContainThreshold=5,a.segmentIgnoreThreshold=0,a.subPixelOptimize=!1,a.autoBatch=!1,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable_default),Path_default=Path,DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends2(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return o!=null&&o!=="none"&&a.lineWidth>0},n.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(a){return createObject(DEFAULT_TSPAN_STYLE,a)},n.prototype.setBoundingRect=function(a){this._rect=a},n.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var o=a.text;o!=null?o+="":o="";var s=getBoundingRect(o,a.font,a.textAlign,a.textBaseline);if(s.x+=a.x||0,s.y+=a.y||0,this.hasStroke()){var l=a.lineWidth;s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l}this._rect=s}return this._rect},n.initDefaultProps=function(){var a=n.prototype;a.dirtyRectTolerance=10}(),n}(Displayable_default);TSpan.prototype.type="tspan";var TSpan_default=TSpan,DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends2(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.createStyle=function(a){return createObject(DEFAULT_IMAGE_STYLE,a)},n.prototype._getSize=function(a){var o=this.style,s=o[a];if(s!=null)return s;var l=isImageLike(o.image)?o.image:this.__image;if(!l)return 0;var u=a==="width"?"height":"width",f=o[u];return f==null?l[a]:l[a]/l[u]*f},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new BoundingRect_default(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable_default);ZRImage.prototype.type="image";var Image_default=ZRImage;function buildPath(r,n){var a=n.x,o=n.y,s=n.width,l=n.height,u=n.r,f,d,v,g;s<0&&(a=a+s,s=-s),l<0&&(o=o+l,l=-l),typeof u=="number"?f=d=v=g=u:u instanceof Array?u.length===1?f=d=v=g=u[0]:u.length===2?(f=v=u[0],d=g=u[1]):u.length===3?(f=u[0],d=g=u[1],v=u[2]):(f=u[0],d=u[1],v=u[2],g=u[3]):f=d=v=g=0;var y;f+d>s&&(y=f+d,f*=s/y,d*=s/y),v+g>s&&(y=v+g,v*=s/y,g*=s/y),d+v>l&&(y=d+v,d*=l/y,v*=l/y),f+g>l&&(y=f+g,f*=l/y,g*=l/y),r.moveTo(a+f,o),r.lineTo(a+s-d,o),d!==0&&r.arc(a+s-d,o+d,d,-Math.PI/2,0),r.lineTo(a+s,o+l-v),v!==0&&r.arc(a+s-v,o+l-v,v,0,Math.PI/2),r.lineTo(a+g,o+l),g!==0&&r.arc(a+g,o+l-g,g,Math.PI/2,Math.PI),r.lineTo(a,o+f),f!==0&&r.arc(a+f,o+f,f,Math.PI,Math.PI*1.5)}var round2=Math.round;function subPixelOptimizeLine(r,n,a){if(!!n){var o=n.x1,s=n.x2,l=n.y1,u=n.y2;r.x1=o,r.x2=s,r.y1=l,r.y2=u;var f=a&&a.lineWidth;return f&&(round2(o*2)===round2(s*2)&&(r.x1=r.x2=subPixelOptimize(o,f,!0)),round2(l*2)===round2(u*2)&&(r.y1=r.y2=subPixelOptimize(l,f,!0))),r}}function subPixelOptimizeRect(r,n,a){if(!!n){var o=n.x,s=n.y,l=n.width,u=n.height;r.x=o,r.y=s,r.width=l,r.height=u;var f=a&&a.lineWidth;return f&&(r.x=subPixelOptimize(o,f,!0),r.y=subPixelOptimize(s,f,!0),r.width=Math.max(subPixelOptimize(o+l,f,!1)-r.x,l===0?0:1),r.height=Math.max(subPixelOptimize(s+u,f,!1)-r.y,u===0?0:1)),r}}function subPixelOptimize(r,n,a){if(!n)return r;var o=round2(r*2);return(o+round2(n))%2==0?o/2:(o+(a?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape={},Rect=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(a,o){var s,l,u,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect(subPixelOptimizeOutputShape,o,this.style);s=d.x,l=d.y,u=d.width,f=d.height,d.r=o.r,o=d}else s=o.x,l=o.y,u=o.width,f=o.height;o.r?buildPath(a,o):a.rect(s,l,u,f)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path_default);Rect.prototype.type="rect";var Rect_default=Rect,DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends2(n,r);function n(a){var o=r.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(a),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var a=0;a<this._children.length;a++){var o=this._children[a];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):r.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(a){var o=this.innerTransformable;return o?o.getLocalTransform(a):r.prototype.getLocalTransform.call(this,a)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(a){r.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=a},n.prototype.removeSelfFromZr=function(a){r.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new BoundingRect_default(0,0,0,0),o=this._children,s=[],l=null,u=0;u<o.length;u++){var f=o[u],d=f.getBoundingRect(),v=f.getLocalTransform(s);v?(a.copy(d),a.applyTransform(v),l=l||a.clone(),l.union(a)):(l=l||d.clone(),l.union(d))}this._rect=l||a}return this._rect},n.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(a){throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(a,o){if(!o)return a;var s=o.rich,l=a.rich||s&&{};return extend2(a,o),s&&l?(this._mergeRich(l,s),a.rich=l):l&&(a.rich=l),a},n.prototype._mergeRich=function(a,o){for(var s=keys2(o),l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||{},extend2(a[u],o[u])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(a){var o=this._children[this._childCursor];return(!o||!(o instanceof a))&&(o=new a),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var a=this.style,o=a.font||DEFAULT_FONT,s=a.padding,l=getStyleText(a),u=parsePlainText(l,a),f=needDrawBackground(a),d=!!a.backgroundColor,v=u.outerHeight,g=u.outerWidth,y=u.contentWidth,b=u.lines,_=u.lineHeight,x=this._defaultStyle,w=a.x||0,C=a.y||0,S=a.align||x.align||"left",D=a.verticalAlign||x.verticalAlign||"top",A=w,T=adjustTextY(C,u.contentHeight,D);if(f||s){var P=adjustTextX(w,g,S),E=adjustTextY(C,v,D);f&&this._renderBackground(a,a,P,E,g,v)}T+=_/2,s&&(A=getTextXForPadding(w,S,s),D==="top"?T+=s[0]:D==="bottom"&&(T-=s[2]));for(var M=0,L=!1,F=getFill("fill"in a?a.fill:(L=!0,x.fill)),I=getStroke("stroke"in a?a.stroke:!d&&(!x.autoStroke||L)?(M=DEFAULT_STROKE_LINE_WIDTH,x.stroke):null),B=a.textShadowBlur>0,O=a.width!=null&&(a.overflow==="truncate"||a.overflow==="break"||a.overflow==="breakAll"),R=u.calculatedLineHeight,z=0;z<b.length;z++){var N=this._getOrCreateChild(TSpan_default),V=N.createStyle();N.useStyle(V),V.text=b[z],V.x=A,V.y=T,S&&(V.textAlign=S),V.textBaseline="middle",V.opacity=a.opacity,V.strokeFirst=!0,B&&(V.shadowBlur=a.textShadowBlur||0,V.shadowColor=a.textShadowColor||"transparent",V.shadowOffsetX=a.textShadowOffsetX||0,V.shadowOffsetY=a.textShadowOffsetY||0),V.stroke=I,V.fill=F,I&&(V.lineWidth=a.lineWidth||M,V.lineDash=a.lineDash,V.lineDashOffset=a.lineDashOffset||0),V.font=o,setSeparateFont(V,a),T+=_,O&&N.setBoundingRect(new BoundingRect_default(adjustTextX(V.x,a.width,V.textAlign),adjustTextY(V.y,R,V.textBaseline),y,R))}},n.prototype._updateRichTexts=function(){var a=this.style,o=getStyleText(a),s=parseRichText(o,a),l=s.width,u=s.outerWidth,f=s.outerHeight,d=a.padding,v=a.x||0,g=a.y||0,y=this._defaultStyle,b=a.align||y.align,_=a.verticalAlign||y.verticalAlign,x=adjustTextX(v,u,b),w=adjustTextY(g,f,_),C=x,S=w;d&&(C+=d[3],S+=d[0]);var D=C+l;needDrawBackground(a)&&this._renderBackground(a,a,x,w,u,f);for(var A=!!a.backgroundColor,T=0;T<s.lines.length;T++){for(var P=s.lines[T],E=P.tokens,M=E.length,L=P.lineHeight,F=P.width,I=0,B=C,O=D,R=M-1,z=void 0;I<M&&(z=E[I],!z.align||z.align==="left");)this._placeToken(z,a,L,S,B,"left",A),F-=z.width,B+=z.width,I++;for(;R>=0&&(z=E[R],z.align==="right");)this._placeToken(z,a,L,S,O,"right",A),F-=z.width,O-=z.width,R--;for(B+=(l-(B-C)-(D-O)-F)/2;I<=R;)z=E[I],this._placeToken(z,a,L,S,B+z.width/2,"center",A),B+=z.width,I++;S+=L}},n.prototype._placeToken=function(a,o,s,l,u,f,d){var v=o.rich[a.styleName]||{};v.text=a.text;var g=a.verticalAlign,y=l+s/2;g==="top"?y=l+a.height/2:g==="bottom"&&(y=l+s-a.height/2);var b=!a.isLineHolder&&needDrawBackground(v);b&&this._renderBackground(v,o,f==="right"?u-a.width:f==="center"?u-a.width/2:u,y-a.height/2,a.width,a.height);var _=!!v.backgroundColor,x=a.textPadding;x&&(u=getTextXForPadding(u,f,x),y-=a.height/2-x[0]-a.innerHeight/2);var w=this._getOrCreateChild(TSpan_default),C=w.createStyle();w.useStyle(C);var S=this._defaultStyle,D=!1,A=0,T=getFill("fill"in v?v.fill:"fill"in o?o.fill:(D=!0,S.fill)),P=getStroke("stroke"in v?v.stroke:"stroke"in o?o.stroke:!_&&!d&&(!S.autoStroke||D)?(A=DEFAULT_STROKE_LINE_WIDTH,S.stroke):null),E=v.textShadowBlur>0||o.textShadowBlur>0;C.text=a.text,C.x=u,C.y=y,E&&(C.shadowBlur=v.textShadowBlur||o.textShadowBlur||0,C.shadowColor=v.textShadowColor||o.textShadowColor||"transparent",C.shadowOffsetX=v.textShadowOffsetX||o.textShadowOffsetX||0,C.shadowOffsetY=v.textShadowOffsetY||o.textShadowOffsetY||0),C.textAlign=f,C.textBaseline="middle",C.font=a.font||DEFAULT_FONT,C.opacity=retrieve3(v.opacity,o.opacity,1),setSeparateFont(C,v),P&&(C.lineWidth=retrieve3(v.lineWidth,o.lineWidth,A),C.lineDash=retrieve2(v.lineDash,o.lineDash),C.lineDashOffset=o.lineDashOffset||0,C.stroke=P),T&&(C.fill=T);var M=a.contentWidth,L=a.contentHeight;w.setBoundingRect(new BoundingRect_default(adjustTextX(C.x,M,C.textAlign),adjustTextY(C.y,L,C.textBaseline),M,L))},n.prototype._renderBackground=function(a,o,s,l,u,f){var d=a.backgroundColor,v=a.borderWidth,g=a.borderColor,y=d&&d.image,b=d&&!y,_=a.borderRadius,x=this,w,C;if(b||a.lineHeight||v&&g){w=this._getOrCreateChild(Rect_default),w.useStyle(w.createStyle()),w.style.fill=null;var S=w.shape;S.x=s,S.y=l,S.width=u,S.height=f,S.r=_,w.dirtyShape()}if(b){var D=w.style;D.fill=d||null,D.fillOpacity=retrieve2(a.fillOpacity,1)}else if(y){C=this._getOrCreateChild(Image_default),C.onload=function(){x.dirtyStyle()};var A=C.style;A.image=d.image,A.x=s,A.y=l,A.width=u,A.height=f}if(v&&g){var D=w.style;D.lineWidth=v,D.stroke=g,D.strokeOpacity=retrieve2(a.strokeOpacity,1),D.lineDash=a.borderDash,D.lineDashOffset=a.borderDashOffset||0,w.strokeContainThreshold=0,w.hasFill()&&w.hasStroke()&&(D.strokeFirst=!0,D.lineWidth*=2)}var T=(w||C).style;T.shadowBlur=a.shadowBlur||0,T.shadowColor=a.shadowColor||"transparent",T.shadowOffsetX=a.shadowOffsetX||0,T.shadowOffsetY=a.shadowOffsetY||0,T.opacity=retrieve3(a.opacity,o.opacity,1)},n.makeFont=function(a){var o="";return hasSeparateFont(a)&&(o=[a.fontStyle,a.fontWeight,parseFontSize(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||a.textFont||a.font},n}(Displayable_default),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,n){for(var a=0;a<FONT_PARTS.length;a++){var o=FONT_PARTS[a],s=n[o];s!=null&&(r[o]=s)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle2(r),each(r.rich,normalizeStyle2),r}function normalizeStyle2(r){if(r){r.font=ZRText.makeFont(r);var n=r.align;n==="middle"&&(n="center"),r.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var a=r.verticalAlign;a==="center"&&(a="middle"),r.verticalAlign=a==null||VALID_TEXT_VERTICAL_ALIGN[a]?a:"top";var o=r.padding;o&&(r.padding=normalizeCssArray(r.padding))}}function getStroke(r,n){return r==null||n<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,n,a){return n==="right"?r-a[1]:n==="center"?r+a[3]/2-a[1]/2:r+a[3]}function getStyleText(r){var n=r.text;return n!=null&&(n+=""),n}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var Text_default=ZRText,getECData=makeInner(),setCommonECData=function(r,n,a,o){if(o){var s=getECData(o);s.dataIndex=a,s.dataType=n,s.seriesIndex=r,o.type==="group"&&o.traverse(function(l){var u=getECData(l);u.seriesIndex=r,u.dataIndex=a,u.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}var liftedColorCache=new LRU_default(100);function liftColor(r){if(isString2(r)){var n=liftedColorCache.get(r);return n||(n=lift(r,-.1),liftedColorCache.put(r,n)),n}else if(isGradientObject(r)){var a=extend2({},r);return a.colorStops=map3(r.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),a}return r}function doChangeHoverState(r,n,a){r.onHoverStateChange&&(r.hoverState||0)!==a&&r.onHoverStateChange(n),r.hoverState=a}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,n,a){n(r,a)}function traverseUpdateState(r,n,a){updateElementState(r,n,a),r.isGroup&&r.traverse(function(o){updateElementState(o,n,a)})}function setStatesFlag(r,n){switch(n){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,n,a,o){for(var s=r.style,l={},u=0;u<n.length;u++){var f=n[u],d=s[f];l[f]=d==null?o&&o[f]:d}for(var u=0;u<r.animators.length;u++){var v=r.animators[u];v.__fromStateTransition&&v.__fromStateTransition.indexOf(a)<0&&v.targetName==="style"&&v.saveTo(l,n)}return l}function createEmphasisDefaultState(r,n,a,o){var s=a&&indexOf(a,"select")>=0,l=!1;if(r instanceof Path_default){var u=getSavedStates(r),f=s&&u.selectFill||u.normalFill,d=s&&u.selectStroke||u.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){o=o||{};var v=o.style||{};v.fill==="inherit"?(l=!0,o=extend2({},o),v=extend2({},v),v.fill=f):!hasFillOrStroke(v.fill)&&hasFillOrStroke(f)?(l=!0,o=extend2({},o),v=extend2({},v),v.fill=liftColor(f)):!hasFillOrStroke(v.stroke)&&hasFillOrStroke(d)&&(l||(o=extend2({},o),v=extend2({},v)),v.stroke=liftColor(d)),o.style=v}}if(o&&o.z2==null){l||(o=extend2({},o));var g=r.z2EmphasisLift;o.z2=r.z2+(g!=null?g:Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(r,n,a){if(a&&a.z2==null){a=extend2({},a);var o=r.z2SelectLift;a.z2=r.z2+(o!=null?o:Z2_SELECT_LIFT)}return a}function createBlurDefaultState(r,n,a){var o=indexOf(r.currentStates,n)>=0,s=r.style.opacity,l=o?null:getFromStateStyle(r,["opacity"],n,{opacity:1});a=a||{};var u=a.style||{};return u.opacity==null&&(a=extend2({},a),u=extend2({opacity:o?s:l.opacity*.1},u),a.style=u),a}function elementStateProxy(r,n){var a=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,n,a);if(r==="blur")return createBlurDefaultState(this,r,a);if(r==="select")return createSelectDefaultState(this,r,a)}return a}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var n=r.getTextContent(),a=r.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),a&&(a.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,n){r.__highByOuter|=1<<(n||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,n){!(r.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,n){return r.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(r){var n=r.getModel(),a=[],o=[];n.eachComponent(function(s,l){var u=getComponentStates(l),f=s==="series",d=f?r.getViewOfSeriesModel(l):r.getViewOfComponentModel(l);!f&&o.push(d),u.isBlured&&(d.group.traverse(function(v){singleLeaveBlur(v)}),f&&a.push(l)),u.isBlured=!1}),each(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(a,!1,n)})}function blurSeries(r,n,a,o){var s=o.getModel();a=a||"coordinateSystem";function l(v,g){for(var y=0;y<g.length;y++){var b=v.getItemGraphicEl(g[y]);b&&leaveBlur(b)}}if(r!=null&&!(!n||n==="none")){var u=s.getSeriesByIndex(r),f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=[];s.eachSeries(function(v){var g=u===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var b=y&&f?y===f:g;if(!(a==="series"&&!g||a==="coordinateSystem"&&!b||n==="series"&&g)){var _=o.getViewOfSeriesModel(v);if(_.group.traverse(function(C){singleEnterBlur(C)}),isArrayLike2(n))l(v.getData(),n);else if(isObject3(n))for(var x=keys2(n),w=0;w<x.length;w++)l(v.getData(x[w]),n[x[w]]);d.push(v),getComponentStates(v).isBlured=!0}}),s.eachComponent(function(v,g){if(v!=="series"){var y=o.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(d,!0,s)}})}}function blurComponent(r,n,a){if(!(r==null||n==null)){var o=a.getModel().getComponent(r,n);if(!!o){getComponentStates(o).isBlured=!0;var s=a.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(l){singleEnterBlur(l)})}}}function blurSeriesFromHighlightPayload(r,n,a){var o=r.seriesIndex,s=r.getData(n.dataType);if(!s){error("Unknown dataType "+n.dataType);return}var l=queryDataIndex(s,n);l=(isArray3(l)?l[0]:l)||0;var u=s.getItemGraphicEl(l);if(!u)for(var f=s.count(),d=0;!u&&d<f;)u=s.getItemGraphicEl(d++);if(u){var v=getECData(u);blurSeries(o,v.focus,v.blurScope,a)}else{var g=r.get(["emphasis","focus"]),y=r.get(["emphasis","blurScope"]);g!=null&&blurSeries(o,g,y,a)}}function findComponentHighDownDispatchers(r,n,a,o){var s={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||n==null||a==null)return s;var l=o.getModel().getComponent(r,n);if(!l)return s;var u=o.getViewOfComponentModel(l);if(!u||!u.findHighDownDispatchers)return s;for(var f=u.findHighDownDispatchers(a),d,v=0;v<f.length;v++)if(isHighDownDispatcher(f[v])||error("param should be highDownDispatcher"),getECData(f[v]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(r,n,a){isHighDownDispatcher(r)||error("param should be highDownDispatcher");var o=getECData(r),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a),l=s.dispatchers,u=s.focusSelf;l?(u&&blurComponent(o.componentMainType,o.componentIndex,a),each(l,function(f){return enterEmphasisWhenMouseOver(f,n)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,a),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,a),enterEmphasisWhenMouseOver(r,n))}function handleGlobalMouseOutForHighDown(r,n,a){isHighDownDispatcher(r)||error("param should be highDownDispatcher"),allLeaveBlur(a);var o=getECData(r),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a).dispatchers;s?each(s,function(l){return leaveEmphasisWhenMouseOut(l,n)}):leaveEmphasisWhenMouseOut(r,n)}function toggleSelectionFromPayload(r,n,a){if(!!isSelectChangePayload(n)){var o=n.dataType,s=r.getData(o),l=queryDataIndex(s,n);isArray3(l)||(l=[l]),r[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](l,o)}}function updateSeriesElementSelection(r){var n=r.getAllData();each(n,function(a){var o=a.data,s=a.type;o.eachItemGraphicEl(function(l,u){r.isSelected(u,s)?enterSelect(l):leaveSelect(l)})})}function getAllSelectedIndices(r){var n=[];return r.eachSeries(function(a){var o=a.getAllData();each(o,function(s){var l=s.data,u=s.type,f=a.getSelectedDataIndices();if(f.length>0){var d={dataIndex:f,seriesIndex:a.seriesIndex};u!=null&&(d.dataType=u),n.push(d)}})}),n}function enableHoverEmphasis(r,n,a){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,n,a)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,n,a,o){o?disableHoverEmphasis(r):enableHoverEmphasis(r,n,a)}function enableHoverFocus(r,n,a){var o=getECData(r);n!=null?(o.focus=n,o.blurScope=a):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,n,a,o){a=a||"itemStyle";for(var s=0;s<OTHER_STATES.length;s++){var l=OTHER_STATES[s],u=n.getModel([l,a]),f=r.ensureState(l);f.style=o?o(u):u[defaultStyleGetterMap[a]]()}}function setAsHighDownDispatcher(r,n){var a=n===!1,o=r;r.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!a||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!a)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function enableComponentHighDownFeatures(r,n,a){var o=getECData(r);o.componentMainType=n.mainType,o.componentIndex=n.componentIndex,o.componentHighDownName=a}function getHighlightDigit(r){var n=_highlightKeyMap[r];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[r]=_highlightNextDigit++),n}function isSelectChangePayload(r){var n=r.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var n=r.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var n=getSavedStates(r);n.normalFill=r.style.fill,n.normalStroke=r.style.stroke;var a=r.states.select||{};n.selectFill=a.style&&a.style.fill||null,n.selectStroke=a.style&&a.style.stroke||null}var graphic_exports={};__export(graphic_exports,{Arc:()=>Arc_default,BezierCurve:()=>BezierCurve_default,BoundingRect:()=>BoundingRect_default,Circle:()=>Circle_default,CompoundPath:()=>CompoundPath_default,Ellipse:()=>Ellipse_default,Group:()=>Group_default,Image:()=>Image_default,IncrementalDisplayable:()=>IncrementalDisplayable_default,Line:()=>Line_default,LinearGradient:()=>LinearGradient_default,OrientedBoundingRect:()=>OrientedBoundingRect_default,Path:()=>Path_default,Point:()=>Point_default,Polygon:()=>Polygon_default,Polyline:()=>Polyline_default,RadialGradient:()=>RadialGradient_default,Rect:()=>Rect_default,Ring:()=>Ring_default,Sector:()=>Sector_default,Text:()=>Text_default,applyTransform:()=>applyTransform2,clipPointsByRect:()=>clipPointsByRect,clipRectByRect:()=>clipRectByRect,createIcon:()=>createIcon,extendPath:()=>extendPath,extendShape:()=>extendShape,getShapeClass:()=>getShapeClass,getTransform:()=>getTransform,groupTransition:()=>groupTransition,initProps:()=>initProps2,isElementRemoved:()=>isElementRemoved,lineLineIntersect:()=>lineLineIntersect,linePolygonIntersect:()=>linePolygonIntersect,makeImage:()=>makeImage,makePath:()=>makePath,mergePath:()=>mergePath2,registerShape:()=>registerShape,removeElement:()=>removeElement2,removeElementWithFadeOut:()=>removeElementWithFadeOut,resizePath:()=>resizePath,setTooltipConfig:()=>setTooltipConfig,subPixelOptimize:()=>subPixelOptimize2,subPixelOptimizeLine:()=>subPixelOptimizeLine2,subPixelOptimizeRect:()=>subPixelOptimizeRect2,transformDirection:()=>transformDirection,traverseElements:()=>traverseElements,updateProps:()=>updateProps2});var CMD3=PathProxy_default.CMD,points=[[],[],[]],mathSqrt2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,n){if(!!n){var a=r.data,o=r.len(),s,l,u,f,d,v,g=CMD3.M,y=CMD3.C,b=CMD3.L,_=CMD3.R,x=CMD3.A,w=CMD3.Q;for(u=0,f=0;u<o;){switch(s=a[u++],f=u,l=0,s){case g:l=1;break;case b:l=1;break;case y:l=3;break;case w:l=2;break;case x:var C=n[4],S=n[5],D=mathSqrt2(n[0]*n[0]+n[1]*n[1]),A=mathSqrt2(n[2]*n[2]+n[3]*n[3]),T=mathAtan2(-n[1]/A,n[0]/D);a[u]*=D,a[u++]+=C,a[u]*=A,a[u++]+=S,a[u++]*=D,a[u++]*=A,a[u++]+=T,a[u++]+=T,u+=2,f=u;break;case _:v[0]=a[u++],v[1]=a[u++],applyTransform(v,v,n),a[f++]=v[0],a[f++]=v[1],v[0]+=a[u++],v[1]+=a[u++],applyTransform(v,v,n),a[f++]=v[0],a[f++]=v[1]}for(d=0;d<l;d++){var P=points[d];P[0]=a[u++],P[1]=a[u++],applyTransform(P,P,n),a[f++]=P[0],a[f++]=P[1]}}r.increaseVersion()}}var mathSqrt3=Math.sqrt,mathSin3=Math.sin,mathCos3=Math.cos,PI3=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,n){return(r[0]*n[0]+r[1]*n[1])/(vMag(r)*vMag(n))}function vAngle(r,n){return(r[0]*n[1]<r[1]*n[0]?-1:1)*Math.acos(vRatio(r,n))}function processArc(r,n,a,o,s,l,u,f,d,v,g){var y=d*(PI3/180),b=mathCos3(y)*(r-a)/2+mathSin3(y)*(n-o)/2,_=-1*mathSin3(y)*(r-a)/2+mathCos3(y)*(n-o)/2,x=b*b/(u*u)+_*_/(f*f);x>1&&(u*=mathSqrt3(x),f*=mathSqrt3(x));var w=(s===l?-1:1)*mathSqrt3((u*u*(f*f)-u*u*(_*_)-f*f*(b*b))/(u*u*(_*_)+f*f*(b*b)))||0,C=w*u*_/f,S=w*-f*b/u,D=(r+a)/2+mathCos3(y)*C-mathSin3(y)*S,A=(n+o)/2+mathSin3(y)*C+mathCos3(y)*S,T=vAngle([1,0],[(b-C)/u,(_-S)/f]),P=[(b-C)/u,(_-S)/f],E=[(-1*b-C)/u,(-1*_-S)/f],M=vAngle(P,E);if(vRatio(P,E)<=-1&&(M=PI3),vRatio(P,E)>=1&&(M=0),M<0){var L=Math.round(M/PI3*1e6)/1e6;M=PI3*2+L%2*PI3}g.addData(v,D,A,u,f,T,M,y,l)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var n=new PathProxy_default;if(!r)return n;var a=0,o=0,s=a,l=o,u,f=PathProxy_default.CMD,d=r.match(commandReg);if(!d)return n;for(var v=0;v<d.length;v++){for(var g=d[v],y=g.charAt(0),b=void 0,_=g.match(numberReg)||[],x=_.length,w=0;w<x;w++)_[w]=parseFloat(_[w]);for(var C=0;C<x;){var S=void 0,D=void 0,A=void 0,T=void 0,P=void 0,E=void 0,M=void 0,L=a,F=o,I=void 0,B=void 0;switch(y){case"l":a+=_[C++],o+=_[C++],b=f.L,n.addData(b,a,o);break;case"L":a=_[C++],o=_[C++],b=f.L,n.addData(b,a,o);break;case"m":a+=_[C++],o+=_[C++],b=f.M,n.addData(b,a,o),s=a,l=o,y="l";break;case"M":a=_[C++],o=_[C++],b=f.M,n.addData(b,a,o),s=a,l=o,y="L";break;case"h":a+=_[C++],b=f.L,n.addData(b,a,o);break;case"H":a=_[C++],b=f.L,n.addData(b,a,o);break;case"v":o+=_[C++],b=f.L,n.addData(b,a,o);break;case"V":o=_[C++],b=f.L,n.addData(b,a,o);break;case"C":b=f.C,n.addData(b,_[C++],_[C++],_[C++],_[C++],_[C++],_[C++]),a=_[C-2],o=_[C-1];break;case"c":b=f.C,n.addData(b,_[C++]+a,_[C++]+o,_[C++]+a,_[C++]+o,_[C++]+a,_[C++]+o),a+=_[C-2],o+=_[C-1];break;case"S":S=a,D=o,I=n.len(),B=n.data,u===f.C&&(S+=a-B[I-4],D+=o-B[I-3]),b=f.C,L=_[C++],F=_[C++],a=_[C++],o=_[C++],n.addData(b,S,D,L,F,a,o);break;case"s":S=a,D=o,I=n.len(),B=n.data,u===f.C&&(S+=a-B[I-4],D+=o-B[I-3]),b=f.C,L=a+_[C++],F=o+_[C++],a+=_[C++],o+=_[C++],n.addData(b,S,D,L,F,a,o);break;case"Q":L=_[C++],F=_[C++],a=_[C++],o=_[C++],b=f.Q,n.addData(b,L,F,a,o);break;case"q":L=_[C++]+a,F=_[C++]+o,a+=_[C++],o+=_[C++],b=f.Q,n.addData(b,L,F,a,o);break;case"T":S=a,D=o,I=n.len(),B=n.data,u===f.Q&&(S+=a-B[I-4],D+=o-B[I-3]),a=_[C++],o=_[C++],b=f.Q,n.addData(b,S,D,a,o);break;case"t":S=a,D=o,I=n.len(),B=n.data,u===f.Q&&(S+=a-B[I-4],D+=o-B[I-3]),a+=_[C++],o+=_[C++],b=f.Q,n.addData(b,S,D,a,o);break;case"A":A=_[C++],T=_[C++],P=_[C++],E=_[C++],M=_[C++],L=a,F=o,a=_[C++],o=_[C++],b=f.A,processArc(L,F,a,o,E,M,A,T,P,b,n);break;case"a":A=_[C++],T=_[C++],P=_[C++],E=_[C++],M=_[C++],L=a,F=o,a+=_[C++],o+=_[C++],b=f.A,processArc(L,F,a,o,E,M,A,T,P,b,n);break}}(y==="z"||y==="Z")&&(b=f.Z,n.addData(b),a=s,o=l),u=b}return n.toStatic(),n}var SVGPath=function(r){__extends2(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.applyTransform=function(a){},n}(Path_default);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,n){var a=createPathProxyFromString(r),o=extend2({},n);return o.buildPath=function(s){if(isPathProxy(s)){s.setData(a.data);var l=s.getContext();l&&s.rebuildPath(l,1)}else{var l=s;a.rebuildPath(l,1)}},o.applyTransform=function(s){transformPath(a,s),this.dirtyShape()},o}function createFromString(r,n){return new SVGPath(createPathOptions(r,n))}function extendFromString(r,n){var a=createPathOptions(r,n),o=function(s){__extends2(l,s);function l(u){var f=s.call(this,u)||this;return f.applyTransform=a.applyTransform,f.buildPath=a.buildPath,f}return l}(SVGPath);return o}function mergePath(r,n){for(var a=[],o=r.length,s=0;s<o;s++){var l=r[s];a.push(l.getUpdatedPathProxy(!0))}var u=new Path_default(n);return u.createPathProxy(),u.buildPath=function(f){if(isPathProxy(f)){f.appendPath(a);var d=f.getContext();d&&f.rebuildPath(d,1)}},u}function clonePath(r,n){n=n||{};var a=new Path_default;return r.shape&&a.setShape(r.shape),a.setStyle(r.style),n.bakeTransform?transformPath(a.path,r.getComputedTransform()):n.toLocal?a.setLocalTransform(r.getComputedTransform()):a.copyTransform(r),a.buildPath=r.buildPath,a.applyTransform=a.applyTransform,a.z=r.z,a.z2=r.z2,a.zlevel=r.zlevel,a}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(a,o){a.moveTo(o.cx+o.r,o.cy),a.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n}(Path_default);Circle.prototype.type="circle";var Circle_default=Circle,EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(a,o){var s=.5522848,l=o.cx,u=o.cy,f=o.rx,d=o.ry,v=f*s,g=d*s;a.moveTo(l-f,u),a.bezierCurveTo(l-f,u-g,l-v,u-d,l,u-d),a.bezierCurveTo(l+v,u-d,l+f,u-g,l+f,u),a.bezierCurveTo(l+f,u+g,l+v,u+d,l,u+d),a.bezierCurveTo(l-v,u+d,l-f,u+g,l-f,u),a.closePath()},n}(Path_default);Ellipse.prototype.type="ellipse";var Ellipse_default=Ellipse,PI4=Math.PI,PI26=PI4*2,mathSin4=Math.sin,mathCos4=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs2=Math.abs,mathSqrt4=Math.sqrt,mathMax4=Math.max,mathMin4=Math.min,e=1e-4;function intersect(r,n,a,o,s,l,u,f){var d=a-r,v=o-n,g=u-s,y=f-l,b=y*d-g*v;if(!(b*b<e))return b=(g*(n-l)-y*(r-s))/b,[r+b*d,n+b*v]}function computeCornerTangents(r,n,a,o,s,l,u){var f=r-a,d=n-o,v=(u?l:-l)/mathSqrt4(f*f+d*d),g=v*d,y=-v*f,b=r+g,_=n+y,x=a+g,w=o+y,C=(b+x)/2,S=(_+w)/2,D=x-b,A=w-_,T=D*D+A*A,P=s-l,E=b*w-x*_,M=(A<0?-1:1)*mathSqrt4(mathMax4(0,P*P*T-E*E)),L=(E*A-D*M)/T,F=(-E*D-A*M)/T,I=(E*A+D*M)/T,B=(-E*D+A*M)/T,O=L-C,R=F-S,z=I-C,N=B-S;return O*O+R*R>z*z+N*N&&(L=I,F=B),{cx:L,cy:F,x0:-g,y0:-y,x1:L*(s/P-1),y1:F*(s/P-1)}}function normalizeCornerRadius(r){var n;if(isArray3(r)){var a=r.length;if(!a)return r;a===1?n=[r[0],r[0],0,0]:a===2?n=[r[0],r[0],r[1],r[1]]:a===3?n=r.concat(r[2]):n=r}else n=[r,r,r,r];return n}function buildPath2(r,n){var a,o=mathMax4(n.r,0),s=mathMax4(n.r0||0,0),l=o>0,u=s>0;if(!(!l&&!u)){if(l||(o=s,s=0),s>o){var f=o;o=s,s=f}var d=n.startAngle,v=n.endAngle;if(!(isNaN(d)||isNaN(v))){var g=n.cx,y=n.cy,b=!!n.clockwise,_=mathAbs2(v-d),x=_>PI26&&_%PI26;if(x>e&&(_=x),!(o>e))r.moveTo(g,y);else if(_>PI26-e)r.moveTo(g+o*mathCos4(d),y+o*mathSin4(d)),r.arc(g,y,o,d,v,!b),s>e&&(r.moveTo(g+s*mathCos4(v),y+s*mathSin4(v)),r.arc(g,y,s,v,d,b));else{var w=void 0,C=void 0,S=void 0,D=void 0,A=void 0,T=void 0,P=void 0,E=void 0,M=void 0,L=void 0,F=void 0,I=void 0,B=void 0,O=void 0,R=void 0,z=void 0,N=o*mathCos4(d),V=o*mathSin4(d),W=s*mathCos4(v),H=s*mathSin4(v),$=_>e;if($){var Y=n.cornerRadius;Y&&(a=normalizeCornerRadius(Y),w=a[0],C=a[1],S=a[2],D=a[3]);var ae=mathAbs2(o-s)/2;if(A=mathMin4(ae,S),T=mathMin4(ae,D),P=mathMin4(ae,w),E=mathMin4(ae,C),F=M=mathMax4(A,T),I=L=mathMax4(P,E),(M>e||L>e)&&(B=o*mathCos4(v),O=o*mathSin4(v),R=s*mathCos4(d),z=s*mathSin4(d),_<PI4)){var X=intersect(N,V,R,z,B,O,W,H);if(X){var J=N-X[0],fe=V-X[1],ge=B-X[0],ye=O-X[1],be=1/mathSin4(mathACos((J*ge+fe*ye)/(mathSqrt4(J*J+fe*fe)*mathSqrt4(ge*ge+ye*ye)))/2),K=mathSqrt4(X[0]*X[0]+X[1]*X[1]);F=mathMin4(M,(o-K)/(be+1)),I=mathMin4(L,(s-K)/(be-1))}}}if(!$)r.moveTo(g+N,y+V);else if(F>e){var j=mathMin4(S,F),Q=mathMin4(D,F),le=computeCornerTangents(R,z,N,V,o,j,b),oe=computeCornerTangents(B,O,W,H,o,Q,b);r.moveTo(g+le.cx+le.x0,y+le.cy+le.y0),F<M&&j===Q?r.arc(g+le.cx,y+le.cy,F,mathATan2(le.y0,le.x0),mathATan2(oe.y0,oe.x0),!b):(j>0&&r.arc(g+le.cx,y+le.cy,j,mathATan2(le.y0,le.x0),mathATan2(le.y1,le.x1),!b),r.arc(g,y,o,mathATan2(le.cy+le.y1,le.cx+le.x1),mathATan2(oe.cy+oe.y1,oe.cx+oe.x1),!b),Q>0&&r.arc(g+oe.cx,y+oe.cy,Q,mathATan2(oe.y1,oe.x1),mathATan2(oe.y0,oe.x0),!b))}else r.moveTo(g+N,y+V),r.arc(g,y,o,d,v,!b);if(!(s>e)||!$)r.lineTo(g+W,y+H);else if(I>e){var j=mathMin4(w,I),Q=mathMin4(C,I),le=computeCornerTangents(W,H,B,O,s,-Q,b),oe=computeCornerTangents(N,V,R,z,s,-j,b);r.lineTo(g+le.cx+le.x0,y+le.cy+le.y0),I<L&&j===Q?r.arc(g+le.cx,y+le.cy,I,mathATan2(le.y0,le.x0),mathATan2(oe.y0,oe.x0),!b):(Q>0&&r.arc(g+le.cx,y+le.cy,Q,mathATan2(le.y0,le.x0),mathATan2(le.y1,le.x1),!b),r.arc(g,y,s,mathATan2(le.cy+le.y1,le.cx+le.x1),mathATan2(oe.cy+oe.y1,oe.cx+oe.x1),b),j>0&&r.arc(g+oe.cx,y+oe.cy,j,mathATan2(oe.y1,oe.x1),mathATan2(oe.y0,oe.x0),!b))}else r.lineTo(g+W,y+H),r.arc(g,y,s,v,d,b)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(a,o){buildPath2(a,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path_default);Sector.prototype.type="sector";var Sector_default=Sector,RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.PI*2;a.moveTo(s+o.r,l),a.arc(s,l,o.r,0,u,!1),a.moveTo(s+o.r0,l),a.arc(s,l,o.r0,0,u,!0)},n}(Path_default);Ring.prototype.type="ring";var Ring_default=Ring;function smoothBezier(r,n,a,o){var s=[],l=[],u=[],f=[],d,v,g,y;if(o){g=[1/0,1/0],y=[-1/0,-1/0];for(var b=0,_=r.length;b<_;b++)min(g,g,r[b]),max(y,y,r[b]);min(g,g,o[0]),max(y,y,o[1])}for(var b=0,_=r.length;b<_;b++){var x=r[b];if(a)d=r[b?b-1:_-1],v=r[(b+1)%_];else if(b===0||b===_-1){s.push(clone2(r[b]));continue}else d=r[b-1],v=r[b+1];sub(l,v,d),scale(l,l,n);var w=distance(x,d),C=distance(x,v),S=w+C;S!==0&&(w/=S,C/=S),scale(u,l,-w),scale(f,l,C);var D=add2([],x,u),A=add2([],x,f);o&&(max(D,D,g),min(D,D,y),max(A,A,g),min(A,A,y)),s.push(D),s.push(A)}return a&&s.push(s.shift()),s}function buildPath3(r,n,a){var o=n.smooth,s=n.points;if(s&&s.length>=2){if(o){var l=smoothBezier(s,o,a,n.smoothConstraint);r.moveTo(s[0][0],s[0][1]);for(var u=s.length,f=0;f<(a?u:u-1);f++){var d=l[f*2],v=l[f*2+1],g=s[(f+1)%u];r.bezierCurveTo(d[0],d[1],v[0],v[1],g[0],g[1])}}else{r.moveTo(s[0][0],s[0][1]);for(var f=1,y=s.length;f<y;f++)r.lineTo(s[f][0],s[f][1])}a&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(a,o){buildPath3(a,o,!0)},n}(Path_default);Polygon.prototype.type="polygon";var Polygon_default=Polygon,PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(a,o){buildPath3(a,o,!1)},n}(Path_default);Polyline.prototype.type="polyline";var Polyline_default=Polyline,subPixelOptimizeOutputShape2={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(a,o){var s,l,u,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine(subPixelOptimizeOutputShape2,o,this.style);s=d.x1,l=d.y1,u=d.x2,f=d.y2}else s=o.x1,l=o.y1,u=o.x2,f=o.y2;var v=o.percent;v!==0&&(a.moveTo(s,l),v<1&&(u=s*(1-v)+u*v,f=l*(1-v)+f*v),a.lineTo(u,f))},n.prototype.pointAt=function(a){var o=this.shape;return[o.x1*(1-a)+o.x2*a,o.y1*(1-a)+o.y2*a]},n}(Path_default);Line.prototype.type="line";var Line_default=Line,out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,n,a){var o=r.cpx2,s=r.cpy2;return o!=null||s!=null?[(a?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,n),(a?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,n)]:[(a?quadraticDerivativeAt:quadraticAt)(r.x1,r.cpx1,r.x2,n),(a?quadraticDerivativeAt:quadraticAt)(r.y1,r.cpy1,r.y2,n)]}var BezierCurve=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(a,o){var s=o.x1,l=o.y1,u=o.x2,f=o.y2,d=o.cpx1,v=o.cpy1,g=o.cpx2,y=o.cpy2,b=o.percent;b!==0&&(a.moveTo(s,l),g==null||y==null?(b<1&&(quadraticSubdivide(s,d,u,b,out),d=out[1],u=out[2],quadraticSubdivide(l,v,f,b,out),v=out[1],f=out[2]),a.quadraticCurveTo(d,v,u,f)):(b<1&&(cubicSubdivide(s,d,g,u,b,out),d=out[1],g=out[2],u=out[3],cubicSubdivide(l,v,y,f,b,out),v=out[1],y=out[2],f=out[3]),a.bezierCurveTo(d,v,g,y,u,f)))},n.prototype.pointAt=function(a){return someVectorAt(this.shape,a,!1)},n.prototype.tangentAt=function(a){var o=someVectorAt(this.shape,a,!0);return normalize(o,o)},n}(Path_default);BezierCurve.prototype.type="bezier-curve";var BezierCurve_default=BezierCurve,ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends2(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,v=o.clockwise,g=Math.cos(f),y=Math.sin(f);a.moveTo(g*u+s,y*u+l),a.arc(s,l,u,f,d,!v)},n}(Path_default);Arc.prototype.type="arc";var Arc_default=Arc,CompoundPath=function(r){__extends2(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="compound",a}return n.prototype._updatePathDirty=function(){for(var a=this.shape.paths,o=this.shapeChanged(),s=0;s<a.length;s++)o=o||a[s].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<a.length;s++)a[s].path||a[s].createPathProxy(),a[s].path.setScale(o[0],o[1],a[s].segmentIgnoreThreshold)},n.prototype.buildPath=function(a,o){for(var s=o.paths||[],l=0;l<s.length;l++)s[l].buildPath(a,s[l].shape,!0)},n.prototype.afterBrush=function(){for(var a=this.shape.paths||[],o=0;o<a.length;o++)a[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path_default.prototype.getBoundingRect.call(this)},n}(Path_default),CompoundPath_default=CompoundPath,Gradient=function(){function r(n){this.colorStops=n||[]}return r.prototype.addColorStop=function(n,a){this.colorStops.push({offset:n,color:a})},r}(),Gradient_default=Gradient,LinearGradient=function(r){__extends2(n,r);function n(a,o,s,l,u,f){var d=r.call(this,u)||this;return d.x=a==null?0:a,d.y=o==null?0:o,d.x2=s==null?1:s,d.y2=l==null?0:l,d.type="linear",d.global=f||!1,d}return n}(Gradient_default),LinearGradient_default=LinearGradient,RadialGradient=function(r){__extends2(n,r);function n(a,o,s,l,u){var f=r.call(this,l)||this;return f.x=a==null?.5:a,f.y=o==null?.5:o,f.r=s==null?.5:s,f.type="radial",f.global=u||!1,f}return n}(Gradient_default),RadialGradient_default=RadialGradient,extent=[0,0],extent2=[0,0],minTv2=new Point_default,maxTv2=new Point_default,OrientedBoundingRect=function(){function r(n,a){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point_default;for(var o=0;o<2;o++)this._axes[o]=new Point_default;n&&this.fromBoundingRect(n,a)}return r.prototype.fromBoundingRect=function(n,a){var o=this._corners,s=this._axes,l=n.x,u=n.y,f=l+n.width,d=u+n.height;if(o[0].set(l,u),o[1].set(f,u),o[2].set(f,d),o[3].set(l,d),a)for(var v=0;v<4;v++)o[v].transform(a);Point_default.sub(s[0],o[1],o[0]),Point_default.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize();for(var v=0;v<2;v++)this._origin[v]=s[v].dot(o[0])},r.prototype.intersect=function(n,a){var o=!0,s=!a;return minTv2.set(1/0,1/0),maxTv2.set(0,0),!this._intersectCheckOneSide(this,n,minTv2,maxTv2,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(n,this,minTv2,maxTv2,s,-1)&&(o=!1,s)||s||Point_default.copy(a,o?minTv2:maxTv2),o},r.prototype._intersectCheckOneSide=function(n,a,o,s,l,u){for(var f=!0,d=0;d<2;d++){var v=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,a._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,l)return f;var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)>s.len()&&(g<y?Point_default.scale(s,v,-g*u):Point_default.scale(s,v,y*u))}else if(o){var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)<o.len()&&(g<y?Point_default.scale(o,v,g*u):Point_default.scale(o,v,-y*u))}}return f},r.prototype._getProjMinMaxOnAxis=function(n,a,o){for(var s=this._axes[n],l=this._origin,u=a[0].dot(s)+l[n],f=u,d=u,v=1;v<a.length;v++){var g=a[v].dot(s)+l[n];f=Math.min(g,f),d=Math.max(g,d)}o[0]=f,o[1]=d},r}(),OrientedBoundingRect_default=OrientedBoundingRect,m=[],IncrementalDisplayable=function(r){__extends2(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return n.prototype.traverse=function(a,o){a.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(a,o){o?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},n.prototype.addDisplayables=function(a,o){o=o||!1;for(var s=0;s<a.length;s++)this.addDisplayable(a[s],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(a){for(var o=this._cursor;o<this._displayables.length;o++)a&&a(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)a&&a(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var o=this._displayables[a];o.parent=this,o.update(),o.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var o=this._temporaryDisplayables[a];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new BoundingRect_default(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],l=s.getBoundingRect().clone();s.needLocalTransform()&&l.applyTransform(s.getLocalTransform(m)),a.union(l)}this._rect=a}return this._rect},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(l.contain(s[0],s[1]))for(var u=0;u<this._displayables.length;u++){var f=this._displayables[u];if(f.contain(a,o))return!0}return!1},n}(Displayable_default),IncrementalDisplayable_default=IncrementalDisplayable,transitionStore=makeInner();function getAnimationConfig(r,n,a,o,s){var l;if(n&&n.ecModel){var u=n.ecModel.getUpdatePayload();l=u&&u.animation}var f=n&&n.isAnimationEnabled(),d=r==="update";if(f){var v=void 0,g=void 0,y=void 0;o?(v=retrieve2(o.duration,200),g=retrieve2(o.easing,"cubicOut"),y=0):(v=n.getShallow(d?"animationDurationUpdate":"animationDuration"),g=n.getShallow(d?"animationEasingUpdate":"animationEasing"),y=n.getShallow(d?"animationDelayUpdate":"animationDelay")),l&&(l.duration!=null&&(v=l.duration),l.easing!=null&&(g=l.easing),l.delay!=null&&(y=l.delay)),isFunction3(y)&&(y=y(a,s)),isFunction3(v)&&(v=v(a));var b={duration:v||0,delay:y,easing:g};return b}else return null}function animateOrSetProps(r,n,a,o,s,l,u){var f=!1,d;isFunction3(s)?(u=l,l=s,s=null):isObject3(s)&&(l=s.cb,u=s.during,f=s.isFrom,d=s.removeOpt,s=s.dataIndex);var v=r==="leave";v||n.stopAnimation("leave");var g=getAnimationConfig(r,o,s,v?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,s):null);if(g&&g.duration>0){var y=g.duration,b=g.delay,_=g.easing,x={duration:y,delay:b||0,easing:_,done:l,force:!!l||!!u,setToFinal:!v,scope:r,during:u};f?n.animateFrom(a,x):n.animateTo(a,x)}else n.stopAnimation(),!f&&n.attr(a),u&&u(1),l&&l()}function updateProps2(r,n,a,o,s,l){animateOrSetProps("update",r,n,a,o,s,l)}function initProps2(r,n,a,o,s,l){animateOrSetProps("enter",r,n,a,o,s,l)}function isElementRemoved(r){if(!r.__zr)return!0;for(var n=0;n<r.animators.length;n++){var a=r.animators[n];if(a.scope==="leave")return!0}return!1}function removeElement2(r,n,a,o,s,l){isElementRemoved(r)||animateOrSetProps("leave",r,n,a,o,s,l)}function fadeOutDisplayable(r,n,a,o){r.removeTextContent(),r.removeTextGuideLine(),removeElement2(r,{style:{opacity:0}},n,a,o)}function removeElementWithFadeOut(r,n,a){function o(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(s){s.isGroup||fadeOutDisplayable(s,n,a,o)}):fadeOutDisplayable(r,n,a,o)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}function getOldStyle(r){return transitionStore(r).oldStyle}var mathMax5=Math.max,mathMin5=Math.min,_customShapeMap={};function extendShape(r){return Path_default.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,n){return extendPathFromString(r,n)}function registerShape(r,n){_customShapeMap[r]=n}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,n,a,o){var s=createFromString(r,n);return a&&(o==="center"&&(a=centerGraphic(a,s.getBoundingRect())),resizePath(s,a)),s}function makeImage(r,n,a){var o=new Image_default({style:{image:r,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(s){if(a==="center"){var l={width:s.width,height:s.height};o.setStyle(centerGraphic(n,l))}}});return o}function centerGraphic(r,n){var a=n.width/n.height,o=r.height*a,s;o<=r.width?s=r.height:(o=r.width,s=o/a);var l=r.x+r.width/2,u=r.y+r.height/2;return{x:l-o/2,y:u-s/2,width:o,height:s}}var mergePath2=mergePath;function resizePath(r,n){if(!!r.applyTransform){var a=r.getBoundingRect(),o=a.calculateTransform(n);r.applyTransform(o)}}function subPixelOptimizeLine2(r){return subPixelOptimizeLine(r.shape,r.shape,r.style),r}function subPixelOptimizeRect2(r){return subPixelOptimizeRect(r.shape,r.shape,r.style),r}var subPixelOptimize2=subPixelOptimize;function getTransform(r,n){for(var a=identity2([]);r&&r!==n;)mul(a,r.getLocalTransform(),a),r=r.parent;return a}function applyTransform2(r,n,a){return n&&!isArrayLike2(n)&&(n=Transformable_default.getLocalTransform(n)),a&&(n=invert([],n)),applyTransform([],r,n)}function transformDirection(r,n,a){var o=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),s=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),l=[r==="left"?-o:r==="right"?o:0,r==="top"?-s:r==="bottom"?s:0];return l=applyTransform2(l,n,a),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath(r){return r.shape!=null}function groupTransition(r,n,a){if(!r||!n)return;function o(u){var f={};return u.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function s(u){var f={x:u.x,y:u.y,rotation:u.rotation};return isPath(u)&&(f.shape=extend2({},u.shape)),f}var l=o(r);n.traverse(function(u){if(isNotGroup(u)&&u.anid){var f=l[u.anid];if(f){var d=s(u);u.attr(s(f)),updateProps2(u,d,a,getECData(u).dataIndex)}}})}function clipPointsByRect(r,n){return map3(r,function(a){var o=a[0];o=mathMax5(o,n.x),o=mathMin5(o,n.x+n.width);var s=a[1];return s=mathMax5(s,n.y),s=mathMin5(s,n.y+n.height),[o,s]})}function clipRectByRect(r,n){var a=mathMax5(r.x,n.x),o=mathMin5(r.x+r.width,n.x+n.width),s=mathMax5(r.y,n.y),l=mathMin5(r.y+r.height,n.y+n.height);if(o>=a&&l>=s)return{x:a,y:s,width:o-a,height:l-s}}function createIcon(r,n,a){var o=extend2({rectHover:!0},n),s=o.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(s.image=r.slice(8),defaults(s,a),new Image_default(o)):makePath(r.replace("path://",""),o,a,"center")}function linePolygonIntersect(r,n,a,o,s){for(var l=0,u=s[s.length-1];l<s.length;l++){var f=s[l];if(lineLineIntersect(r,n,a,o,f[0],f[1],u[0],u[1]))return!0;u=f}}function lineLineIntersect(r,n,a,o,s,l,u,f){var d=a-r,v=o-n,g=u-s,y=f-l,b=crossProduct2d(g,y,d,v);if(nearZero(b))return!1;var _=r-s,x=n-l,w=crossProduct2d(_,x,d,v)/b;if(w<0||w>1)return!1;var C=crossProduct2d(_,x,g,y)/b;return!(C<0||C>1)}function crossProduct2d(r,n,a,o){return r*o-a*n}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var n=r.itemTooltipOption,a=r.componentModel,o=r.itemName,s=isString2(n)?{formatter:n}:n,l=a.mainType,u=a.componentIndex,f={componentType:l,name:o,$vars:["name"]};f[l+"Index"]=u;var d=r.formatterParamsExtra;d&&each(keys2(d),function(g){hasOwn2(f,g)||(f[g]=d[g],f.$vars.push(g))});var v=getECData(r.el);v.componentMainType=l,v.componentIndex=u,v.tooltipConfig={name:o,option:defaults({content:o,formatterParams:f},s)}}function traverseElement(r,n){var a;r.isGroup&&(a=n(r)),a||r.traverse(n)}function traverseElements(r,n){if(r)if(isArray3(r))for(var a=0;a<r.length;a++)traverseElement(r[a],n);else traverseElement(r,n)}registerShape("circle",Circle_default),registerShape("ellipse",Ellipse_default),registerShape("sector",Sector_default),registerShape("ring",Ring_default),registerShape("polygon",Polygon_default),registerShape("polyline",Polyline_default),registerShape("rect",Rect_default),registerShape("line",Line_default),registerShape("bezierCurve",BezierCurve_default),registerShape("arc",Arc_default);var EMPTY_OBJ2={};function setLabelText(r,n){for(var a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a],s=n[o],l=r.ensureState(o);l.style=l.style||{},l.style.text=s}var u=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:n.normal}),r.useStates(u,!0)}function getLabelText(r,n,a){var o=r.labelFetcher,s=r.labelDataIndex,l=r.labelDimIndex,u=n.normal,f;o&&(f=o.getFormattedLabel(s,"normal",null,l,u&&u.get("formatter"),a!=null?{interpolatedValue:a}:null)),f==null&&(f=isFunction3(r.defaultText)?r.defaultText(s,r,a):r.defaultText);for(var d={normal:f},v=0;v<SPECIAL_STATES.length;v++){var g=SPECIAL_STATES[v],y=n[g];d[g]=retrieve2(o?o.getFormattedLabel(s,g,null,l,y&&y.get("formatter")):null,f)}return d}function setLabelStyle(r,n,a,o){a=a||EMPTY_OBJ2;for(var s=r instanceof Text_default,l=!1,u=0;u<DISPLAY_STATES.length;u++){var f=n[DISPLAY_STATES[u]];if(f&&f.getShallow("show")){l=!0;break}}var d=s?r:r.getTextContent();if(l){s||(d||(d=new Text_default,r.setTextContent(d)),r.stateProxy&&(d.stateProxy=r.stateProxy));var v=getLabelText(a,n),g=n.normal,y=!!g.getShallow("show"),b=createTextStyle(g,o&&o.normal,a,!1,!s);b.text=v.normal,s||r.setTextConfig(createTextConfig(g,a,!1));for(var u=0;u<SPECIAL_STATES.length;u++){var _=SPECIAL_STATES[u],f=n[_];if(f){var x=d.ensureState(_),w=!!retrieve2(f.getShallow("show"),y);if(w!==y&&(x.ignore=!w),x.style=createTextStyle(f,o&&o[_],a,!0,!s),x.style.text=v[_],!s){var C=r.ensureState(_);C.textConfig=createTextConfig(f,a,!0)}}}d.silent=!!g.getShallow("silent"),d.style.x!=null&&(b.x=d.style.x),d.style.y!=null&&(b.y=d.style.y),d.ignore=!y,d.useStyle(b),d.dirty(),a.enableTextSetter&&(labelInner(d).setLabelText=function(S){var D=getLabelText(a,n,S);setLabelText(d,D)})}else d&&(d.ignore=!0);r.dirty()}function getLabelStatesModels(r,n){n=n||"label";for(var a={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=r.getModel([s,n])}return a}function createTextStyle(r,n,a,o,s){var l={};return setTextStyleCommon(l,r,a,o,s),n&&extend2(l,n),l}function createTextConfig(r,n,a){n=n||{};var o={},s,l=r.getShallow("rotate"),u=retrieve2(r.getShallow("distance"),a?null:5),f=r.getShallow("offset");return s=r.getShallow("position")||(a?null:"inside"),s==="outside"&&(s=n.defaultOutsidePosition||"top"),s!=null&&(o.position=s),f!=null&&(o.offset=f),l!=null&&(l*=Math.PI/180,o.rotation=l),u!=null&&(o.distance=u),o.outsideFill=r.get("color")==="inherit"?n.inheritColor||null:"auto",o}function setTextStyleCommon(r,n,a,o,s){a=a||EMPTY_OBJ2;var l=n.ecModel,u=l&&l.option.textStyle,f=getRichItemNames(n),d;if(f){d={};for(var v in f)if(f.hasOwnProperty(v)){var g=n.getModel(["rich",v]);setTokenTextStyle(d[v]={},g,u,a,o,s,!1,!0)}}d&&(r.rich=d);var y=n.get("overflow");y&&(r.overflow=y);var b=n.get("minMargin");b!=null&&(r.margin=b),setTokenTextStyle(r,n,u,a,o,s,!0,!1)}function getRichItemNames(r){for(var n;r&&r!==r.ecModel;){var a=(r.option||EMPTY_OBJ2).rich;if(a){n=n||{};for(var o=keys2(a),s=0;s<o.length;s++){var l=o[s];n[l]=1}}r=r.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,n,a,o,s,l,u,f){a=!s&&a||EMPTY_OBJ2;var d=o&&o.inheritColor,v=n.getShallow("color"),g=n.getShallow("textBorderColor"),y=retrieve2(n.getShallow("opacity"),a.opacity);(v==="inherit"||v==="auto")&&(v==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?v=d:v=null),(g==="inherit"||g==="auto")&&(g==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?g=d:g=null),l||(v=v||a.color,g=g||a.textBorderColor),v!=null&&(r.fill=v),g!=null&&(r.stroke=g);var b=retrieve2(n.getShallow("textBorderWidth"),a.textBorderWidth);b!=null&&(r.lineWidth=b);var _=retrieve2(n.getShallow("textBorderType"),a.textBorderType);_!=null&&(r.lineDash=_);var x=retrieve2(n.getShallow("textBorderDashOffset"),a.textBorderDashOffset);x!=null&&(r.lineDashOffset=x),!s&&y==null&&!f&&(y=o&&o.defaultOpacity),y!=null&&(r.opacity=y),!s&&!l&&r.fill==null&&o.inheritColor&&(r.fill=o.inheritColor);for(var w=0;w<TEXT_PROPS_WITH_GLOBAL.length;w++){var C=TEXT_PROPS_WITH_GLOBAL[w],S=retrieve2(n.getShallow(C),a[C]);S!=null&&(r[C]=S)}for(var w=0;w<TEXT_PROPS_SELF.length;w++){var C=TEXT_PROPS_SELF[w],S=n.getShallow(C);S!=null&&(r[C]=S)}if(r.verticalAlign==null){var D=n.getShallow("baseline");D!=null&&(r.verticalAlign=D)}if(!u||!o.disableBox){for(var w=0;w<TEXT_PROPS_BOX.length;w++){var C=TEXT_PROPS_BOX[w],S=n.getShallow(C);S!=null&&(r[C]=S)}var A=n.getShallow("borderType");A!=null&&(r.borderDash=A),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&d&&(r.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),r.backgroundColor=d),(r.borderColor==="auto"||r.borderColor==="inherit")&&d&&(r.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),r.borderColor=d)}}function getFont(r,n){var a=n&&n.getModel("textStyle");return trim([r.fontStyle||a&&a.getShallow("fontStyle")||"",r.fontWeight||a&&a.getShallow("fontWeight")||"",(r.fontSize||a&&a.getShallow("fontSize")||12)+"px",r.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(r,n,a,o){if(!!r){var s=labelInner(r);s.prevValue=s.value,s.value=a;var l=n.normal;s.valueAnimation=l.get("valueAnimation"),s.valueAnimation&&(s.precision=l.get("precision"),s.defaultInterpolatedText=o,s.statesModels=n)}}function animateLabelValue(r,n,a,o,s){var l=labelInner(r);if(!l.valueAnimation||l.prevValue===l.value)return;var u=l.defaultInterpolatedText,f=retrieve2(l.interpolatedValue,l.prevValue),d=l.value;function v(g){var y=interpolateRawValues(a,l.precision,f,d,g);l.interpolatedValue=g===1?null:y;var b=getLabelText({labelDataIndex:n,labelFetcher:s,defaultText:u?u(y):y+""},l.statesModels,y);setLabelText(r,b)}r.percent=0,(l.prevValue==null?initProps2:updateProps2)(r,{percent:1},o,n,null,v)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new Text_default,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(n){var a=this.ecModel;return this.getShallow("color")||(!n&&a?a.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(n){for(var a={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)a[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(a),tmpText.update(),tmpText.getBoundingRect()},r}(),textStyle_default=TextStyleMixin,LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(n){return getLineStyle(this,n)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(n,a){return getItemStyle(this,n,a)},r}(),Model=function(){function r(n,a,o){this.parentModel=a,this.ecModel=o,this.option=n}return r.prototype.init=function(n,a,o){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l]},r.prototype.mergeOption=function(n,a){merge3(this.option,n,!0)},r.prototype.get=function(n,a){return n==null?this.option:this._doGet(this.parsePath(n),!a&&this.parentModel)},r.prototype.getShallow=function(n,a){var o=this.option,s=o==null?o:o[n];if(s==null&&!a){var l=this.parentModel;l&&(s=l.getShallow(n))}return s},r.prototype.getModel=function(n,a){var o=n!=null,s=o?this.parsePath(n):null,l=o?this._doGet(s):this.option;return a=a||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),new r(l,a,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var n=this.constructor;return new n(clone(this.option))},r.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},r.prototype.resolveParentPath=function(n){return n},r.prototype.isAnimationEnabled=function(){if(!env_default.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(n,a){var o=this.option;if(!n)return o;for(var s=0;s<n.length&&!(!!n[s]&&(o=o&&typeof o=="object"?o[n[s]]:null,o==null));s++);return o==null&&a&&(o=a._doGet(this.resolveParentPath(n),a.parentModel)),o},r}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,textStyle_default);var Model_default=Model,base3=Math.round(Math.random()*10);function getUID(r){return[r||"",base3++].join("_")}function enableSubTypeDefaulter(r){var n={};r.registerSubTypeDefaulter=function(a,o){var s=parseClassType(a);n[s.main]=o},r.determineSubType=function(a,o){var s=o.type;if(!s){var l=parseClassType(a).main;r.hasSubTypes(a)&&n[l]&&(s=n[l](o))}return s}}function enableTopologicalTravel(r,n){r.topologicalTravel=function(l,u,f,d){if(!l.length)return;var v=a(u),g=v.graph,y=v.noEntryList,b={};for(each(l,function(D){b[D]=!0});y.length;){var _=y.pop(),x=g[_],w=!!b[_];w&&(f.call(d,_,x.originalDeps.slice()),delete b[_]),each(x.successor,w?S:C)}each(b,function(){var D="";throw D=makePrintable("Circular dependency may exists: ",b,l,u),new Error(D)});function C(D){g[D].entryCount--,g[D].entryCount===0&&y.push(D)}function S(D){b[D]=!0,C(D)}};function a(l){var u={},f=[];return each(l,function(d){var v=o(u,d),g=v.originalDeps=n(d),y=s(g,l);v.entryCount=y.length,v.entryCount===0&&f.push(d),each(y,function(b){indexOf(v.predecessor,b)<0&&v.predecessor.push(b);var _=o(u,b);indexOf(_.successor,b)<0&&_.successor.push(d)})}),{graph:u,noEntryList:f}}function o(l,u){return l[u]||(l[u]={predecessor:[],successor:[]}),l[u]}function s(l,u){var f=[];return each(l,function(d){indexOf(u,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(r,n){return merge3(merge3({},r,!0),n,!0)}var langEN_default={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH_default={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env_default.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,n){r=r.toUpperCase(),localeModels[r]=new Model_default(n),localeStorage[r]=n}function createLocaleObject(r){if(isString2(r)){var n=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone(n):merge3(clone(n),clone(localeStorage[DEFAULT_LOCALE]),!1)}else return merge3(clone(r),clone(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN_default),registerLocale(LOCALE_ZH,langZH_default);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(r,n){return r+="","0000".substr(0,n-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format2(r,n,a,o){var s=parseDate(r),l=s[fullYearGetterName(a)](),u=s[monthGetterName(a)]()+1,f=Math.floor((u-1)/4)+1,d=s[dateGetterName(a)](),v=s["get"+(a?"UTC":"")+"Day"](),g=s[hoursGetterName(a)](),y=(g-1)%12+1,b=s[minutesGetterName(a)](),_=s[secondsGetterName(a)](),x=s[millisecondsGetterName(a)](),w=o instanceof Model_default?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),C=w.getModel("time"),S=C.get("month"),D=C.get("monthAbbr"),A=C.get("dayOfWeek"),T=C.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,l%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,S[u-1]).replace(/{MMM}/g,D[u-1]).replace(/{MM}/g,pad(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,A[v]).replace(/{ee}/g,T[v]).replace(/{e}/g,v+"").replace(/{HH}/g,pad(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,pad(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,pad(b,2)).replace(/{m}/g,b+"").replace(/{ss}/g,pad(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,pad(x,3)).replace(/{S}/g,x+"")}function leveledFormat(r,n,a,o,s){var l=null;if(isString2(a))l=a;else if(isFunction3(a))l=a(r.value,n,{level:r.level});else{var u=extend2({},defaultLeveledFormatter);if(r.level>0)for(var f=0;f<primaryTimeUnits.length;++f)u[primaryTimeUnits[f]]="{primary|"+u[primaryTimeUnits[f]]+"}";var d=a?a.inherit===!1?a:defaults(a,u):u,v=getUnitFromValue(r.value,s);if(d[v])l=d[v];else if(d.inherit){for(var g=timeUnits.indexOf(v),f=g-1;f>=0;--f)if(d[v]){l=d[v];break}l=l||u.none}if(isArray3(l)){var y=r.level==null?0:r.level>=0?r.level:l.length+r.level;y=Math.min(y,l.length-1),l=l[y]}}return format2(new Date(r.value),l,s,o)}function getUnitFromValue(r,n){var a=parseDate(r),o=a[monthGetterName(n)]()+1,s=a[dateGetterName(n)](),l=a[hoursGetterName(n)](),u=a[minutesGetterName(n)](),f=a[secondsGetterName(n)](),d=a[millisecondsGetterName(n)](),v=d===0,g=v&&f===0,y=g&&u===0,b=y&&l===0,_=b&&s===1,x=_&&o===1;return x?"year":_?"month":b?"day":y?"hour":g?"minute":v?"second":"millisecond"}function getUnitValue(r,n,a){var o=isNumber(r)?parseDate(r):r;switch(n=n||getUnitFromValue(r,a),n){case"year":return o[fullYearGetterName(a)]();case"half-year":return o[monthGetterName(a)]()>=6?1:0;case"quarter":return Math.floor((o[monthGetterName(a)]()+1)/4);case"month":return o[monthGetterName(a)]();case"day":return o[dateGetterName(a)]();case"half-day":return o[hoursGetterName(a)]()/24;case"hour":return o[hoursGetterName(a)]();case"minute":return o[minutesGetterName(a)]();case"second":return o[secondsGetterName(a)]();case"millisecond":return o[millisecondsGetterName(a)]()}}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString2(r)?r:"-";var n=(r+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(r,n){return r=(r||"").toLowerCase().replace(/-(.)/g,function(a,o){return o.toUpperCase()}),n&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray2=normalizeCssArray,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(n,a){return replaceMap[a]})}function makeValueReadable(r,n,a){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function s(g){return g&&trim(g)?g:"-"}function l(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var u=n==="time",f=r instanceof Date;if(u||f){var d=u?parseDate(r):r;if(isNaN(+d)){if(f)return"-"}else return format2(d,o,a)}if(n==="ordinal")return isStringSafe(r)?s(r):isNumber(r)&&l(r)?r+"":"-";var v=numericToNumber(r);return l(v)?addCommas(v):isStringSafe(r)?s(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,n){return"{"+r+(n==null?"":n)+"}"};function formatTpl(r,n,a){isArray3(n)||(n=[n]);var o=n.length;if(!o)return"";for(var s=n[0].$vars||[],l=0;l<s.length;l++){var u=TPL_VAR_ALIAS[l];r=r.replace(wrapVar(u),wrapVar(u,0))}for(var f=0;f<o;f++)for(var d=0;d<s.length;d++){var v=n[f][s[d]];r=r.replace(wrapVar(TPL_VAR_ALIAS[d],f),a?encodeHTML(v):v)}return r}function formatTplSimple(r,n,a){return each(n,function(o,s){r=r.replace("{"+s+"}",a?encodeHTML(o):o)}),r}function getTooltipMarker(r,n){var a=isString2(r)?{color:r,extraCssText:n}:r||{},o=a.color,s=a.type;n=a.extraCssText;var l=a.renderMode||"html";if(!o)return"";if(l==="html")return s==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>';var u=a.markerId||"markerX";return{renderMode:l,content:"{"+u+"|}  ",style:s==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(r,n){return n=n||"transparent",isString2(r)?r:isObject3(r)&&r.colorStops&&(r.colorStops[0]||{}).color||n}function windowOpen(r,n){if(n==="_blank"||n==="blank"){var a=window.open();a.opener=null,a.location.href=r}else window.open(r,n)}var each2=each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,n,a,o,s){var l=0,u=0;o==null&&(o=1/0),s==null&&(s=1/0);var f=0;n.eachChild(function(d,v){var g=d.getBoundingRect(),y=n.childAt(v+1),b=y&&y.getBoundingRect(),_,x;if(r==="horizontal"){var w=g.width+(b?-b.x+g.x:0);_=l+w,_>o||d.newline?(l=0,_=w,u+=f+a,f=g.height):f=Math.max(f,g.height)}else{var C=g.height+(b?-b.y+g.y:0);x=u+C,x>s||d.newline?(l+=f+a,u=0,x=C,f=g.width):f=Math.max(f,g.width)}d.newline||(d.x=l,d.y=u,d.markRedraw(),r==="horizontal"?l=_+a:u=x+a)})}var box=boxLayout,vbox=curry(boxLayout,"vertical"),hbox=curry(boxLayout,"horizontal");function getAvailableSize(r,n,a){var o=n.width,s=n.height,l=parsePercent2(r.left,o),u=parsePercent2(r.top,s),f=parsePercent2(r.right,o),d=parsePercent2(r.bottom,s);return(isNaN(l)||isNaN(parseFloat(r.left)))&&(l=0),(isNaN(f)||isNaN(parseFloat(r.right)))&&(f=o),(isNaN(u)||isNaN(parseFloat(r.top)))&&(u=0),(isNaN(d)||isNaN(parseFloat(r.bottom)))&&(d=s),a=normalizeCssArray2(a||0),{width:Math.max(f-l-a[1]-a[3],0),height:Math.max(d-u-a[0]-a[2],0)}}function getLayoutRect(r,n,a){a=normalizeCssArray2(a||0);var o=n.width,s=n.height,l=parsePercent2(r.left,o),u=parsePercent2(r.top,s),f=parsePercent2(r.right,o),d=parsePercent2(r.bottom,s),v=parsePercent2(r.width,o),g=parsePercent2(r.height,s),y=a[2]+a[0],b=a[1]+a[3],_=r.aspect;switch(isNaN(v)&&(v=o-f-b-l),isNaN(g)&&(g=s-d-y-u),_!=null&&(isNaN(v)&&isNaN(g)&&(_>o/s?v=o*.8:g=s*.8),isNaN(v)&&(v=_*g),isNaN(g)&&(g=v/_)),isNaN(l)&&(l=o-f-v-b),isNaN(u)&&(u=s-d-g-y),r.left||r.right){case"center":l=o/2-v/2-a[3];break;case"right":l=o-v-b;break}switch(r.top||r.bottom){case"middle":case"center":u=s/2-g/2-a[0];break;case"bottom":u=s-g-y;break}l=l||0,u=u||0,isNaN(v)&&(v=o-b-l-(f||0)),isNaN(g)&&(g=s-y-u-(d||0));var x=new BoundingRect_default(l+a[3],u+a[0],v,g);return x.margin=a,x}function positionElement(r,n,a,o,s,l){var u=!s||!s.hv||s.hv[0],f=!s||!s.hv||s.hv[1],d=s&&s.boundingMode||"all";if(l=l||r,l.x=r.x,l.y=r.y,!u&&!f)return!1;var v;if(d==="raw")v=r.type==="group"?new BoundingRect_default(0,0,+n.width||0,+n.height||0):r.getBoundingRect();else if(v=r.getBoundingRect(),r.needLocalTransform()){var g=r.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=getLayoutRect(defaults({width:v.width,height:v.height},n),a,o),b=u?y.x-v.x:0,_=f?y.y-v.y:0;return d==="raw"?(l.x=b,l.y=_):(l.x+=b,l.y+=_),l===r&&r.markRedraw(),!0}function fetchLayoutMode(r){var n=r.layoutMode||r.constructor.layoutMode;return isObject3(n)?n:n?{type:n}:null}function mergeLayoutParam(r,n,a){var o=a&&a.ignoreSize;!isArray3(o)&&(o=[o,o]);var s=u(HV_NAMES[0],0),l=u(HV_NAMES[1],1);v(HV_NAMES[0],r,s),v(HV_NAMES[1],r,l);function u(g,y){var b={},_=0,x={},w=0,C=2;if(each2(g,function(A){x[A]=r[A]}),each2(g,function(A){f(n,A)&&(b[A]=x[A]=n[A]),d(b,A)&&_++,d(x,A)&&w++}),o[y])return d(n,g[1])?x[g[2]]=null:d(n,g[2])&&(x[g[1]]=null),x;if(w===C||!_)return x;if(_>=C)return b;for(var S=0;S<g.length;S++){var D=g[S];if(!f(b,D)&&f(r,D)){b[D]=r[D];break}}return b}function f(g,y){return g.hasOwnProperty(y)}function d(g,y){return g[y]!=null&&g[y]!=="auto"}function v(g,y,b){each2(g,function(_){y[_]=b[_]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,n){return n&&r&&each2(LOCATION_PARAMS,function(a){n.hasOwnProperty(a)&&(r[a]=n[a])}),r}var inner=makeInner(),ComponentModel=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a,o,s)||this;return l.uid=getUID("ec_cpt_model"),l}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},n.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},u=o.getTheme();merge3(a,u.get(this.mainType)),merge3(a,this.getDefaultOption()),s&&mergeLayoutParam(a,l,s)},n.prototype.mergeOption=function(a,o){merge3(this.option,a,!0);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s)},n.prototype.optionUpdated=function(a,o){},n.prototype.getDefaultOption=function(){var a=this.constructor;if(!isExtendedClass(a))return a.defaultOption;var o=inner(this);if(!o.defaultOption){for(var s=[],l=a;l;){var u=l.prototype.defaultOption;u&&s.push(u),l=l.superClass}for(var f={},d=s.length-1;d>=0;d--)f=merge3(f,s[d],!0);o.defaultOption=f}return o.defaultOption},n.prototype.getReferringComponents=function(a,o){var s=a+"Index",l=a+"Id";return queryReferringComponents(this.ecModel,a,{index:this.get(s,!0),id:this.get(l,!0)},o)},n.prototype.getBoxLayoutParams=function(){var a=this;return{left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(a){this.option.zlevel=a},n.protoInitialize=function(){var a=n.prototype;a.type="component",a.id="",a.name="",a.mainType="",a.subType="",a.componentIndex=0}(),n}(Model_default);mountExtend(ComponentModel,Model_default),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var n=[];return each(ComponentModel.getClassesByMainType(r),function(a){n=n.concat(a.dependencies||a.prototype.dependencies||[])}),n=map3(n,function(a){return parseClassType(a).main}),r!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}var Component_default=ComponentModel,platform="";typeof navigator!="undefined"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",globalDefault_default={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,n,a){var o={},s=querySeriesUpstreamDatasetModel(n);if(!s||!r)return o;var l=[],u=[],f=n.ecModel,d=innerGlobalModel(f).datasetMap,v=s.uid+"_"+a.seriesLayoutBy,g,y;r=r.slice(),each(r,function(w,C){var S=isObject3(w)?w:r[C]={name:w};S.type==="ordinal"&&g==null&&(g=C,y=x(S)),o[S.name]=[]});var b=d.get(v)||d.set(v,{categoryWayDim:y,valueWayDim:0});each(r,function(w,C){var S=w.name,D=x(w);if(g==null){var A=b.valueWayDim;_(o[S],A,D),_(u,A,D),b.valueWayDim+=D}else if(g===C)_(o[S],0,D),_(l,0,D);else{var A=b.categoryWayDim;_(o[S],A,D),_(u,A,D),b.categoryWayDim+=D}});function _(w,C,S){for(var D=0;D<S;D++)w.push(C+D)}function x(w){var C=w.dimsDef;return C?C.length:1}return l.length&&(o.itemName=l),u.length&&(o.seriesName=u),o}function makeSeriesEncodeForNameBased(r,n,a){var o={},s=querySeriesUpstreamDatasetModel(r);if(!s)return o;var l=n.sourceFormat,u=n.dimensionsDefine,f;(l===SOURCE_FORMAT_OBJECT_ROWS||l===SOURCE_FORMAT_KEYED_COLUMNS)&&each(u,function(g,y){(isObject3(g)?g.name:g)==="name"&&(f=y)});var d=function(){for(var g={},y={},b=[],_=0,x=Math.min(5,a);_<x;_++){var w=doGuessOrdinal(n.data,l,n.seriesLayoutBy,u,n.startIndex,_);b.push(w);var C=w===BE_ORDINAL.Not;if(C&&g.v==null&&_!==f&&(g.v=_),(g.n==null||g.n===g.v||!C&&b[g.n]===BE_ORDINAL.Not)&&(g.n=_),S(g)&&b[g.n]!==BE_ORDINAL.Not)return g;C||(w===BE_ORDINAL.Might&&y.v==null&&_!==f&&(y.v=_),(y.n==null||y.n===y.v)&&(y.n=_))}function S(D){return D.v!=null&&D.n!=null}return S(g)?g:S(y)?y:null}();if(d){o.value=[d.v];var v=f!=null?f:d.n;o.itemName=[v],o.seriesName=[v]}return o}function querySeriesUpstreamDatasetModel(r){var n=r.get("data",!0);if(!n)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,n){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,n)}function doGuessOrdinal(r,n,a,o,s,l){var u,f=5;if(isTypedArray2(r))return BE_ORDINAL.Not;var d,v;if(o){var g=o[l];isObject3(g)?(d=g.name,v=g.type):isString2(g)&&(d=g)}if(v!=null)return v==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var y=r;if(a===SERIES_LAYOUT_BY_ROW){for(var b=y[l],_=0;_<(b||[]).length&&_<f;_++)if((u=T(b[s+_]))!=null)return u}else for(var _=0;_<y.length&&_<f;_++){var x=y[s+_];if(x&&(u=T(x[l]))!=null)return u}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var w=r;if(!d)return BE_ORDINAL.Not;for(var _=0;_<w.length&&_<f;_++){var C=w[_];if(C&&(u=T(C[d]))!=null)return u}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var S=r;if(!d)return BE_ORDINAL.Not;var b=S[d];if(!b||isTypedArray2(b))return BE_ORDINAL.Not;for(var _=0;_<b.length&&_<f;_++)if((u=T(b[_]))!=null)return u}else if(n===SOURCE_FORMAT_ORIGINAL)for(var D=r,_=0;_<D.length&&_<f;_++){var C=D[_],A=getDataItemValue(C);if(!isArray3(A))return BE_ORDINAL.Not;if((u=T(A[l]))!=null)return u}function T(P){var E=isString2(P);if(P!=null&&isFinite(P)&&P!=="")return E?BE_ORDINAL.Might:BE_ORDINAL.Not;if(E&&P!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(r,n){assert(internalOptionCreatorMap.get(r)==null&&n),internalOptionCreatorMap.set(r,n)}function concatInternalOptions(r,n,a){var o=internalOptionCreatorMap.get(n);if(!o)return a;var s=o(r);if(!s)return a;for(var l=0;l<s.length;l++)assert(isComponentIdInternal(s[l]));return a.concat(s)}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(n,a,o){var s=normalizeToArray(this.get("color",!0)),l=this.get("colorLayer",!0);return getFromPalette(this,innerColor,s,l,n,a,o)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getDecalFromPalette(r,n,a,o){var s=normalizeToArray(r.get(["aria","decal","decals"]));return getFromPalette(r,innerDecal,s,null,n,a,o)}function getNearestPalette(r,n){for(var a=r.length,o=0;o<a;o++)if(r[o].length>n)return r[o];return r[a-1]}function getFromPalette(r,n,a,o,s,l,u){l=l||r;var f=n(l),d=f.paletteIdx||0,v=f.paletteNameMap=f.paletteNameMap||{};if(v.hasOwnProperty(s))return v[s];var g=u==null||!o?a:getNearestPalette(o,u);if(g=g||a,!(!g||!g.length)){var y=g[d];return s&&(v[s]=y),f.paletteIdx=(d+1)%g.length,y}}function clearPalette(r,n){n(r).paletteIdx=0,n(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(r){each(r,function(n,a){if(!Component_default.hasClass(a)){var o=BUITIN_COMPONENTS_MAP[a];o&&!componetsMissingLogPrinted[o]&&(error("Component "+a+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(a,o,s,l,u,f){l=l||{},this.option=null,this._theme=new Model_default(l),this._locale=new Model_default(u),this._optionManager=f},n.prototype.setOption=function(a,o,s){assert(a!=null,"option is null/undefined"),assert(a[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()");var l=normalizeSetOptionInput(o);this._optionManager.setOption(a,s,l),this._resetOption(null,l)},n.prototype.resetOption=function(a,o){return this._resetOption(a,normalizeSetOptionInput(o))},n.prototype._resetOption=function(a,o){var s=!1,l=this._optionManager;if(!a||a==="recreate"){var u=l.mountOption(a==="recreate");checkMissingComponents(u),!this.option||a==="recreate"?initBase(this,u):(this.restoreData(),this._mergeOption(u,o)),s=!0}if((a==="timeline"||a==="media")&&this.restoreData(),!a||a==="recreate"||a==="timeline"){var f=l.getTimelineOption(this);f&&(s=!0,this._mergeOption(f,o))}if(!a||a==="recreate"||a==="media"){var d=l.getMediaOption(this);d.length&&each(d,function(v){s=!0,this._mergeOption(v,o)},this)}return s},n.prototype.mergeOption=function(a){this._mergeOption(a,null)},n.prototype._mergeOption=function(a,o){var s=this.option,l=this._componentsMap,u=this._componentsCount,f=[],d=createHashMap(),v=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each(a,function(y,b){y!=null&&(Component_default.hasClass(b)?b&&(f.push(b),d.set(b,!0)):s[b]=s[b]==null?clone(y):merge3(s[b],y,!0))}),v&&v.each(function(y,b){Component_default.hasClass(b)&&!d.get(b)&&(f.push(b),d.set(b,!0))}),Component_default.topologicalTravel(f,Component_default.getAllClassMainTypes(),g,this);function g(y){var b=concatInternalOptions(this,y,normalizeToArray(a[y])),_=l.get(y),x=_?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",w=mappingToExists(_,b,x);setComponentTypeToKeyInfo(w,y,Component_default),s[y]=null,l.set(y,null),u.set(y,0);var C=[],S=[],D=0,A,T;each(w,function(P,E){var M=P.existing,L=P.newOption;if(!L)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var F=y==="series",I=Component_default.getClass(y,P.keyInfo.subType,!F);if(!I){var B=P.keyInfo.subType,O=BUILTIN_CHARTS_MAP[B];componetsMissingLogPrinted[B]||(componetsMissingLogPrinted[B]=!0,error(O?"Series "+B+` is used but not imported.
import { `+O+` } from 'echarts/charts';
echarts.use([`+O+"]);":"Unkown series "+B));return}if(y==="tooltip"){if(A){T||(warn6("Currently only one tooltip component is allowed."),T=!0);return}A=!0}if(M&&M.constructor===I)M.name=P.keyInfo.name,M.mergeOption(L,this),M.optionUpdated(L,!1);else{var R=extend2({componentIndex:E},P.keyInfo);M=new I(L,this,this,R),extend2(M,R),P.brandNew&&(M.__requireNewView=!0),M.init(L,this,this),M.optionUpdated(null,!0)}}M?(C.push(M.option),S.push(M),D++):(C.push(void 0),S.push(void 0))},this),s[y]=C,l.set(y,S),u.set(y,D),y==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var a=clone(this.option);return each(a,function(o,s){if(Component_default.hasClass(s)){for(var l=normalizeToArray(o),u=l.length,f=!1,d=u-1;d>=0;d--)l[d]&&!isComponentIdInternal(l[d])?f=!0:(l[d]=null,!f&&u--);l.length=u,a[s]=l}}),delete a[OPTION_INNER_KEY],a},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(a){this._payload=a},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(a,o){var s=this._componentsMap.get(a);if(s){var l=s[o||0];if(l)return l;if(o==null){for(var u=0;u<s.length;u++)if(s[u])return s[u]}}},n.prototype.queryComponents=function(a){var o=a.mainType;if(!o)return[];var s=a.index,l=a.id,u=a.name,f=this._componentsMap.get(o);if(!f||!f.length)return[];var d;return s!=null?(d=[],each(normalizeToArray(s),function(v){f[v]&&d.push(f[v])})):l!=null?d=queryByIdOrName("id",l,f):u!=null?d=queryByIdOrName("name",u,f):d=filter(f,function(v){return!!v}),filterBySubType(d,a)},n.prototype.findComponents=function(a){var o=a.query,s=a.mainType,l=f(o),u=l?this.queryComponents(l):filter(this._componentsMap.get(s),function(v){return!!v});return d(filterBySubType(u,a));function f(v){var g=s+"Index",y=s+"Id",b=s+"Name";return v&&(v[g]!=null||v[y]!=null||v[b]!=null)?{mainType:s,index:v[g],id:v[y],name:v[b]}:null}function d(v){return a.filter?filter(v,a.filter):v}},n.prototype.eachComponent=function(a,o,s){var l=this._componentsMap;if(isFunction3(a)){var u=o,f=a;l.each(function(y,b){for(var _=0;y&&_<y.length;_++){var x=y[_];x&&f.call(u,b,x,x.componentIndex)}})}else for(var d=isString2(a)?l.get(a):isObject3(a)?this.findComponents(a):null,v=0;d&&v<d.length;v++){var g=d[v];g&&o.call(s,g,g.componentIndex)}},n.prototype.getSeriesByName=function(a){var o=convertOptionIdName(a,null);return filter(this._componentsMap.get("series"),function(s){return!!s&&o!=null&&s.name===o})},n.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},n.prototype.getSeriesByType=function(a){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===a})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(a){return!!a})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(a,o){assertSeriesInitialized(this),each(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];a.call(o,l,s)},this)},n.prototype.eachRawSeries=function(a,o){each(this._componentsMap.get("series"),function(s){s&&a.call(o,s,s.componentIndex)})},n.prototype.eachSeriesByType=function(a,o,s){assertSeriesInitialized(this),each(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];u.subType===a&&o.call(s,u,l)},this)},n.prototype.eachRawSeriesByType=function(a,o,s){return each(this.getSeriesByType(a),o,s)},n.prototype.isSeriesFiltered=function(a){return assertSeriesInitialized(this),this._seriesIndicesMap.get(a.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(a,o){assertSeriesInitialized(this);var s=[];each(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];a.call(o,u,l)&&s.push(l)},this),this._seriesIndices=s,this._seriesIndicesMap=createHashMap(s)},n.prototype.restoreData=function(a){reCreateSeriesIndices(this);var o=this._componentsMap,s=[];o.each(function(l,u){Component_default.hasClass(u)&&s.push(u)}),Component_default.topologicalTravel(s,Component_default.getAllClassMainTypes(),function(l){each(o.get(l),function(u){u&&(l!=="series"||!isNotTargetSeries(u,a))&&u.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(a){var o=a._seriesIndices=[];each(a._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),a._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(a){if(!a._seriesIndices)throw new Error("Option should contains series.")},initBase=function(a,o){a.option={},a.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,a._componentsMap=createHashMap({series:[]}),a._componentsCount=createHashMap();var s=o.aria;isObject3(s)&&s.enabled==null&&(s.enabled=!0),mergeTheme(o,a._theme.option),merge3(o,globalDefault_default,!1),a._mergeOption(o,null)}}(),n}(Model_default);function isNotTargetSeries(r,n){if(n){var a=n.seriesIndex,o=n.seriesId,s=n.seriesName;return a!=null&&r.componentIndex!==a||o!=null&&r.id!==o||s!=null&&r.name!==s}}function mergeTheme(r,n){var a=r.color&&!r.colorLayer;each(n,function(o,s){s==="colorLayer"&&a||Component_default.hasClass(s)||(typeof o=="object"?r[s]=r[s]?merge3(r[s],o,!1):clone(o):r[s]==null&&(r[s]=o))})}function queryByIdOrName(r,n,a){if(isArray3(n)){var o=createHashMap();return each(n,function(l){if(l!=null){var u=convertOptionIdName(l,null);u!=null&&o.set(l,!0)}}),filter(a,function(l){return l&&o.get(l[r])})}else{var s=convertOptionIdName(n,null);return filter(a,function(l){return l&&s!=null&&l[r]===s})}}function filterBySubType(r,n){return n.hasOwnProperty("subType")?filter(r,function(a){return a&&a.subType===n.subType}):r}function normalizeSetOptionInput(r){var n=createHashMap();return r&&each(normalizeToArray(r.replaceMerge),function(a){assert(Component_default.hasClass(a),'"'+a+'" is not valid component main type in "replaceMerge"'),n.set(a,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);var Global_default=GlobalModel,availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(n){each(availableMethods,function(a){this[a]=bind(n[a],n)},this)}return r}(),ExtensionAPI_default=ExtensionAPI,coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(n,a){var o=[];each(coordinateSystemCreators,function(s,l){var u=s.create(n,a);o=o.concat(u||[])}),this._coordinateSystems=o},r.prototype.update=function(n,a){each(this._coordinateSystems,function(o){o.update&&o.update(n,a)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(n,a){coordinateSystemCreators[n]=a},r.get=function(n){return coordinateSystemCreators[n]},r}(),CoordinateSystem_default=CoordinateSystemManager,QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return r.prototype.setOption=function(n,a,o){n&&(each(normalizeToArray(n.series),function(u){u&&u.data&&isTypedArray2(u.data)&&setAsPrimitive(u.data)}),each(normalizeToArray(n.dataset),function(u){u&&u.source&&isTypedArray2(u.source)&&setAsPrimitive(u.source)})),n=clone(n);var s=this._optionBackup,l=parseRawOption(n,a,!s);this._newBaseOption=l.baseOption,s?(l.timelineOptions.length&&(s.timelineOptions=l.timelineOptions),l.mediaList.length&&(s.mediaList=l.mediaList),l.mediaDefault&&(s.mediaDefault=l.mediaDefault)):this._optionBackup=l},r.prototype.mountOption=function(n){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],clone(n?a.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(n){var a,o=this._timelineOptions;if(o.length){var s=n.getComponent("timeline");s&&(a=clone(o[s.getCurrentIndex()]))}return a},r.prototype.getMediaOption=function(n){var a=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!s.length&&!l)return f;for(var d=0,v=s.length;d<v;d++)applyMediaQuery(s[d].query,a,o)&&u.push(d);return!u.length&&l&&(u=[-1]),u.length&&!indicesEquals(u,this._currentMediaIndices)&&(f=map3(u,function(g){return clone(g===-1?l.option:s[g].option)})),this._currentMediaIndices=u,f},r}();function parseRawOption(r,n,a){var o=[],s,l,u=r.baseOption,f=r.timeline,d=r.options,v=r.media,g=!!r.media,y=!!(d||f||u&&u.timeline);u?(l=u,l.timeline||(l.timeline=f)):((y||g)&&(r.options=r.media=null),l=r),g&&(isArray3(v)?each(v,function(_){_&&!_.option&&isObject3(_.query)&&isObject3(_.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),_&&_.option&&(_.query?o.push(_):s||(s=_))}):error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),b(l),each(d,function(_){return b(_)}),each(o,function(_){return b(_.option)});function b(_){each(n,function(x){x(_,a)})}return{baseOption:l,timelineOptions:d||[],mediaDefault:s,mediaList:o}}function applyMediaQuery(r,n,a){var o={width:n,height:a,aspectratio:n/a},s=!0;return each(r,function(l,u){var f=u.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],v=f[2].toLowerCase();compare(o[v],l,d)||(s=!1)}}),s}function compare(r,n,a){return a==="min"?r>=n:a==="max"?r<=n:r===n}function indicesEquals(r,n){return r.join(",")===n.join(",")}var OptionManager_default=OptionManager,each3=each,isObject4=isObject3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var n=r&&r.itemStyle;if(!!n)for(var a=0,o=POSSIBLE_STYLES.length;a<o;a++){var s=POSSIBLE_STYLES[a],l=n.normal,u=n.emphasis;l&&l[s]&&(deprecateReplaceLog("itemStyle.normal."+s,s),r[s]=r[s]||{},r[s].normal?merge3(r[s].normal,l[s]):r[s].normal=l[s],l[s]=null),u&&u[s]&&(deprecateReplaceLog("itemStyle.emphasis."+s,"emphasis."+s),r[s]=r[s]||{},r[s].emphasis?merge3(r[s].emphasis,u[s]):r[s].emphasis=u[s],u[s]=null)}}function convertNormalEmphasis(r,n,a){if(r&&r[n]&&(r[n].normal||r[n].emphasis)){var o=r[n].normal,s=r[n].emphasis;o&&(deprecateLog("'normal' hierarchy in "+n+" has been removed since 4.0. All style properties are configured in "+n+" directly now."),a?(r[n].normal=r[n].emphasis=null,defaults(r[n],o)):r[n]=o),s&&(deprecateLog(n+".emphasis has been changed to emphasis."+n+" since 4.0"),r.emphasis=r.emphasis||{},r.emphasis[n]=s,s.focus&&(r.emphasis.focus=s.focus),s.blurScope&&(r.emphasis.blurScope=s.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,n){var a=isObject4(r)&&r[n],o=isObject4(a)&&a.textStyle;if(o){deprecateLog("textStyle hierarchy in "+n+" has been removed since 4.0. All textStyle properties are configured in "+n+" directly now.");for(var s=0,l=TEXT_STYLE_OPTIONS.length;s<l;s++){var u=TEXT_STYLE_OPTIONS[s];o.hasOwnProperty(u)&&(a[u]=o[u])}}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(!!isObject4(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var n=r.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var a=r.markLine;a&&(compatEC2ItemStyle(a),compatEC3CommonStyles(a));var o=r.markArea;o&&compatEC3CommonStyles(o);var s=r.data;if(r.type==="graph"){s=s||r.nodes;var l=r.links||r.edges;if(l&&!isTypedArray2(l))for(var u=0;u<l.length;u++)compatEC3CommonStyles(l[u]);each(r.categories,function(v){removeEC3NormalStatus(v)})}if(s&&!isTypedArray2(s))for(var u=0;u<s.length;u++)compatEC3CommonStyles(s[u]);if(n=r.markPoint,n&&n.data)for(var f=n.data,u=0;u<f.length;u++)compatEC3CommonStyles(f[u]);if(a=r.markLine,a&&a.data)for(var d=a.data,u=0;u<d.length;u++)isArray3(d[u])?(compatEC3CommonStyles(d[u][0]),compatEC3CommonStyles(d[u][1])):compatEC3CommonStyles(d[u]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each(r.levels,function(v){removeEC3NormalStatus(v)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray3(r)?r:r?[r]:[]}function toObj(r){return(isArray3(r)?r[0]:r)||{}}function globalCompatStyle(r,n){each3(toArr(r.series),function(o){isObject4(o)&&processSeries(o)});var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),each3(a,function(o){each3(toArr(r[o]),function(s){s&&(compatTextStyle(s,"axisLabel"),compatTextStyle(s.axisPointer,"label"))})}),each3(toArr(r.parallel),function(o){var s=o&&o.parallelAxisDefault;compatTextStyle(s,"axisLabel"),compatTextStyle(s&&s.axisPointer,"label")}),each3(toArr(r.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each3(toArr(r.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,deprecateLog("nameGap property in radar component has been changed to axisNameGap")),each3(o.indicator,function(s){s.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each3(toArr(r.geo),function(o){isObject4(o)&&(compatEC3CommonStyles(o),each3(toArr(o.regions),function(s){compatEC3CommonStyles(s)}))}),each3(toArr(r.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var s=o.data;isArray3(s)&&each(s,function(l){isObject3(l)&&(convertNormalEmphasis(l,"label"),convertNormalEmphasis(l,"itemStyle"))})}),each3(toArr(r.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each3(o.feature,function(s){convertNormalEmphasis(s,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get3(r,n){for(var a=n.split(","),o=r,s=0;s<a.length&&(o=o&&o[a[s]],o!=null);s++);return o}function set2(r,n,a,o){for(var s=n.split(","),l=r,u,f=0;f<s.length-1;f++)u=s[f],l[u]==null&&(l[u]={}),l=l[u];(o||l[s[f]]==null)&&(l[s[f]]=a)}function compatLayoutProperties(r){r&&each(LAYOUT_PROPERTIES,function(n){n[0]in r&&!(n[1]in r)&&(r[n[1]]=r[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var n=r&&r.itemStyle;if(n)for(var a=0;a<BAR_ITEM_STYLE_MAP.length;a++){var o=BAR_ITEM_STYLE_MAP[a][1],s=BAR_ITEM_STYLE_MAP[a][0];n[o]!=null&&(n[s]=n[o],deprecateReplaceLog(o,s))}}function compatPieLabel(r){!r||r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(deprecateReplaceLog("label.margin","label.edgeDistance","pie"),r.edgeDistance=r.margin)}function compatSunburstState(r){!r||r.downplay&&!r.blur&&(r.blur=r.downplay,deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(r){!r||r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),r.emphasis.focus="adjacency"))}function traverseTree(r,n){if(r)for(var a=0;a<r.length;a++)n(r[a]),r[a]&&traverseTree(r[a].children,n)}function globalBackwardCompat(r,n){globalCompatStyle(r,n),r.series=normalizeToArray(r.series),each(r.series,function(a){if(!!isObject3(a)){var o=a.type;if(o==="line")a.clipOverflow!=null&&(a.clip=a.clipOverflow,deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){a.clockWise!=null&&(a.clockwise=a.clockWise,deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(a.label);var s=a.data;if(s&&!isTypedArray2(s))for(var l=0;l<s.length;l++)compatPieLabel(s[l]);a.hoverOffset!=null&&(a.emphasis=a.emphasis||{},(a.emphasis.scaleSize=null)&&(deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),a.emphasis.scaleSize=a.hoverOffset))}else if(o==="gauge"){var u=get3(a,"pointer.color");u!=null&&set2(a,"itemStyle.color",u)}else if(o==="bar"){compatBarItemStyle(a),compatBarItemStyle(a.backgroundStyle),compatBarItemStyle(a.emphasis);var s=a.data;if(s&&!isTypedArray2(s))for(var l=0;l<s.length;l++)typeof s[l]=="object"&&(compatBarItemStyle(s[l]),compatBarItemStyle(s[l]&&s[l].emphasis))}else if(o==="sunburst"){var f=a.highlightPolicy;f&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=f,deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(a),traverseTree(a.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(a):o==="map"&&(a.mapType&&!a.map&&(deprecateReplaceLog("mapType","map","map"),a.map=a.mapType),a.mapLocation&&(deprecateLog("`mapLocation` is not used anymore."),defaults(a,a.mapLocation)));a.hoverAnimation!=null&&(a.emphasis=a.emphasis||{},a.emphasis&&a.emphasis.scale==null&&(deprecateReplaceLog("hoverAnimation","emphasis.scale"),a.emphasis.scale=a.hoverAnimation)),compatLayoutProperties(a)}}),r.dataRange&&(r.visualMap=r.dataRange),each(COMPATITABLE_COMPONENTS,function(a){var o=r[a];o&&(isArray3(o)||(o=[o]),each(o,function(s){compatLayoutProperties(s)}))})}function dataStack(r){var n=createHashMap();r.eachSeries(function(a){var o=a.get("stack");if(o){var s=n.get(o)||n.set(o,[]),l=a.getData(),u={stackResultDimension:l.getCalculationInfo("stackResultDimension"),stackedOverDimension:l.getCalculationInfo("stackedOverDimension"),stackedDimension:l.getCalculationInfo("stackedDimension"),stackedByDimension:l.getCalculationInfo("stackedByDimension"),isStackedByIndex:l.getCalculationInfo("isStackedByIndex"),data:l,seriesModel:a};if(!u.stackedDimension||!(u.isStackedByIndex||u.stackedByDimension))return;s.length&&l.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(u)}}),n.each(calculateStack)}function calculateStack(r){each(r,function(n,a){var o=[],s=[NaN,NaN],l=[n.stackResultDimension,n.stackedOverDimension],u=n.data,f=n.isStackedByIndex;u.modify(l,function(d,v,g){var y=u.get(n.stackedDimension,g);if(isNaN(y))return s;var b,_;f?_=u.getRawIndex(g):b=u.get(n.stackedByDimension,g);for(var x=NaN,w=a-1;w>=0;w--){var C=r[w];if(f||(_=C.data.rawIndexOf(C.stackedByDimension,b)),_>=0){var S=C.data.getByRawIndex(C.stackResultDimension,_);if(y>=0&&S>0||y<=0&&S<0){y=addSafe(y,S),x=S;break}}}return o[0]=y,o[1]=x,o})})}var SourceImpl=function(){function r(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var a=this.dimensionsDefine=n.dimensionsDefine;if(a)for(var o=0;o<a.length;o++){var s=a[o];s.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(s.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,n,a){a=a||detectSourceFormat(r);var o=n.seriesLayoutBy,s=determineSourceDimensions(r,a,o,n.sourceHeader,n.dimensions),l=new SourceImpl({data:r,sourceFormat:a,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:clone(n)});return l}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray2(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray2(r))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray3(r)){r.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var a=0,o=r.length;a<o;a++){var s=r[a];if(s!=null){if(isArray3(s)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject3(s)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject3(r)){for(var l in r)if(hasOwn2(r,l)&&isArrayLike2(r[l])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(r,n,a,o,s){var l,u;if(!r)return{dimensionsDefine:normalizeDimensionsOption(s),startIndex:u,dimensionsDetectedCount:l};if(n===SOURCE_FORMAT_ARRAY_ROWS){var f=r;o==="auto"||o==null?arrayRowsTravelFirst(function(v){v!=null&&v!=="-"&&(isString2(v)?u==null&&(u=1):u=0)},a,f,10):u=isNumber(o)?o:o?1:0,!s&&u===1&&(s=[],arrayRowsTravelFirst(function(v,g){s[g]=v!=null?v+"":""},a,f,1/0)),l=s?s.length:a===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)s||(s=objectRowsCollectDimensions(r));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)s||(s=[],each(r,function(v,g){s.push(g)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(r[0]);l=isArray3(d)&&d.length||1}else n===SOURCE_FORMAT_TYPED_ARRAY&&assert(!!s,"dimensions must be given if data is TypedArray.");return{startIndex:u,dimensionsDefine:normalizeDimensionsOption(s),dimensionsDetectedCount:l}}function objectRowsCollectDimensions(r){for(var n=0,a;n<r.length&&!(a=r[n++]););if(a){var o=[];return each(a,function(s,l){o.push(l)}),o}}function normalizeDimensionsOption(r){if(!!r){var n=createHashMap();return map3(r,function(a,o){a=isObject3(a)?a:{name:a};var s={name:a.name,displayName:a.displayName,type:a.type};if(s.name==null)return s;s.name+="",s.displayName==null&&(s.displayName=s.name);var l=n.get(s.name);return l?s.name+="-"+l.count++:n.set(s.name,{count:1}),s})}}function arrayRowsTravelFirst(r,n,a,o){if(n===SERIES_LAYOUT_BY_ROW)for(var s=0;s<a.length&&s<o;s++)r(a[s]?a[s][0]:null,s);else for(var l=a[0]||[],s=0;s<l.length&&s<o;s++)r(l[s],s)}function shouldRetrieveDataByName(r){var n=r.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a2,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(n,a){var o=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=o;var s=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(a==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=a,this._data=s}mountMethods(this,s,o)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(n,a){},r.prototype.appendData=function(n){},r.prototype.clean=function(){},r.protoInitialize=function(){var n=r.prototype;n.pure=!1,n.persistent=!0}(),r.internalField=function(){var n;mountMethods=function(u,f,d){var v=d.sourceFormat,g=d.seriesLayoutBy,y=d.startIndex,b=d.dimensionsDefine,_=providerMethods[getMethodMapKey(v,g)];if(assert(_,"Invalide sourceFormat: "+v),extend2(u,_),v===SOURCE_FORMAT_TYPED_ARRAY)u.getItem=a,u.count=s,u.fillStorage=o;else{var x=getRawSourceItemGetter(v,g);u.getItem=bind(x,null,f,y,b);var w=getRawSourceDataCounter(v,g);u.count=bind(w,null,f,y,b)}};var a=function(u,f){u=u-this._offset,f=f||[];for(var d=this._data,v=this._dimSize,g=v*u,y=0;y<v;y++)f[y]=d[g+y];return f},o=function(u,f,d,v){for(var g=this._data,y=this._dimSize,b=0;b<y;b++){for(var _=v[b],x=_[0]==null?1/0:_[0],w=_[1]==null?-1/0:_[1],C=f-u,S=d[b],D=0;D<C;D++){var A=g[D*y+b];S[u+D]=A,A<x&&(x=A),A>w&&(w=A)}_[0]=x,_[1]=w}},s=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:l},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:l},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(u){var f=this._data;each(u,function(d,v){for(var g=f[v]||(f[v]=[]),y=0;y<(d||[]).length;y++)g.push(d[y])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:l},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(u){assert(isTypedArray2(u),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},n);function l(u){for(var f=0;f<u.length;f++)this._data.push(u[f])}}(),r}(),getItemSimply=function(r,n,a,o){return r[o]},rawSourceItemGetterMap=(_a2={},_a2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,a,o){return r[o+n]},_a2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,a,o,s){o+=n;for(var l=s||[],u=r,f=0;f<u.length;f++){var d=u[f];l[f]=d?d[o]:null}return l},_a2[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a2[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,a,o,s){for(var l=s||[],u=0;u<a.length;u++){var f=a[u].name;if(f==null)throw new Error;var d=r[f];l[u]=d?d[o]:null}return l},_a2[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a2);function getRawSourceItemGetter(r,n){var a=rawSourceItemGetterMap[getMethodMapKey(r,n)];return assert(a,'Do not support get item on "'+r+'", "'+n+'".'),a}var countSimply=function(r,n,a){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,a){return Math.max(0,r.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,a){var o=r[0];return o?Math.max(0,o.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,a){var o=a[0].name;if(o==null)throw new Error;var s=r[o];return s?s.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,n){var a=rawSourceDataCounterMap[getMethodMapKey(r,n)];return assert(a,'Do not suppport count on "'+r+'", "'+n+'".'),a}var getRawValueSimply=function(r,n,a){return r[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,n,a){return r[a]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,n,a){var o=getDataItemValue(r);return o instanceof Array?o[n]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var n=rawSourceValueGetterMap[r];return assert(n,'Do not suppport get value on "'+r+'".'),n}function getMethodMapKey(r,n){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+n:r}function retrieveRawValue(r,n,a){if(!!r){var o=r.getRawDataItem(n);if(o!=null){var s=r.getStore(),l=s.getSource().sourceFormat;if(a!=null){var u=r.getDimensionIndex(a),f=s.getDimensionProperty(u);return getRawSourceValueGetter(l)(o,u,f)}else{var d=o;return l===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(n,a){var o=this.getData(a),s=this.getRawValue(n,a),l=o.getRawIndex(n),u=o.getName(n),f=o.getRawDataItem(n),d=o.getItemVisual(n,"style"),v=d&&d[o.getItemVisual(n,"drawType")||"fill"],g=d&&d.stroke,y=this.mainType,b=y==="series",_=o.userOutput&&o.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:b?this.subType:null,seriesIndex:this.seriesIndex,seriesId:b?this.id:null,seriesName:b?this.name:null,name:u,dataIndex:l,data:f,dataType:a,value:s,color:v,borderColor:g,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(n,a,o,s,l,u){a=a||"normal";var f=this.getData(o),d=this.getDataParams(n,o);if(u&&(d.value=u.interpolatedValue),s!=null&&isArray3(d.value)&&(d.value=d.value[s]),!l){var v=f.getItemModel(n);l=v.get(a==="normal"?["label","formatter"]:[a,"label","formatter"])}if(isFunction3(l))return d.status=a,d.dimensionIndex=s,l(d);if(isString2(l)){var g=formatTpl(l,d);return g.replace(DIMENSION_LABEL_REG,function(y,b){var _=b.length,x=b;x.charAt(0)==="["&&x.charAt(_-1)==="]"&&(x=+x.slice(1,_-1),isNaN(x)&&error("Invalide label formatter: @"+b+", only support @[0], @[1], @[2], ..."));var w=retrieveRawValue(f,n,x);if(u&&isArray3(u.interpolatedValue)){var C=f.getDimensionIndex(x);C>=0&&(w=u.interpolatedValue[C])}return w!=null?w+"":""})}},r.prototype.getRawValue=function(n,a){return retrieveRawValue(this.getData(a),n)},r.prototype.formatTooltip=function(n,a,o){},r}();function normalizeTooltipFormatResult(r){var n,a;return isObject3(r)?r.type?a=r:console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(r)):n=r,{text:n,frag:a}}function createTask(r){return new Task(r)}var Task=function(){function r(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return r.prototype.perform=function(n){var a=this._upstream,o=n&&n.skip;if(this._dirty&&a){var s=this.context;s.data=s.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var l;this._plan&&!o&&(l=this._plan(this.context));var u=g(this._modBy),f=this._modDataCount||0,d=g(n&&n.modBy),v=n&&n.modDataCount||0;(u!==d||f!==v)&&(l="reset");function g(D){return!(D>=1)&&(D=1),D}var y;(this._dirty||l==="reset")&&(this._dirty=!1,y=this._doReset(o)),this._modBy=d,this._modDataCount=v;var b=n&&n.step;if(a?(assert(a._outputDueEnd!=null),this._dueEnd=a._outputDueEnd):(assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var _=this._dueIndex,x=Math.min(b!=null?this._dueIndex+b:1/0,this._dueEnd);if(!o&&(y||_<x)){var w=this._progress;if(isArray3(w))for(var C=0;C<w.length;C++)this._doProgress(w[C],_,x,d,v);else this._doProgress(w,_,x,d,v)}this._dueIndex=x;var S=this._settedOutputEnd!=null?this._settedOutputEnd:x;assert(S>=this._outputDueEnd),this._outputDueEnd=S}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(n,a,o,s,l){iterator.reset(a,o,s,l),this._callingProgress=n,this._callingProgress({start:a,end:o,count:o-a,next:iterator.next},this.context)},r.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var a,o;!n&&this._reset&&(a=this._reset(this.context),a&&a.progress&&(o=a.forceFirstProgress,a=a.progress),isArray3(a)&&!a.length&&(a=null)),this._progress=a,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(n){assert(n&&!n._disposed&&n!==this),(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},r}(),iterator=function(){var r,n,a,o,s,l={reset:function(d,v,g,y){n=d,r=v,a=g,o=y,s=Math.ceil(o/a),l.next=a>1&&o>0?f:u}};return l;function u(){return n<r?n++:null}function f(){var d=n%s*a+Math.ceil(n/s),v=n>=r?null:d<o?d:n;return n++,v}}();function parseDataValue(r,n){var a=n&&n.type;return a==="ordinal"?r:(a==="time"&&!isNumber(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:+r)}var valueParserMap=createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString2(r)?trim(r):r}}),ORDER_COMPARISON_OP_MAP={lt:function(r,n){return r<n},lte:function(r,n){return r<=n},gt:function(r,n){return r>n},gte:function(r,n){return r>=n}},FilterOrderComparator=function(){function r(n,a){if(!isNumber(a)){var o="";o='rvalue of "<", ">", "<=", ">=" can only be number in filter.',throwError2(o)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(a)}return r.prototype.evaluate=function(n){return isNumber(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},r}(),SortOrderComparator=function(){function r(n,a){var o=n==="desc";this._resultLT=o?1:-1,a==null&&(a=o?"min":"max"),this._incomparable=a==="min"?-1/0:1/0}return r.prototype.evaluate=function(n,a){var o=isNumber(n)?n:numericToNumber(n),s=isNumber(a)?a:numericToNumber(a),l=isNaN(o),u=isNaN(s);if(l&&(o=this._incomparable),u&&(s=this._incomparable),l&&u){var f=isString2(n),d=isString2(a);f&&(o=d?n:0),d&&(s=f?a:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},r}(),FilterEqualityComparator=function(){function r(n,a){this._rval=a,this._isEQ=n,this._rvalTypeof=typeof a,this._rvalFloat=numericToNumber(a)}return r.prototype.evaluate=function(n){var a=n===this._rval;if(!a){var o=typeof n;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(a=numericToNumber(n)===this._rvalFloat)}return this._isEQ?a:!a},r}(),ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(n){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(n){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(n,a){},r.prototype.retrieveValueFromItem=function(n,a){},r.prototype.convertValue=function(n,a){return parseDataValue(n,a)},r}();function createExternalSource(r,n){var a=new ExternalSource,o=r.data,s=a.sourceFormat=r.sourceFormat,l=r.startIndex,u="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(u='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',throwError2(u));var f=[],d={},v=r.dimensionsDefine;if(v)each(v,function(w,C){var S=w.name,D={index:C,name:S,displayName:w.displayName};if(f.push(D),S!=null){var A="";hasOwn2(d,S)&&(A='dimension name "'+S+'" duplicated.',throwError2(A)),d[S]=D}});else for(var g=0;g<r.dimensionsDetectedCount;g++)f.push({index:g});var y=getRawSourceItemGetter(s,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(a.getRawDataItem=function(w){return y(o,l,f,w)},a.getRawData=bind(getRawData,null,r)),a.cloneRawData=bind(cloneRawData,null,r);var b=getRawSourceDataCounter(s,SERIES_LAYOUT_BY_COLUMN);a.count=bind(b,null,o,l,f);var _=getRawSourceValueGetter(s);a.retrieveValue=function(w,C){var S=y(o,l,f,w);return x(S,C)};var x=a.retrieveValueFromItem=function(w,C){if(w!=null){var S=f[C];if(S)return _(w,C,S.name)}};return a.getDimensionInfo=bind(getDimensionInfo,null,f,d),a.cloneAllDimensionInfo=bind(cloneAllDimensionInfo,null,f),a}function getRawData(r){var n=r.sourceFormat;if(!isSupportedSourceFormat(n)){var a="";a="`getRawData` is not supported in source format "+n,throwError2(a)}return r.data}function cloneRawData(r){var n=r.sourceFormat,a=r.data;if(!isSupportedSourceFormat(n)){var o="";o="`cloneRawData` is not supported in source format "+n,throwError2(o)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var s=[],l=0,u=a.length;l<u;l++)s.push(a[l].slice());return s}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var s=[],l=0,u=a.length;l<u;l++)s.push(extend2({},a[l]));return s}}function getDimensionInfo(r,n,a){if(a!=null){if(isNumber(a)||!isNaN(a)&&!hasOwn2(n,a))return r[a];if(hasOwn2(n,a))return n[a]}}function cloneAllDimensionInfo(r){return clone(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone(r);var n=r.type,a="";n||(a="Must have a `type` when `registerTransform`.",throwError2(a));var o=n.split(":");o.length!==2&&(a='Name must include namespace like "ns:regression".',throwError2(a));var s=!1;o[0]==="echarts"&&(n=o[1],s=!0),r.__isBuiltIn=s,externalTransformMap.set(n,r)}function applyDataTransform(r,n,a){var o=normalizeToArray(r),s=o.length,l="";s||(l="If `transform` declared, it should at least contain one transform.",throwError2(l));for(var u=0,f=s;u<f;u++){var d=o[u];n=applySingleDataTransform(d,n,a,s===1?null:u),u!==f-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(r,n,a,o){var s="";n.length||(s="Must have at least one upstream dataset.",throwError2(s)),isObject3(r)||(s="transform declaration must be an object rather than "+typeof r+".",throwError2(s));var l=r.type,u=externalTransformMap.get(l);u||(s='Can not find transform on type "'+l+'".',throwError2(s));var f=map3(n,function(g){return createExternalSource(g,u)}),d=normalizeToArray(u.transform({upstream:f[0],upstreamList:f,config:clone(r.config)}));if(r.print){var v=map3(d,function(g){var y=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+a.datasetIndex+y+" ===","- transform result data:",makePrintable(g.data),"- transform result dimensions:",makePrintable(g.dimensions)].join(`
`)}).join(`
`);log(v)}return map3(d,function(g,y){var b="";isObject3(g)||(b="A transform should not return some empty results.",throwError2(b)),g.data||(b="Transform result data should be not be null or undefined",throwError2(b));var _=detectSourceFormat(g.data);isSupportedSourceFormat(_)||(b="Transform result data should be array rows or object rows.",throwError2(b));var x,w=n[0];if(w&&y===0&&!g.dimensions){var C=w.startIndex;C&&(g.data=w.data.slice(0,C).concat(g.data)),x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:C,dimensions:w.metaRawOption.dimensions}}else x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:g.dimensions};return createSource(g.data,x,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var n=r.constructor;return n===Array?r.slice():new n(r)}function prepareStore(r,n,a,o,s){var l=dataCtors[a||"float"];if(s){var u=r[n],f=u&&u.length;if(f!==o){for(var d=new l(o),v=0;v<f;v++)d[v]=u[v];r[n]=d}}else r[n]=new l(o)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(n,a,o){assert(isFunction3(n.getItem)&&isFunction3(n.count),"Inavlid data provider."),this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=n.getSource(),l=this.defaultDimValueGetter=defaultDimValueGetters[s.sourceFormat];this._dimValueGetter=o||l,this._rawExtent=[];var u=shouldRetrieveDataByName(s);this._dimensions=map3(a,function(f){return u&&assert(f.property!=null),{type:f.type,property:f.property}}),this._initDataFromProvider(0,n.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(n,a){var o=this._calcDimNameToIdx,s=this._dimensions,l=o.get(n);if(l!=null){if(s[l].type===a)return l}else l=s.length;return s[l]={type:a},o.set(n,l),this._chunks[l]=new dataCtors[a||"float"](this._rawCount),this._rawExtent[l]=getInitialExtent(),l},r.prototype.collectOrdinalMeta=function(n,a){var o=this._chunks[n],s=this._dimensions[n],l=this._rawExtent,u=s.ordinalOffset||0,f=o.length;u===0&&(l[n]=getInitialExtent());for(var d=l[n],v=u;v<f;v++){var g=o[v]=a.parseAndCollect(o[v]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}s.ordinalMeta=a,s.ordinalOffset=f,s.type="ordinal"},r.prototype.getOrdinalMeta=function(n){var a=this._dimensions[n],o=a.ordinalMeta;return o},r.prototype.getDimensionProperty=function(n){var a=this._dimensions[n];return a&&a.property},r.prototype.appendData=function(n){assert(!this._indices,"appendData can only be called on raw data.");var a=this._provider,o=this.count();a.appendData(n);var s=a.count();return a.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},r.prototype.appendValues=function(n,a){for(var o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,f=this.count(),d=f+Math.max(n.length,a||0),v=0;v<l;v++){var g=s[v];prepareStore(o,v,g.type,d,!0)}for(var y=[],b=f;b<d;b++)for(var _=b-f,x=0;x<l;x++){var g=s[x],w=defaultDimValueGetters.arrayRows.call(this,n[_]||y,g.property,_,x);o[x][b]=w;var C=u[x];w<C[0]&&(C[0]=w),w>C[1]&&(C[1]=w)}return this._rawCount=this._count=d,{start:f,end:d}},r.prototype._initDataFromProvider=function(n,a,o){for(var s=this._provider,l=this._chunks,u=this._dimensions,f=u.length,d=this._rawExtent,v=map3(u,function(D){return D.property}),g=0;g<f;g++){var y=u[g];d[g]||(d[g]=getInitialExtent()),prepareStore(l,g,y.type,a,o)}if(s.fillStorage)s.fillStorage(n,a,l,d);else for(var b=[],_=n;_<a;_++){b=s.getItem(_,b);for(var x=0;x<f;x++){var w=l[x],C=this._dimValueGetter(b,v[x],_,x);w[_]=C;var S=d[x];C<S[0]&&(S[0]=C),C>S[1]&&(S[1]=C)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=a,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(n,a){if(!(a>=0&&a<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(a)]:NaN},r.prototype.getValues=function(n,a){var o=[],s=[];if(a==null){a=n,n=[];for(var l=0;l<this._dimensions.length;l++)s.push(l)}else s=n;for(var l=0,u=s.length;l<u;l++)o.push(this.get(s[l],a));return o},r.prototype.getByRawIndex=function(n,a){if(!(a>=0&&a<this._rawCount))return NaN;var o=this._chunks[n];return o?o[a]:NaN},r.prototype.getSum=function(n){var a=this._chunks[n],o=0;if(a)for(var s=0,l=this.count();s<l;s++){var u=this.get(n,s);isNaN(u)||(o+=u)}return o},r.prototype.getMedian=function(n){var a=[];this.each([n],function(l){isNaN(l)||a.push(l)});var o=a.sort(function(l,u){return l-u}),s=this.count();return s===0?0:s%2==1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},r.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var a=this._indices,o=a[n];if(o!=null&&o<this._count&&o===n)return n;for(var s=0,l=this._count-1;s<=l;){var u=(s+l)/2|0;if(a[u]<n)s=u+1;else if(a[u]>n)l=u-1;else return u}return-1},r.prototype.indicesOfNearest=function(n,a,o){var s=this._chunks,l=s[n],u=[];if(!l)return u;o==null&&(o=1/0);for(var f=1/0,d=-1,v=0,g=0,y=this.count();g<y;g++){var b=this.getRawIndex(g),_=a-l[b],x=Math.abs(_);x<=o&&((x<f||x===f&&_>=0&&d<0)&&(f=x,d=_,v=0),_===d&&(u[v++]=g))}return u.length=v,u},r.prototype.getIndices=function(){var n,a=this._indices;if(a){var o=a.constructor,s=this._count;if(o===Array){n=new o(s);for(var l=0;l<s;l++)n[l]=a[l]}else n=new o(a.buffer,0,s)}else{var o=getIndicesCtor(this._rawCount);n=new o(this.count());for(var l=0;l<n.length;l++)n[l]=l}return n},r.prototype.filter=function(n,a){if(!this._count)return this;for(var o=this.clone(),s=o.count(),l=getIndicesCtor(o._rawCount),u=new l(s),f=[],d=n.length,v=0,g=n[0],y=o._chunks,b=0;b<s;b++){var _=void 0,x=o.getRawIndex(b);if(d===0)_=a(b);else if(d===1){var w=y[g][x];_=a(w,b)}else{for(var C=0;C<d;C++)f[C]=y[n[C]][x];f[C]=b,_=a.apply(null,f)}_&&(u[v++]=x)}return v<s&&(o._indices=u),o._count=v,o._extent=[],o._updateGetRawIdx(),o},r.prototype.selectRange=function(n){var a=this.clone(),o=a._count;if(!o)return this;var s=keys2(n),l=s.length;if(!l)return this;var u=a.count(),f=getIndicesCtor(a._rawCount),d=new f(u),v=0,g=s[0],y=n[g][0],b=n[g][1],_=a._chunks,x=!1;if(!a._indices){var w=0;if(l===1){for(var C=_[s[0]],S=0;S<o;S++){var D=C[S];(D>=y&&D<=b||isNaN(D))&&(d[v++]=w),w++}x=!0}else if(l===2){for(var C=_[s[0]],A=_[s[1]],T=n[s[1]][0],P=n[s[1]][1],S=0;S<o;S++){var D=C[S],E=A[S];(D>=y&&D<=b||isNaN(D))&&(E>=T&&E<=P||isNaN(E))&&(d[v++]=w),w++}x=!0}}if(!x)if(l===1)for(var S=0;S<u;S++){var M=a.getRawIndex(S),D=_[s[0]][M];(D>=y&&D<=b||isNaN(D))&&(d[v++]=M)}else for(var S=0;S<u;S++){for(var L=!0,M=a.getRawIndex(S),F=0;F<l;F++){var I=s[F],D=_[I][M];(D<n[I][0]||D>n[I][1])&&(L=!1)}L&&(d[v++]=a.getRawIndex(S))}return v<u&&(a._indices=d),a._count=v,a._extent=[],a._updateGetRawIdx(),a},r.prototype.map=function(n,a){var o=this.clone(n);return this._updateDims(o,n,a),o},r.prototype.modify=function(n,a){this._updateDims(this,n,a)},r.prototype._updateDims=function(n,a,o){for(var s=n._chunks,l=[],u=a.length,f=n.count(),d=[],v=n._rawExtent,g=0;g<a.length;g++)v[a[g]]=getInitialExtent();for(var y=0;y<f;y++){for(var b=n.getRawIndex(y),_=0;_<u;_++)d[_]=s[a[_]][b];d[u]=y;var x=o&&o.apply(null,d);if(x!=null){typeof x!="object"&&(l[0]=x,x=l);for(var g=0;g<x.length;g++){var w=a[g],C=x[g],S=v[w],D=s[w];D&&(D[b]=C),C<S[0]&&(S[0]=C),C>S[1]&&(S[1]=C)}}}},r.prototype.lttbDownSample=function(n,a){var o=this.clone([n],!0),s=o._chunks,l=s[n],u=this.count(),f=0,d=Math.floor(1/a),v=this.getRawIndex(0),g,y,b,_=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(u/d)+2)*2,u));_[f++]=v;for(var x=1;x<u-1;x+=d){for(var w=Math.min(x+d,u-1),C=Math.min(x+d*2,u),S=(C+w)/2,D=0,A=w;A<C;A++){var T=this.getRawIndex(A),P=l[T];isNaN(P)||(D+=P)}D/=C-w;var E=x,M=Math.min(x+d,u),L=x-1,F=l[v];g=-1,b=E;for(var I=-1,B=0,A=E;A<M;A++){var T=this.getRawIndex(A),P=l[T];if(isNaN(P)){B++,I<0&&(I=T);continue}y=Math.abs((L-S)*(P-F)-(L-A)*(D-F)),y>g&&(g=y,b=T)}B>0&&B<M-E&&(_[f++]=Math.min(I,b),b=Math.max(I,b)),_[f++]=b,v=b}return _[f++]=this.getRawIndex(u-1),o._count=f,o._indices=_,o.getRawIndex=this._getRawIdx,o},r.prototype.downSample=function(n,a,o,s){for(var l=this.clone([n],!0),u=l._chunks,f=[],d=Math.floor(1/a),v=u[n],g=this.count(),y=l._rawExtent[n]=getInitialExtent(),b=new(getIndicesCtor(this._rawCount))(Math.ceil(g/d)),_=0,x=0;x<g;x+=d){d>g-x&&(d=g-x,f.length=d);for(var w=0;w<d;w++){var C=this.getRawIndex(x+w);f[w]=v[C]}var S=o(f),D=this.getRawIndex(Math.min(x+s(f,S)||0,g-1));v[D]=S,S<y[0]&&(y[0]=S),S>y[1]&&(y[1]=S),b[_++]=D}return l._count=_,l._indices=b,l._updateGetRawIdx(),l},r.prototype.each=function(n,a){if(!!this._count)for(var o=n.length,s=this._chunks,l=0,u=this.count();l<u;l++){var f=this.getRawIndex(l);switch(o){case 0:a(l);break;case 1:a(s[n[0]][f],l);break;case 2:a(s[n[0]][f],s[n[1]][f],l);break;default:for(var d=0,v=[];d<o;d++)v[d]=s[n[d]][f];v[d]=l,a.apply(null,v)}}},r.prototype.getDataExtent=function(n){var a=this._chunks[n],o=getInitialExtent();if(!a)return o;var s=this.count(),l=!this._indices,u;if(l)return this._rawExtent[n].slice();if(u=this._extent[n],u)return u.slice();u=o;for(var f=u[0],d=u[1],v=0;v<s;v++){var g=this.getRawIndex(v),y=a[g];y<f&&(f=y),y>d&&(d=y)}return u=[f,d],this._extent[n]=u,u},r.prototype.getRawDataItem=function(n){var a=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(a);for(var o=[],s=this._chunks,l=0;l<s.length;l++)o.push(s[l][a]);return o},r.prototype.clone=function(n,a){var o=new r,s=this._chunks,l=n&&reduce(n,function(f,d){return f[d]=!0,f},{});if(l)for(var u=0;u<s.length;u++)o._chunks[u]=l[u]?cloneChunk(s[u]):s[u];else o._chunks=s;return this._copyCommonProps(o),a||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},r.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone(this._extent),n._rawExtent=clone(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,a=void 0;if(n===Array){var o=this._indices.length;a=new n(o);for(var s=0;s<o;s++)a[s]=this._indices[s]}else a=new n(this._indices);return a}return null},r.prototype._getRawIdxIdentity=function(n){return n},r.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function n(a,o,s,l){return parseDataValue(a[l],this._dimensions[l])}defaultDimValueGetters={arrayRows:n,objectRows:function(a,o,s,l){return parseDataValue(a[o],this._dimensions[l])},keyedColumns:n,original:function(a,o,s,l){var u=a&&(a.value==null?a:a.value);return parseDataValue(u instanceof Array?u[l]:u,this._dimensions[l])},typedArray:function(a,o,s,l){return a[l]}}}(),r}(),DataStore_default=DataStore,SourceManager=function(){function r(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(n,a){this._sourceList=n,this._upstreamSignList=a,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,a=this._getUpstreamSourceManagers(),o=!!a.length,s,l;if(isSeries(n)){var u=n,f=void 0,d=void 0,v=void 0;if(o){var g=a[0];g.prepareSource(),v=g.getSource(),f=v.data,d=v.sourceFormat,l=[g._getVersionSign()]}else f=u.get("data",!0),d=isTypedArray2(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,l=[];var y=this._getSourceMetaRawOption()||{},b=v&&v.metaRawOption||{},_=retrieve2(y.seriesLayoutBy,b.seriesLayoutBy)||null,x=retrieve2(y.sourceHeader,b.sourceHeader),w=retrieve2(y.dimensions,b.dimensions),C=_!==b.seriesLayoutBy||!!x!=!!b.sourceHeader||w;s=C?[createSource(f,{seriesLayoutBy:_,sourceHeader:x,dimensions:w},d)]:[]}else{var S=n;if(o){var D=this._applyTransform(a);s=D.sourceList,l=D.upstreamSignList}else{var A=S.get("source",!0);s=[createSource(A,this._getSourceMetaRawOption(),null)],l=[]}}assert(s&&l),this._setLocalSource(s,l)},r.prototype._applyTransform=function(n){var a=this._sourceHost,o=a.get("transform",!0),s=a.get("fromTransformResult",!0);if(assert(s!=null||o!=null),s!=null){var l="";n.length!==1&&(l="When using `fromTransformResult`, there should be only one upstream dataset",doThrow(l))}var u,f=[],d=[];return each(n,function(v){v.prepareSource();var g=v.getSource(s||0),y="";s!=null&&!g&&(y="Can not retrieve result by `fromTransformResult`: "+s,doThrow(y)),f.push(g),d.push(v._getVersionSign())}),o?u=applyDataTransform(o,f,{datasetIndex:a.componentIndex}):s!=null&&(u=[cloneSourceShallow(f[0])]),{sourceList:u,upstreamSignList:d}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),a=0;a<n.length;a++){var o=n[a];if(o._isDirty()||this._upstreamSignList[a]!==o._getVersionSign())return!0}},r.prototype.getSource=function(n){n=n||0;var a=this._sourceList[n];if(!a){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return a},r.prototype.getSharedDataStore=function(n){assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var a=n.makeStoreSchema();return this._innerGetDataStore(a.dimensions,n.source,a.hash)},r.prototype._innerGetDataStore=function(n,a,o){var s=0,l=this._storeList,u=l[s];u||(u=l[s]={});var f=u[o];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(n,a,o):(f=new DataStore_default,f.initData(new DefaultDataProvider(a,n.length),n)),u[o]=f}return f},r.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var a=querySeriesUpstreamDatasetModel(n);return a?[a.getSourceManager()]:[]}else return map3(queryDatasetUpstreamDatasetModels(n),function(o){return o.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,a,o,s;if(isSeries(n))a=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),s=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var l=n;a=l.get("seriesLayoutBy",!0),o=l.get("sourceHeader",!0),s=l.get("dimensions",!0)}return{seriesLayoutBy:a,sourceHeader:o,dimensions:s}},r}();function disableTransformOptionMerge(r){var n=r.option.transform;n&&setAsPrimitive(r.option.transform)}function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(r,n){var a=r.color||"#6e7079",o=r.fontSize||12,s=r.fontWeight||"400",l=r.color||"#464646",u=r.fontSize||14,f=r.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(a)+";font-weight:"+encodeHTML(s+""),valueStyle:"font-size:"+encodeHTML(u+"")+"px;color:"+encodeHTML(l)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:o,fill:a,fontWeight:s},valueStyle:{fontSize:u,fill:l,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,n){return n.type=r,n}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var n=0,a=r.blocks.length,o=a>1||a>0&&!r.noHeader;return each(r.blocks,function(s){var l=getBlockGapLevel(s);l>=n&&(n=l+ +(o&&(!l||isSectionFragment(s)&&!s.noHeader)))}),n}return 0}function buildSection(r,n,a,o){var s=n.noHeader,l=getGap2(getBlockGapLevel(n)),u=[],f=n.blocks||[];assert(!f||isArray3(f)),f=f||[];var d=r.orderMode;if(n.sortBlocks&&d){f=f.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(hasOwn2(v,d)){var g=new SortOrderComparator(v[d],null);f.sort(function(x,w){return g.evaluate(x.sortParam,w.sortParam)})}else d==="seriesDesc"&&f.reverse()}each(f,function(x,w){var C=n.valueFormatter,S=getBuilder(x)(C?extend2(extend2({},r),{valueFormatter:C}):r,x,w>0?l.html:0,o);S!=null&&u.push(S)});var y=r.renderMode==="richText"?u.join(l.richText):wrapBlockHTML(u.join(""),s?a:l.html);if(s)return y;var b=makeValueReadable(n.header,"ordinal",r.useUTC),_=getTooltipTextStyle(o,r.renderMode).nameStyle;return r.renderMode==="richText"?wrapInlineNameRichText(r,b,_)+l.richText+y:wrapBlockHTML('<div style="'+_+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(b)+"</div>"+y,a)}function buildNameValue(r,n,a,o){var s=r.renderMode,l=n.noName,u=n.noValue,f=!n.markerType,d=n.name,v=r.useUTC,g=n.valueFormatter||r.valueFormatter||function(T){return T=isArray3(T)?T:[T],map3(T,function(P,E){return makeValueReadable(P,isArray3(_)?_[E]:_,v)})};if(!(l&&u)){var y=f?"":r.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",s),b=l?"":makeValueReadable(d,"ordinal",v),_=n.valueType,x=u?[]:g(n.value),w=!f||!l,C=!f&&l,S=getTooltipTextStyle(o,s),D=S.nameStyle,A=S.valueStyle;return s==="richText"?(f?"":y)+(l?"":wrapInlineNameRichText(r,b,D))+(u?"":wrapInlineValueRichText(r,x,w,C,A)):wrapBlockHTML((f?"":y)+(l?"":wrapInlineNameHTML(b,!f,D))+(u?"":wrapInlineValueHTML(x,w,C,A)),a)}}function buildTooltipMarkup(r,n,a,o,s,l){if(!!r){var u=getBuilder(r),f={useUTC:s,renderMode:a,orderMode:o,markupStyleCreator:n,valueFormatter:r.valueFormatter};return u(f,r,0,l)}}function getGap2(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,n){var a='<div style="clear:both"></div>',o="margin: "+n+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+r+a+"</div>"}function wrapInlineNameHTML(r,n,a){var o=n?"margin-left:2px":"";return'<span style="'+a+";"+o+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,n,a,o){var s=a?"10px":"20px",l=n?"float:right;margin-left:"+s:"";return r=isArray3(r)?r:[r],'<span style="'+l+";"+o+'">'+map3(r,function(u){return encodeHTML(u)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,n,a){return r.markupStyleCreator.wrapRichTextStyle(n,a)}function wrapInlineValueRichText(r,n,a,o,s){var l=[s],u=o?10:20;return a&&l.push({padding:[0,0,0,u],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray3(n)?n.join("  "):n,l)}function retrieveVisualColorForTooltipMarker(r,n){var a=r.getData().getItemVisual(n,"style"),o=a[r.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(r,n){var a=r.get("padding");return a!=null?a:n==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(n,a,o){var s=o==="richText"?this._generateStyleName():null,l=getTooltipMarker({color:a,type:n,renderMode:o,markerId:s});return isString2(l)?l:(assert(s),this.richTextStyles[s]=l.style,l.content)},r.prototype.wrapRichTextStyle=function(n,a){var o={};isArray3(a)?each(a,function(l){return extend2(o,l)}):extend2(o,a);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+n+"}"},r}();function defaultSeriesFormatTooltip(r){var n=r.series,a=r.dataIndex,o=r.multipleSeries,s=n.getData(),l=s.mapDimensionsAll("defaultedTooltip"),u=l.length,f=n.getRawValue(a),d=isArray3(f),v=retrieveVisualColorForTooltipMarker(n,a),g,y,b,_;if(u>1||d&&!u){var x=formatTooltipArrayValue(f,n,a,l,v);g=x.inlineValues,y=x.inlineValueTypes,b=x.blocks,_=x.inlineValues[0]}else if(u){var w=s.getDimensionInfo(l[0]);_=g=retrieveRawValue(s,a,l[0]),y=w.type}else _=g=d?f[0]:f;var C=isNameSpecified(n),S=C&&n.name||"",D=s.getName(a),A=o?S:D;return createTooltipMarkup("section",{header:S,noHeader:o||!C,sortParam:_,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:v,name:A,noName:!trim(A),value:g,valueType:y})].concat(b||[])})}function formatTooltipArrayValue(r,n,a,o,s){var l=n.getData(),u=reduce(r,function(y,b,_){var x=l.getDimensionInfo(_);return y=y||x&&x.tooltip!==!1&&x.displayName!=null},!1),f=[],d=[],v=[];o.length?each(o,function(y){g(retrieveRawValue(l,a,y),y)}):each(r,g);function g(y,b){var _=l.getDimensionInfo(b);!_||_.otherDims.tooltip===!1||(u?v.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:s,name:_.displayName,value:y,valueType:_.type})):(f.push(y),d.push(_.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:v}}var inner2=makeInner();function getSelectionKey(r,n){return r.getName(n)||r.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return n.prototype.init=function(a,o,s){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,s);var l=inner2(this).sourceManager=new SourceManager(this);l.prepareSource();var u=this.getInitialData(a,s);wrapData(u,this),this.dataTask.context.data=u,assert(u,"getInitialData returned invalid data."),inner2(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},n.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},u=this.subType;Component_default.hasClass(u)&&(u+="Series"),merge3(a,o.getTheme().get(this.subType)),merge3(a,this.getDefaultOption()),defaultEmphasis(a,"label",["show"]),this.fillDataTextStyle(a.data),s&&mergeLayoutParam(a,l,s)},n.prototype.mergeOption=function(a,o){a=merge3(this.option,a,!0),this.fillDataTextStyle(a.data);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s);var l=inner2(this).sourceManager;l.dirty(),l.prepareSource();var u=this.getInitialData(a,o);wrapData(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,inner2(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},n.prototype.fillDataTextStyle=function(a){if(a&&!isTypedArray2(a))for(var o=["show"],s=0;s<a.length;s++)a[s]&&a[s].label&&defaultEmphasis(a[s],"label",o)},n.prototype.getInitialData=function(a,o){},n.prototype.appendData=function(a){var o=this.getRawData();o.appendData(a.data)},n.prototype.getData=function(a){var o=getCurrentTask(this);if(o){var s=o.context.data;return a==null?s:s.getLinkedData(a)}else return inner2(this).data},n.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},n.prototype.setData=function(a){var o=getCurrentTask(this);if(o){var s=o.context;s.outputData=a,o!==this.dataTask&&(s.data=a)}inner2(this).data=a},n.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return createHashMap(a)},n.prototype.getSourceManager=function(){return inner2(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner2(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var a=this.get("colorBy");return a||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},n.prototype.formatTooltip=function(a,o,s){return defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(env_default.node&&!(a&&a.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(a,o,s){var l=this.ecModel,u=PaletteMixin.prototype.getColorFromPalette.call(this,a,o,s);return u||(u=l.getColorFromPalette(a,o,s)),u},n.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(a,o){this._innerSelect(this.getData(o),a)},n.prototype.unselect=function(a,o){var s=this.option.selectedMap;if(!!s){var l=this.option.selectedMode,u=this.getData(o);if(l==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<a.length;f++){var d=a[f],v=getSelectionKey(u,d);s[v]=!1,this._selectedDataIndicesMap[v]=-1}}},n.prototype.toggleSelect=function(a,o){for(var s=[],l=0;l<a.length;l++)s[0]=a[l],this.isSelected(a[l],o)?this.unselect(s,o):this.select(s,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,o=keys2(a),s=[],l=0;l<o.length;l++){var u=a[o[l]];u>=0&&s.push(u)}return s},n.prototype.isSelected=function(a,o){var s=this.option.selectedMap;if(!s)return!1;var l=this.getData(o);return(s==="all"||s[getSelectionKey(l,a)])&&!l.getItemModel(a).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var a=this.option.universalTransition;return a?a===!0?!0:a&&a.enabled:!1},n.prototype._innerSelect=function(a,o){var s,l,u=this.option,f=u.selectedMode,d=o.length;if(!(!f||!d)){if(f==="series")u.selectedMap="all";else if(f==="multiple"){isObject3(u.selectedMap)||(u.selectedMap={});for(var v=u.selectedMap,g=0;g<d;g++){var y=o[g],b=getSelectionKey(a,y);v[b]=!0,this._selectedDataIndicesMap[b]=a.getRawIndex(y)}}else if(f==="single"||f===!0){var _=o[d-1],b=getSelectionKey(a,_);u.selectedMap=(s={},s[b]=!0,s),this._selectedDataIndicesMap=(l={},l[b]=a.getRawIndex(_),l)}}},n.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var o=[];a.hasItemOption&&a.each(function(s){var l=a.getRawDataItem(s);l&&l.selected&&o.push(s)}),o.length>0&&this._innerSelect(a,o)}},n.registerClass=function(a){return Component_default.registerClass(a)},n.protoInitialize=function(){var a=n.prototype;a.type="series.__base__",a.seriesIndex=0,a.ignoreStyleOnData=!1,a.hasSymbolVisual=!1,a.defaultSymbol="circle",a.visualStyleAccessPath="itemStyle",a.visualDrawType="fill"}(),n}(Component_default);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,Component_default);function autoSeriesName(r){var n=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||n)}function getSeriesAutoName(r){var n=r.getRawData(),a=n.mapDimensionsAll("seriesName"),o=[];return each(a,function(s){var l=n.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var n=r.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,n){n.outputData&&r.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(r,n){each(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(a){r.wrapMethod(a,curry(onDataChange,n))})}function onDataChange(r,n){var a=getCurrentTask(r);return a&&a.setOutputEnd((n||this).count()),n}function getCurrentTask(r){var n=(r.ecModel||{}).scheduler,a=n&&n.getPipeline(r.uid);if(a){var o=a.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(r.uid))}return o}}var Series_default=SeriesModel,ComponentView=function(){function r(){this.group=new Group_default,this.uid=getUID("viewComponent")}return r.prototype.init=function(n,a){},r.prototype.render=function(n,a,o,s){},r.prototype.dispose=function(n,a){},r.prototype.updateView=function(n,a,o,s){},r.prototype.updateLayout=function(n,a,o,s){},r.prototype.updateVisual=function(n,a,o,s){},r.prototype.toggleBlurSeries=function(n,a,o){},r.prototype.eachRendered=function(n){var a=this.group;a&&a.traverse(n)},r}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);var Component_default2=ComponentView;function createRenderPlanner(){var r=makeInner();return function(n){var a=r(n),o=n.pipelineContext,s=!!a.large,l=!!a.progressiveRender,u=a.large=!!(o&&o.large),f=a.progressiveRender=!!(o&&o.progressiveRender);return(s!==u||l!==f)&&"reset"}}var inner3=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group_default,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(n,a){},r.prototype.render=function(n,a,o,s){throw new Error("render method must been implemented")},r.prototype.highlight=function(n,a,o,s){var l=n.getData(s&&s.dataType);if(!l){error("Unknown dataType "+s.dataType);return}toggleHighlight(l,s,"emphasis")},r.prototype.downplay=function(n,a,o,s){var l=n.getData(s&&s.dataType);if(!l){error("Unknown dataType "+s.dataType);return}toggleHighlight(l,s,"normal")},r.prototype.remove=function(n,a){this.group.removeAll()},r.prototype.dispose=function(n,a){},r.prototype.updateView=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.updateLayout=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.updateVisual=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.eachRendered=function(n){traverseElements(this.group,n)},r.markUpdateMethod=function(n,a){inner3(n).updateMethod=a},r.protoInitialize=function(){var n=r.prototype;n.type="chart"}(),r}();function elSetState(r,n,a){r&&isHighDownDispatcher(r)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(r,a)}function toggleHighlight(r,n,a){var o=queryDataIndex(r,n),s=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;o!=null?each(normalizeToArray(o),function(l){elSetState(r.getItemGraphicEl(l),a,s)}):r.eachItemGraphicEl(function(l){elSetState(l,a,s)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var n=r.model,a=r.ecModel,o=r.api,s=r.payload,l=n.pipelineContext.progressiveRender,u=r.view,f=s&&inner3(s).updateMethod,d=l?"incrementalPrepareRender":f&&u[f]?f:"render";return d!=="render"&&u[d](n,a,o,s),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,n){n.view.incrementalRender(r,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(r,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},Chart_default=ChartView,ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,n,a){var o,s=0,l=0,u=null,f,d,v,g;n=n||0;function y(){l=new Date().getTime(),u=null,r.apply(d,v||[])}var b=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];o=new Date().getTime(),d=this,v=_;var w=g||n,C=g||a;g=null,f=o-(C?s:l)-w,clearTimeout(u),C?u=setTimeout(y,w):f>=0?y():u=setTimeout(y,-f),s=o};return b.clear=function(){u&&(clearTimeout(u),u=null)},b.debounceNextCall=function(_){g=_},b}function createOrUpdate(r,n,a,o){var s=r[n];if(!!s){var l=s[ORIGIN_METHOD]||s,u=s[THROTTLE_TYPE],f=s[RATE];if(f!==a||u!==o){if(a==null||!o)return r[n]=l;s=r[n]=throttle(l,a,o==="debounce"),s[ORIGIN_METHOD]=l,s[THROTTLE_TYPE]=o,s[RATE]=a}return s}}function clear2(r,n){var a=r[n];a&&a[ORIGIN_METHOD]&&(a.clear&&a.clear(),r[n]=a[ORIGIN_METHOD])}var inner4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,n){var a=r.visualStyleMapper||defaultStyleMappers[n];return a||(console.warn("Unkown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,n){var a=r.visualDrawType||defaultColorKey[n];return a||(console.warn("Unkown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var a=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=r.getModel(o),l=getStyleMapper(r,o),u=l(s),f=s.getShallow("decal");f&&(a.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(r,o),v=u[d],g=isFunction3(v)?v:null,y=u.fill==="auto"||u.stroke==="auto";if(!u[d]||g||y){var b=r.getColorFromPalette(r.name,null,n.getSeriesCount());u[d]||(u[d]=b,a.setVisual("colorFromPalette",!0)),u.fill=u.fill==="auto"||isFunction3(u.fill)?b:u.fill,u.stroke=u.stroke==="auto"||isFunction3(u.stroke)?b:u.stroke}if(a.setVisual("style",u),a.setVisual("drawType",d),!n.isSeriesFiltered(r)&&g)return a.setVisual("colorFromPalette",!1),{dataEach:function(_,x){var w=r.getDataParams(x),C=extend2({},u);C[d]=g(w),_.setItemVisual(x,"style",C)}}}},sharedModel=new Model_default,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!(r.ignoreStyleOnData||n.isSeriesFiltered(r))){var a=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=getStyleMapper(r,o),l=a.getVisual("drawType");return{dataEach:a.hasItemOption?function(u,f){var d=u.getRawDataItem(f);if(d&&d[o]){sharedModel.option=d[o];var v=s(sharedModel),g=u.ensureUniqueItemVisual(f,"style");extend2(g,v),sharedModel.option.decal&&(u.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),l in v&&u.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var n=createHashMap();r.eachSeries(function(a){var o=a.getColorBy();if(!a.isColorBySeries()){var s=a.type+"-"+o,l=n.get(s);l||(l={},n.set(s,l)),inner4(a).scope=l}}),r.eachSeries(function(a){if(!(a.isColorBySeries()||r.isSeriesFiltered(a))){var o=a.getRawData(),s={},l=a.getData(),u=inner4(a).scope,f=a.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(a,f);l.each(function(v){var g=l.getRawIndex(v);s[g]=v}),o.each(function(v){var g=s[v],y=l.getItemVisual(g,"colorFromPalette");if(y){var b=l.ensureUniqueItemVisual(g,"style"),_=o.getName(v)||v+"",x=o.count();b[d]=a.getColorFromPalette(_,u,x)}})}})}},PI5=Math.PI;function defaultLoading(r,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new Group_default,o=new Rect_default({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});a.add(o);var s=new Text_default({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),l=new Rect_default({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});a.add(l);var u;return n.showSpinner&&(u=new Arc_default({shape:{startAngle:-PI5/2,endAngle:-PI5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),u.animateShape(!0).when(1e3,{endAngle:PI5*3/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:PI5*3/2}).delay(300).start("circularInOut"),a.add(u)),a.resize=function(){var f=s.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,v=(r.getWidth()-d*2-(n.showSpinner&&f?10:0)-f)/2-(n.showSpinner&&f?0:5+f/2)+(n.showSpinner?0:f/2)+(f?0:d),g=r.getHeight()/2;n.showSpinner&&u.setShape({cx:v,cy:g}),l.setShape({x:v-d,y:g-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},a.resize(),a}var Scheduler2=function(){function r(n,a,o,s){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=a,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return r.prototype.restoreData=function(n,a){n.restoreData(a),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},r.prototype.getPerformArgs=function(n,a){if(!!n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),s=o.context,l=!a&&o.progressiveEnabled&&(!s||s.progressiveRender)&&n.__idxInPipeline>o.blockIndex,u=l?o.step:null,f=s&&s.modDataCount,d=f!=null?Math.ceil(f/u):null;return{step:u,modBy:d,modDataCount:f}}},r.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},r.prototype.updateStreamModes=function(n,a){var o=this._pipelineMap.get(n.uid),s=n.getData(),l=s.count(),u=o.progressiveEnabled&&a.incrementalPrepareRender&&l>=o.threshold,f=n.get("large")&&l>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?l:null;n.pipelineContext=o.context={progressiveRender:u,modDataCount:d,large:f}},r.prototype.restorePipelines=function(n){var a=this,o=a._pipelineMap=createHashMap();n.eachSeries(function(s){var l=s.getProgressive(),u=s.uid;o.set(u,{id:u,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:l&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(l||700),count:0}),a._pipe(s,s.dataTask)})},r.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,a=this.api.getModel(),o=this.api;each(this._allHandlers,function(s){var l=n.get(s.uid)||n.set(s.uid,{}),u="";u='"reset" and "overallReset" must not be both specified.',assert(!(s.reset&&s.overallReset),u),s.reset&&this._createSeriesStageTask(s,l,a,o),s.overallReset&&this._createOverallStageTask(s,l,a,o)},this)},r.prototype.prepareView=function(n,a,o,s){var l=n.renderTask,u=l.context;u.model=a,u.ecModel=o,u.api=s,l.__block=!n.incrementalPrepareRender,this._pipe(a,l)},r.prototype.performDataProcessorTasks=function(n,a){this._performStageTasks(this._dataProcessorHandlers,n,a,{block:!0})},r.prototype.performVisualTasks=function(n,a,o){this._performStageTasks(this._visualHandlers,n,a,o)},r.prototype._performStageTasks=function(n,a,o,s){s=s||{};var l=!1,u=this;each(n,function(d,v){if(!(s.visualType&&s.visualType!==d.visualType)){var g=u._stageTaskMap.get(d.uid),y=g.seriesTaskMap,b=g.overallTask;if(b){var _,x=b.agentStubMap;x.each(function(C){f(s,C)&&(C.dirty(),_=!0)}),_&&b.dirty(),u.updatePayload(b,o);var w=u.getPerformArgs(b,s.block);x.each(function(C){C.perform(w)}),b.perform(w)&&(l=!0)}else y&&y.each(function(C,S){f(s,C)&&C.dirty();var D=u.getPerformArgs(C,s.block);D.skip=!d.performRawSeries&&a.isSeriesFiltered(C.context.model),u.updatePayload(C,o),C.perform(D)&&(l=!0)})}});function f(d,v){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(v.__pipeline.id))}this.unfinished=l||this.unfinished},r.prototype.performSeriesTasks=function(n){var a;n.eachSeries(function(o){a=o.dataTask.perform()||a}),this.unfinished=a||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(n){var a=n.tail;do{if(a.__block){n.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},r.prototype.updatePayload=function(n,a){a!=="remain"&&(n.context.payload=a)},r.prototype._createSeriesStageTask=function(n,a,o,s){var l=this,u=a.seriesTaskMap,f=a.seriesTaskMap=createHashMap(),d=n.seriesType,v=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(g):d?o.eachRawSeriesByType(d,g):v&&v(o,s).each(g);function g(y){var b=y.uid,_=f.set(b,u&&u.get(b)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));_.context={model:y,ecModel:o,api:s,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:l},l._pipe(y,_)}},r.prototype._createOverallStageTask=function(n,a,o,s){var l=this,u=a.overallTask=a.overallTask||createTask({reset:overallTaskReset});u.context={ecModel:o,api:s,overallReset:n.overallReset,scheduler:l};var f=u.agentStubMap,d=u.agentStubMap=createHashMap(),v=n.seriesType,g=n.getTargetSeries,y=!0,b=!1,_="";_='"createOnAllSeries" do not supported for "overallReset", becuase it will block all streams.',assert(!n.createOnAllSeries,_),v?o.eachRawSeriesByType(v,x):g?g(o,s).each(x):(y=!1,each(o.getSeries(),x));function x(w){var C=w.uid,S=d.set(C,f&&f.get(C)||(b=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));S.context={model:w,overallProgress:y},S.agent=u,S.__block=y,l._pipe(w,S)}b&&u.dirty()},r.prototype._pipe=function(n,a){var o=n.uid,s=this._pipelineMap.get(o);!s.head&&(s.head=a),s.tail&&s.tail.pipe(a),s.tail=a,a.__idxInPipeline=s.count++,a.__pipeline=s},r.wrapStageHandler=function(n,a){return isFunction3(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),a&&(n.visualType=a),n},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var n=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return n.length>1?map3(n,function(a,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(n,a){var o=a.data,s=a.resetDefines[r];if(s&&s.dataEach)for(var l=n.start;l<n.end;l++)s.dataEach(o,l);else s&&s.progress&&s.progress(n,o)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch(n){}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,Global_default),mockMethods(apiMock,ExtensionAPI_default),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r},ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,n){for(var a in n.prototype)r[a]=noop}var Scheduler_default=Scheduler2,colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],light_default24={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]},contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var dark_default79=theme,ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(n){var a={},o={},s={};if(isString2(n)){var l=parseClassType(n);a.mainType=l.main||null,a.subType=l.sub||null}else{var u=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each(n,function(d,v){for(var g=!1,y=0;y<u.length;y++){var b=u[y],_=v.lastIndexOf(b);if(_>0&&_===v.length-b.length){var x=v.slice(0,_);x!=="data"&&(a.mainType=x,a[b.toLowerCase()]=d,g=!0)}}f.hasOwnProperty(v)&&(o[v]=d,g=!0),g||(s[v]=d)})}return{cptQuery:a,dataQuery:o,otherQuery:s}},r.prototype.filter=function(n,a){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,l=o.packedEvent,u=o.model,f=o.view;if(!u||!f)return!0;var d=a.cptQuery,v=a.dataQuery;return g(d,u,"mainType")&&g(d,u,"subType")&&g(d,u,"index","componentIndex")&&g(d,u,"name")&&g(d,u,"id")&&g(v,l,"name")&&g(v,l,"dataIndex")&&g(v,l,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(n,a.otherQuery,s,l));function g(y,b,_,x){return y[_]==null||b[x||_]===y[_]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var a=r.getData();if(r.legendIcon&&a.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var o={},s={},l=!1,u=0;u<SYMBOL_PROPS_WITH_CB.length;u++){var f=SYMBOL_PROPS_WITH_CB[u],d=r.get(f);isFunction3(d)?(l=!0,s[f]=d):o[f]=d}if(o.symbol=o.symbol||r.defaultSymbol,a.setVisual(extend2({legendIcon:r.legendIcon||o.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},o)),n.isSeriesFiltered(r))return;var v=keys2(s);function g(y,b){for(var _=r.getRawValue(b),x=r.getDataParams(b),w=0;w<v.length;w++){var C=v[w];y.setItemVisual(b,C,s[C](_,x))}}return{dataEach:l?g:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!r.hasSymbolVisual||n.isSeriesFiltered(r))return;var a=r.getData();function o(s,l){for(var u=s.getItemModel(l),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],v=u.getShallow(d,!0);v!=null&&s.setItemVisual(l,d,v)}}return{dataEach:a.hasItemOption?o:null}}};function getItemVisualFromData(r,n,a){switch(a){case"color":var o=r.getItemVisual(n,"style");return o[r.getVisual("drawType")];case"opacity":return r.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(n,a);default:console.warn("Unknown visual type "+a)}}function getVisualFromData(r,n){switch(n){case"color":var a=r.getVisual("style");return a[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(n);default:console.warn("Unknown visual type "+n)}}function handleSeriesLegacySelectEvents(r,n,a,o,s){var l=r+n;a.isSilent(l)||(deprecateLog("event "+l+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(u){for(var f=u.seriesIndex,d=u.option.selectedMap,v=s.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===f){var y=u.getData(),b=queryDataIndex(y,s.fromActionPayload);a.trigger(l,{type:l,seriesId:u.id,name:isArray3(b)?y.getName(b[0]):y.getName(b),selected:isString2(d)?d:extend2({},d)})}}))}function handleLegacySelectEvents(r,n,a){r.on("selectchanged",function(o){var s=a.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,s,o),handleSeriesLegacySelectEvents("pie","selectchanged",n,s,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,s,o),handleSeriesLegacySelectEvents("pie","selected",n,s,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,s,o),handleSeriesLegacySelectEvents("pie","unselected",n,s,o))})}function findEventDispatcher(r,n,a){for(var o;r&&!(n(r)&&(o=r,a));)r=r.__hostTarget||r.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap3=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(n){return this._guard(n)[this._id]},r.prototype.set=function(n,a){var o=this._guard(n);return supportDefineProperty?Object.defineProperty(o,this._id,{value:a,enumerable:!1,configurable:!0}):o[this._id]=a,this},r.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},r.prototype.has=function(n){return!!this._guard(n)[this._id]},r.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},r}(),WeakMap_default2=WeakMap3,Triangle=Path_default.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var a=n.cx,o=n.cy,s=n.width/2,l=n.height/2;r.moveTo(a,o-l),r.lineTo(a+s,o+l),r.lineTo(a-s,o+l),r.closePath()}}),Diamond=Path_default.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var a=n.cx,o=n.cy,s=n.width/2,l=n.height/2;r.moveTo(a,o-l),r.lineTo(a+s,o),r.lineTo(a,o+l),r.lineTo(a-s,o),r.closePath()}}),Pin=Path_default.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var a=n.x,o=n.y,s=n.width/5*3,l=Math.max(s,n.height),u=s/2,f=u*u/(l-u),d=o-l+u+f,v=Math.asin(f/u),g=Math.cos(v)*u,y=Math.sin(v),b=Math.cos(v),_=u*.6,x=u*.7;r.moveTo(a-g,d+f),r.arc(a,d,u,Math.PI-v,Math.PI*2+v),r.bezierCurveTo(a+g-y*_,d+f+b*_,a,o-x,a,o),r.bezierCurveTo(a,o-x,a-g+y*_,d+f+b*_,a-g,d+f),r.closePath()}}),Arrow=Path_default.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var a=n.height,o=n.width,s=n.x,l=n.y,u=o/3*2;r.moveTo(s,l),r.lineTo(s+u,l+a),r.lineTo(s,l+a/4*3),r.lineTo(s-u,l+a),r.lineTo(s,l),r.closePath()}}),symbolCtors={line:Line_default,rect:Rect_default,roundRect:Rect_default,square:Rect_default,circle:Circle_default,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,n,a,o,s){s.x1=r,s.y1=n+o/2,s.x2=r+a,s.y2=n+o/2},rect:function(r,n,a,o,s){s.x=r,s.y=n,s.width=a,s.height=o},roundRect:function(r,n,a,o,s){s.x=r,s.y=n,s.width=a,s.height=o,s.r=Math.min(a,o)/4},square:function(r,n,a,o,s){var l=Math.min(a,o);s.x=r,s.y=n,s.width=l,s.height=l},circle:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.r=Math.min(a,o)/2},diamond:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.width=a,s.height=o},pin:function(r,n,a,o,s){s.x=r+a/2,s.y=n+o/2,s.width=a,s.height=o},arrow:function(r,n,a,o,s){s.x=r+a/2,s.y=n+o/2,s.width=a,s.height=o},triangle:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.width=a,s.height=o}},symbolBuildProxies={};each(symbolCtors,function(r,n){symbolBuildProxies[n]=new r});var SymbolClz=Path_default.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,n,a){var o=calculateTextPosition(r,n,a),s=this.shape;return s&&s.symbolType==="pin"&&n.position==="inside"&&(o.y=a.y+a.height*.4),o},buildPath:function(r,n,a){var o=n.symbolType;if(o!=="none"){var s=symbolBuildProxies[o];s||(o="rect",s=symbolBuildProxies[o]),symbolShapeMakers[o](n.x,n.y,n.width,n.height,s.shape),s.buildPath(r,s.shape,a)}}});function symbolPathSetColor(r,n){if(this.type!=="image"){var a=this.style;this.__isEmptyBrush?(a.stroke=r,a.fill=n||"#fff",a.lineWidth=2):this.shape.symbolType==="line"?a.stroke=r:a.fill=r,this.markRedraw()}}function createSymbol(r,n,a,o,s,l,u){var f=r.indexOf("empty")===0;f&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var d;return r.indexOf("image://")===0?d=makeImage(r.slice(8),new BoundingRect_default(n,a,o,s),u?"center":"cover"):r.indexOf("path://")===0?d=makePath(r.slice(7),{},new BoundingRect_default(n,a,o,s),u?"center":"cover"):d=new SymbolClz({shape:{symbolType:r,x:n,y:a,width:o,height:s}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,l&&d.setColor(l),d}function normalizeSymbolSize(r){return isArray3(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,n){if(r!=null)return isArray3(r)||(r=[r,r]),[parsePercent2(r[0],n[0])||0,parsePercent2(retrieve2(r[1],r[0]),n[1])||0]}function createLinearGradient(r,n,a){var o=n.x==null?0:n.x,s=n.x2==null?1:n.x2,l=n.y==null?0:n.y,u=n.y2==null?0:n.y2;n.global||(o=o*a.width+a.x,s=s*a.width+a.x,l=l*a.height+a.y,u=u*a.height+a.y),o=isNaN(o)?0:o,s=isNaN(s)?1:s,l=isNaN(l)?0:l,u=isNaN(u)?0:u;var f=r.createLinearGradient(o,l,s,u);return f}function createRadialGradient(r,n,a){var o=a.width,s=a.height,l=Math.min(o,s),u=n.x==null?.5:n.x,f=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(u=u*o+a.x,f=f*s+a.y,d=d*l);var v=r.createRadialGradient(u,f,0,u,f,d);return v}function getCanvasGradient(r,n,a){for(var o=n.type==="radial"?createRadialGradient(r,n,a):createLinearGradient(r,n,a),s=n.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}function isClipPathChanged(r,n){if(r===n||!r&&!n)return!1;if(!r||!n||r.length!==n.length)return!0;for(var a=0;a<r.length;a++)if(r[a]!==n[a])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize(r,n,a){var o=["width","height"][n],s=["clientWidth","clientHeight"][n],l=["paddingLeft","paddingTop"][n],u=["paddingRight","paddingBottom"][n];if(a[o]!=null&&a[o]!=="auto")return parseFloat(a[o]);var f=document.defaultView.getComputedStyle(r);return(r[s]||parseInt10(f[o])||parseInt10(r.style[o]))-(parseInt10(f[l])||0)-(parseInt10(f[u])||0)|0}function normalizeLineDash(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:isNumber(r)?[r]:isArray3(r)?r:null}function getLineDash(r){var n=r.style,a=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(a){var s=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;s&&s!==1&&(a=map3(a,function(l){return l/s}),o/=s)}return[a,o]}var pathProxyForDraw=new PathProxy_default(!0);function styleHasStroke(r){var n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var n=r.fill;return n!=null&&n!=="none"}function doFillPath(r,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var a=r.globalAlpha;r.globalAlpha=n.fillOpacity*n.opacity,r.fill(),r.globalAlpha=a}else r.fill()}function doStrokePath(r,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var a=r.globalAlpha;r.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(),r.globalAlpha=a}else r.stroke()}function createCanvasPattern(r,n,a){var o=createOrUpdateImage(n.image,n.__image,a);if(isImageReady(o)){var s=r.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&s&&s.setTransform){var l=new DOMMatrix;l.translateSelf(n.x||0,n.y||0),l.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),l.scaleSelf(n.scaleX||1,n.scaleY||1),s.setTransform(l)}return s}}function brushPath(r,n,a,o){var s,l=styleHasStroke(a),u=styleHasFill(a),f=a.strokePercent,d=f<1,v=!n.path;(!n.silent||d)&&v&&n.createPathProxy();var g=n.path||pathProxyForDraw,y=n.__dirty;if(!o){var b=a.fill,_=a.stroke,x=u&&!!b.colorStops,w=l&&!!_.colorStops,C=u&&!!b.image,S=l&&!!_.image,D=void 0,A=void 0,T=void 0,P=void 0,E=void 0;(x||w)&&(E=n.getBoundingRect()),x&&(D=y?getCanvasGradient(r,b,E):n.__canvasFillGradient,n.__canvasFillGradient=D),w&&(A=y?getCanvasGradient(r,_,E):n.__canvasStrokeGradient,n.__canvasStrokeGradient=A),C&&(T=y||!n.__canvasFillPattern?createCanvasPattern(r,b,n):n.__canvasFillPattern,n.__canvasFillPattern=T),S&&(P=y||!n.__canvasStrokePattern?createCanvasPattern(r,_,n):n.__canvasStrokePattern,n.__canvasStrokePattern=T),x?r.fillStyle=D:C&&(T?r.fillStyle=T:u=!1),w?r.strokeStyle=A:S&&(P?r.strokeStyle=P:l=!1)}var M=n.getGlobalScale();g.setScale(M[0],M[1],n.segmentIgnoreThreshold);var L,F;r.setLineDash&&a.lineDash&&(s=getLineDash(n),L=s[0],F=s[1]);var I=!0;(v||y&SHAPE_CHANGED_BIT)&&(g.setDPR(r.dpr),d?g.setContext(null):(g.setContext(r),I=!1),g.reset(),n.buildPath(g,n.shape,o),g.toStatic(),n.pathUpdated()),I&&g.rebuildPath(r,d?f:1),L&&(r.setLineDash(L),r.lineDashOffset=F),o||(a.strokeFirst?(l&&doStrokePath(r,a),u&&doFillPath(r,a)):(u&&doFillPath(r,a),l&&doStrokePath(r,a))),L&&r.setLineDash([])}function brushImage(r,n,a){var o=n.__image=createOrUpdateImage(a.image,n.__image,n,n.onload);if(!(!o||!isImageReady(o))){var s=a.x||0,l=a.y||0,u=n.getWidth(),f=n.getHeight(),d=o.width/o.height;if(u==null&&f!=null?u=f*d:f==null&&u!=null?f=u/d:u==null&&f==null&&(u=o.width,f=o.height),a.sWidth&&a.sHeight){var v=a.sx||0,g=a.sy||0;r.drawImage(o,v,g,a.sWidth,a.sHeight,s,l,u,f)}else if(a.sx&&a.sy){var v=a.sx,g=a.sy,y=u-v,b=f-g;r.drawImage(o,v,g,y,b,s,l,u,f)}else r.drawImage(o,s,l,u,f)}}function brushText(r,n,a){var o,s=a.text;if(s!=null&&(s+=""),s){r.font=a.font||DEFAULT_FONT,r.textAlign=a.textAlign,r.textBaseline=a.textBaseline;var l=void 0,u=void 0;r.setLineDash&&a.lineDash&&(o=getLineDash(n),l=o[0],u=o[1]),l&&(r.setLineDash(l),r.lineDashOffset=u),a.strokeFirst?(styleHasStroke(a)&&r.strokeText(s,a.x,a.y),styleHasFill(a)&&r.fillText(s,a.x,a.y)):(styleHasFill(a)&&r.fillText(s,a.x,a.y),styleHasStroke(a)&&r.strokeText(s,a.x,a.y)),l&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,n,a,o,s){var l=!1;if(!o&&(a=a||{},n===a))return!1;if(o||n.opacity!==a.opacity){flushPathDrawn(r,s),l=!0;var u=Math.max(Math.min(n.opacity,1),0);r.globalAlpha=isNaN(u)?DEFAULT_COMMON_STYLE.opacity:u}(o||n.blend!==a.blend)&&(l||(flushPathDrawn(r,s),l=!0),r.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(o||n[d]!==a[d])&&(l||(flushPathDrawn(r,s),l=!0),r[d]=r.dpr*(n[d]||0))}return(o||n.shadowColor!==a.shadowColor)&&(l||(flushPathDrawn(r,s),l=!0),r.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),l}function bindPathAndTextCommonStyle(r,n,a,o,s){var l=getStyle(n,s.inHover),u=o?null:a&&getStyle(a,s.inHover)||{};if(l===u)return!1;var f=bindCommonProps(r,l,u,o,s);if((o||l.fill!==u.fill)&&(f||(flushPathDrawn(r,s),f=!0),isValidStrokeFillStyle(l.fill)&&(r.fillStyle=l.fill)),(o||l.stroke!==u.stroke)&&(f||(flushPathDrawn(r,s),f=!0),isValidStrokeFillStyle(l.stroke)&&(r.strokeStyle=l.stroke)),(o||l.opacity!==u.opacity)&&(f||(flushPathDrawn(r,s),f=!0),r.globalAlpha=l.opacity==null?1:l.opacity),n.hasStroke()){var d=l.lineWidth,v=d/(l.strokeNoScale&&n.getLineScale?n.getLineScale():1);r.lineWidth!==v&&(f||(flushPathDrawn(r,s),f=!0),r.lineWidth=v)}for(var g=0;g<STROKE_PROPS.length;g++){var y=STROKE_PROPS[g],b=y[0];(o||l[b]!==u[b])&&(f||(flushPathDrawn(r,s),f=!0),r[b]=l[b]||y[1])}return f}function bindImageStyle(r,n,a,o,s){return bindCommonProps(r,getStyle(n,s.inHover),a&&getStyle(a,s.inHover),o,s)}function setContextTransform(r,n){var a=n.transform,o=r.dpr||1;a?r.setTransform(o*a[0],o*a[1],o*a[2],o*a[3],o*a[4],o*a[5]):r.setTransform(o,0,0,o,0,0)}function updateClipStatus(r,n,a){for(var o=!1,s=0;s<r.length;s++){var l=r[s];o=o||l.isZeroArea(),setContextTransform(n,l),n.beginPath(),l.buildPath(n,l.shape),n.clip()}a.allClipped=o}function isTransformChanged(r,n){return r&&n?r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==n[3]||r[4]!==n[4]||r[5]!==n[5]:!(!r&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var n=styleHasFill(r),a=styleHasStroke(r);return!(r.lineDash||!(+n^+a)||n&&typeof r.fill!="string"||a&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,n){n.batchFill&&r.fill(),n.batchStroke&&r.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(r,n){return n&&r.__hoverStyle||r.style}function brushSingle(r,n){brush(r,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(r,n,a,o){var s=n.transform;if(!n.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var l=n.__clipPaths,u=a.prevElClipPaths,f=!1,d=!1;if((!u||isClipPathChanged(l,u))&&(u&&u.length&&(flushPathDrawn(r,a),r.restore(),d=f=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),l&&l.length&&(flushPathDrawn(r,a),r.save(),updateClipStatus(l,r,a),f=!0),a.prevElClipPaths=l),a.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var v=a.prevEl;v||(d=f=!0);var g=n instanceof Path_default&&n.autoBatch&&canPathBatch(n.style);f||isTransformChanged(s,v.transform)?(flushPathDrawn(r,a),setContextTransform(r,n)):g||flushPathDrawn(r,a);var y=getStyle(n,a.inHover);n instanceof Path_default?(a.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,a.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,n,v,d,a),(!g||!a.batchFill&&!a.batchStroke)&&r.beginPath(),brushPath(r,n,y,g),g&&(a.batchFill=y.fill||"",a.batchStroke=y.stroke||"")):n instanceof TSpan_default?(a.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,a.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,n,v,d,a),brushText(r,n,y)):n instanceof Image_default?(a.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,a.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,n,v,d,a),brushImage(r,n,y)):n.getTemporalDisplayables&&(a.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,a.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,n,a)),g&&o&&flushPathDrawn(r,a),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),a.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(r,n,a){var o=n.getDisplayables(),s=n.getTemporalDisplayables();r.save();var l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:a.viewWidth,viewHeight:a.viewHeight,inHover:a.inHover},u,f;for(u=n.getCursor(),f=o.length;u<f;u++){var d=o[u];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush(r,d,l,u===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}for(var v=0,g=s.length;v<g;v++){var d=s[v];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush(r,d,l,v===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,r.restore()}var decalMap=new WeakMap_default2,decalCache=new LRU_default(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,n){if(r==="none")return null;var a=n.getDevicePixelRatio(),o=n.getZr(),s=o.painter.type==="svg";r.dirty&&decalMap.delete(r);var l=decalMap.get(r);if(l)return l;var u=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});u.backgroundColor==="none"&&(u.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=u.rotation,f.scaleX=f.scaleY=s?1:1/a,decalMap.set(r,f),r.dirty=!1,f;function d(v){for(var g=[a],y=!0,b=0;b<decalKeys.length;++b){var _=u[decalKeys[b]];if(_!=null&&!isArray3(_)&&!isString2(_)&&!isNumber(_)&&typeof _!="boolean"){y=!1;break}g.push(_)}var x;if(y){x=g.join(",")+(s?"-svg":"");var w=decalCache.get(x);w&&(s?v.svgElement=w:v.image=w)}var C=normalizeDashArrayX(u.dashArrayX),S=normalizeDashArrayY(u.dashArrayY),D=normalizeSymbolArray(u.symbol),A=getLineBlockLengthX(C),T=getLineBlockLengthY(S),P=!s&&platformApi.createCanvas(),E=s&&{tag:"g",attrs:{},key:"dcl",children:[]},M=F(),L;P&&(P.width=M.width*a,P.height=M.height*a,L=P.getContext("2d")),I(),y&&decalCache.put(x,P||E),v.image=P,v.svgElement=E,v.svgWidth=M.width,v.svgHeight=M.height;function F(){for(var B=1,O=0,R=A.length;O<R;++O)B=getLeastCommonMultiple(B,A[O]);for(var z=1,O=0,R=D.length;O<R;++O)z=getLeastCommonMultiple(z,D[O].length);B*=z;var N=T*A.length*D.length,V=function(W){console.warn("Calculated decal size is greater than "+W+" due to decal option settings so "+W+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+W+" to be larger to avoid incontinuity.")};return B>u.maxTileWidth&&V("maxTileWidth"),N>u.maxTileHeight&&V("maxTileHeight"),{width:Math.max(1,Math.min(B,u.maxTileWidth)),height:Math.max(1,Math.min(N,u.maxTileHeight))}}function I(){L&&(L.clearRect(0,0,P.width,P.height),u.backgroundColor&&(L.fillStyle=u.backgroundColor,L.fillRect(0,0,P.width,P.height)));for(var B=0,O=0;O<S.length;++O)B+=S[O];if(B<=0)return;for(var R=-T,z=0,N=0,V=0;R<M.height;){if(z%2==0){for(var W=N/2%D.length,H=0,$=0,Y=0;H<M.width*2;){for(var ae=0,O=0;O<C[V].length;++O)ae+=C[V][O];if(ae<=0)break;if($%2==0){var X=(1-u.symbolSize)*.5,J=H+C[V][$]*X,fe=R+S[z]*X,ge=C[V][$]*u.symbolSize,ye=S[z]*u.symbolSize,be=Y/2%D[W].length;K(J,fe,ge,ye,D[W][be])}H+=C[V][$],++Y,++$,$===C[V].length&&($=0)}++V,V===C.length&&(V=0)}R+=S[z],++N,++z,z===S.length&&(z=0)}function K(j,Q,le,oe,he){var G=s?1:a,U=createSymbol(he,j*G,Q*G,le*G,oe*G,u.color,u.symbolKeepAspect);if(s){var ee=o.painter.renderOneToVNode(U);ee&&E.children.push(ee)}else brushSingle(L,U)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString2(r))return[[r]];for(var n=!0,a=0;a<r.length;++a)if(!isString2(r[a])){n=!1;break}if(n)return normalizeSymbolArray([r]);for(var o=[],a=0;a<r.length;++a)isString2(r[a])?o.push([r[a]]):o.push(r[a]);return o}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber(r)){var n=Math.ceil(r);return[[n,n]]}for(var a=!0,o=0;o<r.length;++o)if(!isNumber(r[o])){a=!1;break}if(a)return normalizeDashArrayX([r]);for(var s=[],o=0;o<r.length;++o)if(isNumber(r[o])){var n=Math.ceil(r[o]);s.push([n,n])}else{var n=map3(r[o],function(f){return Math.ceil(f)});n.length%2==1?s.push(n.concat(n)):s.push(n)}return s}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber(r)){var n=Math.ceil(r);return[n,n]}var a=map3(r,function(o){return Math.ceil(o)});return r.length%2?a.concat(a):a}function getLineBlockLengthX(r){return map3(r,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(r){for(var n=0,a=0;a<r.length;++a)n+=r[a];return r.length%2==1?n*2:n}function decalVisual(r,n){r.eachRawSeries(function(a){if(!r.isSeriesFiltered(a)){var o=a.getData();o.hasItemVisual()&&o.each(function(u){var f=o.getItemVisual(u,"decal");if(f){var d=o.ensureUniqueItemVisual(u,"style");d.decal=createOrUpdatePatternFromDecal(f,n)}});var s=o.getVisual("decal");if(s){var l=o.getVisual("style");l.decal=createOrUpdatePatternFromDecal(s,n)}}})}var lifecycle=new Eventful_default,lifecycle_default=lifecycle,implsStore={};function registerImpl(r,n){implsStore[r]&&error("Already has an implementation of "+r+"."),implsStore[r]=n}function getImpl(r){return implsStore[r]||error("Implementation of "+r+" doesn't exists."),implsStore[r]}var hasWindow=typeof window!="undefined",TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,r,n)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return toLowercaseNameAndCallEventful(this,r,n)}}function toLowercaseNameAndCallEventful(r,n,a){return a[0]=a[0]&&a[0].toLowerCase(),Eventful_default.prototype[n].apply(r,a)}var MessageCenter=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(Eventful_default),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render8,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,new ECEventProcessor)||this;l._chartsViews=[],l._chartsMap={},l._componentsViews=[],l._componentsMap={},l._pendingActions=[],s=s||{},isString2(o)&&(o=themeStorage[o]),l._dom=a;var u="canvas",f=!1,d=hasWindow?window:global;u=d.__ECHARTS__DEFAULT__RENDERER__||u;var v=d.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;f=v==null?f:v;var g=l._zr=init2(a,{renderer:s.renderer||u,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:s.useDirtyRect==null?f:s.useDirtyRect});l._ssr=s.ssr,l._throttledZrFlush=throttle(bind(g.flush,g),17),o=clone(o),o&&globalBackwardCompat(o,!0),l._theme=o,l._locale=createLocaleObject(s.locale||SYSTEM_LANG),l._coordSysMgr=new CoordinateSystem_default;var y=l._api=createExtensionAPI(l);function b(_,x){return _.__prio-x.__prio}return sort(visualFuncs,b),sort(dataProcessorFuncs,b),l._scheduler=new Scheduler_default(l,y,dataProcessorFuncs,visualFuncs),l._messageCenter=new MessageCenter,l._initEvents(),l.resize=bind(l.resize,l),g.animation.on("frame",l._onframe,l),bindRenderedEvent(g,l),bindMouseEvent(g,l),setAsPrimitive(l),l}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var a=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(a.unfinished){var s=TEST_FRAME_REMAIN_TIME,l=this._model,u=this._api;a.unfinished=!1;do{var f=+new Date;a.performSeriesTasks(l),a.performDataProcessorTasks(l),updateStreamModes(this,l),a.performVisualTasks(l),renderSeries(this,this._model,u,"remain",{}),s-=+new Date-f}while(s>0&&a.unfinished);a.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(a,o,s){if(this[IN_MAIN_PROCESS_KEY]){error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var l,u,f;if(isObject3(o)&&(s=o.lazyUpdate,l=o.silent,u=o.replaceMerge,f=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager_default(this._api),v=this._theme,g=this._model=new Global_default;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,d)}this._model.setOption(a,{replaceMerge:u},optionPreprocessorFuncs);var y={seriesTransition:f,optionChanged:!0};if(s)this[PENDING_UPDATE]={silent:l,updateParams:y},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,y)}catch(b){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,b}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}},n.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(a){return deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(a)},n.prototype.renderToCanvas=function(a){a=a||{};var o=this._zr.painter;if(o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(a){a=a||{};var o=this._zr.painter;if(o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:a.useViewBox})},n.prototype.getSvgDataURL=function(){if(!!env_default.svgSupported){var a=this._zr,o=a.storage.getDisplayList();return each(o,function(s){s.stopAnimation(null,!0)}),a.painter.toDataURL()}},n.prototype.getDataURL=function(a){if(this._disposed){disposedWarning(this.id);return}a=a||{};var o=a.excludeComponents,s=this._model,l=[],u=this;each(o,function(d){s.eachComponent({mainType:d},function(v){var g=u._componentsMap[v.__viewId];g.group.ignore||(l.push(g),g.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return each(l,function(d){d.group.ignore=!1}),f},n.prototype.getConnectedDataURL=function(a){if(this._disposed){disposedWarning(this.id);return}var o=a.type==="svg",s=this.group,l=Math.min,u=Math.max,f=1/0;if(connectedGroups[s]){var d=f,v=f,g=-f,y=-f,b=[],_=a&&a.pixelRatio||this.getDevicePixelRatio();each(instances2,function(A,T){if(A.group===s){var P=o?A.getZr().painter.getSvgDom().innerHTML:A.renderToCanvas(clone(a)),E=A.getDom().getBoundingClientRect();d=l(E.left,d),v=l(E.top,v),g=u(E.right,g),y=u(E.bottom,y),b.push({dom:P,left:E.left,top:E.top})}}),d*=_,v*=_,g*=_,y*=_;var x=g-d,w=y-v,C=platformApi.createCanvas(),S=init2(C,{renderer:o?"svg":"canvas"});if(S.resize({width:x,height:w}),o){var D="";return each(b,function(A){var T=A.left-d,P=A.top-v;D+='<g transform="translate('+T+","+P+')">'+A.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=D,a.connectedBackgroundColor&&S.painter.setBackgroundColor(a.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}else return a.connectedBackgroundColor&&S.add(new Rect_default({shape:{x:0,y:0,width:x,height:w},style:{fill:a.connectedBackgroundColor}})),each(b,function(A){var T=new Image_default({style:{x:A.left*_-d,y:A.top*_-v,image:A.dom}});S.add(T)}),S.refreshImmediately(),C.toDataURL("image/"+(a&&a.type||"png"))}else return this.getDataURL(a)},n.prototype.convertToPixel=function(a,o){return doConvertPixel(this,"convertToPixel",a,o)},n.prototype.convertFromPixel=function(a,o){return doConvertPixel(this,"convertFromPixel",a,o)},n.prototype.containPixel=function(a,o){if(this._disposed){disposedWarning(this.id);return}var s=this._model,l,u=parseFinder(s,a);return each(u,function(f,d){d.indexOf("Models")>=0&&each(f,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)l=l||!!g.containPoint(o);else if(d==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint?l=l||y.containPoint(o,v):console.warn(d+": "+(y?"The found component do not support containPoint.":"No view mapping to the found component."))}else console.warn(d+": containPoint is not supported")},this)},this),!!l},n.prototype.getVisual=function(a,o){var s=this._model,l=parseFinder(s,a,{defaultMainType:"series"}),u=l.seriesModel;u||console.warn("There is no specified seires model");var f=u.getData(),d=l.hasOwnProperty("dataIndexInside")?l.dataIndexInside:l.hasOwnProperty("dataIndex")?f.indexOfRawIndex(l.dataIndex):null;return d!=null?getItemVisualFromData(f,d,o):getVisualFromData(f,o)},n.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},n.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},n.prototype._initEvents=function(){var a=this;each(MOUSE_EVENT_NAMES,function(o){var s=function(l){var u=a.getModel(),f=l.target,d,v=o==="globalout";if(v?d={}:f&&findEventDispatcher(f,function(x){var w=getECData(x);if(w&&w.dataIndex!=null){var C=w.dataModel||u.getSeriesByIndex(w.seriesIndex);return d=C&&C.getDataParams(w.dataIndex,w.dataType)||{},!0}else if(w.eventData)return d=extend2({},w.eventData),!0},!0),d){var g=d.componentType,y=d.componentIndex;(g==="markLine"||g==="markPoint"||g==="markArea")&&(g="series",y=d.seriesIndex);var b=g&&y!=null&&u.getComponent(g,y),_=b&&a[b.mainType==="series"?"_chartsMap":"_componentsMap"][b.__viewId];!v&&!(b&&_)&&console.warn("model or view can not be found by params"),d.event=l,d.type=o,a._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:b,view:_},a.trigger(o,d)}};s.zrEventfulCallAtLast=!0,a._zr.on(o,s,a)}),each(eventActionMap,function(o,s){a._messageCenter.on(s,function(l){this.trigger(s,l)},a)}),each(["selectchanged"],function(o){a._messageCenter.on(o,function(s){this.trigger(o,s)},a)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var a=this.getDom();a&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,s=o._api,l=o._model;each(o._componentsViews,function(u){u.dispose(l,s)}),each(o._chartsViews,function(u){u.dispose(l,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances2[o.id]},n.prototype.resize=function(a){if(this[IN_MAIN_PROCESS_KEY]){error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(a);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var s=o.resetOption("media"),l=a&&a.silent;this[PENDING_UPDATE]&&(l==null&&(l=this[PENDING_UPDATE].silent),s=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{s&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend2({duration:0},a&&a.animation)})}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,u}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}},n.prototype.showLoading=function(a,o){if(this._disposed){disposedWarning(this.id);return}if(isObject3(a)&&(o=a,a=""),a=a||"default",this.hideLoading(),!loadingEffects[a]){console.warn("Loading effects "+a+" not exists.");return}var s=loadingEffects[a](this._api,o),l=this._zr;this._loadingFX=s,l.add(s)},n.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(a){var o=extend2({},a);return o.type=eventActionMap[a.type],o},n.prototype.dispatchAction=function(a,o){if(this._disposed){disposedWarning(this.id);return}if(isObject3(o)||(o={silent:!!o}),!!actions[a.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(a);return}var s=o.silent;doDispatchAction.call(this,a,s);var l=o.flush;l?this._zr.flush():l!==!1&&env_default.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}},n.prototype.updateLabelLayout=function(){lifecycle_default.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(a){if(this._disposed){disposedWarning(this.id);return}var o=a.seriesIndex,s=this.getModel(),l=s.getSeriesByIndex(o);assert(a.data&&l),l.appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(y){var b=y._scheduler;b.restorePipelines(y._model),b.prepareStageTasks(),prepareView(y,!0),prepareView(y,!1),b.plan()},prepareView=function(y,b){for(var _=y._model,x=y._scheduler,w=b?y._componentsViews:y._chartsViews,C=b?y._componentsMap:y._chartsMap,S=y._zr,D=y._api,A=0;A<w.length;A++)w[A].__alive=!1;b?_.eachComponent(function(E,M){E!=="series"&&T(M)}):_.eachSeries(T);function T(E){var M=E.__requireNewView;E.__requireNewView=!1;var L="_ec_"+E.id+"_"+E.type,F=!M&&C[L];if(!F){var I=parseClassType(E.type),B=b?Component_default2.getClass(I.main,I.sub):Chart_default.getClass(I.sub);assert(B,I.sub+" does not exist."),F=new B,F.init(_,D),C[L]=F,w.push(F),S.add(F.group)}E.__viewId=F.__id=L,F.__alive=!0,F.__model=E,F.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!b&&x.prepareView(F,E,_,D)}for(var A=0;A<w.length;){var P=w[A];P.__alive?A++:(!b&&P.renderTask.dispose(),S.remove(P.group),P.dispose(_,D),w.splice(A,1),C[P.__id]===P&&delete C[P.__id],P.__id=P.group.__ecComponentInfo=null)}},updateDirectly=function(y,b,_,x,w){var C=y._model;if(C.setUpdatePayload(_),!x){each([].concat(y._componentsViews).concat(y._chartsViews),P);return}var S={};S[x+"Id"]=_[x+"Id"],S[x+"Index"]=_[x+"Index"],S[x+"Name"]=_[x+"Name"];var D={mainType:x,query:S};w&&(D.subType=w);var A=_.excludeSeriesId,T;A!=null&&(T=createHashMap(),each(normalizeToArray(A),function(E){var M=convertOptionIdName(E,null);M!=null&&T.set(M,!0)})),C&&C.eachComponent(D,function(E){var M=T&&T.get(E.id)!==null;if(!M)if(isHighDownPayload(_))if(E instanceof Series_default)_.type===HIGHLIGHT_ACTION_TYPE&&!_.notBlur&&!E.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(E,_,y._api);else{var L=findComponentHighDownDispatchers(E.mainType,E.componentIndex,_.name,y._api),F=L.focusSelf,I=L.dispatchers;_.type===HIGHLIGHT_ACTION_TYPE&&F&&!_.notBlur&&blurComponent(E.mainType,E.componentIndex,y._api),I&&each(I,function(B){_.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(B):leaveEmphasis(B)})}else isSelectChangePayload(_)&&E instanceof Series_default&&(toggleSelectionFromPayload(E,_,y._api),updateSeriesElementSelection(E),markStatusToUpdate(y))},y),C&&C.eachComponent(D,function(E){var M=T&&T.get(E.id)!==null;M||P(y[x==="series"?"_chartsMap":"_componentsMap"][E.__viewId])},y);function P(E){E&&E.__alive&&E[b]&&E[b](E.__model,C,y._api,_)}},updateMethods={prepareAndUpdate:function(y){prepare(this),updateMethods.update.call(this,y,{optionChanged:y.newOption!=null})},update:function(y,b){var _=this._model,x=this._api,w=this._zr,C=this._coordSysMgr,S=this._scheduler;if(!!_){_.setUpdatePayload(y),S.restoreData(_,y),S.performSeriesTasks(_),C.create(_,x),S.performDataProcessorTasks(_,y),updateStreamModes(this,_),C.update(_,x),a(_),S.performVisualTasks(_,y),render8(this,_,x,y,b);var D=_.get("backgroundColor")||"transparent",A=_.get("darkMode");w.setBackgroundColor(D),A!=null&&A!=="auto"&&w.setDarkMode(A),lifecycle_default.trigger("afterupdate",_,x)}},updateTransform:function(y){var b=this,_=this._model,x=this._api;if(!!_){_.setUpdatePayload(y);var w=[];_.eachComponent(function(S,D){if(S!=="series"){var A=b.getViewOfComponentModel(D);if(A&&A.__alive)if(A.updateTransform){var T=A.updateTransform(D,_,x,y);T&&T.update&&w.push(A)}else w.push(A)}});var C=createHashMap();_.eachSeries(function(S){var D=b._chartsMap[S.__viewId];if(D.updateTransform){var A=D.updateTransform(S,_,x,y);A&&A.update&&C.set(S.uid,1)}else C.set(S.uid,1)}),a(_),this._scheduler.performVisualTasks(_,y,{setDirty:!0,dirtyMap:C}),renderSeries(this,_,x,y,{},C),lifecycle_default.trigger("afterupdate",_,x)}},updateView:function(y){var b=this._model;!b||(b.setUpdatePayload(y),Chart_default.markUpdateMethod(y,"updateView"),a(b),this._scheduler.performVisualTasks(b,y,{setDirty:!0}),render8(this,b,this._api,y,{}),lifecycle_default.trigger("afterupdate",b,this._api))},updateVisual:function(y){var b=this,_=this._model;!_||(_.setUpdatePayload(y),_.eachSeries(function(x){x.getData().clearAllVisual()}),Chart_default.markUpdateMethod(y,"updateVisual"),a(_),this._scheduler.performVisualTasks(_,y,{visualType:"visual",setDirty:!0}),_.eachComponent(function(x,w){if(x!=="series"){var C=b.getViewOfComponentModel(w);C&&C.__alive&&C.updateVisual(w,_,b._api,y)}}),_.eachSeries(function(x){var w=b._chartsMap[x.__viewId];w.updateVisual(x,_,b._api,y)}),lifecycle_default.trigger("afterupdate",_,this._api))},updateLayout:function(y){updateMethods.update.call(this,y)}},doConvertPixel=function(y,b,_,x){if(y._disposed){disposedWarning(y.id);return}for(var w=y._model,C=y._coordSysMgr.getCoordinateSystems(),S,D=parseFinder(w,_),A=0;A<C.length;A++){var T=C[A];if(T[b]&&(S=T[b](w,D,x))!=null)return S}console.warn("No coordinate system that supports "+b+" found by the given finder.")},updateStreamModes=function(y,b){var _=y._chartsMap,x=y._scheduler;b.eachSeries(function(w){x.updateStreamModes(w,_[w.__viewId])})},doDispatchAction=function(y,b){var _=this,x=this.getModel(),w=y.type,C=y.escapeConnect,S=actions[w],D=S.actionInfo,A=(D.update||"update").split(":"),T=A.pop(),P=A[0]!=null&&parseClassType(A[0]);this[IN_MAIN_PROCESS_KEY]=!0;var E=[y],M=!1;y.batch&&(M=!0,E=map3(y.batch,function(z){return z=defaults(extend2({},z),y),z.batch=null,z}));var L=[],F,I=isSelectChangePayload(y),B=isHighDownPayload(y);if(B&&allLeaveBlur(this._api),each(E,function(z){if(F=S.action(z,_._model,_._api),F=F||extend2({},z),F.type=D.event||F.type,L.push(F),B){var N=preParseFinder(y),V=N.queryOptionMap,W=N.mainTypeSpecified,H=W?V.keys()[0]:"series";updateDirectly(_,T,z,H),markStatusToUpdate(_)}else I?(updateDirectly(_,T,z,"series"),markStatusToUpdate(_)):P&&updateDirectly(_,T,z,P.main,P.sub)}),T!=="none"&&!B&&!I&&!P)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,y),this[PENDING_UPDATE]=null):updateMethods[T].call(this,y)}catch(z){throw this[IN_MAIN_PROCESS_KEY]=!1,z}if(M?F={type:D.event||w,escapeConnect:C,batch:L}:F=L[0],this[IN_MAIN_PROCESS_KEY]=!1,!b){var O=this._messageCenter;if(O.trigger(F.type,F),I){var R={type:"selectchanged",escapeConnect:C,selected:getAllSelectedIndices(x),isFromClick:y.isFromClick||!1,fromAction:y.type,fromActionPayload:y};O.trigger(R.type,R)}}},flushPendingActions=function(y){for(var b=this._pendingActions;b.length;){var _=b.shift();doDispatchAction.call(this,_,y)}},triggerUpdatedEvent=function(y){!y&&this.trigger("updated")},bindRenderedEvent=function(y,b){y.on("rendered",function(_){b.trigger("rendered",_),y.animation.isFinished()&&!b[PENDING_UPDATE]&&!b._scheduler.unfinished&&!b._pendingActions.length&&b.trigger("finished")})},bindMouseEvent=function(y,b){y.on("mouseover",function(_){var x=_.target,w=findEventDispatcher(x,isHighDownDispatcher);w&&(handleGlobalMouseOverForHighDown(w,_,b._api),markStatusToUpdate(b))}).on("mouseout",function(_){var x=_.target,w=findEventDispatcher(x,isHighDownDispatcher);w&&(handleGlobalMouseOutForHighDown(w,_,b._api),markStatusToUpdate(b))}).on("click",function(_){var x=_.target,w=findEventDispatcher(x,function(D){return getECData(D).dataIndex!=null},!0);if(w){var C=w.selected?"unselect":"select",S=getECData(w);b._api.dispatchAction({type:C,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})};function a(y){y.clearColorPalette(),y.eachSeries(function(b){b.clearColorPalette()})}function o(y){var b=[],_=[],x=!1;if(y.eachComponent(function(D,A){var T=A.get("zlevel")||0,P=A.get("z")||0,E=A.getZLevelKey();x=x||!!E,(D==="series"?_:b).push({zlevel:T,z:P,idx:A.componentIndex,type:D,key:E})}),x){var w=b.concat(_),C,S;sort(w,function(D,A){return D.zlevel===A.zlevel?D.z-A.z:D.zlevel-A.zlevel}),each(w,function(D){var A=y.getComponent(D.type,D.idx),T=D.zlevel,P=D.key;C!=null&&(T=Math.max(C,T)),P?(T===C&&P!==S&&T++,S=P):S&&(T===C&&T++,S=""),C=T,A.setZLevel(T)})}}render8=function(y,b,_,x,w){o(b),renderComponents(y,b,_,x,w),each(y._chartsViews,function(C){C.__alive=!1}),renderSeries(y,b,_,x,w),each(y._chartsViews,function(C){C.__alive||C.remove(b,_)})},renderComponents=function(y,b,_,x,w,C){each(C||y._componentsViews,function(S){var D=S.__model;v(D,S),S.render(D,b,_,x),f(D,S),g(D,S)})},renderSeries=function(y,b,_,x,w,C){var S=y._scheduler;w=extend2(w||{},{updatedSeries:b.getSeries()}),lifecycle_default.trigger("series:beforeupdate",b,_,w);var D=!1;b.eachSeries(function(A){var T=y._chartsMap[A.__viewId];T.__alive=!0;var P=T.renderTask;S.updatePayload(P,x),v(A,T),C&&C.get(A.uid)&&P.dirty(),P.perform(S.getPerformArgs(P))&&(D=!0),T.group.silent=!!A.get("silent"),u(A,T),updateSeriesElementSelection(A)}),S.unfinished=D||S.unfinished,lifecycle_default.trigger("series:layoutlabels",b,_,w),lifecycle_default.trigger("series:transition",b,_,w),b.eachSeries(function(A){var T=y._chartsMap[A.__viewId];f(A,T),g(A,T)}),l(y,b),lifecycle_default.trigger("series:afterupdate",b,_,w)},markStatusToUpdate=function(y){y[STATUS_NEEDS_UPDATE_KEY]=!0,y.getZr().wakeUp()},applyChangedStates=function(y){!y[STATUS_NEEDS_UPDATE_KEY]||(y.getZr().storage.traverse(function(b){isElementRemoved(b)||s(b)}),y[STATUS_NEEDS_UPDATE_KEY]=!1)};function s(y){for(var b=[],_=y.currentStates,x=0;x<_.length;x++){var w=_[x];w==="emphasis"||w==="blur"||w==="select"||b.push(w)}y.selected&&y.states.select&&b.push("select"),y.hoverState===HOVER_STATE_EMPHASIS&&y.states.emphasis?b.push("emphasis"):y.hoverState===HOVER_STATE_BLUR&&y.states.blur&&b.push("blur"),y.useStates(b)}function l(y,b){var _=y._zr,x=_.storage,w=0;x.traverse(function(C){C.isGroup||w++}),w>b.get("hoverLayerThreshold")&&!env_default.node&&!env_default.worker&&b.eachSeries(function(C){if(!C.preventUsingHoverLayer){var S=y._chartsMap[C.__viewId];S.__alive&&S.eachRendered(function(D){D.states.emphasis&&(D.states.emphasis.hoverLayer=!0)})}})}function u(y,b){var _=y.get("blendMode")||null;b.eachRendered(function(x){x.isGroup||(x.style.blend=_)})}function f(y,b){if(!y.preventAutoZ){var _=y.get("z")||0,x=y.get("zlevel")||0;b.eachRendered(function(w){return d(w,_,x,-1/0),!0})}}function d(y,b,_,x){var w=y.getTextContent(),C=y.getTextGuideLine(),S=y.isGroup;if(S)for(var D=y.childrenRef(),A=0;A<D.length;A++)x=Math.max(d(D[A],b,_,x),x);else y.z=b,y.zlevel=_,x=Math.max(y.z2,x);if(w&&(w.z=b,w.zlevel=_,isFinite(x)&&(w.z2=x+2)),C){var T=y.textGuideLineConfig;C.z=b,C.zlevel=_,isFinite(x)&&(C.z2=x+(T&&T.showAbove?1:-1))}return x}function v(y,b){b.eachRendered(function(_){if(!isElementRemoved(_)){var x=_.getTextContent(),w=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),w&&w.stateTransition&&(w.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function g(y,b){var _=y.getModel("stateAnimation"),x=y.isAnimationEnabled(),w=_.get("duration"),C=w>0?{duration:w,delay:_.get("delay"),easing:_.get("easing")}:null;b.eachRendered(function(S){if(S.states&&S.states.emphasis){if(isElementRemoved(S))return;if(S instanceof Path_default&&savePathStates(S),S.__dirty){var D=S.prevStates;D&&S.useStates(D)}if(x){S.stateTransition=C;var A=S.getTextContent(),T=S.getTextGuideLine();A&&(A.stateTransition=C),T&&(T.stateTransition=C)}S.__dirty&&s(S)}})}createExtensionAPI=function(y){return new(function(b){__extends(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(x){for(;x;){var w=x.__ecComponentInfo;if(w!=null)return y._model.getComponent(w.mainType,w.index);x=x.parent}},_.prototype.enterEmphasis=function(x,w){enterEmphasis(x,w),markStatusToUpdate(y)},_.prototype.leaveEmphasis=function(x,w){leaveEmphasis(x,w),markStatusToUpdate(y)},_.prototype.enterBlur=function(x){enterBlur(x),markStatusToUpdate(y)},_.prototype.leaveBlur=function(x){leaveBlur(x),markStatusToUpdate(y)},_.prototype.enterSelect=function(x){enterSelect(x),markStatusToUpdate(y)},_.prototype.leaveSelect=function(x){leaveSelect(x),markStatusToUpdate(y)},_.prototype.getModel=function(){return y.getModel()},_.prototype.getViewOfComponentModel=function(x){return y.getViewOfComponentModel(x)},_.prototype.getViewOfSeriesModel=function(x){return y.getViewOfSeriesModel(x)},_}(ExtensionAPI_default))(y)},enableConnect=function(y){function b(_,x){for(var w=0;w<_.length;w++){var C=_[w];C[CONNECT_STATUS_KEY]=x}}each(eventActionMap,function(_,x){y._messageCenter.on(x,function(w){if(connectedGroups[y.group]&&y[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(w&&w.escapeConnect)return;var C=y.makeActionFromEvent(w),S=[];each(instances2,function(D){D!==y&&D.group===y.group&&S.push(D)}),b(S,CONNECT_STATUS_PENDING),each(S,function(D){D[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&D.dispatchAction(C)}),b(S,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful_default),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(r,n,a){var o=this;deprecateLog("ECharts#one is deprecated.");function s(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];n&&n.apply&&n.apply(this,l),o.off(r,s)}this.on.call(this,r,s,a)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){console.warn("Instance "+r+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances2={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init3(r,n,a){var o=!(a&&a.ssr);if(o){if(!r)throw new Error("Initialize failed: invalid dom.");var s=getInstanceByDom(r);if(s)return console.warn("There is a chart instance already initialized on the dom."),s;isDom(r)&&r.nodeName.toUpperCase()!=="CANVAS"&&(!r.clientWidth&&(!a||a.width==null)||!r.clientHeight&&(!a||a.height==null))&&console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var l=new ECharts(r,n,a);return l.id="ec_"+idBase++,instances2[l.id]=l,o&&setAttribute(r,DOM_ATTRIBUTE_KEY,l.id),enableConnect(l),lifecycle_default.trigger("afterinit",l),l}function getInstanceByDom(r){return instances2[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function registerTheme(r,n){themeStorage[r]=n}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,n){normalizeRegister(dataProcessorFuncs,r,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,n){lifecycle_default.on(r,n)}function registerAction(r,n,a){isFunction3(n)&&(a=n,n="");var o=isObject3(r)?r.type:[r,r={event:n}][0];r.event=(r.event||o).toLowerCase(),n=r.event,!eventActionMap[n]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(n)),actions[o]||(actions[o]={action:a,actionInfo:r}),eventActionMap[n]=o)}function registerCoordinateSystem(r,n){CoordinateSystem_default.register(r,n)}function registerLayout(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,n,a,o,s){if((isFunction3(n)||isObject3(n))&&(a=n,n=o),isNaN(n)||n==null)throw new Error("Illegal priority");if(each(r,function(u){assert(u.__raw!==a)}),!(indexOf(registeredTasks,a)>=0)){registeredTasks.push(a);var l=Scheduler_default.wrapStageHandler(a,s);l.__prio=n,l.__raw=a,r.push(l)}}function registerLoading(r,n){loadingEffects[r]=n}function registerMap(r,n,a){var o=getImpl("registerMap");o&&o(r,n,a)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop),registerTheme("light",light_default24),registerTheme("dark",dark_default79);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(n,a,o,s,l,u){this._old=n,this._new=a,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=s||defaultKeyGetter,this.context=l,this._diffModeMultiple=u==="multiple"}return r.prototype.add=function(n){return this._add=n,this},r.prototype.update=function(n){return this._update=n,this},r.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},r.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},r.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},r.prototype.remove=function(n){return this._remove=n,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var n=this._old,a=this._new,o={},s=new Array(n.length),l=new Array(a.length);this._initIndexMap(n,null,s,"_oldKeyGetter"),this._initIndexMap(a,o,l,"_newKeyGetter");for(var u=0;u<n.length;u++){var f=s[u],d=o[f],v=dataIndexMapValueLength(d);if(v>1){var g=d.shift();d.length===1&&(o[f]=d[0]),this._update&&this._update(g,u)}else v===1?(o[f]=null,this._update&&this._update(d,u)):this._remove&&this._remove(u)}this._performRestAdd(l,o)},r.prototype._executeMultiple=function(){var n=this._old,a=this._new,o={},s={},l=[],u=[];this._initIndexMap(n,o,l,"_oldKeyGetter"),this._initIndexMap(a,s,u,"_newKeyGetter");for(var f=0;f<l.length;f++){var d=l[f],v=o[d],g=s[d],y=dataIndexMapValueLength(v),b=dataIndexMapValueLength(g);if(y>1&&b===1)this._updateManyToOne&&this._updateManyToOne(g,v),s[d]=null;else if(y===1&&b>1)this._updateOneToMany&&this._updateOneToMany(g,v),s[d]=null;else if(y===1&&b===1)this._update&&this._update(g,v),s[d]=null;else if(y>1&&b>1)this._updateManyToMany&&this._updateManyToMany(g,v),s[d]=null;else if(y>1)for(var _=0;_<y;_++)this._remove&&this._remove(v[_]);else this._remove&&this._remove(v)}this._performRestAdd(u,s)},r.prototype._performRestAdd=function(n,a){for(var o=0;o<n.length;o++){var s=n[o],l=a[s],u=dataIndexMapValueLength(l);if(u>1)for(var f=0;f<u;f++)this._add&&this._add(l[f]);else u===1&&this._add&&this._add(l);a[s]=null}},r.prototype._initIndexMap=function(n,a,o,s){for(var l=this._diffModeMultiple,u=0;u<n.length;u++){var f="_ec_"+this[s](n[u],u);if(l||(o[u]=f),!!a){var d=a[f],v=dataIndexMapValueLength(d);v===0?(a[f]=u,l&&o.push(f)):v===1?a[f]=[d,u]:d.push(u)}}},r}(),DataDiffer_default=DataDiffer,DimensionUserOuput=function(){function r(n,a){this._encode=n,this._schema=a}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,n){var a={},o=a.encode={},s=createHashMap(),l=[],u=[],f={};each(r.dimensions,function(b){var _=r.getDimensionInfo(b),x=_.coordDim;if(x){assert(VISUAL_DIMENSIONS.get(x)==null);var w=_.coordDimIndex;getOrCreateEncodeArr(o,x)[w]=b,_.isExtraCoord||(s.set(x,1),mayLabelDimType(_.type)&&(l[0]=b),getOrCreateEncodeArr(f,x)[w]=r.getDimensionIndex(_.name)),_.defaultTooltip&&u.push(b)}VISUAL_DIMENSIONS.each(function(C,S){var D=getOrCreateEncodeArr(o,S),A=_.otherDims[S];A!=null&&A!==!1&&(D[A]=_.name)})});var d=[],v={};s.each(function(b,_){var x=o[_];v[_]=x[0],d=d.concat(x)}),a.dataDimsOnCoord=d,a.dataDimIndicesOnCoord=map3(d,function(b){return r.getDimensionInfo(b).storeDimIndex}),a.encodeFirstDimNotExtra=v;var g=o.label;g&&g.length&&(l=g.slice());var y=o.tooltip;return y&&y.length?u=y.slice():u.length||(u=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=u,a.userOutput=new DimensionUserOuput(f,n),a}function getOrCreateEncodeArr(r,n){return r.hasOwnProperty(n)||(r[n]=[]),r[n]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(n){this.otherDims={},n!=null&&extend2(this,n)}return r}(),SeriesDimensionDefine_default=SeriesDimensionDefine,inner5=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(n){this._dimOmitted=n,!!n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},r.prototype.getSourceDimension=function(n){var a=this.source.dimensionsDefine;if(a)return a[n]},r.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,a=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(n),s="",l=[],u=0,f=0;u<n;u++){var d=void 0,v=void 0,g=void 0,y=this.dimensions[f];if(y&&y.storeDimIndex===u)d=a?y.name:null,v=y.type,g=y.ordinalMeta,f++;else{var b=this.getSourceDimension(u);b&&(d=a?b.name:null,v=b.type)}l.push({property:d,type:v,ordinalMeta:g}),a&&d!=null&&(!y||!y.isCalculationCoord)&&(s+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),s+="$",s+=dimTypeShort[v]||"f",g&&(s+=g.uid),s+="$"}var _=this.source,x=[_.seriesLayoutBy,_.startIndex,s].join("$$");return{dimensions:l,hash:x}},r.prototype.makeOutputDimensionNames=function(){for(var n=[],a=0,o=0;a<this._fullDimCount;a++){var s=void 0,l=this.dimensions[o];if(l&&l.storeDimIndex===a)l.isCalculationCoord||(s=l.name),o++;else{var u=this.getSourceDimension(a);u&&(s=u.name)}n.push(s)}return n},r.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var n=createHashMap(),a=0;a<(r||[]).length;a++){var o=r[a],s=isObject3(o)?o.name:o;s!=null&&n.get(s)==null&&n.set(s,a)}return n}function ensureSourceDimNameMap(r){var n=inner5(r);return n.dimNameMap||(n.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject5=isObject3,map4=map3,CtorInt32Array2=typeof Int32Array=="undefined"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId2,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(n,a){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,s=!1;isSeriesDataSchema(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(s=!0,o=n),o=o||["x","y"];for(var l={},u=[],f={},d=!1,v={},g=0;g<o.length;g++){var y=o[g],b=isString2(y)?new SeriesDimensionDefine_default({name:y}):y instanceof SeriesDimensionDefine_default?y:new SeriesDimensionDefine_default(y),_=b.name;b.type=b.type||"float",b.coordDim||(b.coordDim=_,b.coordDimIndex=0);var x=b.otherDims=b.otherDims||{};u.push(_),l[_]=b,v[_]!=null&&(d=!0),b.createInvertedIndices&&(f[_]=[]),x.itemName===0&&(this._nameDimIdx=g),x.itemId===0&&(this._idDimIdx=g),assert(s||b.storeDimIndex>=0),s&&(b.storeDimIndex=g)}if(this.dimensions=u,this._dimInfos=l,this._initGetDimensionInfo(d),this.hostModel=a,this._invertedIndicesMap=f,this._dimOmitted){var w=this._dimIdxToName=createHashMap();each(u,function(C){w.set(l[C].storeDimIndex,C)})}}return r.prototype.getDimension=function(n){var a=this._recognizeDimIndex(n);if(a==null)return n;if(a=n,!this._dimOmitted)return this.dimensions[a];var o=this._dimIdxToName.get(a);if(o!=null)return o;var s=this._schema.getSourceDimension(a);if(s)return s.name},r.prototype.getDimensionIndex=function(n){var a=this._recognizeDimIndex(n);if(a!=null)return a;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},r.prototype._recognizeDimIndex=function(n){if(isNumber(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},r.prototype._getStoreDimIndex=function(n){var a=this.getDimensionIndex(n);if(a==null)throw new Error("Unkown dimension "+n);return a},r.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},r.prototype._initGetDimensionInfo=function(n){var a=this._dimInfos;this._getDimInfo=n?function(o){return a.hasOwnProperty(o)?a[o]:void 0}:function(o){return a[o]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(n,a){var o=this._dimSummary;if(a==null)return o.encodeFirstDimNotExtra[n];var s=o.encode[n];return s?s[a]:null},r.prototype.mapDimensionsAll=function(n){var a=this._dimSummary,o=a.encode[n];return(o||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(n,a,o){var s=this,l;if(n instanceof DataStore_default&&(l=n),!l){var u=this.dimensions,f=isSourceInstance(n)||isArrayLike2(n)?new DefaultDataProvider(n,u.length):n;l=new DataStore_default;var d=map4(u,function(v){return{type:s._dimInfos[v].type,property:v}});l.initData(f,d,o)}this._store=l,this._nameList=(a||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,l.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(n){var a=this._store.appendData(n);this._doInit(a[0],a[1])},r.prototype.appendValues=function(n,a){var o=this._store.appendValues(n,a.length),s=o.start,l=o.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),a)for(var f=s;f<l;f++){var d=f-s;this._nameList[f]=a[d],u&&makeIdFromName(this,f)}},r.prototype._updateOrdinalMeta=function(){for(var n=this._store,a=this.dimensions,o=0;o<a.length;o++){var s=this._dimInfos[a[o]];s.ordinalMeta&&n.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},r.prototype._doInit=function(n,a){if(!(n>=a)){var o=this._store,s=o.getProvider();this._updateOrdinalMeta();var l=this._nameList,u=this._idList,f=s.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!s.pure)for(var v=[],g=n;g<a;g++){var y=s.getItem(g,v);if(!this.hasItemOption&&isDataItemOption(y)&&(this.hasItemOption=!0),y){var b=y.name;l[g]==null&&b!=null&&(l[g]=convertOptionIdName(b,null));var _=y.id;u[g]==null&&_!=null&&(u[g]=convertOptionIdName(_,null))}}if(this._shouldMakeIdFromName())for(var g=n;g<a;g++)makeIdFromName(this,g);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.setApproximateExtent=function(n,a){a=this.getDimension(a),this._approximateExtent[a]=n.slice()},r.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},r.prototype.setCalculationInfo=function(n,a){isObject5(n)?extend2(this._calculationInfo,n):this._calculationInfo[n]=a},r.prototype.getName=function(n){var a=this.getRawIndex(n),o=this._nameList[a];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,a)),o==null&&(o=""),o},r.prototype._getCategory=function(n,a){var o=this._store.get(n,a),s=this._store.getOrdinalMeta(n);return s?s.categories[o]:o},r.prototype.getId=function(n){return getId2(this,this.getRawIndex(n))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(n,a){var o=this._store,s=this._dimInfos[n];if(s)return o.get(s.storeDimIndex,a)},r.prototype.getByRawIndex=function(n,a){var o=this._store,s=this._dimInfos[n];if(s)return o.getByRawIndex(s.storeDimIndex,a)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},r.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},r.prototype.getValues=function(n,a){var o=this,s=this._store;return isArray3(n)?s.getValues(map4(n,function(l){return o._getStoreDimIndex(l)}),a):s.getValues(n)},r.prototype.hasValue=function(n){for(var a=this._dimSummary.dataDimIndicesOnCoord,o=0,s=a.length;o<s;o++)if(isNaN(this._store.get(a[o],n)))return!1;return!0},r.prototype.indexOfName=function(n){for(var a=0,o=this._store.count();a<o;a++)if(this.getName(a)===n)return a;return-1},r.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},r.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},r.prototype.rawIndexOf=function(n,a){var o=n&&this._invertedIndicesMap[n];if(!o)throw new Error("Do not supported yet");var s=o[a];return s==null||isNaN(s)?INDEX_NOT_FOUND:s},r.prototype.indicesOfNearest=function(n,a,o){return this._store.indicesOfNearest(this._getStoreDimIndex(n),a,o)},r.prototype.each=function(n,a,o){"use strict";isFunction3(n)&&(o=a,a=n,n=[]);var s=o||this,l=map4(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(l,s?bind(a,s):a)},r.prototype.filterSelf=function(n,a,o){"use strict";isFunction3(n)&&(o=a,a=n,n=[]);var s=o||this,l=map4(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(l,s?bind(a,s):a),this},r.prototype.selectRange=function(n){"use strict";var a=this,o={},s=keys2(n),l=[];return each(s,function(u){var f=a._getStoreDimIndex(u);o[f]=n[u],l.push(f)}),this._store=this._store.selectRange(o),this},r.prototype.mapArray=function(n,a,o){"use strict";isFunction3(n)&&(o=a,a=n,n=[]),o=o||this;var s=[];return this.each(n,function(){s.push(a&&a.apply(this,arguments))},o),s},r.prototype.map=function(n,a,o,s){"use strict";var l=o||s||this,u=map4(normalizeDimensions(n),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(u,l?bind(a,l):a),f},r.prototype.modify=function(n,a,o,s){var l=this,u=o||s||this;each(normalizeDimensions(n),function(d){var v=l.getDimensionInfo(d);v.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var f=map4(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(f,u?bind(a,u):a)},r.prototype.downSample=function(n,a,o,s){var l=cloneListForMapAndSample(this);return l._store=this._store.downSample(this._getStoreDimIndex(n),a,o,s),l},r.prototype.lttbDownSample=function(n,a){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),a),o},r.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},r.prototype.getItemModel=function(n){var a=this.hostModel,o=this.getRawDataItem(n);return new Model_default(o,a,a&&a.ecModel)},r.prototype.diff=function(n){var a=this;return new DataDiffer_default(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId2(n,o)},function(o){return getId2(a,o)})},r.prototype.getVisual=function(n){var a=this._visual;return a&&a[n]},r.prototype.setVisual=function(n,a){this._visual=this._visual||{},isObject5(n)?extend2(this._visual,n):this._visual[n]=a},r.prototype.getItemVisual=function(n,a){var o=this._itemVisuals[n],s=o&&o[a];return s==null?this.getVisual(a):s},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(n,a){var o=this._itemVisuals,s=o[n];s||(s=o[n]={});var l=s[a];return l==null&&(l=this.getVisual(a),isArray3(l)?l=l.slice():isObject5(l)&&(l=extend2({},l)),s[a]=l),l},r.prototype.setItemVisual=function(n,a,o){var s=this._itemVisuals[n]||{};this._itemVisuals[n]=s,isObject5(a)?extend2(s,a):s[a]=o},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(n,a){isObject5(n)?extend2(this._layout,n):this._layout[n]=a},r.prototype.getLayout=function(n){return this._layout[n]},r.prototype.getItemLayout=function(n){return this._itemLayouts[n]},r.prototype.setItemLayout=function(n,a,o){this._itemLayouts[n]=o?extend2(this._itemLayouts[n]||{},a):a},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(n,a){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,n,a),this._graphicEls[n]=a},r.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},r.prototype.eachItemGraphicEl=function(n,a){each(this._graphicEls,function(o,s){o&&n&&n.call(a,o,s)})},r.prototype.cloneShallow=function(n){return n||(n=new r(this._schema?this._schema:map4(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},r.prototype.wrapMethod=function(n,a){var o=this[n];!isFunction3(o)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var s=o.apply(this,arguments);return a.apply(this,[s].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(n){var a=n._invertedIndicesMap;each(a,function(o,s){var l=n._dimInfos[s],u=l.ordinalMeta,f=n._store;if(u){o=a[s]=new CtorInt32Array2(u.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)o[f.get(l.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,a,o){return convertOptionIdName(n._getCategory(a,o),null)},getId2=function(n,a){var o=n._idList[a];return o==null&&n._idDimIdx!=null&&(o=getIdNameFromStore(n,n._idDimIdx,a)),o==null&&(o=ID_PREFIX+a),o},normalizeDimensions=function(n){return isArray3(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var a=new r(n._schema?n._schema:map4(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(a,n),a},transferProperties=function(n,a){each(TRANSFERABLE_PROPERTIES.concat(a.__wrappedMethods||[]),function(o){a.hasOwnProperty(o)&&(n[o]=a[o])}),n.__wrappedMethods=a.__wrappedMethods,each(CLONE_PROPERTIES,function(o){n[o]=clone(a[o])}),n._calculationInfo=extend2({},a._calculationInfo)},makeIdFromName=function(n,a){var o=n._nameList,s=n._idList,l=n._nameDimIdx,u=n._idDimIdx,f=o[a],d=s[a];if(f==null&&l!=null&&(o[a]=f=getIdNameFromStore(n,l,a)),d==null&&u!=null&&(s[a]=d=getIdNameFromStore(n,u,a)),d==null&&f!=null){var v=n._nameRepeatCount,g=v[f]=(v[f]||0)+1;d=f,g>1&&(d+="__ec__"+g),s[a]=d}}}(),r}(),SeriesData_default=SeriesData;function prepareSeriesDataSchema(r,n){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),n=n||{};var a=n.coordDimensions||[],o=n.dimensionsDefine||r.dimensionsDefine||[],s=createHashMap(),l=[],u=getDimCount(r,a,o,n.dimensionsCount),f=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(u),d=o===r.dimensionsDefine,v=d?ensureSourceDimNameMap(r):createDimNameMap(o),g=n.encodeDefine;!g&&n.encodeDefaulter&&(g=n.encodeDefaulter(r,u));for(var y=createHashMap(g),b=new CtorInt32Array(u),_=0;_<b.length;_++)b[_]=-1;function x(F){var I=b[F];if(I<0){var B=o[F],O=isObject3(B)?B:{name:B},R=new SeriesDimensionDefine_default,z=O.name;z!=null&&v.get(z)!=null&&(R.name=R.displayName=z),O.type!=null&&(R.type=O.type),O.displayName!=null&&(R.displayName=O.displayName);var N=l.length;return b[F]=N,R.storeDimIndex=F,l.push(R),R}return l[I]}if(!f)for(var _=0;_<u;_++)x(_);y.each(function(F,I){var B=normalizeToArray(F).slice();if(B.length===1&&!isString2(B[0])&&B[0]<0){y.set(I,!1);return}var O=y.set(I,[]);each(B,function(R,z){var N=isString2(R)?v.get(R):R;N!=null&&N<u&&(O[z]=N,C(x(N),I,z))})});var w=0;each(a,function(F){var I,B,O,R;if(isString2(F))I=F,R={};else{R=F,I=R.name;var z=R.ordinalMeta;R.ordinalMeta=null,R=extend2({},R),R.ordinalMeta=z,B=R.dimsDef,O=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var N=y.get(I);if(N!==!1){if(N=normalizeToArray(N),!N.length)for(var V=0;V<(B&&B.length||1);V++){for(;w<u&&x(w).coordDim!=null;)w++;w<u&&N.push(w++)}each(N,function(W,H){var $=x(W);if(d&&R.type!=null&&($.type=R.type),C(defaults($,R),I,H),$.name==null&&B){var Y=B[H];!isObject3(Y)&&(Y={name:Y}),$.name=$.displayName=Y.name,$.defaultTooltip=Y.defaultTooltip}O&&defaults($.otherDims,O)})}});function C(F,I,B){VISUAL_DIMENSIONS.get(I)!=null?F.otherDims[I]=B:(F.coordDim=I,F.coordDimIndex=B,s.set(I,!0))}var S=n.generateCoord,D=n.generateCoordCount,A=D!=null;D=S?D||1:0;var T=S||"value";function P(F){F.name==null&&(F.name=F.coordDim)}if(f)each(l,function(F){P(F)}),l.sort(function(F,I){return F.storeDimIndex-I.storeDimIndex});else for(var E=0;E<u;E++){var M=x(E),L=M.coordDim;L==null&&(M.coordDim=genCoordDimName(T,s,A),M.coordDimIndex=0,(!S||D<=0)&&(M.isExtraCoord=!0),D--),P(M),M.type==null&&(guessOrdinal(r,E)===BE_ORDINAL.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return removeDuplication(l),new SeriesDataSchema({source:r,dimensions:l,fullDimensionCount:u,dimensionOmitted:f})}function removeDuplication(r){for(var n=createHashMap(),a=0;a<r.length;a++){var o=r[a],s=o.name,l=n.get(s)||0;l>0&&(o.name=s+(l-1)),l++,n.set(s,l)}}function getDimCount(r,n,a,o){var s=Math.max(r.dimensionsDetectedCount||1,n.length,a.length,o||0);return each(n,function(l){var u;isObject3(l)&&(u=l.dimsDef)&&(s=Math.max(s,u.length))}),s}function genCoordDimName(r,n,a){var o=n.data;if(a||o.hasOwnProperty(r)){for(var s=0;o.hasOwnProperty(r+s);)s++;r+=s}return n.set(r,!0),r}var CoordSysInfo=function(){function r(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return r}();function getCoordSysInfoBySeries(r){var n=r.get("coordinateSystem"),a=new CoordSysInfo(n),o=fetchers[n];if(o)return o(r,a,a.axisMap,a.categoryAxisMap),a}var fetchers={cartesian2d:function(r,n,a,o){var s=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];if(!s)throw new Error('xAxis "'+retrieve(r.get("xAxisIndex"),r.get("xAxisId"),0)+'" not found');if(!l)throw new Error('yAxis "'+retrieve(r.get("xAxisIndex"),r.get("yAxisId"),0)+'" not found');n.coordSysDims=["x","y"],a.set("x",s),a.set("y",l),isCategory(s)&&(o.set("x",s),n.firstCategoryDimIndex=0),isCategory(l)&&(o.set("y",l),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(r,n,a,o){var s=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];if(!s)throw new Error("singleAxis should be specified.");n.coordSysDims=["single"],a.set("single",s),isCategory(s)&&(o.set("single",s),n.firstCategoryDimIndex=0)},polar:function(r,n,a,o){var s=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],l=s.findAxisModel("radiusAxis"),u=s.findAxisModel("angleAxis");if(!u)throw new Error("angleAxis option not found");if(!l)throw new Error("radiusAxis option not found");n.coordSysDims=["radius","angle"],a.set("radius",l),a.set("angle",u),isCategory(l)&&(o.set("radius",l),n.firstCategoryDimIndex=0),isCategory(u)&&(o.set("angle",u),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(r,n,a,o){n.coordSysDims=["lng","lat"]},parallel:function(r,n,a,o){var s=r.ecModel,l=s.getComponent("parallel",r.get("parallelIndex")),u=n.coordSysDims=l.dimensions.slice();each(l.parallelAxisIndex,function(f,d){var v=s.getComponent("parallelAxis",f),g=u[d];a.set(g,v),isCategory(v)&&(o.set(g,v),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=d))})}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,n,a){a=a||{};var o=a.byIndex,s=a.stackedCoordDimension,l,u,f;isLegacyDimensionsInput(n)?l=n:(u=n.schema,l=u.dimensions,f=n.store);var d=!!(r&&r.get("stack")),v,g,y,b;if(each(l,function(D,A){isString2(D)&&(l[A]=D={name:D}),d&&!D.isExtraCoord&&(!o&&!v&&D.ordinalMeta&&(v=D),!g&&D.type!=="ordinal"&&D.type!=="time"&&(!s||s===D.coordDim)&&(g=D))}),g&&!o&&!v&&(o=!0),g){y="__\0ecstackresult_"+r.id,b="__\0ecstackedover_"+r.id,v&&(v.createInvertedIndices=!0);var _=g.coordDim,x=g.type,w=0;each(l,function(D){D.coordDim===_&&w++});var C={name:y,coordDim:_,coordDimIndex:w,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length},S={name:b,coordDim:b,coordDimIndex:w+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length+1};u?(f&&(C.storeDimIndex=f.ensureCalculationDimension(b,x),S.storeDimIndex=f.ensureCalculationDimension(y,x)),u.appendCalculationDimension(C),u.appendCalculationDimension(S)):(l.push(C),l.push(S))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:o,stackedOverDimension:b,stackResultDimension:y}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,n){return!!n&&n===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,n){return isDimensionStacked(r,n)?r.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(r,n){var a=r.get("coordinateSystem"),o=CoordinateSystem_default.get(a),s;return n&&n.coordSysDims&&(s=map3(n.coordSysDims,function(l){var u={name:l},f=n.axisMap.get(l);if(f){var d=f.get("type");u.type=getDimensionTypeByAxis(d)}return u})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}function injectOrdinalMeta(r,n,a){var o,s;return a&&each(r,function(l,u){var f=l.coordDim,d=a.categoryAxisMap.get(f);d&&(o==null&&(o=u),l.ordinalMeta=d.getOrdinalMeta(),n&&(l.createInvertedIndices=!0)),l.otherDims.itemName!=null&&(s=!0)}),!s&&o!=null&&(r[o].otherDims.itemName=0),o}function createSeriesData(r,n,a){a=a||{};var o=n.getSourceManager(),s,l=!1;r?(l=!0,s=createSourceFromSeriesDataOption(r)):(s=o.getSource(),l=s.sourceFormat===SOURCE_FORMAT_ORIGINAL);var u=getCoordSysInfoBySeries(n),f=getCoordSysDimDefs(n,u),d=a.useEncodeDefaulter,v=isFunction3(d)?d:d?curry(makeSeriesEncodeForAxisCoordSys,f,n):null,g={coordDimensions:f,generateCoord:a.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!l},y=prepareSeriesDataSchema(s,g),b=injectOrdinalMeta(y.dimensions,a.createInvertedIndices,u),_=l?null:o.getSharedDataStore(y),x=enableDataStack(n,{schema:y,store:_}),w=new SeriesData_default(y,n);w.setCalculationInfo(x);var C=b!=null&&isNeedCompleteOrdinalData(s)?function(S,D,A,T){return T===b?A:this.defaultDimValueGetter(S,D,A,T)}:null;return w.hasItemOption=!1,w.initData(l?s:_,null,C),w}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(r.data||[]);return!isArray3(getDataItemValue(n))}}function firstDataNotNull(r){for(var n=0;n<r.length&&r[n]==null;)n++;return r[n]}var createSeriesData_default=createSeriesData,Scale=function(){function r(n){this._setting=n||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(n){return this._setting[n]},r.prototype.unionExtent=function(n){var a=this._extent;n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1])},r.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(n,a){var o=this._extent;isNaN(n)||(o[0]=n),isNaN(a)||(o[1]=a)},r.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(n){this._isBlank=n},r}();enableClassManagement(Scale);var Scale_default=Scale,uidBase=0,OrdinalMeta=function(){function r(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return r.createByAxisModel=function(n){var a=n.option,o=a.data,s=o&&map3(o,getName);return new r({categories:s,needCollect:!s,deduplication:a.dedplication!==!1})},r.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},r.prototype.parseAndCollect=function(n){var a,o=this._needCollect;if(!isString2(n)&&!o)return n;if(o&&!this._deduplication)return a=this.categories.length,this.categories[a]=n,a;var s=this._getOrCreateMap();return a=s.get(n),a==null&&(o?(a=this.categories.length,this.categories[a]=n,s.set(n,a)):a=NaN),a},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r}();function getName(r){return isObject3(r)&&r.value!=null?r.value:r+""}var OrdinalMeta_default=OrdinalMeta;function isValueNice(r){var n=Math.pow(10,quantityExponent(Math.abs(r))),a=Math.abs(r/n);return a===0||a===1||a===2||a===3||a===5}function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,n,a,o){var s={},l=r[1]-r[0],u=s.interval=nice(l/n,!0);a!=null&&u<a&&(u=s.interval=a),o!=null&&u>o&&(u=s.interval=o);var f=s.intervalPrecision=getIntervalPrecision(u),d=s.niceTickExtent=[round(Math.ceil(r[0]/u)*u,f),round(Math.floor(r[1]/u)*u,f)];return fixExtent(d,r),s}function increaseInterval(r){var n=Math.pow(10,quantityExponent(r)),a=r/n;return a?a===2?a=3:a===3?a=5:a*=2:a=1,round(a*n)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,n,a){r[n]=Math.max(Math.min(r[n],a[1]),a[0])}function fixExtent(r,n){!isFinite(r[0])&&(r[0]=n[0]),!isFinite(r[1])&&(r[1]=n[1]),clamp(r,0,n),clamp(r,1,n),r[0]>r[1]&&(r[0]=r[1])}function contain2(r,n){return r>=n[0]&&r<=n[1]}function normalize2(r,n){return n[1]===n[0]?.5:(r-n[0])/(n[1]-n[0])}function scale3(r,n){return r*(n[1]-n[0])+n[0]}var OrdinalScale=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new OrdinalMeta_default({})),isArray3(s)&&(s=new OrdinalMeta_default({categories:map3(s,function(l){return isObject3(l)?l.value:l})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return n.prototype.parse=function(a){return a==null?NaN:isString2(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},n.prototype.contain=function(a){return a=this.parse(a),contain2(a,this._extent)&&this._ordinalMeta.categories[a]!=null},n.prototype.normalize=function(a){return a=this._getTickNumber(this.parse(a)),normalize2(a,this._extent)},n.prototype.scale=function(a){return a=Math.round(scale3(a,this._extent)),this.getRawOrdinalNumber(a)},n.prototype.getTicks=function(){for(var a=[],o=this._extent,s=o[0];s<=o[1];)a.push({value:s}),s++;return a},n.prototype.getMinorTicks=function(a){},n.prototype.setSortInfo=function(a){if(a==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=a.ordinalNumbers,s=this._ordinalNumbersByTick=[],l=this._ticksByOrdinalNumber=[],u=0,f=this._ordinalMeta.categories.length,d=Math.min(f,o.length);u<d;++u){var v=o[u];s[u]=v,l[v]=u}for(var g=0;u<f;++u){for(;l[g]!=null;)g++;s.push(g),l[g]=u}},n.prototype._getTickNumber=function(a){var o=this._ticksByOrdinalNumber;return o&&a>=0&&a<o.length?o[a]:a},n.prototype.getRawOrdinalNumber=function(a){var o=this._ordinalNumbersByTick;return o&&a>=0&&a<o.length?o[a]:a},n.prototype.getLabel=function(a){if(!this.isBlank()){var o=this.getRawOrdinalNumber(a.value),s=this._ordinalMeta.categories[o];return s==null?"":s+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},n.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale_default);Scale_default.registerClass(OrdinalScale);var Ordinal_default=OrdinalScale,roundNumber=round,IntervalScale=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return n.prototype.parse=function(a){return a},n.prototype.contain=function(a){return contain2(a,this._extent)},n.prototype.normalize=function(a){return normalize2(a,this._extent)},n.prototype.scale=function(a){return scale3(a,this._extent)},n.prototype.setExtent=function(a,o){var s=this._extent;isNaN(a)||(s[0]=parseFloat(a)),isNaN(o)||(s[1]=parseFloat(o))},n.prototype.unionExtent=function(a){var o=this._extent;a[0]<o[0]&&(o[0]=a[0]),a[1]>o[1]&&(o[1]=a[1]),this.setExtent(o[0],o[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(a)},n.prototype.getTicks=function(a){var o=this._interval,s=this._extent,l=this._niceExtent,u=this._intervalPrecision,f=[];if(!o)return f;var d=1e4;s[0]<l[0]&&(a?f.push({value:roundNumber(l[0]-o,u)}):f.push({value:s[0]}));for(var v=l[0];v<=l[1]&&(f.push({value:v}),v=roundNumber(v+o,u),v!==f[f.length-1].value);)if(f.length>d)return[];var g=f.length?f[f.length-1].value:l[1];return s[1]>g&&(a?f.push({value:roundNumber(g+o,u)}):f.push({value:s[1]})),f},n.prototype.getMinorTicks=function(a){for(var o=this.getTicks(!0),s=[],l=this.getExtent(),u=1;u<o.length;u++){for(var f=o[u],d=o[u-1],v=0,g=[],y=f.value-d.value,b=y/a;v<a-1;){var _=roundNumber(d.value+(v+1)*b);_>l[0]&&_<l[1]&&g.push(_),v++}s.push(g)}return s},n.prototype.getLabel=function(a,o){if(a==null)return"";var s=o&&o.precision;s==null?s=getPrecision(a.value)||0:s==="auto"&&(s=this._intervalPrecision);var l=roundNumber(a.value,s,!0);return addCommas(l)},n.prototype.calcNiceTicks=function(a,o,s){a=a||5;var l=this._extent,u=l[1]-l[0];if(!!isFinite(u)){u<0&&(u=-u,l.reverse());var f=intervalScaleNiceTicks(l,a,o,s);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},n.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var s=o[0];a.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var u=this._interval;a.fixMin||(o[0]=roundNumber(Math.floor(o[0]/u)*u)),a.fixMax||(o[1]=roundNumber(Math.ceil(o[1]/u)*u))},n.prototype.setNiceExtent=function(a,o){this._niceExtent=[a,o]},n.type="interval",n}(Scale_default);Scale_default.registerClass(IntervalScale);var Interval_default=IntervalScale,supportFloat32Array=typeof Float32Array!="undefined",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray3(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey(r){return r.dim+r.index}function getLayoutOnAxis(r){var n=[],a=r.axis,o="axis0";if(a.type==="category"){for(var s=a.getBandWidth(),l=0;l<r.count;l++)n.push(defaults({bandWidth:s,axisKey:o,stackId:STACK_PREFIX+l},r));for(var u=doCalBarWidthAndOffset(n),f=[],l=0;l<r.count;l++){var d=u[o][STACK_PREFIX+l];d.offsetCenter=d.offset+d.width/2,f.push(d)}return f}}function prepareLayoutBarSeries(r,n){var a=[];return n.eachSeriesByType(r,function(o){isOnCartesian(o)&&a.push(o)}),a}function getValueAxesMinGaps(r){var n={};each(r,function(d){var v=d.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=d.getData(),b=g.dim+"_"+g.index,_=y.getDimensionIndex(y.mapDimension(g.dim)),x=y.getStore(),w=0,C=x.count();w<C;++w){var S=x.get(_,w);n[b]?n[b].push(S):n[b]=[S]}});var a={};for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s){s.sort(function(d,v){return d-v});for(var l=null,u=1;u<s.length;++u){var f=s[u]-s[u-1];f>0&&(l=l===null?f:Math.min(l,f))}a[o]=l}}return a}function makeColumnLayout(r){var n=getValueAxesMinGaps(r),a=[];return each(r,function(o){var s=o.coordinateSystem,l=s.getBaseAxis(),u=l.getExtent(),f;if(l.type==="category")f=l.getBandWidth();else if(l.type==="value"||l.type==="time"){var d=l.dim+"_"+l.index,v=n[d],g=Math.abs(u[1]-u[0]),y=l.scale.getExtent(),b=Math.abs(y[1]-y[0]);f=v?g/b*v:g}else{var _=o.getData();f=Math.abs(u[1]-u[0])/_.count()}var x=parsePercent2(o.get("barWidth"),f),w=parsePercent2(o.get("barMaxWidth"),f),C=parsePercent2(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),f),S=o.get("barGap"),D=o.get("barCategoryGap");a.push({bandWidth:f,barWidth:x,barMaxWidth:w,barMinWidth:C,barGap:S,barCategoryGap:D,axisKey:getAxisKey(l),stackId:getSeriesStackId(o)})}),doCalBarWidthAndOffset(a)}function doCalBarWidthAndOffset(r){var n={};each(r,function(o,s){var l=o.axisKey,u=o.bandWidth,f=n[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=f.stacks;n[l]=f;var v=o.stackId;d[v]||f.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=o.barWidth;g&&!d[v].width&&(d[v].width=g,g=Math.min(f.remainedWidth,g),f.remainedWidth-=g);var y=o.barMaxWidth;y&&(d[v].maxWidth=y);var b=o.barMinWidth;b&&(d[v].minWidth=b);var _=o.barGap;_!=null&&(f.gap=_);var x=o.barCategoryGap;x!=null&&(f.categoryGap=x)});var a={};return each(n,function(o,s){a[s]={};var l=o.stacks,u=o.bandWidth,f=o.categoryGap;if(f==null){var d=keys2(l).length;f=Math.max(35-d*4,15)+"%"}var v=parsePercent2(f,u),g=parsePercent2(o.gap,1),y=o.remainedWidth,b=o.autoWidthCount,_=(y-v)/(b+(b-1)*g);_=Math.max(_,0),each(l,function(S){var D=S.maxWidth,A=S.minWidth;if(S.width){var T=S.width;D&&(T=Math.min(T,D)),A&&(T=Math.max(T,A)),S.width=T,y-=T+g*T,b--}else{var T=_;D&&D<T&&(T=Math.min(D,y)),A&&A>T&&(T=A),T!==_&&(S.width=T,y-=T+g*T,b--)}}),_=(y-v)/(b+(b-1)*g),_=Math.max(_,0);var x=0,w;each(l,function(S,D){S.width||(S.width=_),w=S,x+=S.width*(1+g)}),w&&(x-=w.width*g);var C=-x/2;each(l,function(S,D){a[s][D]=a[s][D]||{bandWidth:u,offset:C,width:S.width},C+=S.width*(1+g)})}),a}function retrieveColumnLayout(r,n,a){if(r&&n){var o=r[getAxisKey(n)];return o!=null&&a!=null?o[getSeriesStackId(a)]:o}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}var bisect=function(r,n,a,o){for(;a<o;){var s=a+o>>>1;r[s][1]<n?a=s+1:o=s}return a},TimeScale=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="time",o}return n.prototype.getLabel=function(a){var o=this.getSetting("useUTC");return format2(a.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,o,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(a,o,s){var l=this.getSetting("useUTC"),u=this.getSetting("locale");return leveledFormat(a,o,s,u,l)},n.prototype.getTicks=function(){var a=this._interval,o=this._extent,s=[];if(!a)return s;s.push({value:o[0],level:0});var l=this.getSetting("useUTC"),u=getIntervalTicks(this._minLevelUnit,this._approxInterval,l,o);return s=s.concat(u),s.push({value:o[1],level:0}),s},n.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1]&&(o[0]-=ONE_DAY,o[1]+=ONE_DAY),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-ONE_DAY}this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},n.prototype.calcNiceTicks=function(a,o,s){a=a||10;var l=this._extent,u=l[1]-l[0];this._approxInterval=u/a,o!=null&&this._approxInterval<o&&(this._approxInterval=o),s!=null&&this._approxInterval>s&&(this._approxInterval=s);var f=scaleIntervals.length,d=Math.min(bisect(scaleIntervals,this._approxInterval,0,f),f-1);this._interval=scaleIntervals[d][1],this._minLevelUnit=scaleIntervals[Math.max(d-1,0)][0]},n.prototype.parse=function(a){return isNumber(a)?a:+parseDate(a)},n.prototype.contain=function(a){return contain2(this.parse(a),this._extent)},n.prototype.normalize=function(a){return normalize2(this.parse(a),this._extent)},n.prototype.scale=function(a){return scale3(a,this._extent)},n.type="time",n}(Interval_default),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(r,n,a,o){var s=parseDate(n),l=parseDate(a),u=function(x){return getUnitValue(s,x,o)===getUnitValue(l,x,o)},f=function(){return u("year")},d=function(){return f()&&u("month")},v=function(){return d()&&u("day")},g=function(){return v()&&u("hour")},y=function(){return g()&&u("minute")},b=function(){return y()&&u("second")},_=function(){return b()&&u("millisecond")};switch(r){case"year":return f();case"month":return d();case"day":return v();case"hour":return g();case"minute":return y();case"second":return b();case"millisecond":return _()}}function getDateInterval(r,n){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var n=30*ONE_DAY;return r/=n,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,n){return r/=n?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r,!0)}function getFirstTimestampOfUnit(r,n,a){var o=new Date(r);switch(getPrimaryTimeUnit(n)){case"year":case"month":o[monthSetterName(a)](0);case"day":o[dateSetterName(a)](1);case"hour":o[hoursSetterName(a)](0);case"minute":o[minutesSetterName(a)](0);case"second":o[secondsSetterName(a)](0),o[millisecondsSetterName(a)](0)}return o.getTime()}function getIntervalTicks(r,n,a,o){var s=1e4,l=timeUnits,u=0;function f(I,B,O,R,z,N,V){for(var W=new Date(B),H=B,$=W[R]();H<O&&H<=o[1];)V.push({value:H}),$+=I,W[z]($),H=W.getTime();V.push({value:H,notAdd:!0})}function d(I,B,O){var R=[],z=!B.length;if(!isUnitValueSame(getPrimaryTimeUnit(I),o[0],o[1],a)){z&&(B=[{value:getFirstTimestampOfUnit(new Date(o[0]),I,a)},{value:o[1]}]);for(var N=0;N<B.length-1;N++){var V=B[N].value,W=B[N+1].value;if(V!==W){var H=void 0,$=void 0,Y=void 0,ae=!1;switch(I){case"year":H=Math.max(1,Math.round(n/ONE_DAY/365)),$=fullYearGetterName(a),Y=fullYearSetterName(a);break;case"half-year":case"quarter":case"month":H=getMonthInterval(n),$=monthGetterName(a),Y=monthSetterName(a);break;case"week":case"half-week":case"day":H=getDateInterval(n,31),$=dateGetterName(a),Y=dateSetterName(a),ae=!0;break;case"half-day":case"quarter-day":case"hour":H=getHourInterval(n),$=hoursGetterName(a),Y=hoursSetterName(a);break;case"minute":H=getMinutesAndSecondsInterval(n,!0),$=minutesGetterName(a),Y=minutesSetterName(a);break;case"second":H=getMinutesAndSecondsInterval(n,!1),$=secondsGetterName(a),Y=secondsSetterName(a);break;case"millisecond":H=getMillisecondsInterval(n),$=millisecondsGetterName(a),Y=millisecondsSetterName(a);break}f(H,V,W,$,Y,ae,R),I==="year"&&O.length>1&&N===0&&O.unshift({value:O[0].value-H})}}for(var N=0;N<R.length;N++)O.push(R[N]);return R}}for(var v=[],g=[],y=0,b=0,_=0;_<l.length&&u++<s;++_){var x=getPrimaryTimeUnit(l[_]);if(!!isPrimaryTimeUnit(l[_])){d(l[_],v[v.length-1]||[],g);var w=l[_+1]?getPrimaryTimeUnit(l[_+1]):null;if(x!==w){if(g.length){b=y,g.sort(function(I,B){return I.value-B.value});for(var C=[],S=0;S<g.length;++S){var D=g[S].value;(S===0||g[S-1].value!==D)&&(C.push(g[S]),D>=o[0]&&D<=o[1]&&y++)}var A=(o[1]-o[0])/n;if(y>A*1.5&&b>A/1.5||(v.push(C),y>A||r===l[_]))break}g=[]}}}u>=s&&warn6("Exceed safe limit.");for(var T=filter(map3(v,function(I){return filter(I,function(B){return B.value>=o[0]&&B.value<=o[1]&&!B.notAdd})}),function(I){return I.length>0}),P=[],E=T.length-1,_=0;_<T.length;++_)for(var M=T[_],L=0;L<M.length;++L)P.push({value:M[L].value,level:E-_});P.sort(function(I,B){return I.value-B.value});for(var F=[],_=0;_<P.length;++_)(_===0||P[_].value!==P[_-1].value)&&F.push(P[_]);return F}Scale_default.registerClass(TimeScale);var Time_default=TimeScale,scaleProto=Scale_default.prototype,intervalScaleProto=Interval_default.prototype,roundingErrorFix=round,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow2=Math.pow,mathLog=Math.log,LogScale=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new Interval_default,a._interval=0,a}return n.prototype.getTicks=function(a){var o=this._originalScale,s=this._extent,l=o.getExtent(),u=intervalScaleProto.getTicks.call(this,a);return map3(u,function(f){var d=f.value,v=round(mathPow2(this.base,d));return v=d===s[0]&&this._fixMin?fixRoundingError(v,l[0]):v,v=d===s[1]&&this._fixMax?fixRoundingError(v,l[1]):v,{value:v}},this)},n.prototype.setExtent=function(a,o){var s=this.base;a=mathLog(a)/mathLog(s),o=mathLog(o)/mathLog(s),intervalScaleProto.setExtent.call(this,a,o)},n.prototype.getExtent=function(){var a=this.base,o=scaleProto.getExtent.call(this);o[0]=mathPow2(a,o[0]),o[1]=mathPow2(a,o[1]);var s=this._originalScale,l=s.getExtent();return this._fixMin&&(o[0]=fixRoundingError(o[0],l[0])),this._fixMax&&(o[1]=fixRoundingError(o[1],l[1])),o},n.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var o=this.base;a[0]=mathLog(a[0])/mathLog(o),a[1]=mathLog(a[1])/mathLog(o),scaleProto.unionExtent.call(this,a)},n.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},n.prototype.calcNiceTicks=function(a){a=a||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var l=quantity(s),u=a/s*l;for(u<=.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;)l*=10;var f=[round(mathCeil(o[0]/l)*l),round(mathFloor(o[1]/l)*l)];this._interval=l,this._niceExtent=f}},n.prototype.calcNiceExtent=function(a){intervalScaleProto.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},n.prototype.parse=function(a){return a},n.prototype.contain=function(a){return a=mathLog(a)/mathLog(this.base),contain2(a,this._extent)},n.prototype.normalize=function(a){return a=mathLog(a)/mathLog(this.base),normalize2(a,this._extent)},n.prototype.scale=function(a){return a=scale3(a,this._extent),mathPow2(this.base,a)},n.type="log",n}(Scale_default),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(r,n){return roundingErrorFix(r,getPrecision(n))}Scale_default.registerClass(LogScale);var Log_default=LogScale,ScaleRawExtentInfo=function(){function r(n,a,o){this._prepareParams(n,a,o)}return r.prototype._prepareParams=function(n,a,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&a.getNeedCrossZero&&a.getNeedCrossZero();var l=this._modelMinRaw=a.get("min",!0);isFunction3(l)?this._modelMinNum=parseAxisModelMinMax(n,l({min:o[0],max:o[1]})):l!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,l));var u=this._modelMaxRaw=a.get("max",!0);if(isFunction3(u)?this._modelMaxNum=parseAxisModelMinMax(n,u({min:o[0],max:o[1]})):u!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,u)),s)this._axisDataLen=a.getCategories().length;else{var f=a.get("boundaryGap"),d=isArray3(f)?f:[f||0,f||0];typeof d[0]=="boolean"||typeof d[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[parsePercent(d[0],1),parsePercent(d[1],1)]}},r.prototype.calculate=function(){var n=this._isOrdinal,a=this._dataMin,o=this._dataMax,s=this._axisDataLen,l=this._boundaryGapInner,u=n?null:o-a||Math.abs(a),f=this._modelMinRaw==="dataMin"?a:this._modelMinNum,d=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,v=f!=null,g=d!=null;f==null&&(f=n?s?0:NaN:a-l[0]*u),d==null&&(d=n?s?s-1:NaN:o+l[1]*u),(f==null||!isFinite(f))&&(f=NaN),(d==null||!isFinite(d))&&(d=NaN);var y=eqNaN(f)||eqNaN(d)||n&&!s;this._needCrossZero&&(f>0&&d>0&&!v&&(f=0),f<0&&d<0&&!g&&(d=0));var b=this._determinedMin,_=this._determinedMax;return b!=null&&(f=b,v=!0),_!=null&&(d=_,g=!0),{min:f,max:d,minFixed:v,maxFixed:g,isBlank:y}},r.prototype.modifyDataMinMax=function(n,a){assert(!this.frozen),this[DATA_MIN_MAX_ATTR[n]]=a},r.prototype.setDeterminedMinMax=function(n,a){var o=DETERMINED_MIN_MAX_ATTR[n];assert(!this.frozen&&this[o]==null),this[o]=a},r.prototype.freeze=function(){this.frozen=!0},r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,n,a){var o=r.rawExtentInfo;return o||(o=new ScaleRawExtentInfo(r,n,a),r.rawExtentInfo=o,o)}function parseAxisModelMinMax(r,n){return n==null?null:eqNaN(n)?NaN:r.parse(n)}function getScaleExtent(r,n){var a=r.type,o=ensureScaleRawExtentInfo(r,n,r.getExtent()).calculate();r.setBlank(o.isBlank);var s=o.min,l=o.max,u=n.ecModel;if(u&&a==="time"){var f=prepareLayoutBarSeries("bar",u),d=!1;if(each(f,function(y){d=d||y.getBaseAxis()===n.axis}),d){var v=makeColumnLayout(f),g=adjustScaleForOverflow(s,l,n,v);s=g.min,l=g.max}}return{extent:[s,l],fixMin:o.minFixed,fixMax:o.maxFixed}}function adjustScaleForOverflow(r,n,a,o){var s=a.axis.getExtent(),l=s[1]-s[0],u=retrieveColumnLayout(o,a.axis);if(u===void 0)return{min:r,max:n};var f=1/0;each(u,function(_){f=Math.min(_.offset,f)});var d=-1/0;each(u,function(_){d=Math.max(_.offset+_.width,d)}),f=Math.abs(f),d=Math.abs(d);var v=f+d,g=n-r,y=1-(f+d)/l,b=g/y-g;return n+=b*(d/v),r-=b*(f/v),{min:r,max:n}}function niceScaleExtent(r,n){var a=n,o=getScaleExtent(r,a),s=o.extent,l=a.get("splitNumber");r instanceof Log_default&&(r.base=a.get("logBase"));var u=r.type,f=a.get("interval"),d=u==="interval"||u==="time";r.setExtent(s[0],s[1]),r.calcNiceExtent({splitNumber:l,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:d?a.get("minInterval"):null,maxInterval:d?a.get("maxInterval"):null}),f!=null&&r.setInterval&&r.setInterval(f)}function createScaleByModel(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new Ordinal_default({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new Time_default({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale_default.getClass(n)||Interval_default)}}function ifAxisCrossZero(r){var n=r.scale.getExtent(),a=n[0],o=n[1];return!(a>0&&o>0||a<0&&o<0)}function makeLabelFormatter(r){var n=r.getLabelModel().get("formatter"),a=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(o){return function(s,l){return r.scale.getFormattedLabel(s,l,o)}}(n):isString2(n)?function(o){return function(s){var l=r.scale.getLabel(s),u=o.replace("{value}",l!=null?l:"");return u}}(n):isFunction3(n)?function(o){return function(s,l){return a!=null&&(l=s.value-a),o(getAxisRawValue(r,s),l,s.level!=null?{level:s.level}:null)}}(n):function(o){return r.scale.getLabel(o)}}function getAxisRawValue(r,n){return r.type==="category"?r.scale.getLabel(n):n.value}function estimateLabelUnionRect(r){var n=r.model,a=r.scale;if(!(!n.get(["axisLabel","show"])||a.isBlank())){var o,s,l=a.getExtent();a instanceof Ordinal_default?s=a.count():(o=a.getTicks(),s=o.length);var u=r.getLabelModel(),f=makeLabelFormatter(r),d,v=1;s>40&&(v=Math.ceil(s/40));for(var g=0;g<s;g+=v){var y=o?o[g]:{value:l[0]+g},b=f(y,g),_=u.getTextRect(b),x=rotateTextRect(_,u.get("rotate")||0);d?d.union(x):d=x}return d}}function rotateTextRect(r,n){var a=n*Math.PI/180,o=r.width,s=r.height,l=o*Math.abs(Math.cos(a))+Math.abs(s*Math.sin(a)),u=o*Math.abs(Math.sin(a))+Math.abs(s*Math.cos(a)),f=new BoundingRect_default(r.x,r.y,l,u);return f}function getOptionCategoryInterval(r){var n=r.get("interval");return n==null?"auto":n}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,n){var a={};return each(r.mapDimensionsAll(n),function(o){a[getStackedDimension(r,o)]=!0}),keys2(a)}function unionAxisExtentFromData(r,n,a){n&&each(getDataDimensionsOnAxis(n,a),function(o){var s=n.getApproximateExtent(o);s[0]<r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])})}var AxisModelCommonMixin=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},r.prototype.getCoordSysModel=function(){},r}(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:Component_default,ComponentView:Component_default2,SeriesModel:Series_default,ChartView:Chart_default,registerComponentModel:function(r){Component_default.registerClass(r)},registerComponentView:function(r){Component_default2.registerClass(r)},registerSeriesModel:function(r){Series_default.registerClass(r)},registerChartView:function(r){Chart_default.registerClass(r)},registerSubTypeDefaulter:function(r,n){Component_default.registerSubTypeDefaulter(r,n)},registerPainter:function(r,n){registerPainter(r,n)}};function use(r){if(isArray3(r)){each(r,function(n){use(n)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction3(r)&&(r={install:r}),r.install(extensionRegisters))}var EPSILON4=1e-8;function isAroundEqual2(r,n){return Math.abs(r-n)<EPSILON4}function contain3(r,n,a){var o=0,s=r[0];if(!s)return!1;for(var l=1;l<r.length;l++){var u=r[l];o+=windingLine(s[0],s[1],u[0],u[1],n,a),s=u}var f=r[0];return(!isAroundEqual2(s[0],f[0])||!isAroundEqual2(s[1],f[1]))&&(o+=windingLine(s[0],s[1],f[0],f[1],n,a)),o!==0}var TMP_TRANSFORM=[];function transformPoints(r,n){for(var a=0;a<r.length;a++)applyTransform(r[a],r[a],n)}function updateBBoxFromPoints(r,n,a,o){for(var s=0;s<r.length;s++){var l=r[s];o&&(l=o.project(l)),l&&isFinite(l[0])&&isFinite(l[1])&&(min(n,n,l),max(a,a,l))}}function centroid(r){for(var n=0,a=0,o=0,s=r.length,l=r[s-1][0],u=r[s-1][1],f=0;f<s;f++){var d=r[f][0],v=r[f][1],g=l*v-d*u;n+=g,a+=(l+d)*g,o+=(u+v)*g,l=d,u=v}return n?[a/n/3,o/n/3,n]:[r[0][0]||0,r[0][1]||0]}var Region=function(){function r(n){this.name=n}return r.prototype.setCenter=function(n){this._center=n},r.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},r}(),GeoJSONPolygonGeometry=function(){function r(n,a){this.type="polygon",this.exterior=n,this.interiors=a}return r}(),GeoJSONLineStringGeometry=function(){function r(n){this.type="linestring",this.points=n}return r}(),GeoJSONRegion=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a)||this;return l.type="geoJSON",l.geometries=o,l._center=s&&[s[0],s[1]],l}return n.prototype.calcCenter=function(){for(var a=this.geometries,o,s=0,l=0;l<a.length;l++){var u=a[l],f=u.exterior,d=f&&f.length;d>s&&(o=u,s=d)}if(o)return centroid(o.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},n.prototype.getBoundingRect=function(a){var o=this._rect;if(o&&!a)return o;var s=[1/0,1/0],l=[-1/0,-1/0],u=this.geometries;return each(u,function(f){f.type==="polygon"?updateBBoxFromPoints(f.exterior,s,l,a):each(f.points,function(d){updateBBoxFromPoints(d,s,l,a)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])||(s[0]=s[1]=l[0]=l[1]=0),o=new BoundingRect_default(s[0],s[1],l[0]-s[0],l[1]-s[1]),a||(this._rect=o),o},n.prototype.contain=function(a){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(a[0],a[1]))return!1;e:for(var l=0,u=s.length;l<u;l++){var f=s[l];if(f.type==="polygon"){var d=f.exterior,v=f.interiors;if(contain3(d,a[0],a[1])){for(var g=0;g<(v?v.length:0);g++)if(contain3(v[g],a[0],a[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(a,o,s,l){var u=this.getBoundingRect(),f=u.width/u.height;s?l||(l=s/f):s=f*l;for(var d=new BoundingRect_default(a,o,s,l),v=u.calculateTransform(d),g=this.geometries,y=0;y<g.length;y++){var b=g[y];b.type==="polygon"?(transformPoints(b.exterior,v),each(b.interiors,function(_){transformPoints(_,v)})):each(b.points,function(_){transformPoints(_,v)})}u=this._rect,u.copy(d),this._center=[u.x+u.width/2,u.y+u.height/2]},n.prototype.cloneShallow=function(a){a==null&&(a=this.name);var o=new n(a,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},n}(Region),GeoSVGRegion=function(r){__extends(n,r);function n(a,o){var s=r.call(this,a)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return n.prototype.calcCenter=function(){for(var a=this._elOnlyForCalculate,o=a.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],l=identity2(TMP_TRANSFORM),u=a;u&&!u.isGeoSVGGraphicRoot;)mul(l,u.getLocalTransform(),l),u=u.parent;return invert(l,l),applyTransform(s,s,l),s},n}(Region);function decode(r){if(!r.UTF8Encoding)return r;var n=r,a=n.UTF8Scale;a==null&&(a=1024);var o=n.features;return each(o,function(s){var l=s.geometry,u=l.encodeOffsets,f=l.coordinates;if(!!u)switch(l.type){case"LineString":l.coordinates=decodeRing(f,u,a);break;case"Polygon":decodeRings(f,u,a);break;case"MultiLineString":decodeRings(f,u,a);break;case"MultiPolygon":each(f,function(d,v){return decodeRings(d,u[v],a)})}}),n.UTF8Encoding=!1,n}function decodeRings(r,n,a){for(var o=0;o<r.length;o++)r[o]=decodeRing(r[o],n[o],a)}function decodeRing(r,n,a){for(var o=[],s=n[0],l=n[1],u=0;u<r.length;u+=2){var f=r.charCodeAt(u)-64,d=r.charCodeAt(u+1)-64;f=f>>1^-(f&1),d=d>>1^-(d&1),f+=s,d+=l,s=f,l=d,o.push([f/a,d/a])}return o}function parseGeoJSON(r,n){return r=decode(r),map3(filter(r.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var o=a.properties,s=a.geometry,l=[];switch(s.type){case"Polygon":var u=s.coordinates;l.push(new GeoJSONPolygonGeometry(u[0],u.slice(1)));break;case"MultiPolygon":each(s.coordinates,function(d){d[0]&&l.push(new GeoJSONPolygonGeometry(d[0],d.slice(1)))});break;case"LineString":l.push(new GeoJSONLineStringGeometry([s.coordinates]));break;case"MultiLineString":l.push(new GeoJSONLineStringGeometry(s.coordinates))}var f=new GeoJSONRegion(o[n||"name"],l,o.cp);return f.properties=o,f})}var inner6=makeInner();function createAxisLabels(r){return r.type==="category"?makeCategoryLabels(r):makeRealNumberLabels(r)}function createAxisTicks(r,n){return r.type==="category"?makeCategoryTicks(r,n):{ticks:map3(r.scale.getTicks(),function(a){return a.value})}}function makeCategoryLabels(r){var n=r.getLabelModel(),a=makeCategoryLabelsActually(r,n);return!n.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function makeCategoryLabelsActually(r,n){var a=getListCache(r,"labels"),o=getOptionCategoryInterval(n),s=listCacheGet2(a,o);if(s)return s;var l,u;return isFunction3(o)?l=makeLabelsByCustomizedCategoryInterval(r,o):(u=o==="auto"?makeAutoCategoryInterval(r):o,l=makeLabelsByNumericCategoryInterval(r,u)),listCacheSet2(a,o,{labels:l,labelCategoryInterval:u})}function makeCategoryTicks(r,n){var a=getListCache(r,"ticks"),o=getOptionCategoryInterval(n),s=listCacheGet2(a,o);if(s)return s;var l,u;if((!n.get("show")||r.scale.isBlank())&&(l=[]),isFunction3(o))l=makeLabelsByCustomizedCategoryInterval(r,o,!0);else if(o==="auto"){var f=makeCategoryLabelsActually(r,r.getLabelModel());u=f.labelCategoryInterval,l=map3(f.labels,function(d){return d.tickValue})}else u=o,l=makeLabelsByNumericCategoryInterval(r,u,!0);return listCacheSet2(a,o,{ticks:l,tickCategoryInterval:u})}function makeRealNumberLabels(r){var n=r.scale.getTicks(),a=makeLabelFormatter(r);return{labels:map3(n,function(o,s){return{level:o.level,formattedLabel:a(o,s),rawLabel:r.scale.getLabel(o),tickValue:o.value}})}}function getListCache(r,n){return inner6(r)[n]||(inner6(r)[n]=[])}function listCacheGet2(r,n){for(var a=0;a<r.length;a++)if(r[a].key===n)return r[a].value}function listCacheSet2(r,n,a){return r.push({key:n,value:a}),a}function makeAutoCategoryInterval(r){var n=inner6(r).autoInterval;return n!=null?n:inner6(r).autoInterval=r.calculateCategoryInterval()}function calculateCategoryInterval(r){var n=fetchAutoCategoryIntervalCalculationParams(r),a=makeLabelFormatter(r),o=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var f=1;u>40&&(f=Math.max(1,Math.floor(u/40)));for(var d=l[0],v=r.dataToCoord(d+1)-r.dataToCoord(d),g=Math.abs(v*Math.cos(o)),y=Math.abs(v*Math.sin(o)),b=0,_=0;d<=l[1];d+=f){var x=0,w=0,C=getBoundingRect(a({value:d}),n.font,"center","top");x=C.width*1.3,w=C.height*1.3,b=Math.max(b,x,7),_=Math.max(_,w,7)}var S=b/g,D=_/y;isNaN(S)&&(S=1/0),isNaN(D)&&(D=1/0);var A=Math.max(0,Math.floor(Math.min(S,D))),T=inner6(r.model),P=r.getExtent(),E=T.lastAutoInterval,M=T.lastTickCount;return E!=null&&M!=null&&Math.abs(E-A)<=1&&Math.abs(M-u)<=1&&E>A&&T.axisExtent0===P[0]&&T.axisExtent1===P[1]?A=E:(T.lastTickCount=u,T.lastAutoInterval=A,T.axisExtent0=P[0],T.axisExtent1=P[1]),A}function fetchAutoCategoryIntervalCalculationParams(r){var n=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(r,n,a){var o=makeLabelFormatter(r),s=r.scale,l=s.getExtent(),u=r.getLabelModel(),f=[],d=Math.max((n||0)+1,1),v=l[0],g=s.count();v!==0&&d>1&&g/d>2&&(v=Math.round(Math.ceil(v/d)*d));var y=shouldShowAllLabels(r),b=u.get("showMinLabel")||y,_=u.get("showMaxLabel")||y;b&&v!==l[0]&&w(l[0]);for(var x=v;x<=l[1];x+=d)w(x);_&&x-d!==l[1]&&w(l[1]);function w(C){var S={value:C};f.push(a?C:{formattedLabel:o(S),rawLabel:s.getLabel(S),tickValue:C})}return f}function makeLabelsByCustomizedCategoryInterval(r,n,a){var o=r.scale,s=makeLabelFormatter(r),l=[];return each(o.getTicks(),function(u){var f=o.getLabel(u),d=u.value;n(u.value,f)&&l.push(a?d:{formattedLabel:s(u),rawLabel:f,tickValue:d})}),l}var NORMALIZED_EXTENT=[0,1],Axis=function(){function r(n,a,o){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=a,this._extent=o||[0,0]}return r.prototype.contain=function(n){var a=this._extent,o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return n>=o&&n<=s},r.prototype.containData=function(n){return this.scale.contain(n)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(n,a){var o=this._extent;o[0]=n,o[1]=a},r.prototype.dataToCoord=function(n,a){var o=this._extent,s=this.scale;return n=s.normalize(n),this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count())),linearMap(n,NORMALIZED_EXTENT,o,a)},r.prototype.coordToData=function(n,a){var o=this._extent,s=this.scale;this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count()));var l=linearMap(n,o,NORMALIZED_EXTENT,a);return this.scale.scale(l)},r.prototype.pointToData=function(n,a){},r.prototype.getTicksCoords=function(n){n=n||{};var a=n.tickModel||this.getTickModel(),o=createAxisTicks(this,a),s=o.ticks,l=map3(s,function(f){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this),u=a.get("alignWithLabel");return fixOnBandTicksCoords(this,l,u,n.clamp),l},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),a=n.get("splitNumber");a>0&&a<100||(a=5);var o=this.scale.getMinorTicks(a),s=map3(o,function(l){return map3(l,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this);return s},r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var n=this._extent,a=this.scale.getExtent(),o=a[1]-a[0]+(this.onBand?1:0);o===0&&(o=1);var s=Math.abs(n[1]-n[0]);return Math.abs(s)/o},r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},r}();function fixExtentWithBands(r,n){var a=r[1]-r[0],o=n,s=a/o/2;r[0]+=s,r[1]-=s}function fixOnBandTicksCoords(r,n,a,o){var s=n.length;if(!r.onBand||a||!s)return;var l=r.getExtent(),u,f;if(s===1)n[0].coord=l[0],u=n[1]={coord:l[0]};else{var d=n[s-1].tickValue-n[0].tickValue,v=(n[s-1].coord-n[0].coord)/d;each(n,function(_){_.coord-=v/2});var g=r.scale.getExtent();f=1+g[1]-n[s-1].tickValue,u={coord:n[s-1].coord+v*f},n.push(u)}var y=l[0]>l[1];b(n[0].coord,l[0])&&(o?n[0].coord=l[0]:n.shift()),o&&b(l[0],n[0].coord)&&n.unshift({coord:l[0]}),b(l[1],u.coord)&&(o?u.coord=l[1]:n.pop()),o&&b(u.coord,l[1])&&n.push({coord:l[1]});function b(_,x){return _=round(_),x=round(x),y?_>x:_<x}}var Axis_default=Axis,PI27=Math.PI*2,CMD4=PathProxy_default.CMD;function projectPointToLine(r,n,a,o,s,l,u,f){var d=s-r,v=l-n,g=a-r,y=o-n,b=Math.sqrt(g*g+y*y);g/=b,y/=b;var _=d*g+v*y,x=_/b;f&&(x=Math.min(Math.max(x,0),1)),x*=b;var w=u[0]=r+x*g,C=u[1]=n+x*y;return Math.sqrt((w-s)*(w-s)+(C-l)*(C-l))}var pt0=new Point_default,pt1=new Point_default,pt2=new Point_default,dir=new Point_default,dir2=new Point_default,tmpArr=[],tmpProjPoint=new Point_default;function limitTurnAngle(r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point_default.sub(dir,pt0,pt1),Point_default.sub(dir2,pt2,pt1);var a=dir.len(),o=dir2.len();if(!(a<.001||o<.001)){dir.scale(1/a),dir2.scale(1/o);var s=dir.dot(dir2),l=Math.cos(n);if(l<s){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI-n));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point_default.copy(tmpProjPoint,pt1):f>1&&Point_default.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,n,a){if(a<=180&&a>0){a=a/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point_default.sub(dir,pt1,pt0),Point_default.sub(dir2,pt2,pt1);var o=dir.len(),s=dir2.len();if(!(o<.001||s<.001)){dir.scale(1/o),dir2.scale(1/s);var l=dir.dot(n),u=Math.cos(a);if(l<u){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,v=Math.acos(dir2.dot(n)),g=d+v-a;if(g>=d)Point_default.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-g));var y=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(y))return;y<0?Point_default.copy(tmpProjPoint,pt1):y>1&&Point_default.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,n,a,o){var s=a==="normal",l=s?r:r.ensureState(a);l.ignore=n;var u=o.get("smooth");u&&u===!0&&(u=.3),l.shape=l.shape||{},u>0&&(l.shape.smooth=u);var f=o.getModel("lineStyle").getLineStyle();s?r.useStyle(f):l.style=f}function buildLabelLinePath(r,n){var a=n.smooth,o=n.points;if(!!o)if(r.moveTo(o[0][0],o[0][1]),a>0&&o.length>=3){var s=dist(o[0],o[1]),l=dist(o[1],o[2]);if(!s||!l){r.lineTo(o[1][0],o[1][1]),r.lineTo(o[2][0],o[2][1]);return}var u=Math.min(s,l)*a,f=lerp([],o[1],o[0],u/s),d=lerp([],o[1],o[2],u/l),v=lerp([],f,d,.5);r.bezierCurveTo(f[0],f[1],f[0],f[1],v[0],v[1]),r.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var g=1;g<o.length;g++)r.lineTo(o[g][0],o[g][1])}function setLabelLineStyle(r,n,a){var o=r.getTextGuideLine(),s=r.getTextContent();if(!s){o&&r.removeTextGuideLine();return}for(var l=n.normal,u=l.get("show"),f=s.ignore,d=0;d<DISPLAY_STATES.length;d++){var v=DISPLAY_STATES[d],g=n[v],y=v==="normal";if(g){var b=g.get("show"),_=y?f:retrieve2(s.states[v]&&s.states[v].ignore,f);if(_||!retrieve2(b,u)){var x=y?o:o&&o.states[v];x&&(x.ignore=!0);continue}o||(o=new Polyline_default,r.setTextGuideLine(o),!y&&(f||!u)&&setLabelLineState(o,!0,"normal",n.normal),r.stateProxy&&(o.stateProxy=r.stateProxy)),setLabelLineState(o,!1,v,g)}}if(o){defaults(o.style,a),o.style.fill=null;var w=l.get("showAbove"),C=r.textGuideLineConfig=r.textGuideLineConfig||{};C.showAbove=w||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,n){n=n||"labelLine";for(var a={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=r.getModel([s,n])}return a}function prepareLayoutList(r){for(var n=[],a=0;a<r.length;a++){var o=r[a];if(!o.defaultAttr.ignore){var s=o.label,l=s.getComputedTransform(),u=s.getBoundingRect(),f=!l||l[1]<1e-5&&l[2]<1e-5,d=s.style.margin||0,v=u.clone();v.applyTransform(l),v.x-=d/2,v.y-=d/2,v.width+=d,v.height+=d;var g=f?new OrientedBoundingRect_default(u,l):null;n.push({label:s,labelLine:o.labelLine,rect:v,localRect:u,obb:g,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:l})}}return n}function shiftLayout(r,n,a,o,s,l){var u=r.length;if(u<2)return;r.sort(function(F,I){return F.rect[n]-I.rect[n]});for(var f=0,d,v=!1,g=[],y=0,b=0;b<u;b++){var _=r[b],x=_.rect;d=x[n]-f,d<0&&(x[n]-=d,_.label[n]-=d,v=!0);var w=Math.max(-d,0);g.push(w),y+=w,f=x[n]+x[a]}y>0&&l&&E(-y/u,0,u);var C=r[0],S=r[u-1],D,A;T(),D<0&&M(-D,.8),A<0&&M(A,.8),T(),P(D,A,1),P(A,D,-1),T(),D<0&&L(-D),A<0&&L(A);function T(){D=C.rect[n]-o,A=s-S.rect[n]-S.rect[a]}function P(F,I,B){if(F<0){var O=Math.min(I,-F);if(O>0){E(O*B,0,u);var R=O+F;R<0&&M(-R*B,1)}else M(-F*B,1)}}function E(F,I,B){F!==0&&(v=!0);for(var O=I;O<B;O++){var R=r[O],z=R.rect;z[n]+=F,R.label[n]+=F}}function M(F,I){for(var B=[],O=0,R=1;R<u;R++){var z=r[R-1].rect,N=Math.max(r[R].rect[n]-z[n]-z[a],0);B.push(N),O+=N}if(!!O){var V=Math.min(Math.abs(F)/O,I);if(F>0)for(var R=0;R<u-1;R++){var W=B[R]*V;E(W,0,R+1)}else for(var R=u-1;R>0;R--){var W=B[R-1]*V;E(-W,R,u)}}}function L(F){var I=F<0?-1:1;F=Math.abs(F);for(var B=Math.ceil(F/(u-1)),O=0;O<u-1;O++)if(I>0?E(B,0,O+1):E(-B,u-O-1,u),F-=B,F<=0)return}return v}function shiftLayoutOnY(r,n,a,o){return shiftLayout(r,"y","height",n,a,o)}function hideOverlap(r){var n=[];r.sort(function(w,C){return C.priority-w.priority});var a=new BoundingRect_default(0,0,0,0);function o(w){if(!w.ignore){var C=w.ensureState("emphasis");C.ignore==null&&(C.ignore=!1)}w.ignore=!0}for(var s=0;s<r.length;s++){var l=r[s],u=l.axisAligned,f=l.localRect,d=l.transform,v=l.label,g=l.labelLine;a.copy(l.rect),a.width-=.1,a.height-=.1,a.x+=.05,a.y+=.05;for(var y=l.obb,b=!1,_=0;_<n.length;_++){var x=n[_];if(!!a.intersect(x.rect)){if(u&&x.axisAligned){b=!0;break}if(x.obb||(x.obb=new OrientedBoundingRect_default(x.localRect,x.transform)),y||(y=new OrientedBoundingRect_default(f,d)),y.intersect(x.obb)){b=!0;break}}}b?(o(v),g&&o(g)):(v.attr("ignore",l.defaultAttr.ignore),g&&g.attr("ignore",l.defaultAttr.labelGuideIgnore),n.push(l))}}var GridModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(Component_default),GridModel_default=GridModel,CartesianAxisModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(Component_default);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge3({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=merge3({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption),timeAxis=merge3({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis),axisDefault_default={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(r,n,a,o){each(AXIS_TYPES,function(s,l){var u=merge3(merge3({},axisDefault_default[l],!0),o,!0),f=function(d){__extends(v,d);function v(){var g=d!==null&&d.apply(this,arguments)||this;return g.type=n+"Axis."+l,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var b=fetchLayoutMode(this),_=b?getLayoutParams(g):{},x=y.getTheme();merge3(g,x.get(l+"Axis")),merge3(g,this.getDefaultOption()),g.type=getAxisType(g),b&&mergeLayoutParam(g,_,b)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=OrdinalMeta_default.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.type=n+"Axis."+l,v.defaultOption=u,v}(a);r.registerComponentModel(f)}),r.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=function(){function r(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return r.prototype.getAxis=function(n){return this._axes[n]},r.prototype.getAxes=function(){return map3(this._dimList,function(n){return this._axes[n]},this)},r.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(a){return a.scale.type===n})},r.prototype.addAxis=function(n){var a=n.dim;this._axes[a]=n,this._dimList.push(a)},r}(),Cartesian_default=Cartesian,cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return r.type==="interval"||r.type==="time"}var Cartesian2D=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=cartesian2DDimensions,a}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(a)||!canCalculateAffineTransform(o))){var s=a.getExtent(),l=o.getExtent(),u=this.dataToPoint([s[0],l[0]]),f=this.dataToPoint([s[1],l[1]]),d=s[1]-s[0],v=l[1]-l[0];if(!(!d||!v)){var g=(f[0]-u[0])/d,y=(f[1]-u[1])/v,b=u[0]-s[0]*g,_=u[1]-l[0]*y,x=this._transform=[g,0,0,y,b,_];this._invTransform=invert([],x)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(a){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(a[0]))&&s.contain(s.toLocalCoord(a[1]))},n.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},n.prototype.dataToPoint=function(a,o,s){s=s||[];var l=a[0],u=a[1];if(this._transform&&l!=null&&isFinite(l)&&u!=null&&isFinite(u))return applyTransform(s,a,this._transform);var f=this.getAxis("x"),d=this.getAxis("y");return s[0]=f.toGlobalCoord(f.dataToCoord(l,o)),s[1]=d.toGlobalCoord(d.dataToCoord(u,o)),s},n.prototype.clampData=function(a,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,u=s.getExtent(),f=l.getExtent(),d=s.parse(a[0]),v=l.parse(a[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(u[0],u[1]),d),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(f[0],f[1]),v),Math.max(f[0],f[1])),o},n.prototype.pointToData=function(a,o){var s=[];if(this._invTransform)return applyTransform(s,a,this._invTransform);var l=this.getAxis("x"),u=this.getAxis("y");return s[0]=l.coordToData(l.toLocalCoord(a[0]),o),s[1]=u.coordToData(u.toLocalCoord(a[1]),o),s},n.prototype.getOtherAxis=function(a){return this.getAxis(a.dim==="x"?"y":"x")},n.prototype.getArea=function(){var a=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),s=Math.min(a[0],a[1]),l=Math.min(o[0],o[1]),u=Math.max(a[0],a[1])-s,f=Math.max(o[0],o[1])-l;return new BoundingRect_default(s,l,u,f)},n}(Cartesian_default),Cartesian2D_default=Cartesian2D,Axis2D=function(r){__extends(n,r);function n(a,o,s,l,u){var f=r.call(this,a,o,s)||this;return f.index=0,f.type=l||"value",f.position=u||"bottom",f}return n.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},n.prototype.getGlobalExtent=function(a){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),a&&o[0]>o[1]&&o.reverse(),o},n.prototype.pointToData=function(a,o){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),o)},n.prototype.setCategorySortInfo=function(a){if(this.type!=="category")return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},n}(Axis_default),Axis2D_default=Axis2D;function layout2(r,n,a){a=a||{};var o=r.coordinateSystem,s=n.axis,l={},u=s.getAxesOnZeroOf()[0],f=s.position,d=u?"onZero":f,v=s.dim,g=o.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],b={left:0,right:1,top:0,bottom:1,onZero:2},_=n.get("offset")||0,x=v==="x"?[y[2]-_,y[3]+_]:[y[0]-_,y[1]+_];if(u){var w=u.toGlobalCoord(u.dataToCoord(0));x[b.onZero]=Math.max(Math.min(w,x[1]),x[0])}l.position=[v==="y"?x[b[d]]:y[0],v==="x"?x[b[d]]:y[3]],l.rotation=Math.PI/2*(v==="x"?0:1);var C={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=C[f],l.labelOffset=u?x[b[f]]-x[b.onZero]:0,n.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(a.labelInside,n.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var S=n.get(["axisLabel","rotate"]);return l.labelRotate=d==="top"?-S:S,l.z2=1,l}function isCartesian2DSeries(r){return r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(r){var n={xAxisModel:null,yAxisModel:null};return each(n,function(a,o){var s=o.replace(/Model$/,""),l=r.getReferringComponents(s,SINGLE_REFERRING).models[0];if(!l)throw new Error(s+' "'+retrieve3(r.get(s+"Index"),r.get(s+"Id"),0)+'" not found');n[o]=l}),n}var mathLog2=Math.log;function alignScaleTicks(r,n,a){var o=Interval_default.prototype,s=o.getTicks.call(a),l=o.getTicks.call(a,!0),u=s.length-1,f=o.getInterval.call(a),d=getScaleExtent(r,n),v=d.extent,g=d.fixMin,y=d.fixMax;if(r.type==="log"){var b=mathLog2(r.base);v=[mathLog2(v[0])/b,mathLog2(v[1])/b]}r.setExtent(v[0],v[1]),r.calcNiceExtent({splitNumber:u,fixMin:g,fixMax:y});var _=o.getExtent.call(r);g&&(v[0]=_[0]),y&&(v[1]=_[1]);var x=o.getInterval.call(r),w=v[0],C=v[1];if(g&&y)x=(C-w)/u;else if(g)for(C=v[0]+x*u;C<v[1]&&isFinite(C)&&isFinite(v[1]);)x=increaseInterval(x),C=v[0]+x*u;else if(y)for(w=v[1]-x*u;w>v[0]&&isFinite(w)&&isFinite(v[0]);)x=increaseInterval(x),w=v[1]-x*u;else{var S=r.getTicks().length-1;S>u&&(x=increaseInterval(x));var D=x*u;C=Math.ceil(v[1]/x)*x,w=round(C-D),w<0&&v[0]>=0?(w=0,C=round(D)):C>0&&v[1]<=0&&(C=0,w=-round(D))}var A=(s[0].value-l[0].value)/f,T=(s[u].value-l[u].value)/f;o.setExtent.call(r,w+x*A,C+x*T),o.setInterval.call(r,x),(A||T)&&o.setNiceExtent.call(r,w+x,C-x);var P=o.getTicks.call(r);P[1]&&(!isValueNice(x)||getPrecisionSafe(P[1].value)>getPrecisionSafe(x))&&warn6("The ticks may be not readable when set min: "+n.get("min")+", max: "+n.get("max")+" and alignTicks: true")}var Grid=function(){function r(n,a,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,a,o),this.model=n}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(n,a){var o=this._axesMap;this._updateScale(n,this.model);function s(u){var f,d=keys2(u),v=d.length;if(!!v){for(var g=[],y=v-1;y>=0;y--){var b=+d[y],_=u[b],x=_.model,w=_.scale;isIntervalOrLogScale(w)&&x.get("alignTicks")&&x.get("interval")==null?g.push(_):(niceScaleExtent(w,x),isIntervalOrLogScale(w)&&(f=_))}g.length&&(f||(f=g.pop(),niceScaleExtent(f.scale,f.model)),each(g,function(C){alignScaleTicks(C.scale,C.model,f.scale)}))}}s(o.x),s(o.y);var l={};each(o.x,function(u){fixAxisOnZero(o,"y",u,l)}),each(o.y,function(u){fixAxisOnZero(o,"x",u,l)}),this.resize(this.model,a)},r.prototype.resize=function(n,a,o){var s=n.getBoxLayoutParams(),l=!o&&n.get("containLabel"),u=getLayoutRect(s,{width:a.getWidth(),height:a.getHeight()});this._rect=u;var f=this._axesList;d(),l&&(each(f,function(v){if(!v.model.get(["axisLabel","inside"])){var g=estimateLabelUnionRect(v);if(g){var y=v.isHorizontal()?"height":"width",b=v.model.get(["axisLabel","margin"]);u[y]-=g[y]+b,v.position==="top"?u.y+=g.height+b:v.position==="left"&&(u.x+=g.width+b)}}}),d()),each(this._coordsList,function(v){v.calcAffineTransform()});function d(){each(f,function(v){var g=v.isHorizontal(),y=g?[0,u.width]:[0,u.height],b=v.inverse?1:0;v.setExtent(y[b],y[1-b]),updateAxisTransform(v,g?u.x:u.y)})}},r.prototype.getAxis=function(n,a){var o=this._axesMap[n];if(o!=null)return o[a||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(n,a){if(n!=null&&a!=null){var o="x"+n+"y"+a;return this._coordsMap[o]}isObject3(n)&&(a=n.yAxisIndex,n=n.xAxisIndex);for(var s=0,l=this._coordsList;s<l.length;s++)if(l[s].getAxis("x").index===n||l[s].getAxis("y").index===a)return l[s]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(n,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},r.prototype.convertFromPixel=function(n,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},r.prototype._findConvertTarget=function(n){var a=n.seriesModel,o=n.xAxisModel||a&&a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=n.yAxisModel||a&&a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],l=n.gridModel,u=this._coordsList,f,d;if(a)f=a.coordinateSystem,indexOf(u,f)<0&&(f=null);else if(o&&s)f=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)d=this.getAxis("x",o.componentIndex);else if(s)d=this.getAxis("y",s.componentIndex);else if(l){var v=l.coordinateSystem;v===this&&(f=this._coordsList[0])}return{cartesian:f,axis:d}},r.prototype.containPoint=function(n){var a=this._coordsList[0];if(a)return a.containPoint(n)},r.prototype._initCartesian=function(n,a,o){var s=this,l=this,u={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},d={x:0,y:0};if(a.eachComponent("xAxis",v("x"),this),a.eachComponent("yAxis",v("y"),this),!d.x||!d.y){this._axesMap={},this._axesList=[];return}this._axesMap=f,each(f.x,function(g,y){each(f.y,function(b,_){var x="x"+y+"y"+_,w=new Cartesian2D_default(x);w.master=s,w.model=n,s._coordsMap[x]=w,s._coordsList.push(w),w.addAxis(g),w.addAxis(b)})});function v(g){return function(y,b){if(!!isAxisUsedInTheGrid(y,n)){var _=y.get("position");g==="x"?_!=="top"&&_!=="bottom"&&(_=u.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=u.left?"right":"left"),u[_]=!0;var x=new Axis2D_default(g,createScaleByModel(y),[0,0],y.get("type"),_),w=x.type==="category";x.onBand=w&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.grid=l,x.index=b,l._axesList.push(x),f[g][b]=x,d[g]++}}}},r.prototype._updateScale=function(n,a){each(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),s.type==="category"){var l=s.model.get("categorySortInfo");s.scale.setSortInfo(l)}}),n.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,f=l.yAxisModel;if(!isAxisUsedInTheGrid(u,a)||!isAxisUsedInTheGrid(f,a))return;var d=this.getCartesian(u.componentIndex,f.componentIndex),v=s.getData(),g=d.getAxis("x"),y=d.getAxis("y");o(v,g),o(v,y)}},this);function o(s,l){each(getDataDimensionsOnAxis(s,l.dim),function(u){l.scale.unionExtentFromData(s,u)})}},r.prototype.getTooltipAxes=function(n){var a=[],o=[];return each(this.getCartesians(),function(s){var l=n!=null&&n!=="auto"?s.getAxis(n):s.getBaseAxis(),u=s.getOtherAxis(l);indexOf(a,l)<0&&a.push(l),indexOf(o,u)<0&&o.push(u)}),{baseAxes:a,otherAxes:o}},r.create=function(n,a){var o=[];return n.eachComponent("grid",function(s,l){var u=new r(s,n,a);u.name="grid_"+l,u.resize(s,a,!0),s.coordinateSystem=u,o.push(u)}),n.eachSeries(function(s){if(!!isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,f=l.yAxisModel,d=u.getCoordSysModel();if(!d)throw new Error('Grid "'+retrieve3(u.get("gridIndex"),u.get("gridId"),0)+'" not found');if(u.getCoordSysModel()!==f.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");var v=d.coordinateSystem;s.coordinateSystem=v.getCartesian(u.componentIndex,f.componentIndex)}}),o},r.dimensions=cartesian2DDimensions,r}();function isAxisUsedInTheGrid(r,n){return r.getCoordSysModel()===n}function fixAxisOnZero(r,n,a,o){a.getAxesOnZeroOf=function(){return l?[l]:[]};var s=r[n],l,u=a.model,f=u.get(["axisLine","onZero"]),d=u.get(["axisLine","onZeroAxisIndex"]);if(!f)return;if(d!=null)canOnZeroToAxis(s[d])&&(l=s[d]);else for(var v in s)if(s.hasOwnProperty(v)&&canOnZeroToAxis(s[v])&&!o[g(s[v])]){l=s[v];break}l&&(o[g(l)]=!0);function g(y){return y.dim+"_"+y.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,n){var a=r.getExtent(),o=a[0]+a[1];r.toGlobalCoord=r.dim==="x"?function(s){return s+n}:function(s){return o-s+n},r.toLocalCoord=r.dim==="x"?function(s){return s-n}:function(s){return o-s+n}}var Grid_default=Grid,PI6=Math.PI,AxisBuilder=function(){function r(n,a){this.group=new Group_default,this.opt=a,this.axisModel=n,defaults(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group_default({x:a.position[0],y:a.position[1],rotation:a.rotation});o.updateTransform(),this._transformGroup=o}return r.prototype.hasBuilder=function(n){return!!builders[n]},r.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(n,a,o){var s=remRadian(a-n),l,u;return isRadianAroundZero(s)?(u=o>0?"top":"bottom",l="center"):isRadianAroundZero(s-PI6)?(u=o>0?"bottom":"top",l="center"):(u="middle",s>0&&s<PI6?l=o>0?"right":"left":l=o>0?"left":"right"),{rotation:s,textAlign:l,textVerticalAlign:u}},r.makeAxisEventDataBase=function(n){var a={componentType:n.mainType,componentIndex:n.componentIndex};return a[n.mainType+"Index"]=n.componentIndex,a},r.isLabelSilent=function(n){var a=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||a&&a.show)},r}(),builders={axisLine:function(r,n,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisLine")),!!s){var l=n.axis.getExtent(),u=o.transform,f=[l[0],0],d=[l[1],0];u&&(applyTransform(f,f,u),applyTransform(d,d,u));var v=extend2({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line_default({subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:v,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});g.anid="line",a.add(g);var y=n.get(["axisLine","symbol"]);if(y!=null){var b=n.get(["axisLine","symbolSize"]);isString2(y)&&(y=[y,y]),(isString2(b)||isNumber(b))&&(b=[b,b]);var _=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,b),x=b[0],w=b[1];each([{rotate:r.rotation+Math.PI/2,offset:_[0],r:0},{rotate:r.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(C,S){if(y[S]!=="none"&&y[S]!=null){var D=createSymbol(y[S],-x/2,-w/2,x,w,v.stroke,!0),A=C.r+C.offset;D.attr({rotation:C.rotate,x:f[0]+A*Math.cos(r.rotation),y:f[1]-A*Math.sin(r.rotation),silent:!0,z2:11}),a.add(D)}})}}},axisTickLabel:function(r,n,a,o){var s=buildAxisMajorTicks(a,o,n,r),l=buildAxisLabel(a,o,n,r);if(fixMinMaxLabelShow(n,l,s),buildAxisMinorTicks(a,o,n,r.tickDirection),n.get(["axisLabel","hideOverlap"])){var u=prepareLayoutList(map3(l,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(u)}},axisName:function(r,n,a,o){var s=retrieve(r.axisName,n.get("name"));if(!!s){var l=n.get("nameLocation"),u=r.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,v=n.axis.getExtent(),g=v[0]>v[1]?-1:1,y=[l==="start"?v[0]-g*d:l==="end"?v[1]+g*d:(v[0]+v[1])/2,isNameLocationCenter(l)?r.labelOffset+u*d:0],b,_=n.get("nameRotate");_!=null&&(_=_*PI6/180);var x;isNameLocationCenter(l)?b=AxisBuilder.innerTextLayout(r.rotation,_!=null?_:r.rotation,u):(b=endTextLayout(r.rotation,l,_||0,v),x=r.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(b.rotation)),!isFinite(x)&&(x=null)));var w=f.getFont(),C=n.get("nameTruncate",!0)||{},S=C.ellipsis,D=retrieve(r.nameTruncateMaxWidth,C.maxWidth,x),A=new Text_default({x:y[0],y:y[1],rotation:b.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(f,{text:s,font:w,overflow:"truncate",width:D,ellipsis:S,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||b.textAlign,verticalAlign:f.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(setTooltipConfig({el:A,componentModel:n,itemName:s}),A.__fullText=s,A.anid="name",n.get("triggerEvent")){var T=AxisBuilder.makeAxisEventDataBase(n);T.targetType="axisName",T.name=s,getECData(A).eventData=T}o.add(A),A.updateTransform(),a.add(A),A.decomposeTransform()}}};function endTextLayout(r,n,a,o){var s=remRadian(a-r),l,u,f=o[0]>o[1],d=n==="start"&&!f||n!=="start"&&f;return isRadianAroundZero(s-PI6/2)?(u=d?"bottom":"top",l="center"):isRadianAroundZero(s-PI6*1.5)?(u=d?"top":"bottom",l="center"):(u="middle",s<PI6*1.5&&s>PI6/2?l=d?"left":"right":l=d?"right":"left"),{rotation:s,textAlign:l,textVerticalAlign:u}}function fixMinMaxLabelShow(r,n,a){if(!shouldShowAllLabels(r.axis)){var o=r.get(["axisLabel","showMinLabel"]),s=r.get(["axisLabel","showMaxLabel"]);n=n||[],a=a||[];var l=n[0],u=n[1],f=n[n.length-1],d=n[n.length-2],v=a[0],g=a[1],y=a[a.length-1],b=a[a.length-2];o===!1?(ignoreEl(l),ignoreEl(v)):isTwoLabelOverlapped(l,u)&&(o?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(v))),s===!1?(ignoreEl(f),ignoreEl(y)):isTwoLabelOverlapped(d,f)&&(s?(ignoreEl(d),ignoreEl(b)):(ignoreEl(f),ignoreEl(y)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,n){var a=r&&r.getBoundingRect().clone(),o=n&&n.getBoundingRect().clone();if(!(!a||!o)){var s=identity2([]);return rotate(s,s,-r.rotation),a.applyTransform(mul([],s,r.getLocalTransform())),o.applyTransform(mul([],s,n.getLocalTransform())),a.intersect(o)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,n,a,o,s){for(var l=[],u=[],f=[],d=0;d<r.length;d++){var v=r[d].coord;u[0]=v,u[1]=0,f[0]=v,f[1]=a,n&&(applyTransform(u,u,n),applyTransform(f,f,n));var g=new Line_default({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});g.anid=s+"_"+r[d].tickValue,l.push(g)}return l}function buildAxisMajorTicks(r,n,a,o){var s=a.axis,l=a.getModel("axisTick"),u=l.get("show");if(u==="auto"&&o.handleAutoShown&&(u=o.handleAutoShown("axisTick")),!(!u||s.scale.isBlank())){for(var f=l.getModel("lineStyle"),d=o.tickDirection*l.get("length"),v=s.getTicksCoords(),g=createTicks(v,n.transform,d,defaults(f.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)r.add(g[y]);return g}}function buildAxisMinorTicks(r,n,a,o){var s=a.axis,l=a.getModel("minorTick");if(!(!l.get("show")||s.scale.isBlank())){var u=s.getMinorTicksCoords();if(!!u.length)for(var f=l.getModel("lineStyle"),d=o*l.get("length"),v=defaults(f.getLineStyle(),defaults(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),g=0;g<u.length;g++)for(var y=createTicks(u[g],n.transform,d,v,"minorticks_"+g),b=0;b<y.length;b++)r.add(y[b])}}function buildAxisLabel(r,n,a,o){var s=a.axis,l=retrieve(o.axisLabelShow,a.get(["axisLabel","show"]));if(!(!l||s.scale.isBlank())){var u=a.getModel("axisLabel"),f=u.get("margin"),d=s.getViewLabels(),v=(retrieve(o.labelRotate,u.get("rotate"))||0)*PI6/180,g=AxisBuilder.innerTextLayout(o.rotation,v,o.labelDirection),y=a.getCategories&&a.getCategories(!0),b=[],_=AxisBuilder.isLabelSilent(a),x=a.get("triggerEvent");return each(d,function(w,C){var S=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(w.tickValue):w.tickValue,D=w.formattedLabel,A=w.rawLabel,T=u;if(y&&y[S]){var P=y[S];isObject3(P)&&P.textStyle&&(T=new Model_default(P.textStyle,u,a.ecModel))}var E=T.getTextColor()||a.get(["axisLine","lineStyle","color"]),M=s.dataToCoord(S),L=new Text_default({x:M,y:o.labelOffset+o.labelDirection*f,rotation:g.rotation,silent:_,z2:10+(w.level||0),style:createTextStyle(T,{text:D,align:T.getShallow("align",!0)||g.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||g.textVerticalAlign,fill:isFunction3(E)?E(s.type==="category"?A:s.type==="value"?S+"":S,C):E})});if(L.anid="label_"+S,x){var F=AxisBuilder.makeAxisEventDataBase(a);F.targetType="axisLabel",F.value=A,F.tickIndex=C,s.type==="category"&&(F.dataIndex=S),getECData(L).eventData=F}n.add(L),L.updateTransform(),b.push(L),r.add(L),L.decomposeTransform()}),b}}var AxisBuilder_default=AxisBuilder;function collect(r,n){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(a,r,n),a.seriesInvolved&&collectSeriesInfo(a,r),a}function collectAxesInfo(r,n,a){var o=n.getComponent("tooltip"),s=n.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[];each(a.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),v=r.coordSysAxesInfo[d]={};r.coordSysMap[d]=f;var g=f.model,y=g.getModel("tooltip",o);if(each(f.getAxes(),curry(w,!1,null)),f.getTooltipAxes&&o&&y.get("show")){var b=y.get("trigger")==="axis",_=y.get(["axisPointer","type"])==="cross",x=f.getTooltipAxes(y.get(["axisPointer","axis"]));(b||_)&&each(x.baseAxes,curry(w,_?"cross":!0,b)),_&&each(x.otherAxes,curry(w,"cross",!1))}function w(C,S,D){var A=D.model.getModel("axisPointer",s),T=A.get("show");if(!(!T||T==="auto"&&!C&&!isHandleTrigger(A))){S==null&&(S=A.get("triggerTooltip")),A=C?makeAxisPointerModel(D,y,s,n,C,S):A;var P=A.get("snap"),E=makeKey(D.model),M=S||P||D.type==="category",L=r.axesInfo[E]={key:E,axis:D,coordSys:f,axisPointerModel:A,triggerTooltip:S,involveSeries:M,snap:P,useHandle:isHandleTrigger(A),seriesModels:[],linkGroup:null};v[E]=L,r.seriesInvolved=r.seriesInvolved||M;var F=getLinkGroupIndex(l,D);if(F!=null){var I=u[F]||(u[F]={axesInfo:{}});I.axesInfo[E]=L,I.mapper=l[F].mapper,L.linkGroup=I}}}})}function makeAxisPointerModel(r,n,a,o,s,l){var u=n.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each(f,function(b){d[b]=clone(u.get(b))}),d.snap=r.type!=="category"&&!!l,u.get("type")==="cross"&&(d.type="line");var v=d.label||(d.label={});if(v.show==null&&(v.show=!1),s==="cross"){var g=u.get(["label","show"]);if(v.show=g!=null?g:!0,!l){var y=d.lineStyle=u.get("crossStyle");y&&defaults(v,y.textStyle)}}return r.model.getModel("axisPointer",new Model_default(d,a,o))}function collectSeriesInfo(r,n){n.eachSeries(function(a){var o=a.coordinateSystem,s=a.get(["tooltip","trigger"],!0),l=a.get(["tooltip","show"],!0);!o||s==="none"||s===!1||s==="item"||l===!1||a.get(["axisPointer","show"],!0)===!1||each(r.coordSysAxesInfo[makeKey(o.model)],function(u){var f=u.axis;o.getAxis(f.dim)===f&&(u.seriesModels.push(a),u.seriesDataCount==null&&(u.seriesDataCount=0),u.seriesDataCount+=a.getData().count())})})}function getLinkGroupIndex(r,n){for(var a=n.model,o=n.dim,s=0;s<r.length;s++){var l=r[s]||{};if(checkPropInLink(l[o+"AxisId"],a.id)||checkPropInLink(l[o+"AxisIndex"],a.componentIndex)||checkPropInLink(l[o+"AxisName"],a.name))return s}}function checkPropInLink(r,n){return r==="all"||isArray3(r)&&indexOf(r,n)>=0||r===n}function fixValue(r){var n=getAxisInfo(r);if(!!n){var a=n.axisPointerModel,o=n.axis.scale,s=a.option,l=a.get("status"),u=a.get("value");u!=null&&(u=o.parse(u));var f=isHandleTrigger(a);l==null&&(s.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(u==null||u>d[1])&&(u=d[1]),u<d[0]&&(u=d[0]),s.value=u,f&&(s.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(r){var n=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var n=getAxisInfo(r);return n&&n.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this.axisPointerClass&&fixValue(a),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,s,!0)},n.prototype.updateAxisPointer=function(a,o,s,l){this._doUpdateAxisPointerClass(a,s,!1)},n.prototype.remove=function(a,o){var s=this._axisPointer;s&&s.remove(o)},n.prototype.dispose=function(a,o){this._disposeAxisPointer(o),r.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(a,o,s){var l=n.getAxisPointerClass(this.axisPointerClass);if(!!l){var u=getAxisPointerModel(a);u?(this._axisPointer||(this._axisPointer=new l)).render(a,u,o,s):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},n.registerAxisPointerClass=function(a,o){if(axisPointerClazz[a])throw new Error("axisPointer "+a+" exists");axisPointerClazz[a]=o},n.getAxisPointerClass=function(a){return a&&axisPointerClazz[a]},n.type="axis",n}(Component_default2),AxisView_default=AxisView,inner7=makeInner();function rectCoordAxisBuildSplitArea(r,n,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitArea"),u=l.getModel("areaStyle"),f=u.get("color"),d=o.coordinateSystem.getRect(),v=s.getTicksCoords({tickModel:l,clamp:!0});if(!!v.length){var g=f.length,y=inner7(r).splitAreaColors,b=createHashMap(),_=0;if(y)for(var x=0;x<v.length;x++){var w=y.get(v[x].tickValue);if(w!=null){_=(w+(g-1)*x)%g;break}}var C=s.toGlobalCoord(v[0].coord),S=u.getAreaStyle();f=isArray3(f)?f:[f];for(var x=1;x<v.length;x++){var D=s.toGlobalCoord(v[x].coord),A=void 0,T=void 0,P=void 0,E=void 0;s.isHorizontal()?(A=C,T=d.y,P=D-A,E=d.height,C=A+P):(A=d.x,T=C,P=d.width,E=D-T,C=T+E);var M=v[x-1].tickValue;M!=null&&b.set(M,_),n.add(new Rect_default({anid:M!=null?"area_"+M:null,shape:{x:A,y:T,width:P,height:E},style:defaults({fill:f[_]},S),autoBatch:!0,silent:!0})),_=(_+1)%g}inner7(r).splitAreaColors=b}}}function rectCoordAxisHandleRemove(r){inner7(r).splitAreaColors=null}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="CartesianAxisPointer",a}return n.prototype.render=function(a,o,s,l){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),!!a.get("show")){var f=a.getCoordSysModel(),d=layout2(f,a),v=new AxisBuilder_default(a,extend2({handleAutoShown:function(y){for(var b=f.coordinateSystem.getCartesians(),_=0;_<b.length;_++)if(isIntervalOrLogScale(b[_].getOtherAxis(a.axis).scale))return!0;return!1}},d));each(axisBuilderAttrs,v.add,v),this._axisGroup.add(v.getGroup()),each(selfBuilderAttrs,function(y){a.get([y,"show"])&&axisElementBuilders[y](this,this._axisGroup,a,f)},this);var g=l&&l.type==="changeAxisOrder"&&l.isInitSort;g||groupTransition(u,this._axisGroup,a),r.prototype.render.call(this,a,o,s,l)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView_default),axisElementBuilders={splitLine:function(r,n,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color");f=isArray3(f)?f:[f];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=0,y=s.getTicksCoords({tickModel:l}),b=[],_=[],x=u.getLineStyle(),w=0;w<y.length;w++){var C=s.toGlobalCoord(y[w].coord);v?(b[0]=C,b[1]=d.y,_[0]=C,_[1]=d.y+d.height):(b[0]=d.x,b[1]=C,_[0]=d.x+d.width,_[1]=C);var S=g++%f.length,D=y[w].tickValue;n.add(new Line_default({anid:D!=null?"line_"+y[w].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:_[0],y2:_[1]},style:defaults({stroke:f[S]},x),silent:!0}))}}},minorSplitLine:function(r,n,a,o){var s=a.axis,l=a.getModel("minorSplitLine"),u=l.getModel("lineStyle"),f=o.coordinateSystem.getRect(),d=s.isHorizontal(),v=s.getMinorTicksCoords();if(!!v.length)for(var g=[],y=[],b=u.getLineStyle(),_=0;_<v.length;_++)for(var x=0;x<v[_].length;x++){var w=s.toGlobalCoord(v[_][x].coord);d?(g[0]=w,g[1]=f.y,y[0]=w,y[1]=f.y+f.height):(g[0]=f.x,g[1]=w,y[0]=f.x+f.width,y[1]=w),n.add(new Line_default({anid:"minor_line_"+v[_][x].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:b,silent:!0}))}},splitArea:function(r,n,a,o){rectCoordAxisBuildSplitArea(r,n,a,o)}},CartesianXAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=CartesianXAxisView.type,a}return n.type="yAxis",n}(CartesianAxisView),GridView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="grid",a}return n.prototype.render=function(a,o){this.group.removeAll(),a.get("show")&&this.group.add(new Rect_default({shape:a.coordinateSystem.getRect(),style:defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(Component_default2),extraOption={offset:0};function install(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel_default),r.registerCoordinateSystem("cartesian2d",Grid_default),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}var inner8=makeInner(),clone4=clone,bind2=bind,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(n,a,o,s){var l=a.get("value"),u=a.get("status");if(this._axisModel=n,this._axisPointerModel=a,this._api=o,!(!s&&this._lastValue===l&&this._lastStatus===u)){this._lastValue=l,this._lastStatus=u;var f=this._group,d=this._handle;if(!u||u==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var v={};this.makeElOption(v,l,n,a,o);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(n,a);if(!f)f=this._group=new Group_default,this.createPointerEl(f,v,n,a),this.createLabelEl(f,v,n,a),o.getZr().add(f);else{var b=curry(updateProps3,a,y);this.updatePointerEl(f,v,b),this.updateLabelEl(f,v,b,a)}updateMandatoryProps(f,a,!0),this._renderHandle(l)}},r.prototype.remove=function(n){this.clear(n)},r.prototype.dispose=function(n){this.clear(n)},r.prototype.determineAnimation=function(n,a){var o=a.get("animation"),s=n.axis,l=s.type==="category",u=a.get("snap");if(!u&&!l)return!1;if(o==="auto"||o==null){var f=this.animationThreshold;if(l&&s.getBandWidth()>f)return!0;if(u){var d=getAxisInfo(n).seriesDataCount,v=s.getExtent();return Math.abs(v[0]-v[1])/d>f}return!1}return o===!0},r.prototype.makeElOption=function(n,a,o,s,l){},r.prototype.createPointerEl=function(n,a,o,s){var l=a.pointer;if(l){var u=inner8(n).pointerEl=new graphic_exports[l.type](clone4(a.pointer));n.add(u)}},r.prototype.createLabelEl=function(n,a,o,s){if(a.label){var l=inner8(n).labelEl=new Text_default(clone4(a.label));n.add(l),updateLabelShowHide(l,s)}},r.prototype.updatePointerEl=function(n,a,o){var s=inner8(n).pointerEl;s&&a.pointer&&(s.setStyle(a.pointer.style),o(s,{shape:a.pointer.shape}))},r.prototype.updateLabelEl=function(n,a,o,s){var l=inner8(n).labelEl;l&&(l.setStyle(a.label.style),o(l,{x:a.label.x,y:a.label.y}),updateLabelShowHide(l,s))},r.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var a=this._axisPointerModel,o=this._api.getZr(),s=this._handle,l=a.getModel("handle"),u=a.get("status");if(!l.get("show")||!u||u==="hide"){s&&o.remove(s),this._handle=null;return}var f;this._handle||(f=!0,s=this._handle=createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){stop2(v.event)},onmousedown:bind2(this._onHandleDragMove,this,0,0),drift:bind2(this._onHandleDragMove,this),ondragend:bind2(this._onHandleDragEnd,this)}),o.add(s)),updateMandatoryProps(s,a,!1),s.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=l.get("size");isArray3(d)||(d=[d,d]),s.scaleX=d[0]/2,s.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,f)}},r.prototype._moveHandleToValue=function(n,a){updateProps3(this._axisPointerModel,!a&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(n,a){var o=this._handle;if(!!o){this._dragging=!0;var s=this.updateHandleTransform(getHandleTransProps(o),[n,a],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(getHandleTransProps(s)),inner8(o).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(!!n){var a=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(!!n){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var a=n.getZr(),o=this._group,s=this._handle;a&&o&&(this._lastGraphicKey=null,o&&a.remove(o),s&&a.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),clear2(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(n,a,o){return o=o||0,{x:n[o],y:n[1-o],width:a[o],height:a[1-o]}},r}();function updateProps3(r,n,a,o){propsEqual(inner8(a).lastProp,o)||(inner8(a).lastProp=o,n?updateProps2(a,o,r):(a.stopAnimation(),a.attr(o)))}function propsEqual(r,n){if(isObject3(r)&&isObject3(n)){var a=!0;return each(n,function(o,s){a=a&&propsEqual(r[s],o)}),!!a}else return r===n}function updateLabelShowHide(r,n){r[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,n,a){var o=n.get("z"),s=n.get("zlevel");r&&r.traverse(function(l){l.type!=="group"&&(o!=null&&(l.z=o),s!=null&&(l.zlevel=s),l.silent=a)})}var BaseAxisPointer_default=BaseAxisPointer;function buildElStyle(r){var n=r.get("type"),a=r.getModel(n+"Style"),o;return n==="line"?(o=a.getLineStyle(),o.fill=null):n==="shadow"&&(o=a.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(r,n,a,o,s){var l=a.get("value"),u=getValueLabel(l,n.axis,n.ecModel,a.get("seriesDataIndices"),{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])}),f=a.getModel("label"),d=normalizeCssArray2(f.get("padding")||0),v=f.getFont(),g=getBoundingRect(u,v),y=s.position,b=g.width+d[1]+d[3],_=g.height+d[0]+d[2],x=s.align;x==="right"&&(y[0]-=b),x==="center"&&(y[0]-=b/2);var w=s.verticalAlign;w==="bottom"&&(y[1]-=_),w==="middle"&&(y[1]-=_/2),confineInContainer(y,b,_,o);var C=f.get("backgroundColor");(!C||C==="auto")&&(C=n.get(["axisLine","lineStyle","color"])),r.label={x:y[0],y:y[1],style:createTextStyle(f,{text:u,font:v,fill:f.getTextColor(),padding:d,backgroundColor:C}),z2:10}}function confineInContainer(r,n,a,o){var s=o.getWidth(),l=o.getHeight();r[0]=Math.min(r[0]+n,s)-n,r[1]=Math.min(r[1]+a,l)-a,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,n,a,o,s){r=n.scale.parse(r);var l=n.scale.getLabel({value:r},{precision:s.precision}),u=s.formatter;if(u){var f={value:getAxisRawValue(n,{value:r}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each(o,function(d){var v=a.getSeriesByIndex(d.seriesIndex),g=d.dataIndexInside,y=v&&v.getDataParams(g);y&&f.seriesData.push(y)}),isString2(u)?l=u.replace("{value}",l):isFunction3(u)&&(l=u(f))}return l}function getTransformedPosition(r,n,a){var o=create2();return rotate(o,o,a.rotation),translate(o,o,a.position),applyTransform2([r.dataToCoord(n),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(r,n,a,o,s,l){var u=AxisBuilder_default.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=s.get(["label","margin"]),buildLabelElOption(n,o,s,l,{position:getTransformedPosition(o.axis,r,a),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function makeLineShape(r,n,a){return a=a||0,{x1:r[a],y1:r[1-a],x2:n[a],y2:n[1-a]}}function makeRectShape(r,n,a){return a=a||0,{x:r[a],y:r[1-a],width:n[a],height:n[1-a]}}function makeSectorShape(r,n,a,o,s,l){return{cx:r,cy:n,r0:a,r:o,startAngle:s,endAngle:l,clockwise:!0}}var CartesianAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis,d=f.grid,v=l.get("type"),g=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(o,!0));if(v&&v!=="none"){var b=buildElStyle(l),_=pointerShapeBuilder[v](f,y,g);_.style=b,a.graphicKey=_.type,a.pointer=_}var x=layout2(d.model,s);buildCartesianSingleLabelElOption(o,a,x,s,l,u)},n.prototype.getHandleTransform=function(a,o,s){var l=layout2(o.axis.grid.model,o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,a,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(a,o,s,l){var u=s.axis,f=u.grid,d=u.getGlobalExtent(!0),v=getCartesian(f,u).getOtherAxis(u).getGlobalExtent(),g=u.dim==="x"?0:1,y=[a.x,a.y];y[g]+=o[g],y[g]=Math.min(d[1],y[g]),y[g]=Math.max(d[0],y[g]);var b=(v[1]+v[0])/2,_=[b,b];_[g]=y[g];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:a.rotation,cursorPoint:_,tooltipOption:x[g]}},n}(BaseAxisPointer_default);function getCartesian(r,n){var a={};return a[n.dim+"AxisIndex"]=n.index,r.getCartesian(a)}var pointerShapeBuilder={line:function(r,n,a){var o=makeLineShape([n,a[0]],[n,a[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,a){var o=Math.max(1,r.getBandWidth()),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([n-o/2,a[0]],[o,s],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}var CartesianAxisPointer_default=CartesianAxisPointer,AxisPointerModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(Component_default),AxisPointerModel_default=AxisPointerModel,inner9=makeInner(),each4=each;function register2(r,n,a){if(!env_default.node){var o=n.getZr();inner9(o).records||(inner9(o).records={}),initGlobalListeners(o,n);var s=inner9(o).records[r]||(inner9(o).records[r]={});s.handler=a}}function initGlobalListeners(r,n){if(inner9(r).initialized)return;inner9(r).initialized=!0,a("click",curry(doEnter,"click")),a("mousemove",curry(doEnter,"mousemove")),a("globalout",onLeave);function a(o,s){r.on(o,function(l){var u=makeDispatchAction(n);each4(inner9(r).records,function(f){f&&s(f,l,u.dispatchAction)}),dispatchTooltipFinally(u.pendings,n)})}}function dispatchTooltipFinally(r,n){var a=r.showTip.length,o=r.hideTip.length,s;a?s=r.showTip[a-1]:o&&(s=r.hideTip[o-1]),s&&(s.dispatchAction=null,n.dispatchAction(s))}function onLeave(r,n,a){r.handler("leave",null,a)}function doEnter(r,n,a,o){n.handler(r,a,o)}function makeDispatchAction(r){var n={showTip:[],hideTip:[]},a=function(o){var s=n[o.type];s?s.push(o):(o.dispatchAction=a,r.dispatchAction(o))};return{dispatchAction:a,pendings:n}}function unregister(r,n){if(!env_default.node){var a=n.getZr(),o=(inner9(a).records||{})[r];o&&(inner9(a).records[r]=null)}}var AxisPointerView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=o.getComponent("tooltip"),u=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";register2("axisPointer",s,function(f,d,v){u!=="none"&&(f==="leave"||u.indexOf(f)>=0)&&v({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(a,o){unregister("axisPointer",o)},n.prototype.dispose=function(a,o){unregister("axisPointer",o)},n.type="axisPointer",n}(Component_default2),AxisPointerView_default=AxisPointerView;function findPointFromSeries(r,n){var a=[],o=r.seriesIndex,s;if(o==null||!(s=n.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),u=queryDataIndex(l,r);if(u==null||u<0||isArray3(u))return{point:[]};var f=l.getItemGraphicEl(u),d=s.coordinateSystem;if(s.getTooltipPosition)a=s.getTooltipPosition(u)||[];else if(d&&d.dataToPoint)if(r.isStacked){var v=d.getBaseAxis(),g=d.getOtherAxis(v),y=g.dim,b=v.dim,_=y==="x"||y==="radius"?1:0,x=l.mapDimension(b),w=[];w[_]=l.get(x,u),w[1-_]=l.get(l.getCalculationInfo("stackResultDimension"),u),a=d.dataToPoint(w)||[]}else a=d.dataToPoint(l.getValues(map3(d.dimensions,function(S){return l.mapDimension(S)}),u))||[];else if(f){var C=f.getBoundingRect().clone();C.applyTransform(f.transform),a=[C.x+C.width/2,C.y+C.height/2]}return{point:a,el:f}}var inner10=makeInner();function axisTrigger(r,n,a){var o=r.currTrigger,s=[r.x,r.y],l=r,u=r.dispatchAction||bind(a.dispatchAction,a),f=n.getComponent("axisPointer").coordSysAxesInfo;if(!!f){illegalPoint(s)&&(s=findPointFromSeries({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},n).point);var d=illegalPoint(s),v=l.axesInfo,g=f.axesInfo,y=o==="leave"||illegalPoint(s),b={},_={},x={list:[],map:{}},w={showPointer:curry(showPointer,_),showTooltip:curry(showTooltip,x)};each(f.coordSysMap,function(S,D){var A=d||S.containPoint(s);each(f.coordSysAxesInfo[D],function(T,P){var E=T.axis,M=findInputAxisInfo(v,T);if(!y&&A&&(!v||M)){var L=M&&M.value;L==null&&!d&&(L=E.pointToData(s)),L!=null&&processOnAxis(T,L,w,!1,b)}})});var C={};return each(g,function(S,D){var A=S.linkGroup;A&&!_[D]&&each(A.axesInfo,function(T,P){var E=_[P];if(T!==S&&E){var M=E.value;A.mapper&&(M=S.axis.scale.parse(A.mapper(M,makeMapperParam(T),makeMapperParam(S)))),C[S.key]=M}})}),each(C,function(S,D){processOnAxis(g[D],S,w,!0,b)}),updateModelActually(_,g,b),dispatchTooltipActually(x,s,r,u),dispatchHighDownActually(g,u,a),b}}function processOnAxis(r,n,a,o,s){var l=r.axis;if(!(l.scale.isBlank()||!l.containData(n))){if(!r.involveSeries){a.showPointer(r,n);return}var u=buildPayloadsBySeries(n,r),f=u.payloadBatch,d=u.snapToValue;f[0]&&s.seriesIndex==null&&extend2(s,f[0]),!o&&r.snap&&l.containData(d)&&d!=null&&(n=d),a.showPointer(r,n,f),a.showTooltip(r,u,d)}}function buildPayloadsBySeries(r,n){var a=n.axis,o=a.dim,s=r,l=[],u=Number.MAX_VALUE,f=-1;return each(n.seriesModels,function(d,v){var g=d.getData().mapDimensionsAll(o),y,b;if(d.getAxisTooltipData){var _=d.getAxisTooltipData(g,r,a);b=_.dataIndices,y=_.nestestValue}else{if(b=d.getData().indicesOfNearest(g[0],r,a.type==="category"?.5:null),!b.length)return;y=d.getData().get(g[0],b[0])}if(!(y==null||!isFinite(y))){var x=r-y,w=Math.abs(x);w<=u&&((w<u||x>=0&&f<0)&&(u=w,f=x,s=y,l.length=0),each(b,function(C){l.push({seriesIndex:d.seriesIndex,dataIndexInside:C,dataIndex:d.getData().getRawIndex(C)})}))}}),{payloadBatch:l,snapToValue:s}}function showPointer(r,n,a,o){r[n.key]={value:a,payloadBatch:o}}function showTooltip(r,n,a,o){var s=a.payloadBatch,l=n.axis,u=l.model,f=n.axisPointerModel;if(!(!n.triggerTooltip||!s.length)){var d=n.coordSys.model,v=makeKey(d),g=r.map[v];g||(g=r.map[v]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},r.list.push(g)),g.dataByAxis.push({axisDim:l.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function updateModelActually(r,n,a){var o=a.axesInfo=[];each(n,function(s,l){var u=s.axisPointerModel.option,f=r[l];f?(!s.useHandle&&(u.status="show"),u.value=f.value,u.seriesDataIndices=(f.payloadBatch||[]).slice()):!s.useHandle&&(u.status="hide"),u.status==="show"&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:u.value})})}function dispatchTooltipActually(r,n,a,o){if(illegalPoint(n)||!r.list.length){o({type:"hideTip"});return}var s=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,n,a){var o=a.getZr(),s="axisPointerLastHighlights",l=inner10(o)[s]||{},u=inner10(o)[s]={};each(r,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&each(y.seriesDataIndices,function(b){var _=b.seriesIndex+" | "+b.dataIndex;u[_]=b})});var f=[],d=[];each(l,function(v,g){!u[g]&&d.push(v)}),each(u,function(v,g){!l[g]&&f.push(v)}),d.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(r,n){for(var a=0;a<(r||[]).length;a++){var o=r[a];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(r){var n=r.axis.model,a={},o=a.axisDim=r.axis.dim;return a.axisIndex=a[o+"AxisIndex"]=n.componentIndex,a.axisName=a[o+"AxisName"]=n.name,a.axisId=a[o+"AxisId"]=n.id,a}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install2(r){AxisView_default.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer_default),r.registerComponentModel(AxisPointerModel_default),r.registerComponentView(AxisPointerView_default),r.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var a=n.axisPointer.link;a&&!isArray3(a)&&(n.axisPointer.link=[a])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,a){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,a)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install3(r){use(install),use(install2)}var PolarAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var d=f.polar,v=d.getOtherAxis(f),g=v.getExtent(),y=f.dataToCoord(o),b=l.get("type");if(b&&b!=="none"){var _=buildElStyle(l),x=pointerShapeBuilder2[b](f,d,y,g);x.style=_,a.graphicKey=x.type,a.pointer=x}var w=l.get(["label","margin"]),C=getLabelPosition(o,s,l,d,w);buildLabelElOption(a,s,l,u,C)},n}(BaseAxisPointer_default);function getLabelPosition(r,n,a,o,s){var l=n.axis,u=l.dataToCoord(r),f=o.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var d=o.getRadiusAxis().getExtent(),v,g,y;if(l.dim==="radius"){var b=create2();rotate(b,b,f),translate(b,b,[o.cx,o.cy]),v=applyTransform2([u,-s],b);var _=n.getModel("axisLabel").get("rotate")||0,x=AxisBuilder_default.innerTextLayout(f,_*Math.PI/180,-1);g=x.textAlign,y=x.textVerticalAlign}else{var w=d[1];v=o.coordToPoint([w+s,u]);var C=o.cx,S=o.cy;g=Math.abs(v[0]-C)/w<.3?"center":v[0]>C?"left":"right",y=Math.abs(v[1]-S)/w<.3?"middle":v[1]>S?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var pointerShapeBuilder2={line:function(r,n,a,o){return r.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([o[0],a]),n.coordToPoint([o[1],a]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r:a}}},shadow:function(r,n,a,o){var s=Math.max(1,r.getBandWidth()),l=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,o[0],o[1],(-a-s/2)*l,(-a+s/2)*l)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,a-s/2,a+s/2,0,Math.PI*2)}}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(r,n,a){n[1]>n[0]&&(n=n.slice().reverse());var o=r.coordToPoint([n[0],a]),s=r.coordToPoint([n[1],a]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function getRadiusIdx(r){var n=r.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(r){var n=r[0],a=r[r.length-1];n&&a&&Math.abs(Math.abs(n.coord-a.coord)-360)<1e-4&&r.pop()}var AngleAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="PolarAxisPointer",a}return n.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=a.axis,l=s.polar,u=l.getRadiusAxis().getExtent(),f=s.getTicksCoords(),d=s.getMinorTicksCoords(),v=map3(s.getViewLabels(),function(g){g=clone(g);var y=s.scale,b=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=s.dataToCoord(b),g});fixAngleOverlap(v),fixAngleOverlap(f),each(elementList,function(g){a.get([g,"show"])&&(!s.scale.isBlank()||g==="axisLine")&&angelAxisElementsBuilders[g](this.group,a,l,f,d,u,v)},this)}},n.type="angleAxis",n}(AxisView_default),angelAxisElementsBuilders={axisLine:function(r,n,a,o,s,l){var u=n.getModel(["axisLine","lineStyle"]),f=getRadiusIdx(a),d=f?0:1,v;l[d]===0?v=new Circle_default({shape:{cx:a.cx,cy:a.cy,r:l[f]},style:u.getLineStyle(),z2:1,silent:!0}):v=new Ring_default({shape:{cx:a.cx,cy:a.cy,r:l[f],r0:l[d]},style:u.getLineStyle(),z2:1,silent:!0}),v.style.fill=null,r.add(v)},axisTick:function(r,n,a,o,s,l){var u=n.getModel("axisTick"),f=(u.get("inside")?-1:1)*u.get("length"),d=l[getRadiusIdx(a)],v=map3(o,function(g){return new Line_default({shape:getAxisLineShape(a,[d,d+f],g.coord)})});r.add(mergePath2(v,{style:defaults(u.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,n,a,o,s,l){if(!!s.length){for(var u=n.getModel("axisTick"),f=n.getModel("minorTick"),d=(u.get("inside")?-1:1)*f.get("length"),v=l[getRadiusIdx(a)],g=[],y=0;y<s.length;y++)for(var b=0;b<s[y].length;b++)g.push(new Line_default({shape:getAxisLineShape(a,[v,v+d],s[y][b].coord)}));r.add(mergePath2(g,{style:defaults(f.getModel("lineStyle").getLineStyle(),defaults(u.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,n,a,o,s,l,u){var f=n.getCategories(!0),d=n.getModel("axisLabel"),v=d.get("margin"),g=n.get("triggerEvent");each(u,function(y,b){var _=d,x=y.tickValue,w=l[getRadiusIdx(a)],C=a.coordToPoint([w+v,y.coord]),S=a.cx,D=a.cy,A=Math.abs(C[0]-S)/w<.3?"center":C[0]>S?"left":"right",T=Math.abs(C[1]-D)/w<.3?"middle":C[1]>D?"top":"bottom";if(f&&f[x]){var P=f[x];isObject3(P)&&P.textStyle&&(_=new Model_default(P.textStyle,d,d.ecModel))}var E=new Text_default({silent:AxisBuilder_default.isLabelSilent(n),style:createTextStyle(_,{x:C[0],y:C[1],fill:_.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:A,verticalAlign:T})});if(r.add(E),g){var M=AxisBuilder_default.makeAxisEventDataBase(n);M.targetType="axisLabel",M.value=y.rawLabel,getECData(E).eventData=M}},this)},splitLine:function(r,n,a,o,s,l){var u=n.getModel("splitLine"),f=u.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<o.length;y++){var b=v++%d.length;g[b]=g[b]||[],g[b].push(new Line_default({shape:getAxisLineShape(a,l,o[y].coord)}))}for(var y=0;y<g.length;y++)r.add(mergePath2(g[y],{style:defaults({stroke:d[y%d.length]},f.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(r,n,a,o,s,l){if(!!s.length){for(var u=n.getModel("minorSplitLine"),f=u.getModel("lineStyle"),d=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)d.push(new Line_default({shape:getAxisLineShape(a,l,s[v][g].coord)}));r.add(mergePath2(d,{style:f.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(r,n,a,o,s,l){if(!!o.length){var u=n.getModel("splitArea"),f=u.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=Math.PI/180,b=-o[0].coord*y,_=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),w=n.get("clockwise"),C=1,S=o.length;C<=S;C++){var D=C===S?o[0].coord:o[C].coord,A=v++%d.length;g[A]=g[A]||[],g[A].push(new Sector_default({shape:{cx:a.cx,cy:a.cy,r0:_,r:x,startAngle:b,endAngle:-D*y,clockwise:w},silent:!0})),b=-D*y}for(var C=0;C<g.length;C++)r.add(mergePath2(g[C],{style:defaults({fill:d[C%d.length]},f.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs2=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs2=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="PolarAxisPointer",a}return n.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=this._axisGroup,l=this._axisGroup=new Group_default;this.group.add(l);var u=a.axis,f=u.polar,d=f.getAngleAxis(),v=u.getTicksCoords(),g=u.getMinorTicksCoords(),y=d.getExtent()[0],b=u.getExtent(),_=layoutAxis(f,a,y),x=new AxisBuilder_default(a,_);each(axisBuilderAttrs2,x.add,x),l.add(x.getGroup()),groupTransition(s,l,a),each(selfBuilderAttrs2,function(w){a.get([w,"show"])&&!u.scale.isBlank()&&axisElementBuilders2[w](this.group,a,f,y,b,v,g)},this)}},n.type="radiusAxis",n}(AxisView_default),axisElementBuilders2={splitLine:function(r,n,a,o,s,l){var u=n.getModel("splitLine"),f=u.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<l.length;y++){var b=v++%d.length;g[b]=g[b]||[],g[b].push(new Circle_default({shape:{cx:a.cx,cy:a.cy,r:Math.max(l[y].coord,0)}}))}for(var y=0;y<g.length;y++)r.add(mergePath2(g[y],{style:defaults({stroke:d[y%d.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(r,n,a,o,s,l,u){if(!!u.length){for(var f=n.getModel("minorSplitLine"),d=f.getModel("lineStyle"),v=[],g=0;g<u.length;g++)for(var y=0;y<u[g].length;y++)v.push(new Circle_default({shape:{cx:a.cx,cy:a.cy,r:u[g][y].coord}}));r.add(mergePath2(v,{style:defaults({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(r,n,a,o,s,l){if(!!l.length){var u=n.getModel("splitArea"),f=u.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=l[0].coord,b=1;b<l.length;b++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Sector_default({shape:{cx:a.cx,cy:a.cy,r0:y,r:l[b].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[b].coord}for(var b=0;b<g.length;b++)r.add(mergePath2(g[b],{style:defaults({fill:d[b%d.length]},f.getAreaStyle()),silent:!0}))}}};function layoutAxis(r,n,a){return{position:[r.cx,r.cy],rotation:a/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}var PolarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="polar",n}(Component_default2),axisBuilderAttrs3=["axisLine","axisTickLabel","axisName"],RadarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group;l.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},n.prototype._buildAxes=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes(),l=map3(s,function(u){var f=u.model.get("showName")?u.name:"",d=new AxisBuilder_default(u.model,{axisName:f,position:[o.cx,o.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});each(l,function(u){each(axisBuilderAttrs3,u.add,u),this.group.add(u.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes();if(!s.length)return;var l=a.get("shape"),u=a.getModel("splitLine"),f=a.getModel("splitArea"),d=u.getModel("lineStyle"),v=f.getModel("areaStyle"),g=u.get("show"),y=f.get("show"),b=d.get("color"),_=v.get("color"),x=isArray3(b)?b:[b],w=isArray3(_)?_:[_],C=[],S=[];function D(N,V,W){var H=W%V.length;return N[H]=N[H]||[],H}if(l==="circle")for(var A=s[0].getTicksCoords(),T=o.cx,P=o.cy,E=0;E<A.length;E++){if(g){var M=D(C,x,E);C[M].push(new Circle_default({shape:{cx:T,cy:P,r:A[E].coord}}))}if(y&&E<A.length-1){var M=D(S,w,E);S[M].push(new Ring_default({shape:{cx:T,cy:P,r0:A[E].coord,r:A[E+1].coord}}))}}else for(var L,F=map3(s,function(N,V){var W=N.getTicksCoords();return L=L==null?W.length-1:Math.min(W.length-1,L),map3(W,function(H){return o.coordToPoint(H.coord,V)})}),I=[],E=0;E<=L;E++){for(var B=[],O=0;O<s.length;O++)B.push(F[O][E]);if(B[0]?B.push(B[0].slice()):console.error("Can't draw value axis "+E),g){var M=D(C,x,E);C[M].push(new Polyline_default({shape:{points:B}}))}if(y&&I){var M=D(S,w,E-1);S[M].push(new Polygon_default({shape:{points:B.concat(I)}}))}I=B.slice().reverse()}var R=d.getLineStyle(),z=v.getAreaStyle();each(S,function(N,V){this.group.add(mergePath2(N,{style:defaults({stroke:"none",fill:w[V%w.length]},z),silent:!0}))},this),each(C,function(N,V){this.group.add(mergePath2(N,{style:defaults({fill:"none",stroke:x[V%x.length]},R),silent:!0}))},this)},n.type="radar",n}(Component_default2),v2ApplyTransform=applyTransform,View=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Transformable_default,o._rawTransformable=new Transformable_default,o.name=a,o}return n.prototype.setBoundingRect=function(a,o,s,l){return this._rect=new BoundingRect_default(a,o,s,l),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(a,o,s,l){this._transformTo(a,o,s,l),this._viewRect=new BoundingRect_default(a,o,s,l)},n.prototype._transformTo=function(a,o,s,l){var u=this.getBoundingRect(),f=this._rawTransformable;f.transform=u.calculateTransform(new BoundingRect_default(a,o,s,l));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,this._updateTransform()},n.prototype.setCenter=function(a){!a||(this._center=a,this._updateCenterAndZoom())},n.prototype.setZoom=function(a){a=a||1;var o=this.zoomLimit;o&&(o.max!=null&&(a=Math.min(o.max,a)),o.min!=null&&(a=Math.max(o.min,a))),this._zoom=a,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var a=this.getBoundingRect(),o=a.x+a.width/2,s=a.y+a.height/2;return[o,s]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var a=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),u=this.getZoom();l=applyTransform([],l,a),s=applyTransform([],s,a),o.originX=l[0],o.originY=l[1],o.x=s[0]-l[0],o.y=s[1]-l[1],o.scaleX=o.scaleY=u,this._updateTransform()},n.prototype._updateTransform=function(){var a=this._roamTransformable,o=this._rawTransformable;o.parent=a,a.updateTransform(),o.updateTransform(),copy2(this.transform||(this.transform=[]),o.transform||create2()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var a=this._rawTransformable,o=this._roamTransformable,s=new Transformable_default;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},n.prototype.dataToPoint=function(a,o,s){var l=o?this._rawTransform:this.transform;return s=s||[],l?v2ApplyTransform(s,a,l):copy(s,a)},n.prototype.pointToData=function(a){var o=this.invTransform;return o?v2ApplyTransform([],a,o):[a[0],a[1]]},n.prototype.convertToPixel=function(a,o,s){var l=getCoordSys(o);return l===this?l.dataToPoint(s):null},n.prototype.convertFromPixel=function(a,o,s){var l=getCoordSys(o);return l===this?l.pointToData(s):null},n.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},n.dimensions=["x","y"],n}(Transformable_default);function getCoordSys(r){var n=r.seriesModel;return n?n.coordinateSystem:null}var View_default3=View;function parseXML(r){if(isString2(r)){var n=new DOMParser;r=n.parseFromString(r,"text/xml")}var a=r;for(a.nodeType===9&&(a=a.firstChild);a.nodeName.toLowerCase()!=="svg"||a.nodeType!==1;)a=a.nextSibling;return a}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys2(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys2(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(n,a){a=a||{};var o=parseXML(n);if(!o)throw new Error("Illegal svg");this._defsUsePending=[];var s=new Group_default;this._root=s;var l=[],u=o.getAttribute("viewBox")||"",f=parseFloat(o.getAttribute("width")||a.width),d=parseFloat(o.getAttribute("height")||a.height);isNaN(f)&&(f=null),isNaN(d)&&(d=null),parseAttributes(o,s,null,!0,!1);for(var v=o.firstChild;v;)this._parseNode(v,s,l,null,!1,!1),v=v.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(u){var b=splitNumberSequence(u);b.length>=4&&(g={x:parseFloat(b[0]||0),y:parseFloat(b[1]||0),width:parseFloat(b[2]),height:parseFloat(b[3])})}if(g&&f!=null&&d!=null&&(y=makeViewBoxTransform(g,{x:0,y:0,width:f,height:d}),!a.ignoreViewBox)){var _=s;s=new Group_default,s.add(_),_.scaleX=_.scaleY=y.scale,_.x=y.x,_.y=y.y}return!a.ignoreRootClip&&f!=null&&d!=null&&s.setClipPath(new Rect_default({shape:{x:0,y:0,width:f,height:d}})),{root:s,width:f,height:d,viewBoxRect:g,viewBoxTransform:y,named:l}},r.prototype._parseNode=function(n,a,o,s,l,u){var f=n.nodeName.toLowerCase(),d,v=s;if(f==="defs"&&(l=!0),f==="text"&&(u=!0),f==="defs"||f==="switch")d=a;else{if(!l){var g=nodeParsers[f];if(g&&hasOwn2(nodeParsers,f)){d=g.call(this,n,a);var y=n.getAttribute("name");if(y){var b={name:y,namedFrom:null,svgNodeTagLower:f,el:d};o.push(b),f==="g"&&(v=b)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:f,el:d});a.add(d)}}var _=paintServerParsers[f];if(_&&hasOwn2(paintServerParsers,f)){var x=_.call(this,n),w=n.getAttribute("id");w&&(this._defs[w]=x)}}if(d&&d.isGroup)for(var C=n.firstChild;C;)C.nodeType===1?this._parseNode(C,d,o,v,l,u):C.nodeType===3&&u&&this._parseText(C,d),C=C.nextSibling},r.prototype._parseText=function(n,a){var o=new TSpan_default({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),applyTextAlignment(o,a);var s=o.style,l=s.fontSize;l&&l<9&&(s.fontSize=9,o.scaleX*=l/9,o.scaleY*=l/9);var u=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=u;var f=o.getBoundingRect();return this._textX+=f.width,a.add(o),o},r.internalField=function(){nodeParsers={g:function(n,a){var o=new Group_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o},rect:function(n,a){var o=new Rect_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(n,a){var o=new Circle_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),o.silent=!0,o},line:function(n,a){var o=new Line_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(n,a){var o=new Ellipse_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(n,a){var o=n.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polygon_default({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(n,l,this._defsUsePending,!1,!1),l},polyline:function(n,a){var o=n.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polyline_default({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(n,l,this._defsUsePending,!1,!1),l},image:function(n,a){var o=new Image_default;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),o.silent=!0,o},text:function(n,a){var o=n.getAttribute("x")||"0",s=n.getAttribute("y")||"0",l=n.getAttribute("dx")||"0",u=n.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(l),this._textY=parseFloat(s)+parseFloat(u);var f=new Group_default;return inheritStyle(a,f),parseAttributes(n,f,this._defsUsePending,!1,!0),f},tspan:function(n,a){var o=n.getAttribute("x"),s=n.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),s!=null&&(this._textY=parseFloat(s));var l=n.getAttribute("dx")||"0",u=n.getAttribute("dy")||"0",f=new Group_default;return inheritStyle(a,f),parseAttributes(n,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(l),this._textY+=parseFloat(u),f},path:function(n,a){var o=n.getAttribute("d")||"",s=createFromString(o);return inheritStyle(a,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.silent=!0,s}}}(),r}(),paintServerParsers={lineargradient:function(r){var n=parseInt(r.getAttribute("x1")||"0",10),a=parseInt(r.getAttribute("y1")||"0",10),o=parseInt(r.getAttribute("x2")||"10",10),s=parseInt(r.getAttribute("y2")||"0",10),l=new LinearGradient_default(n,a,o,s);return parsePaintServerUnit(r,l),parseGradientColorStops(r,l),l},radialgradient:function(r){var n=parseInt(r.getAttribute("cx")||"0",10),a=parseInt(r.getAttribute("cy")||"0",10),o=parseInt(r.getAttribute("r")||"0",10),s=new RadialGradient_default(n,a,o);return parsePaintServerUnit(r,s),parseGradientColorStops(r,s),s}};function parsePaintServerUnit(r,n){var a=r.getAttribute("gradientUnits");a==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(r,n){for(var a=r.firstChild;a;){if(a.nodeType===1&&a.nodeName.toLocaleLowerCase()==="stop"){var o=a.getAttribute("offset"),s=void 0;o&&o.indexOf("%")>0?s=parseInt(o,10)/100:o?s=parseFloat(o):s=0;var l={};parseInlineStyle(a,l,l);var u=l.stopColor||a.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:s,color:u})}a=a.nextSibling}}function inheritStyle(r,n){r&&r.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults(n.__inheritedStyle,r.__inheritedStyle))}function parsePoints(r){for(var n=splitNumberSequence(r),a=[],o=0;o<n.length;o+=2){var s=parseFloat(n[o]),l=parseFloat(n[o+1]);a.push([s,l])}return a}function parseAttributes(r,n,a,o,s){var l=n,u=l.__inheritedStyle=l.__inheritedStyle||{},f={};r.nodeType===1&&(parseTransformAttribute(r,n),parseInlineStyle(r,u,f),o||parseAttributeStyle(r,u,f)),l.style=l.style||{},u.fill!=null&&(l.style.fill=getFillStrokeStyle(l,"fill",u.fill,a)),u.stroke!=null&&(l.style.stroke=getFillStrokeStyle(l,"stroke",u.stroke,a)),each(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){u[d]!=null&&(l.style[d]=parseFloat(u[d]))}),each(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){u[d]!=null&&(l.style[d]=u[d])}),s&&(l.__selfStyle=f),u.lineDash&&(l.style.lineDash=map3(splitNumberSequence(u.lineDash),function(d){return parseFloat(d)})),(u.visibility==="hidden"||u.visibility==="collapse")&&(l.invisible=!0),u.display==="none"&&(l.ignore=!0)}function applyTextAlignment(r,n){var a=n.__selfStyle;if(a){var o=a.textBaseline,s=o;!o||o==="auto"||o==="baseline"?s="alphabetic":o==="before-edge"||o==="text-before-edge"?s="top":o==="after-edge"||o==="text-after-edge"?s="bottom":(o==="central"||o==="mathematical")&&(s="middle"),r.style.textBaseline=s}var l=n.__inheritedStyle;if(l){var u=l.textAlign,f=u;u&&(u==="middle"&&(f="center"),r.style.textAlign=f)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(r,n,a,o){var s=a&&a.match(urlRegex);if(s){var l=trim(s[1]);o.push([r,n,l]);return}return a==="none"&&(a=null),a}function applyDefs(r,n){for(var a=0;a<n.length;a++){var o=n[a];o[0].style[o[1]]=r[o[2]]}}var numberReg2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(r){return r.match(numberReg2)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(r,n){var a=r.getAttribute("transform");if(a){a=a.replace(/,/g," ");var o=[],s=null;a.replace(transformRegex,function(y,b,_){return o.push(b,_),""});for(var l=o.length-1;l>0;l-=2){var u=o[l],f=o[l-1],d=splitNumberSequence(u);switch(s=s||create2(),f){case"translate":translate(s,s,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":scale2(s,s,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":rotate(s,s,-parseFloat(d[0])*DEGREE_TO_ANGLE);break;case"skewX":var v=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,0,v,1,0,0],s);break;case"skewY":var g=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,g,0,1,0,0],s);break;case"matrix":s[0]=parseFloat(d[0]),s[1]=parseFloat(d[1]),s[2]=parseFloat(d[2]),s[3]=parseFloat(d[3]),s[4]=parseFloat(d[4]),s[5]=parseFloat(d[5]);break}}n.setLocalTransform(s)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(r,n,a){var o=r.getAttribute("style");if(!!o){styleRegex.lastIndex=0;for(var s;(s=styleRegex.exec(o))!=null;){var l=s[1],u=hasOwn2(INHERITABLE_STYLE_ATTRIBUTES_MAP,l)?INHERITABLE_STYLE_ATTRIBUTES_MAP[l]:null;u&&(n[u]=s[2]);var f=hasOwn2(SELF_STYLE_ATTRIBUTES_MAP,l)?SELF_STYLE_ATTRIBUTES_MAP[l]:null;f&&(a[f]=s[2])}}}function parseAttributeStyle(r,n,a){for(var o=0;o<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[o],l=r.getAttribute(s);l!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[s]]=l)}for(var o=0;o<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=SELF_STYLE_ATTRIBUTES_MAP_KEYS[o],l=r.getAttribute(s);l!=null&&(a[SELF_STYLE_ATTRIBUTES_MAP[s]]=l)}}function makeViewBoxTransform(r,n){var a=n.width/r.width,o=n.height/r.height,s=Math.min(a,o);return{scale:s,x:-(r.x+r.width/2)*s+(n.x+n.width/2),y:-(r.y+r.height/2)*s+(n.y+n.height/2)}}function parseSVG(r,n){var a=new SVGParser;return a.parse(r,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function r(n,a){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(a)}return r.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var a=createRegions(n.named),o=a.regions,s=a.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(n){var a,o;try{a=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=a.root,assert(o!=null)}catch(C){throw new Error(`Invalid svg format
`+C.message)}var s=new Group_default;s.add(o),s.isGeoSVGGraphicRoot=!0;var l=a.width,u=a.height,f=a.viewBoxRect,d=this._boundingRect;if(!d){var v=void 0,g=void 0,y=void 0,b=void 0;if(l!=null?(v=0,y=l):f&&(v=f.x,y=f.width),u!=null?(g=0,b=u):f&&(g=f.y,b=f.height),v==null||g==null){var _=o.getBoundingRect();v==null&&(v=_.x,y=_.width),g==null&&(g=_.y,b=_.height)}d=this._boundingRect=new BoundingRect_default(v,g,y,b)}if(f){var x=makeViewBoxTransform(f,d);o.scaleX=o.scaleY=x.scale,o.x=x.x,o.y=x.y}s.setClipPath(new Rect_default({shape:d.plain()}));var w=[];return each(a.named,function(C){REGION_AVAILABLE_SVG_TAG_MAP.get(C.svgNodeTagLower)!=null&&(w.push(C),setSilent(C.el))}),{root:s,boundingRect:d,named:w}},r.prototype.useGraphic=function(n){var a=this._usedGraphicMap,o=a.get(n);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),a.set(n,o),o)},r.prototype.freeGraphic=function(n){var a=this._usedGraphicMap,o=a.get(n);o&&(a.removeKey(n),this._freedGraphics.push(o))},r}();function setSilent(r){r.silent=!1,r.isGroup&&r.traverse(function(n){n.silent=!1})}function createRegions(r){var n=[],a=createHashMap();return each(r,function(o){if(o.namedFrom==null){var s=new GeoSVGRegion(o.name,o.el);n.push(s),a.set(o.name,s)}}),{regions:n,regionsMap:a}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points2=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(i=0;i<points2.length;i++)for(k=0;k<points2[i].length;k++)points2[i][k][0]/=10.5,points2[i][k][1]/=-10.5/.75,points2[i][k][0]+=geoCoord[0],points2[i][k][1]+=geoCoord[1];var k,i;function fixNanhai(r,n){if(r==="china"){for(var a=0;a<n.length;a++)if(n[a].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map3(points2,function(o){return{type:"polygon",exterior:o}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(r,n){if(r==="china"){var a=coordsOffsetMap[n.name];if(a){var o=n.getCenter();o[0]+=a[0]/10.5,o[1]+=-a[1]/(10.5/.75),n.setCenter(o)}}}var points3=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(r,n){r==="china"&&n.name==="\u53F0\u6E7E"&&n.geometries.push({type:"polygon",exterior:points3[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function r(n,a,o){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=o,this._geoJSON=parseInput(a)}return r.prototype.load=function(n,a){a=a||DEFAULT_NAME_PROPERTY;var o=this._parsedMap.get(a);if(!o){var s=this._parseToRegions(a);o=this._parsedMap.set(a,{regions:s,boundingRect:calculateBoundingRect(s)})}var l=createHashMap(),u=[];return each(o.regions,function(f){var d=f.name;n&&hasOwn2(n,d)&&(f=f.cloneShallow(d=n[d])),u.push(f),l.set(d,f)}),{regions:u,boundingRect:o.boundingRect||new BoundingRect_default(0,0,0,0),regionsMap:l}},r.prototype._parseToRegions=function(n){var a=this._mapName,o=this._geoJSON,s;try{s=o?parseGeoJSON(o,n):[]}catch(l){throw new Error(`Invalid geoJson format
`+l.message)}return fixNanhai(a,s),each(s,function(l){var u=l.name;fixTextCoords(a,l),fixDiaoyuIsland(a,l);var f=this._specialAreas&&this._specialAreas[u];f&&l.transformTo(f.left,f.top,f.width,f.height)},this),s},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function calculateBoundingRect(r){for(var n,a=0;a<r.length;a++){var o=r[a].getBoundingRect();n=n||o.clone(),n.union(o)}return n}function parseInput(r){return isString2(r)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var storage=createHashMap(),geoSourceManager_default={registerMap:function(r,n,a){if(n.svg){var o=new GeoSVGResource(r,n.svg);storage.set(r,o)}else{var s=n.geoJson||n.geoJSON;s&&!n.features?a=n.specialAreas:s=n;var o=new GeoJSONResource(r,s,a);storage.set(r,o)}},getGeoResource:function(r){return storage.get(r)},getMapForUser:function(r){var n=storage.get(r);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(r,n,a){var o=storage.get(r);if(!o){console.error("Map "+r+" not exists. The GeoJSON of the map must be provided.");return}return o.load(n,a)}},ATTR="\0_ec_interaction_mutex";function take(r,n,a){var o=getStore(r);o[n]=a}function release(r,n,a){var o=getStore(r),s=o[n];s===a&&(o[n]=null)}function isTaken(r,n){return!!getStore(r)[n]}function getStore(r){return r[ATTR]||(r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;o._zr=a;var s=bind(o._mousedownHandler,o),l=bind(o._mousemoveHandler,o),u=bind(o._mouseupHandler,o),f=bind(o._mousewheelHandler,o),d=bind(o._pinchHandler,o);return o.enable=function(v,g){this.disable(),this._opt=defaults(clone(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),v==null&&(v=!0),(v===!0||v==="move"||v==="pan")&&(a.on("mousedown",s),a.on("mousemove",l),a.on("mouseup",u)),(v===!0||v==="scale"||v==="zoom")&&(a.on("mousewheel",f),a.on("pinch",d))},o.disable=function(){a.off("mousedown",s),a.off("mousemove",l),a.off("mouseup",u),a.off("mousewheel",f),a.off("pinch",d)},o}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(a){this.pointerChecker=a},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(a){if(!(isMiddleOrRightButtonOnMouseUpDown(a)||a.target&&a.target.draggable)){var o=a.offsetX,s=a.offsetY;this.pointerChecker&&this.pointerChecker(a,o,s)&&(this._x=o,this._y=s,this._dragging=!0)}},n.prototype._mousemoveHandler=function(a){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",a,this._opt)||a.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var o=a.offsetX,s=a.offsetY,l=this._x,u=this._y,f=o-l,d=s-u;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&stop2(a.event),trigger3(this,"pan","moveOnMouseMove",a,{dx:f,dy:d,oldX:l,oldY:u,newX:o,newY:s,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(a){isMiddleOrRightButtonOnMouseUpDown(a)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(a){var o=isAvailableBehavior("zoomOnMouseWheel",a,this._opt),s=isAvailableBehavior("moveOnMouseWheel",a,this._opt),l=a.wheelDelta,u=Math.abs(l),f=a.offsetX,d=a.offsetY;if(!(l===0||!o&&!s)){if(o){var v=u>3?1.4:u>1?1.2:1.1,g=l>0?v:1/v;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",a,{scale:g,originX:f,originY:d,isAvailableBehavior:null})}if(s){var y=Math.abs(l),b=(l>0?1:-1)*(y>3?.4:y>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:b,originX:f,originY:d,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(a){if(!isTaken(this._zr,"globalPan")){var o=a.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,a,{scale:o,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},n}(Eventful_default);function checkPointerAndTrigger(r,n,a,o,s){r.pointerChecker&&r.pointerChecker(o,s.originX,s.originY)&&(stop2(o.event),trigger3(r,n,a,o,s))}function trigger3(r,n,a,o,s){s.isAvailableBehavior=bind(isAvailableBehavior,null,a,o),r.trigger(n,s)}function isAvailableBehavior(r,n,a){var o=a[r];return!r||o&&(!isString2(o)||n.event[o+"Key"])}var RoamController_default=RoamController;function updateViewOnPan(r,n,a){var o=r.target;o.x+=n,o.y+=a,o.dirty()}function updateViewOnZoom(r,n,a,o){var s=r.target,l=r.zoomLimit,u=r.zoom=r.zoom||1;if(u*=n,l){var f=l.min||0,d=l.max||1/0;u=Math.max(Math.min(d,u),f)}var v=u/r.zoom;r.zoom=u,s.x-=(a-s.x)*(v-1),s.y-=(o-s.y)*(v-1),s.scaleX*=v,s.scaleY*=v,s.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(r,n,a){var o=n.getComponentByElement(r.topTarget),s=o&&o.coordinateSystem;return o&&o!==a&&!IRRELEVANT_EXCLUDES.hasOwnProperty(o.mainType)&&s&&s.model!==a}var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(r){var n=r.getItemStyle(),a=r.get("areaColor");return a!=null&&(n.fill=a),n}function fixLineStyle(r){var n=r.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function r(n){var a=new Group_default;this.uid=getUID("ec_map_draw"),this._controller=new RoamController_default(n.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new Group_default),a.add(this._svgGroup=new Group_default)}return r.prototype.draw=function(n,a,o,s,l){var u=n.mainType==="geo",f=n.getData&&n.getData();u&&a.eachComponent({mainType:"series",subType:"map"},function(S){!f&&S.getHostGeoModel()===n&&(f=S.getData())});var d=n.coordinateSystem,v=this._regionsGroup,g=this.group,y=d.getTransformInfo(),b=y.raw,_=y.roam,x=!v.childAt(0)||l;x?(g.x=_.x,g.y=_.y,g.scaleX=_.scaleX,g.scaleY=_.scaleY,g.dirty()):updateProps2(g,_,n);var w=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,C={api:o,geo:d,mapOrGeoModel:n,data:f,isVisualEncodedByVisualMap:w,isGeo:u,transformInfoRaw:b};d.resourceType==="geoJSON"?this._buildGeoJSON(C):d.resourceType==="geoSVG"&&this._buildSVG(C),this._updateController(n,a,o),this._updateMapSelectHandler(n,v,o,s)},r.prototype._buildGeoJSON=function(n){var a=this._regionsGroupByName=createHashMap(),o=createHashMap(),s=this._regionsGroup,l=n.transformInfoRaw,u=n.mapOrGeoModel,f=n.data,d=n.geo.projection,v=d&&d.stream;function g(_,x){return x&&(_=x(_)),_&&[_[0]*l.scaleX+l.x,_[1]*l.scaleY+l.y]}function y(_){for(var x=[],w=!v&&d&&d.project,C=0;C<_.length;++C){var S=g(_[C],w);S&&x.push(S)}return x}function b(_){return{shape:{points:y(_)}}}s.removeAll(),each(n.geo.regions,function(_){var x=_.name,w=a.get(x),C=o.get(x)||{},S=C.dataIdx,D=C.regionModel;w||(w=a.set(x,new Group_default),s.add(w),S=f?f.indexOfName(x):null,D=n.isGeo?u.getRegionModel(x):f?f.getItemModel(S):null,o.set(x,{dataIdx:S,regionModel:D}));var A=[],T=[];each(_.geometries,function(M){if(M.type==="polygon"){var L=[M.exterior].concat(M.interiors||[]);v&&(L=projectPolys(L,v)),each(L,function(I){A.push(new Polygon_default(b(I)))})}else{var F=M.points;v&&(F=projectPolys(F,v,!0)),each(F,function(I){T.push(new Polyline_default(b(I)))})}});var P=g(_.getCenter(),d&&d.project);function E(M,L){if(!!M.length){var F=new CompoundPath_default({culling:!0,segmentIgnoreThreshold:1,shape:{paths:M}});w.add(F),applyOptionStyleForRegion(n,F,S,D),resetLabelForRegion(n,F,x,D,u,S,P),L&&(fixLineStyle(F),each(F.states,fixLineStyle))}}E(A),E(T,!0)}),a.each(function(_,x){var w=o.get(x),C=w.dataIdx,S=w.regionModel;resetEventTriggerForRegion(n,_,x,S,u,C),resetTooltipForRegion(n,_,x,S,u),resetStateTriggerForRegion(n,_,x,S,u)},this)},r.prototype._buildSVG=function(n){var a=n.geo.map,o=n.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(a)&&(this._freeSVG(),this._useSVG(a));var s=this._svgDispatcherMap=createHashMap(),l=!1;each(this._svgGraphicRecord.named,function(u){var f=u.name,d=n.mapOrGeoModel,v=n.data,g=u.svgNodeTagLower,y=u.el,b=v?v.indexOfName(f):null,_=d.getRegionModel(f);if(OPTION_STYLE_ENABLED_TAG_MAP.get(g)!=null&&y instanceof Displayable_default&&applyOptionStyleForRegion(n,y,b,_),y instanceof Displayable_default&&(y.culling=!0),y.z2EmphasisLift=0,!u.namedFrom&&(LABEL_HOST_MAP.get(g)!=null&&resetLabelForRegion(n,y,f,_,d,b,null),resetEventTriggerForRegion(n,y,f,_,d,b),resetTooltipForRegion(n,y,f,_,d),STATE_TRIGGER_TAG_MAP.get(g)!=null)){var x=resetStateTriggerForRegion(n,y,f,_,d);x==="self"&&(l=!0);var w=s.get(f)||s.set(f,[]);w.push(y)}},this),this._enableBlurEntireSVG(l,n)},r.prototype._enableBlurEntireSVG=function(n,a){if(n&&a.isGeo){var o=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),s=o.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){setDefaultStateProxy(l);var u=l.ensureState("blur").style||{};u.opacity==null&&s!=null&&(u.opacity=s),l.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(n,a){if(n==null)return[];var o=a.coordinateSystem;if(o.resourceType==="geoJSON"){var s=this._regionsGroupByName;if(s){var l=s.get(n);return l?[l]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},r.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},r.prototype._useSVG=function(n){var a=geoSourceManager_default.getGeoResource(n);if(a&&a.type==="geoSVG"){var o=a.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=n}},r.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var a=geoSourceManager_default.getGeoResource(n);a&&a.type==="geoSVG"&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(n,a,o){var s=n.coordinateSystem,l=this._controller,u=this._controllerHost;u.zoomLimit=n.get("scaleLimit"),u.zoom=s.getZoom(),l.enable(n.get("roam")||!1);var f=n.mainType;function d(){var v={type:"geoRoam",componentType:f};return v[f+"Id"]=n.id,v}l.off("pan").on("pan",function(v){this._mouseDownFlag=!1,updateViewOnPan(u,v.dx,v.dy),o.dispatchAction(extend2(d(),{dx:v.dx,dy:v.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(v){this._mouseDownFlag=!1,updateViewOnZoom(u,v.scale,v.originX,v.originY),o.dispatchAction(extend2(d(),{zoom:v.scale,originX:v.originX,originY:v.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(v,g,y){return s.containPoint([g,y])&&!onIrrelevantElement(v,o,n)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var a=n.getTextContent();a&&(a.ignore=mapLabelRaw(a).ignore)})},r.prototype._updateMapSelectHandler=function(n,a,o,s){var l=this;a.off("mousedown"),a.off("click"),n.get("selectedMode")&&(a.on("mousedown",function(){l._mouseDownFlag=!0}),a.on("click",function(u){!l._mouseDownFlag||(l._mouseDownFlag=!1)}))},r}();function applyOptionStyleForRegion(r,n,a,o){var s=o.getModel("itemStyle"),l=o.getModel(["emphasis","itemStyle"]),u=o.getModel(["blur","itemStyle"]),f=o.getModel(["select","itemStyle"]),d=getFixedItemStyle(s),v=getFixedItemStyle(l),g=getFixedItemStyle(f),y=getFixedItemStyle(u),b=r.data;if(b){var _=b.getItemVisual(a,"style"),x=b.getItemVisual(a,"decal");r.isVisualEncodedByVisualMap&&_.fill&&(d.fill=_.fill),x&&(d.decal=createOrUpdatePatternFromDecal(x,r.api))}n.setStyle(d),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=v,n.ensureState("select").style=g,n.ensureState("blur").style=y,setDefaultStateProxy(n)}function resetLabelForRegion(r,n,a,o,s,l,u){var f=r.data,d=r.isGeo,v=f&&isNaN(f.get(f.mapDimension("value"),l)),g=f&&f.getItemLayout(l);if(d||v||g&&g.showLabel){var y=d?a:l,b=void 0;(!f||l>=0)&&(b=s);var _=u?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels(o),{labelFetcher:b,labelDataIndex:y,defaultText:a},_);var x=n.getTextContent();if(x&&(mapLabelRaw(x).ignore=x.ignore,n.textConfig&&u)){var w=n.getBoundingRect().clone();n.textConfig.layoutRect=w,n.textConfig.position=[(u[0]-w.x)/w.width*100+"%",(u[1]-w.y)/w.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(r,n,a,o,s,l){r.data?r.data.setItemGraphicEl(l,n):getECData(n).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:a,region:o&&o.option||{}}}function resetTooltipForRegion(r,n,a,o,s){r.data||setTooltipConfig({el:n,componentModel:s,itemName:a,itemTooltipOption:o.get("tooltip")})}function resetStateTriggerForRegion(r,n,a,o,s){n.highDownSilentOnTouch=!!s.get("selectedMode");var l=o.getModel("emphasis"),u=l.get("focus");return toggleHoverEmphasis(n,u,l.get("blurScope"),l.get("disabled")),r.isGeo&&enableComponentHighDownFeatures(n,s,a),u}function projectPolys(r,n,a){var o=[],s;function l(){s=[]}function u(){s.length&&(o.push(s),s=[])}var f=n({polygonStart:l,polygonEnd:u,lineStart:l,lineEnd:u,point:function(d,v){isFinite(d)&&isFinite(v)&&s.push([d,v])},sphere:function(){}});return!a&&f.polygonStart(),each(r,function(d){f.lineStart();for(var v=0;v<d.length;v++)f.point(d[v][0],d[v][1]);f.lineEnd()}),!a&&f.polygonEnd(),o}var MapDraw_default=MapDraw,GeoView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.focusBlurEnabled=!0,a}return n.prototype.init=function(a,o){this._api=o},n.prototype.render=function(a,o,s,l){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw_default(s));var u=this._mapDraw;u.draw(a,o,s,this,l),u.group.on("click",this._handleRegionClick,this),u.group.silent=a.get("silent"),this.group.add(u.group),this.updateSelectStatus(a,o,s)},n.prototype._handleRegionClick=function(a){var o;findEventDispatcher(a.target,function(s){return(o=getECData(s).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},n.prototype.updateSelectStatus=function(a,o,s){var l=this;this._mapDraw.group.traverse(function(u){var f=getECData(u).eventData;if(f)return l._model.isSelected(f.name)?s.enterSelect(u):s.leaveSelect(u),!0})},n.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(Component_default2);function layout3(r,n){n=n||{};var a=r.coordinateSystem,o=r.axis,s={},l=o.position,u=o.orient,f=a.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],v={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};s.position=[u==="vertical"?v.vertical[l]:d[0],u==="horizontal"?v.horizontal[l]:d[3]];var g={horizontal:0,vertical:1};s.rotation=Math.PI/2*g[u];var y={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=y[l],r.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(n.labelInside,r.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var b=n.rotate;return b==null&&(b=r.get(["axisLabel","rotate"])),s.labelRotation=l==="top"?-b:b,s.z2=1,s}var axisBuilderAttrs4=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs3=["splitArea","splitLine"],SingleAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="SingleAxisPointer",a}return n.prototype.render=function(a,o,s,l){var u=this.group;u.removeAll();var f=this._axisGroup;this._axisGroup=new Group_default;var d=layout3(a),v=new AxisBuilder_default(a,d);each(axisBuilderAttrs4,v.add,v),u.add(this._axisGroup),u.add(v.getGroup()),each(selfBuilderAttrs3,function(g){a.get([g,"show"])&&axisElementBuilders3[g](this,this.group,this._axisGroup,a)},this),groupTransition(f,this._axisGroup,a),r.prototype.render.call(this,a,o,s,l)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView_default),axisElementBuilders3={splitLine:function(r,n,a,o){var s=o.axis;if(!s.scale.isBlank()){var l=o.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color");f=f instanceof Array?f:[f];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=[],y=0,b=s.getTicksCoords({tickModel:l}),_=[],x=[],w=0;w<b.length;++w){var C=s.toGlobalCoord(b[w].coord);v?(_[0]=C,_[1]=d.y,x[0]=C,x[1]=d.y+d.height):(_[0]=d.x,_[1]=C,x[0]=d.x+d.width,x[1]=C);var S=y++%f.length;g[S]=g[S]||[],g[S].push(new Line_default({subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},silent:!0}))}for(var D=u.getLineStyle(["color"]),w=0;w<g.length;++w)n.add(mergePath2(g[w],{style:defaults({stroke:f[w%f.length]},D),silent:!0}))}},splitArea:function(r,n,a,o){rectCoordAxisBuildSplitArea(r,a,o,o)}},XY=["x","y"],WH=["width","height"],SingleAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis,d=f.coordinateSystem,v=getGlobalExtent(d,1-getPointDimIndex(f)),g=d.dataToPoint(o)[0],y=l.get("type");if(y&&y!=="none"){var b=buildElStyle(l),_=pointerShapeBuilder3[y](f,g,v);_.style=b,a.graphicKey=_.type,a.pointer=_}var x=layout3(s);buildCartesianSingleLabelElOption(o,a,x,s,l,u)},n.prototype.getHandleTransform=function(a,o,s){var l=layout3(o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,a,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(a,o,s,l){var u=s.axis,f=u.coordinateSystem,d=getPointDimIndex(u),v=getGlobalExtent(f,d),g=[a.x,a.y];g[d]+=o[d],g[d]=Math.min(v[1],g[d]),g[d]=Math.max(v[0],g[d]);var y=getGlobalExtent(f,1-d),b=(y[1]+y[0])/2,_=[b,b];return _[d]=g[d],{x:g[0],y:g[1],rotation:a.rotation,cursorPoint:_,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer_default),pointerShapeBuilder3={line:function(r,n,a){var o=makeLineShape([n,a[0]],[n,a[1]],getPointDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,a){var o=r.getBandWidth(),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([n-o/2,a[0]],[o,s],getPointDimIndex(r))}}};function getPointDimIndex(r){return r.isHorizontal()?0:1}function getGlobalExtent(r,n){var a=r.getRect();return[a[XY[n]],a[XY[n]]+a[WH[n]]]}var SingleView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="single",n}(Component_default2),CLICK_THRESHOLD=5,ParallelView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this._model=a,this._api=s,this._handlers||(this._handlers={},each(handlers,function(l,u){s.getZr().on(u,this._handlers[u]=bind(l,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(a,o){clear2(this,"_throttledDispatchExpand"),each(this._handlers,function(s,l){o.getZr().off(l,s)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},n.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(extend2({type:"parallelAxisExpand"},a))},n.type="parallel",n}(Component_default2),handlers={mousedown:function(r){checkTrigger(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var a=[r.offsetX,r.offsetY],o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2);if(o>CLICK_THRESHOLD)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);s.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,a=n.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),o=a.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:a.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function checkTrigger(r,n){var a=r._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===n}function sliderMove(r,n,a,o,s,l){r=r||0;var u=a[1]-a[0];if(s!=null&&(s=restrict(s,[0,u])),l!=null&&(l=Math.max(l,s!=null?s:0)),o==="all"){var f=Math.abs(n[1]-n[0]);f=restrict(f,[0,u]),s=l=restrict(f,[s,l]),o=0}n[0]=restrict(n[0],a),n[1]=restrict(n[1],a);var d=getSpanSign(n,o);n[o]+=r;var v=s||0,g=a.slice();d.sign<0?g[0]+=v:g[1]-=v,n[o]=restrict(n[o],g);var y;return y=getSpanSign(n,o),s!=null&&(y.sign!==d.sign||y.span<s)&&(n[1-o]=n[o]+d.sign*s),y=getSpanSign(n,o),l!=null&&y.span>l&&(n[1-o]=n[o]+y.sign*l),n}function getSpanSign(r,n){var a=r[n]-r[1-n];return{span:Math.abs(a),sign:a>0?-1:a<0?1:n?-1:1}}function restrict(r,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,r))}var BRUSH_PANEL_GLOBAL=!0,mathMin6=Math.min,mathMax6=Math.max,mathPow3=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o._track=[],o._covers=[],o._handlers={},assert(a),o._zr=a,o.group=new Group_default,o._uid="brushController_"+baseUID++,each(pointerHandlers,function(s,l){this._handlers[l]=bind(s,this)},o),o}return n.prototype.enableBrush=function(a){return assert(this._mounted),this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},n.prototype._doEnableBrush=function(a){var o=this._zr;this._enableGlobalPan||take(o,MUTEX_RESOURCE_KEY,this._uid),each(this._handlers,function(s,l){o.on(l,s)}),this._brushType=a.brushType,this._brushOption=merge3(clone(DEFAULT_BRUSH_OPT),a,!0)},n.prototype._doDisableBrush=function(){var a=this._zr;release(a,MUTEX_RESOURCE_KEY,this._uid),each(this._handlers,function(o,s){a.off(s,o)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(a){if(a&&a.length){var o=this._panels={};each(a,function(s){o[s.panelId]=clone(s)})}else this._panels=null;return this},n.prototype.mount=function(a){a=a||{},this._mounted=!0,this._enableGlobalPan=a.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=o.getLocalTransform(),this},n.prototype.updateCovers=function(a){assert(this._mounted),a=map3(a,function(b){return merge3(clone(DEFAULT_BRUSH_OPT),b,!0)});var o="\0-brush-index-",s=this._covers,l=this._covers=[],u=this,f=this._creatingCover;return new DataDiffer_default(s,a,v,d).add(g).update(g).remove(y).execute(),this;function d(b,_){return(b.id!=null?b.id:o+_)+"-"+b.brushType}function v(b,_){return d(b.__brushOption,_)}function g(b,_){var x=a[b];if(_!=null&&s[_]===f)l[b]=s[_];else{var w=l[b]=_!=null?(s[_].__brushOption=x,s[_]):endCreating(u,createCover(u,x));updateCoverAfterCreation(u,w)}}function y(b){s[b]!==f&&u.group.remove(s[b])}},n.prototype.unmount=function(){if(!!this._mounted)return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this._mounted=!1,this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful_default);function createCover(r,n){var a=coverRenderers[n.brushType].createCover(r,n);return a.__brushOption=n,updateZ(a,n),r.group.add(a),a}function endCreating(r,n){var a=getCoverRenderer(n);return a.endCreating&&(a.endCreating(r,n),updateZ(n,n.__brushOption)),n}function updateCoverShape(r,n){var a=n.__brushOption;getCoverRenderer(n).updateCoverShape(r,n,a.range,a)}function updateZ(r,n){var a=n.z;a==null&&(a=COVER_Z),r.traverse(function(o){o.z=a,o.z2=a})}function updateCoverAfterCreation(r,n){getCoverRenderer(n).updateCommon(r,n),updateCoverShape(r,n)}function getCoverRenderer(r){return coverRenderers[r.__brushOption.brushType]}function getPanelByPoint(r,n,a){var o=r._panels;if(!o)return BRUSH_PANEL_GLOBAL;var s,l=r._transform;return each(o,function(u){u.isTargetByCursor(n,a,l)&&(s=u)}),s}function getPanelByCover(r,n){var a=r._panels;if(!a)return BRUSH_PANEL_GLOBAL;var o=n.__brushOption.panelId;return o!=null?a[o]:BRUSH_PANEL_GLOBAL}function clearCovers(r){var n=r._covers,a=n.length;return each(n,function(o){r.group.remove(o)},r),n.length=0,!!a}function trigger4(r,n){var a=map3(r._covers,function(o){var s=o.__brushOption,l=clone(s.range);return{brushType:s.brushType,panelId:s.panelId,range:l}});r.trigger("brush",{areas:a,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(r){var n=r._track;if(!n.length)return!1;var a=n[n.length-1],o=n[0],s=a[0]-o[0],l=a[1]-o[1],u=mathPow3(s*s+l*l,.5);return u>UNSELECT_THRESHOLD}function getTrackEnds(r){var n=r.length-1;return n<0&&(n=0),[r[0],r[n]]}function createBaseRectCover(r,n,a,o){var s=new Group_default;return s.add(new Rect_default({name:"main",style:makeStyle(a),silent:!0,draggable:!0,cursor:"move",drift:curry(driftRect,r,n,s,["n","s","w","e"]),ondragend:curry(trigger4,n,{isEnd:!0})})),each(o,function(l){s.add(new Rect_default({name:l.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry(driftRect,r,n,s,l),ondragend:curry(trigger4,n,{isEnd:!0})}))}),s}function updateBaseRect(r,n,a,o){var s=o.brushStyle.lineWidth||0,l=mathMax6(s,MIN_RESIZE_LINE_WIDTH),u=a[0][0],f=a[1][0],d=u-s/2,v=f-s/2,g=a[0][1],y=a[1][1],b=g-l+s/2,_=y-l+s/2,x=g-u,w=y-f,C=x+s,S=w+s;updateRectShape(r,n,"main",u,f,x,w),o.transformable&&(updateRectShape(r,n,"w",d,v,l,S),updateRectShape(r,n,"e",b,v,l,S),updateRectShape(r,n,"n",d,v,C,l),updateRectShape(r,n,"s",d,_,C,l),updateRectShape(r,n,"nw",d,v,l,l),updateRectShape(r,n,"ne",b,v,l,l),updateRectShape(r,n,"sw",d,_,l,l),updateRectShape(r,n,"se",b,_,l,l))}function updateCommon(r,n){var a=n.__brushOption,o=a.transformable,s=n.childAt(0);s.useStyle(makeStyle(a)),s.attr({silent:!o,cursor:o?"move":"default"}),each([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(l){var u=n.childOfName(l.join("")),f=l.length===1?getGlobalDirection1(r,l[0]):getGlobalDirection2(r,l);u&&u.attr({silent:!o,invisible:!o,cursor:o?CURSOR_MAP[f]+"-resize":null})})}function updateRectShape(r,n,a,o,s,l,u){var f=n.childOfName(a);f&&f.setShape(pointsToRect(clipByPanel(r,n,[[o,s],[o+l,s+u]])))}function makeStyle(r){return defaults({strokeNoScale:!0},r.brushStyle)}function formatRectRange(r,n,a,o){var s=[mathMin6(r,a),mathMin6(n,o)],l=[mathMax6(r,a),mathMax6(n,o)];return[[s[0],l[0]],[s[1],l[1]]]}function getTransform2(r){return getTransform(r.group)}function getGlobalDirection1(r,n){var a={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},s=transformDirection(a[n],getTransform2(r));return o[s]}function getGlobalDirection2(r,n){var a=[getGlobalDirection1(r,n[0]),getGlobalDirection1(r,n[1])];return(a[0]==="e"||a[0]==="w")&&a.reverse(),a.join("")}function driftRect(r,n,a,o,s,l){var u=a.__brushOption,f=r.toRectRange(u.range),d=toLocalDelta(n,s,l);each(o,function(v){var g=DIRECTION_MAP[v];f[g[0]][g[1]]+=d[g[0]]}),u.range=r.fromRectRange(formatRectRange(f[0][0],f[1][0],f[0][1],f[1][1])),updateCoverAfterCreation(n,a),trigger4(n,{isEnd:!1})}function driftPolygon(r,n,a,o){var s=n.__brushOption.range,l=toLocalDelta(r,a,o);each(s,function(u){u[0]+=l[0],u[1]+=l[1]}),updateCoverAfterCreation(r,n),trigger4(r,{isEnd:!1})}function toLocalDelta(r,n,a){var o=r.group,s=o.transformCoordToLocal(n,a),l=o.transformCoordToLocal(0,0);return[s[0]-l[0],s[1]-l[1]]}function clipByPanel(r,n,a){var o=getPanelByCover(r,n);return o&&o!==BRUSH_PANEL_GLOBAL?o.clipPath(a,r._transform):clone(a)}function pointsToRect(r){var n=mathMin6(r[0][0],r[1][0]),a=mathMin6(r[0][1],r[1][1]),o=mathMax6(r[0][0],r[1][0]),s=mathMax6(r[0][1],r[1][1]);return{x:n,y:a,width:o-n,height:s-a}}function resetCursor(r,n,a){if(!(!r._brushType||isOutsideZrArea(r,n.offsetX,n.offsetY))){var o=r._zr,s=r._covers,l=getPanelByPoint(r,n,a);if(!r._dragging)for(var u=0;u<s.length;u++){var f=s[u].__brushOption;if(l&&(l===BRUSH_PANEL_GLOBAL||f.panelId===l.panelId)&&coverRenderers[f.brushType].contain(s[u],a[0],a[1]))return}l&&o.setCursorStyle("crosshair")}}function preventDefault(r){var n=r.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(r,n,a){return r.childOfName("main").contain(n,a)}function updateCoverByMouse(r,n,a,o){var s=r._creatingCover,l=r._creatingPanel,u=r._brushOption,f;if(r._track.push(a.slice()),shouldShowCover(r)||s){if(l&&!s){u.brushMode==="single"&&clearCovers(r);var d=clone(u);d.brushType=determineBrushType(d.brushType,l),d.panelId=l===BRUSH_PANEL_GLOBAL?null:l.panelId,s=r._creatingCover=createCover(r,d),r._covers.push(s)}if(s){var v=coverRenderers[determineBrushType(r._brushType,l)],g=s.__brushOption;g.range=v.getCreatingRange(clipByPanel(r,s,r._track)),o&&(endCreating(r,s),v.updateCommon(r,s)),updateCoverShape(r,s),f={isEnd:o}}}else o&&u.brushMode==="single"&&u.removeOnClick&&getPanelByPoint(r,n,a)&&clearCovers(r)&&(f={isEnd:o,removeOnClick:!0});return f}function determineBrushType(r,n){return r==="auto"?(assert(n&&n.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),n.defaultBrushType):r}var pointerHandlers={mousedown:function(r){if(this._dragging)handleDragEnd(this,r);else if(!r.target||!r.target.draggable){preventDefault(r);var n=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var a=this._creatingPanel=getPanelByPoint(this,r,n);a&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(r){var n=r.offsetX,a=r.offsetY,o=this.group.transformCoordToLocal(n,a);if(resetCursor(this,r,o),this._dragging){preventDefault(r);var s=updateCoverByMouse(this,r,o,!1);s&&trigger4(this,s)}},mouseup:function(r){handleDragEnd(this,r)}};function handleDragEnd(r,n){if(r._dragging){preventDefault(n);var a=n.offsetX,o=n.offsetY,s=r.group.transformCoordToLocal(a,o),l=updateCoverByMouse(r,n,s,!0);r._dragging=!1,r._track=[],r._creatingCover=null,l&&trigger4(r,l)}}function isOutsideZrArea(r,n,a){var o=r._zr;return n<0||n>o.getWidth()||a<0||a>o.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(r,n){function a(o){return o}return createBaseRectCover({toRectRange:a,fromRectRange:a},r,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var n=getTrackEnds(r);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(r,n,a,o){updateBaseRect(r,n,a,o)},updateCommon,contain:mainShapeContain},polygon:{createCover:function(r,n){var a=new Group_default;return a.add(new Polyline_default({name:"main",style:makeStyle(n),silent:!0})),a},getCreatingRange:function(r){return r},endCreating:function(r,n){n.remove(n.childAt(0)),n.add(new Polygon_default({name:"main",draggable:!0,drift:curry(driftPolygon,r,n),ondragend:curry(trigger4,r,{isEnd:!0})}))},updateCoverShape:function(r,n,a,o){n.childAt(0).setShape({points:clipByPanel(r,n,a)})},updateCommon,contain:mainShapeContain}};function getLineRenderer(r){return{createCover:function(n,a){return createBaseRectCover({toRectRange:function(o){var s=[o,[0,100]];return r&&s.reverse(),s},fromRectRange:function(o){return o[r]}},n,a,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(n){var a=getTrackEnds(n),o=mathMin6(a[0][r],a[1][r]),s=mathMax6(a[0][r],a[1][r]);return[o,s]},updateCoverShape:function(n,a,o,s){var l,u=getPanelByCover(n,a);if(u!==BRUSH_PANEL_GLOBAL&&u.getLinearBrushOtherExtent)l=u.getLinearBrushOtherExtent(r);else{var f=n._zr;l=[0,[f.getWidth(),f.getHeight()][1-r]]}var d=[o,l];r&&d.reverse(),updateBaseRect(n,a,d,s)},updateCommon,contain:mainShapeContain}}var BrushController_default=BrushController;function makeRectPanelClipPath(r){return r=normalizeRect(r),function(n){return clipPointsByRect(n,r)}}function makeLinearBrushOtherExtent(r,n){return r=normalizeRect(r),function(a){var o=n!=null?n:a,s=o?r.width:r.height,l=o?r.x:r.y;return[l,l+(s||0)]}}function makeRectIsTargetByCursor(r,n,a){var o=normalizeRect(r);return function(s,l){return o.contain(l[0],l[1])&&!onIrrelevantElement(s,n,a)}}function normalizeRect(r){return BoundingRect_default.create(r)}var elementList2=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){r.prototype.init.apply(this,arguments),(this._brushController=new BrushController_default(o.getZr())).on("brush",bind(this._onBrush,this))},n.prototype.render=function(a,o,s,l){if(!fromAxisAreaSelect(a,o,l)){this.axisModel=a,this.api=s,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),!!a.get("show")){var f=getCoordSysModel(a,o),d=f.coordinateSystem,v=a.getAreaSelectStyle(),g=v.width,y=a.axis.dim,b=d.getAxisLayout(y),_=extend2({strokeContainThreshold:g},b),x=new AxisBuilder_default(a,_);each(elementList2,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(_,v,a,f,g,s),groupTransition(u,this._axisGroup,a)}}},n.prototype._refreshBrushController=function(a,o,s,l,u,f){var d=s.axis.getExtent(),v=d[1]-d[0],g=Math.min(30,Math.abs(v)*.1),y=BoundingRect_default.create({x:d[0],y:-u/2,width:v,height:u});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,f,l),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(getCoverInfoList(s))},n.prototype._onBrush=function(a){var o=a.areas,s=this.axisModel,l=s.axis,u=map3(o,function(f){return[l.coordToData(f.range[0],!0),l.coordToData(f.range[1],!0)]});(!s.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:u})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(Component_default2);function fromAxisAreaSelect(r,n,a){return a&&a.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:a})[0]===r}function getCoverInfoList(r){var n=r.axis;return map3(r.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(a[0],!0),n.dataToCoord(a[1],!0)]}})}function getCoordSysModel(r,n){return n.getComponent("parallel",r.get("parallelIndex"))}var CalendarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group;l.removeAll();var u=a.coordinateSystem,f=u.getRangeInfo(),d=u.getOrient(),v=o.getLocaleModel();this._renderDayRect(a,f,l),this._renderLines(a,f,d,l),this._renderYearText(a,f,d,l),this._renderMonthText(a,v,d,l),this._renderWeekText(a,v,f,d,l)},n.prototype._renderDayRect=function(a,o,s){for(var l=a.coordinateSystem,u=a.getModel("itemStyle").getItemStyle(),f=l.getCellWidth(),d=l.getCellHeight(),v=o.start.time;v<=o.end.time;v=l.getNextNDay(v,1).time){var g=l.dataToRect([v],!1).tl,y=new Rect_default({shape:{x:g[0],y:g[1],width:f,height:d},cursor:"default",style:u});s.add(y)}},n.prototype._renderLines=function(a,o,s,l){var u=this,f=a.coordinateSystem,d=a.getModel(["splitLine","lineStyle"]).getLineStyle(),v=a.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=o.start,b=0;y.time<=o.end.time;b++){x(y.formatedDate),b===0&&(y=f.getDateInfo(o.start.y+"-"+o.start.m));var _=y.date;_.setMonth(_.getMonth()+1),y=f.getDateInfo(_)}x(f.getNextNDay(o.end.time,1).formatedDate);function x(w){u._firstDayOfMonth.push(f.getDateInfo(w)),u._firstDayPoints.push(f.dataToRect([w],!1).tl);var C=u._getLinePointsOfOneWeek(a,w,s);u._tlpoints.push(C[0]),u._blpoints.push(C[C.length-1]),v&&u._drawSplitline(C,d,l)}v&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,g,s),d,l),v&&this._drawSplitline(u._getEdgesPoints(u._blpoints,g,s),d,l)},n.prototype._getEdgesPoints=function(a,o,s){var l=[a[0].slice(),a[a.length-1].slice()],u=s==="horizontal"?0:1;return l[0][u]=l[0][u]-o/2,l[1][u]=l[1][u]+o/2,l},n.prototype._drawSplitline=function(a,o,s){var l=new Polyline_default({z2:20,shape:{points:a},style:o});s.add(l)},n.prototype._getLinePointsOfOneWeek=function(a,o,s){for(var l=a.coordinateSystem,u=l.getDateInfo(o),f=[],d=0;d<7;d++){var v=l.getNextNDay(u.time,d),g=l.dataToRect([v.time],!1);f[2*v.day]=g.tl,f[2*v.day+1]=g[s==="horizontal"?"bl":"tr"]}return f},n.prototype._formatterLabel=function(a,o){return isString2(a)&&a?formatTplSimple(a,o):isFunction3(a)?a(o):o.nameMap},n.prototype._yearTextPositionControl=function(a,o,s,l,u){var f=o[0],d=o[1],v=["center","bottom"];l==="bottom"?(d+=u,v=["center","top"]):l==="left"?f-=u:l==="right"?(f+=u,v=["center","top"]):d-=u;var g=0;return(l==="left"||l==="right")&&(g=Math.PI/2),{rotation:g,x:f,y:d,style:{align:v[0],verticalAlign:v[1]}}},n.prototype._renderYearText=function(a,o,s,l){var u=a.getModel("yearLabel");if(!!u.get("show")){var f=u.get("margin"),d=u.get("position");d||(d=s!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,b=s==="horizontal"?0:1,_={top:[g,v[b][1]],bottom:[g,v[1-b][1]],left:[v[1-b][0],y],right:[v[b][0],y]},x=o.start.y;+o.end.y>+o.start.y&&(x=x+"-"+o.end.y);var w=u.get("formatter"),C={start:o.start.y,end:o.end.y,nameMap:x},S=this._formatterLabel(w,C),D=new Text_default({z2:30,style:createTextStyle(u,{text:S})});D.attr(this._yearTextPositionControl(D,_[d],s,d,f)),l.add(D)}},n.prototype._monthTextPositionControl=function(a,o,s,l,u){var f="left",d="top",v=a[0],g=a[1];return s==="horizontal"?(g=g+u,o&&(f="center"),l==="start"&&(d="bottom")):(v=v+u,o&&(d="middle"),l==="start"&&(f="right")),{x:v,y:g,align:f,verticalAlign:d}},n.prototype._renderMonthText=function(a,o,s,l){var u=a.getModel("monthLabel");if(!!u.get("show")){var f=u.get("nameMap"),d=u.get("margin"),v=u.get("position"),g=u.get("align"),y=[this._tlpoints,this._blpoints];(!f||isString2(f))&&(f&&(o=getLocaleModel(f)||o),f=o.get(["time","monthAbbr"])||[]);var b=v==="start"?0:1,_=s==="horizontal"?0:1;d=v==="start"?-d:d;for(var x=g==="center",w=0;w<y[b].length-1;w++){var C=y[b][w].slice(),S=this._firstDayOfMonth[w];if(x){var D=this._firstDayPoints[w];C[_]=(D[_]+y[0][w+1][_])/2}var A=u.get("formatter"),T=f[+S.m-1],P={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:T},E=this._formatterLabel(A,P),M=new Text_default({z2:30,style:extend2(createTextStyle(u,{text:E}),this._monthTextPositionControl(C,x,s,v,d))});l.add(M)}}},n.prototype._weekTextPositionControl=function(a,o,s,l,u){var f="center",d="middle",v=a[0],g=a[1],y=s==="start";return o==="horizontal"?(v=v+l+(y?1:-1)*u[0]/2,f=y?"right":"left"):(g=g+l+(y?1:-1)*u[1]/2,d=y?"bottom":"top"),{x:v,y:g,align:f,verticalAlign:d}},n.prototype._renderWeekText=function(a,o,s,l,u){var f=a.getModel("dayLabel");if(!!f.get("show")){var d=a.coordinateSystem,v=f.get("position"),g=f.get("nameMap"),y=f.get("margin"),b=d.getFirstDayOfWeek();if(!g||isString2(g)){g&&(o=getLocaleModel(g)||o);var _=o.get(["time","dayOfWeekShort"]);g=_||map3(o.get(["time","dayOfWeekAbbr"]),function(P){return P[0]})}var x=d.getNextNDay(s.end.time,7-s.lweek).time,w=[d.getCellWidth(),d.getCellHeight()];y=parsePercent2(y,Math.min(w[1],w[0])),v==="start"&&(x=d.getNextNDay(s.start.time,-(7+s.fweek)).time,y=-y);for(var C=0;C<7;C++){var S=d.getNextNDay(x,C),D=d.dataToRect([S.time],!1).center,A=C;A=Math.abs((C+b)%7);var T=new Text_default({z2:30,style:extend2(createTextStyle(f,{text:g[A]}),this._weekTextPositionControl(D,l,v,y,w))});u.add(T)}}},n.type="calendar",n}(Component_default2);function setKeyInfoToNewElOption(r,n){var a=r.existing;if(n.id=r.keyInfo.id,!n.type&&a&&(n.type=a.type),n.parentId==null){var o=n.parentOption;o?n.parentId=o.id:a&&(n.parentId=a.parentId)}n.parentOption=null}function isSetLoc(r,n){var a;return each(n,function(o){r[o]!=null&&r[o]!=="auto"&&(a=!0)}),a}function mergeNewElOptionToExist(r,n,a){var o=extend2({},a),s=r[n],l=a.$action||"merge";if(l==="merge")if(s){var u=a.type;assert(!u||s.type===u,'Please set $action: "replace" to change `type`'),merge3(s,o,!0),mergeLayoutParam(s,o,{ignoreSize:!0}),copyLayoutParams(a,s),copyTransitionInfo(a,s),copyTransitionInfo(a,s,"shape"),copyTransitionInfo(a,s,"style"),copyTransitionInfo(a,s,"extra"),a.clipPath=s.clipPath}else r[n]=o;else l==="replace"?r[n]=o:l==="remove"&&s&&(r[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(r,n,a){if(a&&(!r[a]&&n[a]&&(r[a]={}),r=r[a],n=n[a]),!(!r||!n))for(var o=a?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,s=0;s<o.length;s++){var l=o[s];r[l]==null&&n[l]!=null&&(r[l]=n[l])}}function setLayoutInfoToExist(r,n){if(!!r&&(r.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],r.type==="group")){var a=r,o=n;a.width==null&&(a.width=o.width=0),a.height==null&&(a.height=o.height=0)}}var GraphicComponentModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.preventAutoZ=!0,a}return n.prototype.mergeOption=function(a,o){var s=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,a,o),this.option.elements=s},n.prototype.optionUpdated=function(a,o){var s=this.option,l=(o?s:a).elements,u=s.elements=o?[]:s.elements,f=[];this._flatten(l,f,null);var d=mappingToExists(u,f,"normalMerge"),v=this._elOptionsToUpdate=[];each(d,function(g,y){var b=g.newOption;assert(isObject3(b)||g.existing,"Empty graphic option definition"),!!b&&(v.push(b),setKeyInfoToNewElOption(g,b),mergeNewElOptionToExist(u,y,b),setLayoutInfoToExist(u[y],b))},this),s.elements=filter(u,function(g){return g&&delete g.$action,g!=null})},n.prototype._flatten=function(a,o,s){each(a,function(l){if(!!l){s&&(l.parentOption=s),o.push(l);var u=l.children;l.type==="group"&&u&&this._flatten(u,o,l),delete l.children}},this)},n.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},n.type="graphic",n.defaultOption={elements:[]},n}(Component_default),deprecatedLogs={};function isEC4CompatibleStyle(r,n,a,o){return r&&(r.legacy||r.legacy!==!1&&!a&&!o&&n!=="tspan"&&(n==="text"||hasOwn2(r,"text")))}function convertFromEC4CompatibleStyle(r,n,a){var o=r,s,l,u;if(n==="text")u=o;else{u={},hasOwn2(o,"text")&&(u.text=o.text),hasOwn2(o,"rich")&&(u.rich=o.rich),hasOwn2(o,"textFill")&&(u.fill=o.textFill),hasOwn2(o,"textStroke")&&(u.stroke=o.textStroke),hasOwn2(o,"fontFamily")&&(u.fontFamily=o.fontFamily),hasOwn2(o,"fontSize")&&(u.fontSize=o.fontSize),hasOwn2(o,"fontStyle")&&(u.fontStyle=o.fontStyle),hasOwn2(o,"fontWeight")&&(u.fontWeight=o.fontWeight),l={type:"text",style:u,silent:!0},s={};var f=hasOwn2(o,"textPosition");a?s.position=f?o.textPosition:"inside":f&&(s.position=o.textPosition),hasOwn2(o,"textPosition")&&(s.position=o.textPosition),hasOwn2(o,"textOffset")&&(s.offset=o.textOffset),hasOwn2(o,"textRotation")&&(s.rotation=o.textRotation),hasOwn2(o,"textDistance")&&(s.distance=o.textDistance)}return convertEC4CompatibleRichItem(u,r),each(u.rich,function(d){convertEC4CompatibleRichItem(d,d)}),{textConfig:s,textContent:l}}function convertEC4CompatibleRichItem(r,n){!n||(n.font=n.textFont||n.font,hasOwn2(n,"textStrokeWidth")&&(r.lineWidth=n.textStrokeWidth),hasOwn2(n,"textAlign")&&(r.align=n.textAlign),hasOwn2(n,"textVerticalAlign")&&(r.verticalAlign=n.textVerticalAlign),hasOwn2(n,"textLineHeight")&&(r.lineHeight=n.textLineHeight),hasOwn2(n,"textWidth")&&(r.width=n.textWidth),hasOwn2(n,"textHeight")&&(r.height=n.textHeight),hasOwn2(n,"textBackgroundColor")&&(r.backgroundColor=n.textBackgroundColor),hasOwn2(n,"textPadding")&&(r.padding=n.textPadding),hasOwn2(n,"textBorderColor")&&(r.borderColor=n.textBorderColor),hasOwn2(n,"textBorderWidth")&&(r.borderWidth=n.textBorderWidth),hasOwn2(n,"textBorderRadius")&&(r.borderRadius=n.textBorderRadius),hasOwn2(n,"textBoxShadowColor")&&(r.shadowColor=n.textBoxShadowColor),hasOwn2(n,"textBoxShadowBlur")&&(r.shadowBlur=n.textBoxShadowBlur),hasOwn2(n,"textBoxShadowOffsetX")&&(r.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn2(n,"textBoxShadowOffsetY")&&(r.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(r,n,a){var o=r;o.textPosition=o.textPosition||a.position||"inside",a.offset!=null&&(o.textOffset=a.offset),a.rotation!=null&&(o.textRotation=a.rotation),a.distance!=null&&(o.textDistance=a.distance);var s=o.textPosition.indexOf("inside")>=0,l=r.fill||"#000";convertToEC4RichItem(o,n);var u=o.textFill==null;return s?u&&(o.textFill=a.insideFill||"#fff",!o.textStroke&&a.insideStroke&&(o.textStroke=a.insideStroke),!o.textStroke&&(o.textStroke=l),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(u&&(o.textFill=r.fill||a.outsideFill||"#000"),!o.textStroke&&a.outsideStroke&&(o.textStroke=a.outsideStroke)),o.text=n.text,o.rich=n.rich,each(n.rich,function(f){convertToEC4RichItem(f,f)}),o}function convertToEC4RichItem(r,n){!n||(hasOwn2(n,"fill")&&(r.textFill=n.fill),hasOwn2(n,"stroke")&&(r.textStroke=n.fill),hasOwn2(n,"lineWidth")&&(r.textStrokeWidth=n.lineWidth),hasOwn2(n,"font")&&(r.font=n.font),hasOwn2(n,"fontStyle")&&(r.fontStyle=n.fontStyle),hasOwn2(n,"fontWeight")&&(r.fontWeight=n.fontWeight),hasOwn2(n,"fontSize")&&(r.fontSize=n.fontSize),hasOwn2(n,"fontFamily")&&(r.fontFamily=n.fontFamily),hasOwn2(n,"align")&&(r.textAlign=n.align),hasOwn2(n,"verticalAlign")&&(r.textVerticalAlign=n.verticalAlign),hasOwn2(n,"lineHeight")&&(r.textLineHeight=n.lineHeight),hasOwn2(n,"width")&&(r.textWidth=n.width),hasOwn2(n,"height")&&(r.textHeight=n.height),hasOwn2(n,"backgroundColor")&&(r.textBackgroundColor=n.backgroundColor),hasOwn2(n,"padding")&&(r.textPadding=n.padding),hasOwn2(n,"borderColor")&&(r.textBorderColor=n.borderColor),hasOwn2(n,"borderWidth")&&(r.textBorderWidth=n.borderWidth),hasOwn2(n,"borderRadius")&&(r.textBorderRadius=n.borderRadius),hasOwn2(n,"shadowColor")&&(r.textBoxShadowColor=n.shadowColor),hasOwn2(n,"shadowBlur")&&(r.textBoxShadowBlur=n.shadowBlur),hasOwn2(n,"shadowOffsetX")&&(r.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn2(n,"shadowOffsetY")&&(r.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn2(n,"textShadowColor")&&(r.textShadowColor=n.textShadowColor),hasOwn2(n,"textShadowBlur")&&(r.textShadowBlur=n.textShadowBlur),hasOwn2(n,"textShadowOffsetX")&&(r.textShadowOffsetX=n.textShadowOffsetX),hasOwn2(n,"textShadowOffsetY")&&(r.textShadowOffsetY=n.textShadowOffsetY))}function warnDeprecated(r,n){var a=r+"^_^"+n;deprecatedLogs[a]||(console.warn('[ECharts] DEPRECATED: "'+r+'" has been deprecated. '+n),deprecatedLogs[a]=!0)}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys2(LEGACY_TRANSFORM_PROPS_MAP),TRANSFORM_PROPS_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=1,r},{}),transformPropNamesStr=TRANSFORMABLE_PROPS.join(", "),ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(r,n,a,o,s){var l=r+"Animation",u=getAnimationConfig(r,o,s)||{},f=transitionInnerStore(n).userDuring;return u.duration>0&&(u.during=f?bind(duringCall,{el:n,userDuring:f}):null,u.setToFinal=!0,u.scope=r),extend2(u,a[l]),u}function applyUpdateTransition(r,n,a,o){o=o||{};var s=o.dataIndex,l=o.isInit,u=o.clearStyle,f=a.isAnimationEnabled(),d=transitionInnerStore(r),v=n.style;d.userDuring=n.during;var g={},y={};if(prepareTransformAllPropsFinal(r,n,y),prepareShapeOrExtraAllPropsFinal("shape",n,y),prepareShapeOrExtraAllPropsFinal("extra",n,y),!l&&f&&(prepareTransformTransitionFrom(r,n,g),prepareShapeOrExtraTransitionFrom("shape",r,n,g),prepareShapeOrExtraTransitionFrom("extra",r,n,g),prepareStyleTransitionFrom(r,n,v,g)),y.style=v,applyPropsDirectly(r,y,u),applyMiscProps(r,n),f)if(l){var b={};each(ELEMENT_ANIMATABLE_PROPS,function(x){var w=x?n[x]:n;w&&w.enterFrom&&(x&&(b[x]=b[x]||{}),extend2(x?b[x]:b,w.enterFrom))});var _=getElementAnimationConfig("enter",r,n,a,s);_.duration>0&&r.animateFrom(b,_)}else applyPropsTransition(r,n,s||0,a,g);updateLeaveTo(r,n),v?r.dirty():r.markRedraw()}function updateLeaveTo(r,n){for(var a=transitionInnerStore(r).leaveToProps,o=0;o<ELEMENT_ANIMATABLE_PROPS.length;o++){var s=ELEMENT_ANIMATABLE_PROPS[o],l=s?n[s]:n;l&&l.leaveTo&&(a||(a=transitionInnerStore(r).leaveToProps={}),s&&(a[s]=a[s]||{}),extend2(s?a[s]:a,l.leaveTo))}}function applyLeaveTransition(r,n,a,o){if(r){var s=r.parent,l=transitionInnerStore(r).leaveToProps;if(l){var u=getElementAnimationConfig("update",r,n,a,0);u.done=function(){s.remove(r),o&&o()},r.animateTo(l,u)}else s.remove(r),o&&o()}}function isTransitionAll(r){return r==="all"}function applyPropsDirectly(r,n,a){var o=n.style;if(!r.isGroup&&o){if(a){r.useStyle({});for(var s=r.animators,l=0;l<s.length;l++){var u=s[l];u.targetName==="style"&&u.changeTarget(r.style)}}r.setStyle(o)}n&&(n.style=null,n&&r.attr(n),n.style=o)}function applyPropsTransition(r,n,a,o,s){if(s){var l=getElementAnimationConfig("update",r,n,o,a);l.duration>0&&r.animateFrom(s,l)}}function applyMiscProps(r,n){hasOwn2(n,"silent")&&(r.silent=n.silent),hasOwn2(n,"ignore")&&(r.ignore=n.ignore),r instanceof Displayable_default&&hasOwn2(n,"invisible")&&(r.invisible=n.invisible),r instanceof Path_default&&hasOwn2(n,"autoBatch")&&(r.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(r,n){return assert(hasOwn2(TRANSFORM_PROPS_MAP,r),"Only "+transformPropNamesStr+" available in `setTransform`."),tmpDuringScope.el[r]=n,this},getTransform:function(r){return assert(hasOwn2(TRANSFORM_PROPS_MAP,r),"Only "+transformPropNamesStr+" available in `getTransform`."),tmpDuringScope.el[r]},setShape:function(r,n){assertNotReserved(r);var a=tmpDuringScope.el,o=a.shape||(a.shape={});return o[r]=n,a.dirtyShape&&a.dirtyShape(),this},getShape:function(r){assertNotReserved(r);var n=tmpDuringScope.el.shape;if(n)return n[r]},setStyle:function(r,n){assertNotReserved(r);var a=tmpDuringScope.el,o=a.style;return o&&(eqNaN(n)&&warn6("style."+r+" must not be assigned with NaN."),o[r]=n,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(r){assertNotReserved(r);var n=tmpDuringScope.el.style;if(n)return n[r]},setExtra:function(r,n){assertNotReserved(r);var a=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return a[r]=n,this},getExtra:function(r){assertNotReserved(r);var n=tmpDuringScope.el.extra;if(n)return n[r]}};function assertNotReserved(r){if(r==="transition"||r==="enterFrom"||r==="leaveTo")throw new Error('key must not be "'+r+'"')}function duringCall(){var r=this,n=r.el;if(!!n){var a=transitionInnerStore(n).userDuring,o=r.userDuring;if(a!==o){r.el=r.userDuring=null;return}tmpDuringScope.el=n,o(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(r,n,a,o){var s=a[r];if(!!s){var l=n[r],u;if(l){var f=a.transition,d=s.transition;if(d)if(!u&&(u=o[r]={}),isTransitionAll(d))extend2(u,l);else for(var v=normalizeToArray(d),g=0;g<v.length;g++){var y=v[g],b=l[y];u[y]=b}else if(isTransitionAll(f)||indexOf(f,r)>=0){!u&&(u=o[r]={});for(var _=keys2(l),g=0;g<_.length;g++){var y=_[g],b=l[y];isNonStyleTransitionEnabled(s[y],b)&&(u[y]=b)}}}}}function prepareShapeOrExtraAllPropsFinal(r,n,a){var o=n[r];if(!!o)for(var s=a[r]={},l=keys2(o),u=0;u<l.length;u++){var f=l[u];s[f]=cloneValue(o[f])}}function prepareTransformTransitionFrom(r,n,a){for(var o=n.transition,s=isTransitionAll(o)?TRANSFORMABLE_PROPS:normalizeToArray(o||[]),l=0;l<s.length;l++){var u=s[l];if(!(u==="style"||u==="shape"||u==="extra")){var f=r[u];checkTransformPropRefer(u,"el.transition"),a[u]=f}}}function prepareTransformAllPropsFinal(r,n,a){for(var o=0;o<LEGACY_TRANSFORM_PROPS.length;o++){var s=LEGACY_TRANSFORM_PROPS[o],l=LEGACY_TRANSFORM_PROPS_MAP[s],u=n[s];u&&(a[l[0]]=u[0],a[l[1]]=u[1])}for(var o=0;o<TRANSFORMABLE_PROPS.length;o++){var f=TRANSFORMABLE_PROPS[o];n[f]!=null&&(a[f]=n[f])}}function prepareStyleTransitionFrom(r,n,a,o){if(!!a){var s=r.style,l;if(s){var u=a.transition,f=n.transition;if(u&&!isTransitionAll(u)){var d=normalizeToArray(u);!l&&(l=o.style={});for(var v=0;v<d.length;v++){var g=d[v],y=s[g];l[g]=y}}else if(r.getAnimationStyleProps&&(isTransitionAll(f)||isTransitionAll(u)||indexOf(f,"style")>=0)){var b=r.getAnimationStyleProps(),_=b?b.style:null;if(_){!l&&(l=o.style={});for(var x=keys2(a),v=0;v<x.length;v++){var g=x[v];if(_[g]){var y=s[g];l[g]=y}}}}}}}function isNonStyleTransitionEnabled(r,n){return isArrayLike2(r)?r!==n:r!=null&&isFinite(r)}var checkTransformPropRefer;checkTransformPropRefer=function(r,n){hasOwn2(TRANSFORM_PROPS_MAP,r)||warn6("Prop `"+r+"` is not a permitted in `"+n+"`. Only `"+keys2(TRANSFORM_PROPS_MAP).join("`, `")+"` are permitted.")};var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(r){r.stopAnimation("keyframe"),r.attr(getStateToRestore(r))}function applyKeyframeAnimation(r,n,a){if(!(!a.isAnimationEnabled()||!n)){if(isArray3(n)){each(n,function(f){applyKeyframeAnimation(r,f,a)});return}var o=n.keyframes,s=n.duration;if(a&&s==null){var l=getAnimationConfig("enter",a,0);s=l&&l.duration}if(!(!o||!s)){var u=getStateToRestore(r);each(ELEMENT_ANIMATABLE_PROPS,function(f){if(!(f&&!r[f])){var d,v=!1;o.sort(function(g,y){return g.percent-y.percent}),each(o,function(g){var y=r.animators,b=f?g[f]:g;if(g.percent>=1&&(v=!0),!!b){var _=keys2(b);if(f||(_=filter(_,function(C){return indexOf(KEYFRAME_EXCLUDE_KEYS,C)<0})),!!_.length){d||(d=r.animate(f,n.loop,!0),d.scope="keyframe");for(var x=0;x<y.length;x++)y[x]!==d&&y[x].targetName===d.targetName&&y[x].stopTracks(_);f&&(u[f]=u[f]||{});var w=f?u[f]:u;each(_,function(C){w[C]=((f?r[f]:r)||{})[C]}),d.whenWithKeys(s*g.percent,b,_,g.easing)}}}),!!d&&(v||warn6("End frame with percent: 1 is missing in the keyframeAnimation.",!0),d.delay(n.delay||0).duration(s).start(n.easing))}})}}}var nonShapeGraphicElements={path:null,compoundPath:null,group:Group_default,image:Image_default,text:Text_default},inner11=makeInner(),GraphicComponentView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(a,o,s){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,s)},n.prototype._updateElements=function(a){var o=a.useElOptionsToUpdate();if(!!o){var s=this._elMap,l=this.group,u=a.get("z"),f=a.get("zlevel");each(o,function(d){var v=convertOptionIdName(d.id,null),g=v!=null?s.get(v):null,y=convertOptionIdName(d.parentId,null),b=y!=null?s.get(y):l,_=d.type,x=d.style;_==="text"&&x&&d.hv&&d.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var w=d.textContent,C=d.textConfig;if(x&&isEC4CompatibleStyle(x,_,!!C,!!w)){var S=convertFromEC4CompatibleStyle(x,_,!0);!C&&S.textConfig&&(C=d.textConfig=S.textConfig),!w&&S.textContent&&(w=S.textContent)}var D=getCleanedElOption(d);g&&assert(b===g.parent,"Changing parent is not supported.");var A=d.$action||"merge",T=A==="merge",P=A==="replace";if(T){var E=!g,M=g;E?M=createEl(v,b,d.type,s):(M&&(inner11(M).isNew=!1),stopPreviousKeyframeAnimationAndRestore(M)),M&&(applyUpdateTransition(M,D,a,{isInit:E}),updateCommonAttrs(M,d,u,f))}else if(P){removeEl(g,d,s,a);var L=createEl(v,b,d.type,s);L&&(applyUpdateTransition(L,D,a,{isInit:!0}),updateCommonAttrs(L,d,u,f))}else A==="remove"&&(updateLeaveTo(g,d),removeEl(g,d,s,a));var F=s.get(v);if(F&&w)if(T){var I=F.getTextContent();I?I.attr(w):F.setTextContent(new Text_default(w))}else P&&F.setTextContent(new Text_default(w));if(F){var B=d.clipPath;if(B){var O=B.type,R=void 0,E=!1;if(T){var z=F.getClipPath();E=!z||inner11(z).type!==O,R=E?newEl(O):z}else P&&(E=!0,R=newEl(O));F.setClipPath(R),applyUpdateTransition(R,B,a,{isInit:E}),applyKeyframeAnimation(R,B.keyframeAnimation,a)}var N=inner11(F);F.setTextConfig(C),N.option=d,setEventData(F,a,d),setTooltipConfig({el:F,componentModel:a,itemName:F.name,itemTooltipOption:d.tooltip}),applyKeyframeAnimation(F,d.keyframeAnimation,a)}})}},n.prototype._relocate=function(a,o){for(var s=a.option.elements,l=this.group,u=this._elMap,f=o.getWidth(),d=o.getHeight(),v=["x","y"],g=0;g<s.length;g++){var y=s[g],b=convertOptionIdName(y.id,null),_=b!=null?u.get(b):null;if(!(!_||!_.isGroup)){var x=_.parent,w=x===l,C=inner11(_),S=inner11(x);C.width=parsePercent2(C.option.width,w?f:S.width)||0,C.height=parsePercent2(C.option.height,w?d:S.height)||0}}for(var g=s.length-1;g>=0;g--){var y=s[g],b=convertOptionIdName(y.id,null),_=b!=null?u.get(b):null;if(!!_){var x=_.parent,S=inner11(x),D=x===l?{width:f,height:d}:{width:S.width,height:S.height},A={},T=positionElement(_,y,D,null,{hv:y.hv,boundingMode:y.bounding},A);if(!inner11(_).isNew&&T){for(var P=y.transition,E={},M=0;M<v.length;M++){var L=v[M],F=A[L];P&&(isTransitionAll(P)||indexOf(P,L)>=0)?E[L]=F:_[L]=F}updateProps2(_,E,a,0)}else _.attr(A)}}},n.prototype._clear=function(){var a=this,o=this._elMap;o.each(function(s){removeEl(s,inner11(s).option,o,a._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(Component_default2);function newEl(r){assert(r,"graphic type MUST be set");var n=hasOwn2(nonShapeGraphicElements,r)?nonShapeGraphicElements[r]:getShapeClass(r);assert(n,"graphic type "+r+" can not be found");var a=new n({});return inner11(a).type=r,a}function createEl(r,n,a,o){var s=newEl(a);return n.add(s),o.set(r,s),inner11(s).id=r,inner11(s).isNew=!0,s}function removeEl(r,n,a,o){var s=r&&r.parent;s&&(r.type==="group"&&r.traverse(function(l){removeEl(l,n,a,o)}),applyLeaveTransition(r,n,o),a.removeKey(inner11(r).id))}function updateCommonAttrs(r,n,a,o){if(!r.isGroup){var s=r;s.cursor=retrieve2(n.cursor,Displayable_default.prototype.cursor),s.z=retrieve2(n.z,a||0),s.zlevel=retrieve2(n.zlevel,o||0);var l=n.z2;l!=null&&(s.z2=l||0)}each(keys2(n),function(u){var f=n[u];u.indexOf("on")===0&&isFunction3(f)&&(r[u]=f)}),r.draggable=n.draggable,n.name!=null&&(r.name=n.name),n.id!=null&&(r.id=n.id)}function getCleanedElOption(r){return r=extend2({},r),each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete r[n]}),r}function setEventData(r,n,a){var o=getECData(r).eventData;!r.silent&&!r.ignore&&!o&&(o=getECData(r).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:r.name}),o&&(o.info=a.info)}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(r){var n=r.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(r){return assert(r),r+"Axis"}function collectReferCoordSysModelInfo(r){var n=r.ecModel,a={infoList:[],infoMap:createHashMap()};return r.eachTargetAxis(function(o,s){var l=n.getComponent(getAxisMainType(o),s);if(!!l){var u=l.getCoordSysModel();if(!!u){var f=u.uid,d=a.infoMap.get(f);d||(d={model:u,axisModels:[]},a.infoList.push(d),a.infoMap.set(f,d)),d.axisModels.push(l)}}}),a}var DataZoomAxisInfo=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},r}(),DataZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return n.prototype.init=function(a,o,s){var l=retrieveRawOption(a);this.settledOption=l,this.mergeDefaultAndTheme(a,s),this._doInit(l)},n.prototype.mergeOption=function(a){var o=retrieveRawOption(a);merge3(this.option,a,!0),merge3(this.settledOption,o,!0),this._doInit(o)},n.prototype._doInit=function(a){var o=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var s=this.settledOption;each([["start","startValue"],["end","endValue"]],function(l,u){this._rangePropMode[u]==="value"&&(o[l[0]]=s[l[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var a=this.get("orient",!0),o=this._targetAxisInfoMap=createHashMap(),s=this._fillSpecifiedTargetAxis(o);s?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(l){l.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(a){var o=!1;return each(DATA_ZOOM_AXIS_DIMENSIONS,function(s){var l=this.getReferringComponents(getAxisMainType(s),MULTIPLE_REFERRING);if(!!l.specified){o=!0;var u=new DataZoomAxisInfo;each(l.models,function(f){u.add(f.componentIndex)}),a.set(s,u)}},this),o},n.prototype._fillAutoTargetAxisByOrient=function(a,o){var s=this.ecModel,l=!0;if(l){var u=o==="vertical"?"y":"x",f=s.findComponents({mainType:u+"Axis"});d(f,u)}if(l){var f=s.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===o}});d(f,"single")}function d(v,g){var y=v[0];if(!!y){var b=new DataZoomAxisInfo;if(b.add(y.componentIndex),a.set(g,b),l=!1,g==="x"||g==="y"){var _=y.getReferringComponents("grid",SINGLE_REFERRING).models[0];_&&each(v,function(x){y.componentIndex!==x.componentIndex&&_===x.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&b.add(x.componentIndex)})}}}l&&each(DATA_ZOOM_AXIS_DIMENSIONS,function(v){if(!!l){var g=s.findComponents({mainType:getAxisMainType(v),filter:function(b){return b.get("type",!0)==="category"}});if(g[0]){var y=new DataZoomAxisInfo;y.add(g[0].componentIndex),a.set(v,y),l=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(o){!a&&(a=o)},this),a==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(a){var o=this._rangePropMode,s=this.get("rangeMode");each([["start","startValue"],["end","endValue"]],function(l,u){var f=a[l[0]]!=null,d=a[l[1]]!=null;f&&!d?o[u]="percent":!f&&d?o[u]="value":s?o[u]=s[u]:f&&(o[u]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(o,s){a==null&&(a=this.ecModel.getComponent(getAxisMainType(o),s))},this),a},n.prototype.eachTargetAxis=function(a,o){this._targetAxisInfoMap.each(function(s,l){each(s.indexList,function(u){a.call(o,l,u)})})},n.prototype.getAxisProxy=function(a,o){var s=this.getAxisModel(a,o);if(s)return s.__dzAxisProxy},n.prototype.getAxisModel=function(a,o){assert(a&&o!=null);var s=this._targetAxisInfoMap.get(a);if(s&&s.indexMap[o])return this.ecModel.getComponent(getAxisMainType(a),o)},n.prototype.setRawRange=function(a){var o=this.option,s=this.settledOption;each([["start","startValue"],["end","endValue"]],function(l){(a[l[0]]!=null||a[l[1]]!=null)&&(o[l[0]]=s[l[0]]=a[l[0]],o[l[1]]=s[l[1]]=a[l[1]])},this),this._updateRangeUse(a)},n.prototype.setCalculatedRange=function(a){var o=this.option;each(["start","startValue","end","endValue"],function(s){o[s]=a[s]})},n.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},n.prototype.getValueRange=function(a,o){if(a==null&&o==null){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataValueWindow()}else return this.getAxisProxy(a,o).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),l=0;l<s.length;l++)for(var u=s[l],f=this._targetAxisInfoMap.get(u),d=0;d<f.indexList.length;d++){var v=this.getAxisProxy(u,f.indexList[d]);if(v.hostedBy(this))return v;o||(o=v)}return o},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return assert(this._orient),this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(Component_default);function retrieveRawOption(r){var n={};return each(["start","end","startValue","endValue","throttle"],function(a){r.hasOwnProperty(a)&&(n[a]=r[a])}),n}var DataZoomModel_default=DataZoomModel,SelectDataZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.select",n}(DataZoomModel_default),DataZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this.dataZoomModel=a,this.ecModel=o,this.api=s},n.type="dataZoom",n}(Component_default2),DataZoomView_default=DataZoomView,SelectDataZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.select",n}(DataZoomView_default),each5=each,asc2=asc,AxisProxy=function(){function r(n,a,o,s){this._dimName=n,this._axisIndex=a,this.ecModel=s,this._dataZoomModel=o}return r.prototype.hostedBy=function(n){return this._dataZoomModel===n},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(a){if(isCoordSupported(a)){var o=getAxisMainType(this._dimName),s=a.getReferringComponents(o,SINGLE_REFERRING).models[0];s&&this._axisIndex===s.componentIndex&&n.push(a)}},this),n},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return clone(this._minMaxSpan)},r.prototype.calculateDataWindow=function(n){var a=this._dataExtent,o=this.getAxisModel(),s=o.axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],f=[],d=[],v;each5(["start","end"],function(b,_){var x=n[b],w=n[b+"Value"];l[_]==="percent"?(x==null&&(x=u[_]),w=s.parse(linearMap(x,u,a))):(v=!0,w=w==null?a[_]:s.parse(w),x=linearMap(w,a,u)),d[_]=w,f[_]=x}),asc2(d),asc2(f);var g=this._minMaxSpan;v?y(d,f,a,u,!1):y(f,d,u,a,!0);function y(b,_,x,w,C){var S=C?"Span":"ValueSpan";sliderMove(0,b,x,"all",g["min"+S],g["max"+S]);for(var D=0;D<2;D++)_[D]=linearMap(b[D],x,w,!0),C&&(_[D]=s.parse(_[D]))}return{valueWindow:d,percentWindow:f}},r.prototype.reset=function(n){if(n===this._dataZoomModel){var a=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,a),this._updateMinMaxSpan();var o=this.calculateDataWindow(n.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(n,a){if(n!==this._dataZoomModel)return;var o=this._dimName,s=this.getTargetSeriesModels(),l=n.get("filterMode"),u=this._valueWindow;if(l==="none")return;each5(s,function(d){var v=d.getData(),g=v.mapDimensionsAll(o);if(!!g.length){if(l==="weakFilter"){var y=v.getStore(),b=map3(g,function(_){return v.getDimensionIndex(_)},v);v.filterSelf(function(_){for(var x,w,C,S=0;S<g.length;S++){var D=y.get(b[S],_),A=!isNaN(D),T=D<u[0],P=D>u[1];if(A&&!T&&!P)return!0;A&&(C=!0),T&&(x=!0),P&&(w=!0)}return C&&x&&w})}else each5(g,function(_){if(l==="empty")d.setData(v=v.map(_,function(w){return f(w)?w:NaN}));else{var x={};x[_]=u,v.selectRange(x)}});each5(g,function(_){v.setApproximateExtent(u,_)})}});function f(d){return d>=u[0]&&d<=u[1]}},r.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},a=this._dataZoomModel,o=this._dataExtent;each5(["min","max"],function(s){var l=a.get(s+"Span"),u=a.get(s+"ValueSpan");u!=null&&(u=this.getAxisModel().axis.scale.parse(u)),u!=null?l=linearMap(o[0]+u,o,[0,100],!0):l!=null&&(u=linearMap(l,[0,100],o,!0)-o[0]),n[s+"Span"]=l,n[s+"ValueSpan"]=u},this)},r.prototype._setAxisModel=function(){var n=this.getAxisModel(),a=this._percentWindow,o=this._valueWindow;if(!!a){var s=getPixelPrecision(o,[0,500]);s=Math.min(s,20);var l=n.axis.scale.rawExtentInfo;a[0]!==0&&l.setDeterminedMinMax("min",+o[0].toFixed(s)),a[1]!==100&&l.setDeterminedMinMax("max",+o[1].toFixed(s)),l.freeze()}},r}();function calculateDataExtent(r,n,a){var o=[1/0,-1/0];each5(a,function(u){unionAxisExtentFromData(o,u.getData(),n)});var s=r.getAxisModel(),l=ensureScaleRawExtentInfo(s.axis.scale,s,o).calculate();return[l.min,l.max]}var ToolboxFeature=function(){function r(){}return r}(),features={};function getFeature(r){return features[r]}var ToolboxModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var a=this.ecModel;each(this.option.feature,function(o,s){var l=getFeature(s);l&&(l.getDefaultOption&&(l.defaultOption=l.getDefaultOption(a)),merge3(o,l.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(Component_default);function layout4(r,n,a){var o=n.getBoxLayoutParams(),s=n.get("padding"),l={width:a.getWidth(),height:a.getHeight()},u=getLayoutRect(o,l,s);box(n.get("orient"),r,n.get("itemGap"),u.width,u.height),positionElement(r,o,l,s)}function makeBackground(r,n){var a=normalizeCssArray2(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),r=new Rect_default({shape:{x:r.x-a[3],y:r.y-a[0],width:r.width+a[1]+a[3],height:r.height+a[0]+a[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1}),r}var ToolboxView=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s,l){var u=this.group;if(u.removeAll(),!a.get("show"))return;var f=+a.get("itemSize"),d=a.get("orient")==="vertical",v=a.get("feature")||{},g=this._features||(this._features={}),y=[];each(v,function(x,w){y.push(w)}),new DataDiffer_default(this._featureNames||[],y).add(b).update(b).remove(curry(b,null)).execute(),this._featureNames=y;function b(x,w){var C=y[x],S=y[w],D=v[C],A=new Model_default(D,a,a.ecModel),T;if(l&&l.newTitle!=null&&l.featureName===C&&(D.title=l.newTitle),C&&!S){if(isUserFeatureName(C))T={onclick:A.option.onclick,featureName:C};else{var P=getFeature(C);if(!P)return;T=new P}g[C]=T}else if(T=g[S],!T)return;T.uid=getUID("toolbox-feature"),T.model=A,T.ecModel=o,T.api=s;var E=T instanceof ToolboxFeature;if(!C&&S){E&&T.dispose&&T.dispose(o,s);return}if(!A.get("show")||E&&T.unusable){E&&T.remove&&T.remove(o,s);return}_(A,T,C),A.setIconStatus=function(M,L){var F=this.option,I=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[M]=L,I[M]&&(L==="emphasis"?enterEmphasis:leaveEmphasis)(I[M])},T instanceof ToolboxFeature&&T.render&&T.render(A,o,s,l)}function _(x,w,C){var S=x.getModel("iconStyle"),D=x.getModel(["emphasis","iconStyle"]),A=w instanceof ToolboxFeature&&w.getIcons?w.getIcons():x.get("icon"),T=x.get("title")||{},P,E;isString2(A)?(P={},P[C]=A):P=A,isString2(T)?(E={},E[C]=T):E=T;var M=x.iconPaths={};each(P,function(L,F){var I=createIcon(L,{},{x:-f/2,y:-f/2,width:f,height:f});I.setStyle(S.getItemStyle());var B=I.ensureState("emphasis");B.style=D.getItemStyle();var O=new Text_default({style:{text:E[F],align:D.get("textAlign"),borderRadius:D.get("textBorderRadius"),padding:D.get("textPadding"),fill:null},ignore:!0});I.setTextContent(O),setTooltipConfig({el:I,componentModel:a,itemName:F,formatterParamsExtra:{title:E[F]}}),I.__title=E[F],I.on("mouseover",function(){var R=D.getItemStyle(),z=d?a.get("right")==null&&a.get("left")!=="right"?"right":"left":a.get("bottom")==null&&a.get("top")!=="bottom"?"bottom":"top";O.setStyle({fill:D.get("textFill")||R.fill||R.stroke||"#000",backgroundColor:D.get("textBackgroundColor")}),I.setTextConfig({position:D.get("textPosition")||z}),O.ignore=!a.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){x.get(["iconStatus",F])!=="emphasis"&&s.leaveEmphasis(this),O.hide()}),(x.get(["iconStatus",F])==="emphasis"?enterEmphasis:leaveEmphasis)(I),u.add(I),I.on("click",bind(w.onclick,w,o,s,F)),M[F]=I})}layout4(u,a,s),u.add(makeBackground(u.getBoundingRect(),a)),d||u.eachChild(function(x){var w=x.__title,C=x.ensureState("emphasis"),S=C.textConfig||(C.textConfig={}),D=x.getTextContent(),A=D&&D.ensureState("emphasis");if(A&&!isFunction3(A)&&w){var T=A.style||(A.style={}),P=getBoundingRect(w,Text_default.makeFont(T)),E=x.x+u.x,M=x.y+u.y+f,L=!1;M+P.height>s.getHeight()&&(S.position="top",L=!0);var F=L?-5-P.height:f+10;E+P.width/2>s.getWidth()?(S.position=["100%",F],T.align="right"):E-P.width/2<0&&(S.position=[0,F],T.align="left")}})},n.prototype.updateView=function(a,o,s,l){each(this._features,function(u){u instanceof ToolboxFeature&&u.updateView&&u.updateView(u.model,o,s,l)})},n.prototype.remove=function(a,o){each(this._features,function(s){s instanceof ToolboxFeature&&s.remove&&s.remove(a,o)}),this.group.removeAll()},n.prototype.dispose=function(a,o){each(this._features,function(s){s instanceof ToolboxFeature&&s.dispose&&s.dispose(a,o)})},n.type="toolbox",n}(Component_default2);function isUserFeatureName(r){return r.indexOf("my")===0}var SaveAsImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){var s=this.model,l=s.get("name")||a.get("title.0.text")||"echarts",u=o.getZr().painter.getType()==="svg",f=u?"svg":s.get("type",!0)||"png",d=o.getConnectedDataURL({type:f,backgroundColor:s.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),v=env_default.browser;if(isFunction3(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=l+"."+f,g.target="_blank",g.href=d;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||u){var b=d.split(","),_=b[0].indexOf("base64")>-1,x=u?decodeURIComponent(b[1]):b[1];_&&(x=window.atob(x));var w=l+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var C=x.length,S=new Uint8Array(C);C--;)S[C]=x.charCodeAt(C);var D=new Blob([S]);window.navigator.msSaveOrOpenBlob(D,w)}else{var A=document.createElement("iframe");document.body.appendChild(A);var T=A.contentWindow,P=T.document;P.open("image/svg+xml","replace"),P.write(x),P.close(),T.focus(),P.execCommand("SaveAs",!0,w),document.body.removeChild(A)}}else{var E=s.get("lang"),M='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',L=window.open();L.document.write(M),L.document.title=l}},n.getDefaultOption=function(a){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},n}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getIcons=function(){var a=this.model,o=a.get("icon"),s={};return each(a.get("type"),function(l){o[l]&&(s[l]=o[l])}),s},n.getDefaultOption=function(a){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},n.prototype.onclick=function(a,o,s){var l=this.model,u=l.get(["seriesIndex",s]);if(!!seriesOptGenreator[s]){var f={series:[]},d=function(y){var b=y.subType,_=y.id,x=seriesOptGenreator[s](b,_,y,l);x&&(defaults(x,y.option),f.series.push(x));var w=y.coordinateSystem;if(w&&w.type==="cartesian2d"&&(s==="line"||s==="bar")){var C=w.getAxesByScale("ordinal")[0];if(C){var S=C.dim,D=S+"Axis",A=y.getReferringComponents(D,SINGLE_REFERRING).models[0],T=A.componentIndex;f[D]=f[D]||[];for(var P=0;P<=T;P++)f[D][T]=f[D][T]||{};f[D][T].boundaryGap=s==="bar"}}};each(radioTypes,function(y){indexOf(y,s)>=0&&each(y,function(b){l.setIconStatus(b,"normal")})}),l.setIconStatus(s,"emphasis"),a.eachComponent({mainType:"series",query:u==null?null:{seriesIndex:u}},d);var v,g=s;s==="stack"&&(v=merge3({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title),l.get(["iconStatus",s])!=="emphasis"&&(g="tiled")),o.dispatchAction({type:"changeMagicType",currentType:g,newOption:f,newTitle:v,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(r,n,a,o){if(r==="bar")return merge3({id:n,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(r,n,a,o){if(r==="line")return merge3({id:n,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(r,n,a,o){var s=a.get("stack")===INNER_STACK_KEYWORD;if(r==="line"||r==="bar")return o.setIconStatus("stack",s?"normal":"emphasis"),merge3({id:n,stack:s?"":INNER_STACK_KEYWORD},o.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,n){n.mergeOption(r.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(r){var n={},a=[],o=[];return r.eachRawSeries(function(s){var l=s.coordinateSystem;if(l&&(l.type==="cartesian2d"||l.type==="polar")){var u=l.getBaseAxis();if(u.type==="category"){var f=u.dim+"_"+u.index;n[f]||(n[f]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},o.push({axisDim:u.dim,axisIndex:u.index})),n[f].series.push(s)}else a.push(s)}else a.push(s)}),{seriesGroupByCategoryAxis:n,other:a,meta:o}}function assembleSeriesWithCategoryAxis(r){var n=[];return each(r,function(a,o){var s=a.categoryAxis,l=a.valueAxis,u=l.dim,f=[" "].concat(map3(a.series,function(_){return _.name})),d=[s.model.getCategories()];each(a.series,function(_){var x=_.getRawData();d.push(_.getRawData().mapArray(x.mapDimension(u),function(w){return w}))});for(var v=[f.join(ITEM_SPLITER)],g=0;g<d[0].length;g++){for(var y=[],b=0;b<d.length;b++)y.push(d[b][g]);v.push(y.join(ITEM_SPLITER))}n.push(v.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(r){return map3(r,function(n){var a=n.getRawData(),o=[n.name],s=[];return a.each(a.dimensions,function(){for(var l=arguments.length,u=arguments[l-1],f=a.getName(u),d=0;d<l-1;d++)s[d]=arguments[d];o.push((f?f+ITEM_SPLITER:"")+s.join(ITEM_SPLITER))}),o.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(r){var n=groupSeries(r);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim2(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(r){var n=r.slice(0,r.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(r){for(var n=r.split(/\n+/g),a=trim2(n.shift()).split(itemSplitRegex),o=[],s=map3(a,function(d){return{name:d,data:[]}}),l=0;l<n.length;l++){var u=trim2(n[l]).split(itemSplitRegex);o.push(u.shift());for(var f=0;f<u.length;f++)s[f]&&(s[f].data[l]=u[f])}return{series:s,categories:o}}function parseListContents(r){for(var n=r.split(/\n+/g),a=trim2(n.shift()),o=[],s=0;s<n.length;s++){var l=trim2(n[s]);if(!!l){var u=l.split(itemSplitRegex),f="",d=void 0,v=!1;isNaN(u[0])?(v=!0,f=u[0],u=u.slice(1),o[s]={name:f,value:[]},d=o[s].value):d=o[s]=[];for(var g=0;g<u.length;g++)d.push(+u[g]);d.length===1&&(v?o[s].value=d[0]:o[s]=d[0])}}return{name:a,data:o}}function parseContents(r,n){var a=r.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),o={series:[]};return each(a,function(s,l){if(isTSVFormat(s)){var u=parseTSVContents(s),f=n[l],d=f.axisDim+"Axis";f&&(o[d]=o[d]||[],o[d][f.axisIndex]={data:u.categories},o.series=o.series.concat(u.series))}else{var u=parseListContents(s);o.series.push(u)}}),o}var DataView3=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),l=this.model;this._dom&&s.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=l.get("backgroundColor")||"#fff";var f=document.createElement("h4"),d=l.get("lang")||[];f.innerHTML=d[0]||l.get("title"),f.style.cssText="margin:10px 20px",f.style.color=l.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=l.get("optionToContent"),b=l.get("contentToOption"),_=getContentFromModel(a);if(isFunction3(y)){var x=y(o.getOption());isString2(x)?v.innerHTML=x:isDom(x)&&v.appendChild(x)}else{g.readOnly=l.get("readOnly");var w=g.style;w.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",w.color=l.get("textColor"),w.borderColor=l.get("textareaBorderColor"),w.backgroundColor=l.get("textareaColor"),g.value=_.value,v.appendChild(g)}var C=_.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),T=document.createElement("div");D+=";background-color:"+l.get("buttonColor"),D+=";color:"+l.get("buttonTextColor");var P=this;function E(){s.removeChild(u),P._dom=null}addEventListener3(A,"click",E),addEventListener3(T,"click",function(){if(b==null&&y!=null||b!=null&&y==null){warn6("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),E();return}var M;try{isFunction3(b)?M=b(v,o.getOption()):M=parseContents(g.value,C)}catch(L){throw E(),new Error("Data view format error "+L)}M&&o.dispatchAction({type:"changeDataView",newOption:M}),E()}),A.innerHTML=d[1],T.innerHTML=d[2],T.style.cssText=A.style.cssText=D,!l.get("readOnly")&&S.appendChild(T),S.appendChild(A),u.appendChild(f),u.appendChild(v),u.appendChild(S),v.style.height=s.clientHeight-80+"px",s.appendChild(u),this._dom=u},n.prototype.remove=function(a,o){this._dom&&o.getDom().removeChild(this._dom)},n.prototype.dispose=function(a,o){this.remove(a,o)},n.getDefaultOption=function(a){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},n}(ToolboxFeature);function tryMergeDataOption(r,n){return map3(r,function(a,o){var s=n&&n[o];if(isObject3(s)&&!isArray3(s)){var l=isObject3(a)&&!isArray3(a);l||(a={value:a});var u=s.name!=null&&a.name==null;return a=defaults(a,s),u&&delete a.name,a}else return a})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,n){var a=[];each(r.newOption.series,function(o){var s=n.getSeriesByName(o.name)[0];if(!s)a.push(extend2({type:"scatter"},o));else{var l=s.get("data");a.push({name:o.name,data:tryMergeDataOption(o.data,l)})}}),n.mergeOption(defaults({series:a},r.newOption))});var each6=each,inner12=makeInner();function push(r,n){var a=getStoreSnapshots(r);each6(n,function(o,s){for(var l=a.length-1;l>=0;l--){var u=a[l];if(u[s])break}if(l<0){var f=r.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(f){var d=f.getPercentRange();a[0][s]={dataZoomId:s,start:d[0],end:d[1]}}}}),a.push(n)}function pop(r){var n=getStoreSnapshots(r),a=n[n.length-1];n.length>1&&n.pop();var o={};return each6(a,function(s,l){for(var u=n.length-1;u>=0;u--)if(s=n[u][l],s){o[l]=s;break}}),o}function clear3(r){inner12(r).snapshots=null}function count(r){return getStoreSnapshots(r).length}function getStoreSnapshots(r){var n=inner12(r);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){clear3(a),o.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(a){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])};return o},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,n){n.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function r(n,a,o){var s=this;this._targetInfoList=[];var l=parseFinder2(a,n);each(targetInfoBuilders,function(u,f){(!o||!o.include||indexOf(o.include,f)>=0)&&u(l,s._targetInfoList)})}return r.prototype.setOutputRanges=function(n,a){return this.matchOutputRanges(n,a,function(o,s,l){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var u=coordConvert[o.brushType](0,l,s);o.__rangeOffset={offset:diffProcessor[o.brushType](u.values,o.range,[1,1]),xyMinMax:u.xyMinMax}}}),n},r.prototype.matchOutputRanges=function(n,a,o){each(n,function(s){var l=this.findTargetInfo(s,a);l&&l!==!0&&each(l.coordSyses,function(u){var f=coordConvert[s.brushType](1,u,s.range,!0);o(s,f.values,u,a)})},this)},r.prototype.setInputRanges=function(n,a){each(n,function(o){var s=this.findTargetInfo(o,a);if(assert(!s||s===!0||o.coordRange,"coordRange must be specified when coord index specified."),assert(!s||s!==!0||o.range,"range must be specified in global brush."),o.range=o.range||[],s&&s!==!0){o.panelId=s.panelId;var l=coordConvert[o.brushType](0,s.coordSys,o.coordRange),u=o.__rangeOffset;o.range=u?diffProcessor[o.brushType](l.values,u.offset,getScales(l.xyMinMax,u.xyMinMax)):l.values}},this)},r.prototype.makePanelOpts=function(n,a){return map3(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:a?a(o):null,clipPath:makeRectPanelClipPath(s),isTargetByCursor:makeRectIsTargetByCursor(s,n,o.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(s)}})},r.prototype.controlSeries=function(n,a,o){var s=this.findTargetInfo(n,o);return s===!0||s&&indexOf(s.coordSyses,a.coordinateSystem)>=0},r.prototype.findTargetInfo=function(n,a){for(var o=this._targetInfoList,s=parseFinder2(a,n),l=0;l<o.length;l++){var u=o[l],f=n.panelId;if(f){if(u.panelId===f)return u}else for(var d=0;d<targetInfoMatchers.length;d++)if(targetInfoMatchers[d](s,u))return u}return!0},r}();function formatMinMax(r){return r[0]>r[1]&&r.reverse(),r}function parseFinder2(r,n){return parseFinder(r,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(r,n){var a=r.xAxisModels,o=r.yAxisModels,s=r.gridModels,l=createHashMap(),u={},f={};!a&&!o&&!s||(each(a,function(d){var v=d.axis.grid.model;l.set(v.id,v),u[v.id]=!0}),each(o,function(d){var v=d.axis.grid.model;l.set(v.id,v),f[v.id]=!0}),each(s,function(d){l.set(d.id,d),u[d.id]=!0,f[d.id]=!0}),l.each(function(d){var v=d.coordinateSystem,g=[];each(v.getCartesians(),function(y,b){(indexOf(a,y.getAxis("x").model)>=0||indexOf(o,y.getAxis("y").model)>=0)&&g.push(y)}),n.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:panelRectBuilders.grid,xAxisDeclared:u[d.id],yAxisDeclared:f[d.id]})}))},geo:function(r,n){each(r.geoModels,function(a){var o=a.coordinateSystem;n.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:o,coordSyses:[o],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(r,n){var a=r.xAxisModel,o=r.yAxisModel,s=r.gridModel;return!s&&a&&(s=a.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===n.gridModel},function(r,n){var a=r.geoModel;return a&&a===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,n=r.getBoundingRect().clone();return n.applyTransform(getTransform(r)),n}},coordConvert={lineX:curry(axisConvert,0),lineY:curry(axisConvert,1),rect:function(r,n,a,o){var s=r?n.pointToData([a[0][0],a[1][0]],o):n.dataToPoint([a[0][0],a[1][0]],o),l=r?n.pointToData([a[0][1],a[1][1]],o):n.dataToPoint([a[0][1],a[1][1]],o),u=[formatMinMax([s[0],l[0]]),formatMinMax([s[1],l[1]])];return{values:u,xyMinMax:u}},polygon:function(r,n,a,o){var s=[[1/0,-1/0],[1/0,-1/0]],l=map3(a,function(u){var f=r?n.pointToData(u,o):n.dataToPoint(u,o);return s[0][0]=Math.min(s[0][0],f[0]),s[1][0]=Math.min(s[1][0],f[1]),s[0][1]=Math.max(s[0][1],f[0]),s[1][1]=Math.max(s[1][1],f[1]),f});return{values:l,xyMinMax:s}}};function axisConvert(r,n,a,o){assert(a.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var s=a.getAxis(["x","y"][r]),l=formatMinMax(map3([0,1],function(f){return n?s.coordToData(s.toLocalCoord(o[f]),!0):s.toGlobalCoord(s.dataToCoord(o[f]))})),u=[];return u[r]=l,u[1-r]=[NaN,NaN],{values:l,xyMinMax:u}}var diffProcessor={lineX:curry(axisDiffProcessor,0),lineY:curry(axisDiffProcessor,1),rect:function(r,n,a){return[[r[0][0]-a[0]*n[0][0],r[0][1]-a[0]*n[0][1]],[r[1][0]-a[1]*n[1][0],r[1][1]-a[1]*n[1][1]]]},polygon:function(r,n,a){return map3(r,function(o,s){return[o[0]-a[0]*n[s][0],o[1]-a[1]*n[s][1]]})}};function axisDiffProcessor(r,n,a,o){return[n[0]-o[r]*a[0],n[1]-o[r]*a[1]]}function getScales(r,n){var a=getSize2(r),o=getSize2(n),s=[a[0]/o[0],a[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function getSize2(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var BrushTargetManager_default=BrushTargetManager,each7=each,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s,l){this._brushController||(this._brushController=new BrushController_default(s.getZr()),this._brushController.on("brush",bind(this._onBrush,this)).mount()),updateZoomBtnStatus(a,o,this,l,s),updateBackBtnStatus(a,o)},n.prototype.onclick=function(a,o,s){handlers2[s].call(this)},n.prototype.remove=function(a,o){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(a,o){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(a){var o=a.areas;if(!a.isEnd||!o.length)return;var s={},l=this.ecModel;this._brushController.updateCovers([]);var u=new BrushTargetManager_default(makeAxisFinder(this.model),l,{include:["grid"]});u.matchOutputRanges(o,l,function(v,g,y){if(y.type==="cartesian2d"){var b=v.brushType;b==="rect"?(f("x",y,g[0]),f("y",y,g[1])):f({lineX:"x",lineY:"y"}[b],y,g)}}),push(l,s),this._dispatchZoomAction(s);function f(v,g,y){var b=g.getAxis(v),_=b.model,x=d(v,_,l),w=x.findRepresentativeAxisProxy(_).getMinMaxSpan();(w.minValueSpan!=null||w.maxValueSpan!=null)&&(y=sliderMove(0,y.slice(),b.scale.getExtent(),0,w.minValueSpan,w.maxValueSpan)),x&&(s[x.id]={dataZoomId:x.id,startValue:y[0],endValue:y[1]})}function d(v,g,y){var b;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var x=_.getAxisModel(v,g.componentIndex);x&&(b=_)}),b}},n.prototype._dispatchZoomAction=function(a){var o=[];each7(a,function(s,l){o.push(clone(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},n.getDefaultOption=function(a){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},n}(ToolboxFeature),handlers2={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(r){var n={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(r,n){r.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(r,n,a,o,s){var l=a._isZoomActive;o&&o.type==="takeGlobalCursor"&&(l=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),a._isZoomActive=l,r.setIconStatus("zoom",l?"emphasis":"normal");var u=new BrushTargetManager_default(makeAxisFinder(r),n,{include:["grid"]}),f=u.makePanelOpts(s,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});a._brushController.setPanels(f).enableBrush(l&&f.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(r){var n=r.getComponent("toolbox",0),a=["feature","dataZoom"];if(!n||n.get(a)==null)return;var o=n.getModel(a),s=[],l=makeAxisFinder(o),u=parseFinder(r,l);each7(u.xAxisModels,function(d){return f(d,"xAxis","xAxisIndex")}),each7(u.yAxisModels,function(d){return f(d,"yAxis","yAxisIndex")});function f(d,v,g){var y=d.componentIndex,b={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+v+y};b[g]=y,s.push(b)}return s});var TooltipModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(Component_default),TooltipModel_default=TooltipModel;function shouldTooltipConfine(r){var n=r.get("confine");return n!=null?!!n:r.get("renderMode")==="richText"}function testStyle(r){if(!!env_default.domSupported){for(var n=document.documentElement.style,a=0,o=r.length;a<o;a++)if(r[a]in n)return r[a]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,n){if(!r)return n;n=toCamelCase(n,!0);var a=r.indexOf(n);return r=a===-1?n:"-"+r.slice(0,a)+"-"+n,r.toLowerCase()}function getComputedStyle2(r,n){var a=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return a?n?a[n]:a:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env_default.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,n,a){if(!isString2(a)||a==="inside")return"";var o=r.get("backgroundColor"),s=r.get("borderWidth");n=convertToColorString(n);var l=mirrorPos(a),u=Math.max(Math.round(s)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",v;indexOf(["left","right"],l)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(v=l==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(v=l==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=u+s,b=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),_=Math.round(((b-Math.SQRT2*s)/2+Math.SQRT2*s-(b-y)/2)*100)/100;f+=";"+l+":-"+_+"px";var x=n+" solid "+s+"px;",w=["position:absolute;width:"+u+"px;height:"+u+"px;",f+";"+d+";","border-bottom:"+x,"border-right:"+x,"background-color:"+o+";"];return'<div style="'+w.join("")+'"></div>'}function assembleTransition(r,n){var a="cubic-bezier(0.23,1,0.32,1)",o=" "+r/2+"s "+a,s="opacity"+o+",visibility"+o;return n||(o=" "+r+"s "+a,s+=env_default.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+s}function assembleTransform(r,n,a){var o=r.toFixed(0)+"px",s=n.toFixed(0)+"px";if(!env_default.transformSupported)return a?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var l=env_default.transform3dSupported,u="translate"+(l?"3d":"")+"("+o+","+s+(l?",0":"")+")";return a?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+u+";":[["top",0],["left",0],[TRANSFORM_VENDOR,u]]}function assembleFont(r){var n=[],a=r.get("fontSize"),o=r.getTextColor();o&&n.push("color:"+o),n.push("font:"+r.getFont()),a&&n.push("line-height:"+Math.round(a*3/2)+"px");var s=r.get("textShadowColor"),l=r.get("textShadowBlur")||0,u=r.get("textShadowOffsetX")||0,f=r.get("textShadowOffsetY")||0;return s&&l&&n.push("text-shadow:"+u+"px "+f+"px "+l+"px "+s),each(["decoration","align"],function(d){var v=r.get(d);v&&n.push("text-"+d+":"+v)}),n.join(";")}function assembleCssText(r,n,a){var o=[],s=r.get("transitionDuration"),l=r.get("backgroundColor"),u=r.get("shadowBlur"),f=r.get("shadowColor"),d=r.get("shadowOffsetX"),v=r.get("shadowOffsetY"),g=r.getModel("textStyle"),y=getPaddingFromTooltipModel(r,"html"),b=d+"px "+v+"px "+u+"px "+f;return o.push("box-shadow:"+b),n&&s&&o.push(assembleTransition(s,a)),l&&o.push("background-color:"+l),each(["width","color","radius"],function(_){var x="border-"+_,w=toCamelCase(x),C=r.get(w);C!=null&&o.push(x+":"+C+(_==="color"?"":"px"))}),o.push(assembleFont(g)),y!=null&&o.push("padding:"+normalizeCssArray2(y).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord(r,n,a,o,s){var l=n&&n.painter;if(a){var u=l&&l.getViewportRoot();u&&transformLocalCoord(r,u,document.body,o,s)}else{r[0]=o,r[1]=s;var f=l&&l.getViewportRootOffset();f&&(r[0]+=f.offsetLeft,r[1]+=f.offsetTop)}r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipHTMLContent=function(){function r(n,a,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env_default.wxa)return null;var s=document.createElement("div");s.domBelongToZr=!0,this.el=s;var l=this._zr=a.getZr(),u=this._appendToBody=o&&o.appendToBody;makeStyleCoord(this._styleCoord,l,u,a.getWidth()/2,a.getHeight()/2),u?document.body.appendChild(s):n.appendChild(s),this._container=n;var f=this;s.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},s.onmousemove=function(d){if(d=d||window.event,!f._enterable){var v=l.handler,g=l.painter.getViewportRoot();normalizeEvent(g,d,!0),v.dispatch("mousemove",d)}},s.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return r.prototype.update=function(n){var a=this._container,o=getComputedStyle2(a,"position"),s=a.style;s.position!=="absolute"&&o!=="absolute"&&(s.position="relative");var l=n.get("alwaysShowContent");l&&this._moveIfResized(),this.el.className=n.get("className")||""},r.prototype.show=function(n,a){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,l=this._styleCoord;o.innerHTML?s.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(l[0],l[1],!0)+("border-color:"+convertToColorString(a)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(n,a,o,s,l){var u=this.el;if(n==null){u.innerHTML="";return}var f="";if(isString2(l)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(f=assembleArrow(o,s,l)),isString2(n))u.innerHTML=n+f;else if(n){u.innerHTML="",isArray3(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==u&&u.appendChild(n[d]);if(f&&u.childNodes.length){var v=document.createElement("div");v.innerHTML=f,u.appendChild(v)}}},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},r.prototype.moveTo=function(n,a){var o=this._styleCoord;if(makeStyleCoord(o,this._zr,this._appendToBody,n,a),o[0]!=null&&o[1]!=null){var s=this.el.style,l=assembleTransform(o[0],o[1]);each(l,function(u){s[u[0]]=u[1]})}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),a*this._zr.getHeight())},r.prototype.hide=function(){var n=this,a=this.el.style;a.visibility="hidden",a.opacity="0",env_default.transform3dSupported&&(a.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}(),TooltipHTMLContent_default=TooltipHTMLContent,TooltipRichContent=function(){function r(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord2(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return r.prototype.update=function(n){var a=n.get("alwaysShowContent");a&&this._moveIfResized()},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(n,a,o,s,l){var u=this;isObject3(n)&&throwError2("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new Text_default({style:{rich:a.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){u.el.style[v]=o.get(v)}),each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){u.el.style[v]=f.get(v)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el,a=this.el.getBoundingRect(),o=calcShadowOuterSize(n.style);return[a.width+o.left+o.right,a.height+o.top+o.bottom]},r.prototype.moveTo=function(n,a){var o=this.el;if(o){var s=this._styleCoord;makeStyleCoord2(s,this._zr,n,a),n=s[0],a=s[1];var l=o.style,u=mathMaxWith0(l.borderWidth||0),f=calcShadowOuterSize(l);o.x=n+u+f.left,o.y=a+u+f.top,o.markRedraw()}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),a*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var n=mathMaxWith0(r.shadowBlur||0),a=mathMaxWith0(r.shadowOffsetX||0),o=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(n-a),right:mathMaxWith0(n+a),top:mathMaxWith0(n-o),bottom:mathMaxWith0(n+o)}}function makeStyleCoord2(r,n,a,o){r[0]=a,r[1]=o,r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipRichContent_default=TooltipRichContent,proxyRect=new Rect_default({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){if(!(env_default.node||!o.getDom())){var s=a.getComponent("tooltip"),l=this._renderMode=getTooltipRenderMode(s.get("renderMode"));this._tooltipContent=l==="richText"?new TooltipRichContent_default(o):new TooltipHTMLContent_default(o.getDom(),o,{appendToBody:s.get("appendToBody",!0)})}},n.prototype.render=function(a,o,s){if(!(env_default.node||!s.getDom())){this.group.removeAll(),this._tooltipModel=a,this._ecModel=o,this._api=s,this._alwaysShowContent=a.get("alwaysShowContent");var l=this._tooltipContent;l.update(a),l.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&a.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear2(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var a=this._tooltipModel,o=a.get("triggerOn");register2("itemTooltip",this._api,bind(function(s,l,u){o!=="none"&&(o.indexOf(s)>=0?this._tryShow(l,u):s==="leave"&&this._hide(u))},this))},n.prototype._keepShow=function(){var a=this._tooltipModel,o=this._ecModel,s=this._api;if(this._lastX!=null&&this._lastY!=null&&a.get("triggerOn")!=="none"){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&l.manuallyShowTip(a,o,s,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(a,o,s,l){if(!(l.from===this.uid||env_default.node||!s.getDom())){var u=makeDispatchAction2(l,s);this._ticket="";var f=l.dataByCoordSys,d=findComponentReference(l,o,s);if(d){var v=d.el.getBoundingRect().clone();v.applyTransform(d.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:d.el,position:l.position,positionDefault:"bottom"},u)}else if(l.tooltip&&l.x!=null&&l.y!=null){var g=proxyRect;g.x=l.x,g.y=l.y,g.update(),getECData(g).tooltipConfig={name:null,option:l.tooltip},this._tryShow({offsetX:l.x,offsetY:l.y,target:g},u)}else if(f)this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,dataByCoordSys:f,tooltipOption:l.tooltipOption},u);else if(l.seriesIndex!=null){if(this._manuallyAxisShowTip(a,o,s,l))return;var y=findPointFromSeries(l,o),b=y.point[0],_=y.point[1];b!=null&&_!=null&&this._tryShow({offsetX:b,offsetY:_,target:y.el,position:l.position,positionDefault:"bottom"},u)}else l.x!=null&&l.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:l.x,y:l.y}),this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,target:s.getZr().findHover(l.x,l.y).target},u))}},n.prototype.manuallyHideTip=function(a,o,s,l){var u=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,l.from!==this.uid&&this._hide(makeDispatchAction2(l,s))},n.prototype._manuallyAxisShowTip=function(a,o,s,l){var u=l.seriesIndex,f=l.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(u==null||f==null||d==null)){var v=o.getSeriesByIndex(u);if(!!v){var g=v.getData(),y=buildTooltipModel([g.getItemModel(f),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:f,position:l.position}),!0}}},n.prototype._tryShow=function(a,o){var s=a.target,l=this._tooltipModel;if(!!l){this._lastX=a.offsetX,this._lastY=a.offsetY;var u=a.dataByCoordSys;if(u&&u.length)this._showAxisTooltip(u,a);else if(s){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(s,function(v){if(getECData(v).dataIndex!=null)return f=v,!0;if(getECData(v).tooltipConfig!=null)return d=v,!0},!0),f?this._showSeriesItemTooltip(a,f,o):d?this._showComponentItemTooltip(a,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(a,o){var s=a.get("showDelay");o=bind(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},n.prototype._showAxisTooltip=function(a,o){var s=this._ecModel,l=this._tooltipModel,u=[o.offsetX,o.offsetY],f=buildTooltipModel([o.tooltipOption],l),d=this._renderMode,v=[],g=createTooltipMarkup("section",{blocks:[],noHeader:!0}),y=[],b=new TooltipMarkupStyleCreator;each(a,function(D){each(D.dataByAxis,function(A){var T=s.getComponent(A.axisDim+"Axis",A.axisIndex),P=A.value;if(!(!T||P==null)){var E=getValueLabel(P,T.axis,s,A.seriesDataIndices,A.valueLabelOpt),M=createTooltipMarkup("section",{header:E,noHeader:!trim(E),sortBlocks:!0,blocks:[]});g.blocks.push(M),each(A.seriesDataIndices,function(L){var F=s.getSeriesByIndex(L.seriesIndex),I=L.dataIndexInside,B=F.getDataParams(I);if(!(B.dataIndex<0)){B.axisDim=A.axisDim,B.axisIndex=A.axisIndex,B.axisType=A.axisType,B.axisId=A.axisId,B.axisValue=getAxisRawValue(T.axis,{value:P}),B.axisValueLabel=E,B.marker=b.makeTooltipMarker("item",convertToColorString(B.color),d);var O=normalizeTooltipFormatResult(F.formatTooltip(I,!0,null)),R=O.frag;if(R){var z=buildTooltipModel([F],l).get("valueFormatter");M.blocks.push(z?extend2({valueFormatter:z},R):R)}O.text&&y.push(O.text),v.push(B)}})}})}),g.blocks.reverse(),y.reverse();var _=o.position,x=f.get("order"),w=buildTooltipMarkup(g,b,d,x,s.get("useUTC"),f.get("textStyle"));w&&y.unshift(w);var C=d==="richText"?`

`:"<br/>",S=y.join(C);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a,v)?this._updatePosition(f,_,u[0],u[1],this._tooltipContent,v):this._showTooltipContent(f,S,v,Math.random()+"",u[0],u[1],_,null,b)})},n.prototype._showSeriesItemTooltip=function(a,o,s){var l=this._ecModel,u=getECData(o),f=u.seriesIndex,d=l.getSeriesByIndex(f),v=u.dataModel||d,g=u.dataIndex,y=u.dataType,b=v.getData(y),_=this._renderMode,x=a.positionDefault,w=buildTooltipModel([b.getItemModel(g),v,d&&(d.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),C=w.get("trigger");if(!(C!=null&&C!=="item")){var S=v.getDataParams(g,y),D=new TooltipMarkupStyleCreator;S.marker=D.makeTooltipMarker("item",convertToColorString(S.color),_);var A=normalizeTooltipFormatResult(v.formatTooltip(g,!1,y)),T=w.get("order"),P=w.get("valueFormatter"),E=A.frag,M=E?buildTooltipMarkup(P?extend2({valueFormatter:P},E):E,D,_,T,l.get("useUTC"),w.get("textStyle")):A.text,L="item_"+v.name+"_"+g;this._showOrMove(w,function(){this._showTooltipContent(w,M,S,L,a.offsetX,a.offsetY,a.position,a.target,D)}),s({type:"showTip",dataIndexInside:g,dataIndex:b.getRawIndex(g),seriesIndex:f,from:this.uid})}},n.prototype._showComponentItemTooltip=function(a,o,s){var l=getECData(o),u=l.tooltipConfig,f=u.option||{};if(isString2(f)){var d=f;f={content:d,formatter:d}}var v=[f],g=this._ecModel.getComponent(l.componentMainType,l.componentIndex);g&&v.push(g),v.push({formatter:f.content});var y=a.positionDefault,b=buildTooltipModel(v,this._tooltipModel,y?{position:y}:null),_=b.get("content"),x=Math.random()+"",w=new TooltipMarkupStyleCreator;this._showOrMove(b,function(){var C=clone(b.get("formatterParams")||{});this._showTooltipContent(b,_,C,x,a.offsetX,a.offsetY,a.position,o,w)}),s({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(a,o,s,l,u,f,d,v,g){if(this._ticket="",!(!a.get("showContent")||!a.get("show"))){var y=this._tooltipContent;y.setEnterable(a.get("enterable"));var b=a.get("formatter");d=d||a.get("position");var _=o,x=this._getNearestPoint([u,f],s,a.get("trigger"),a.get("borderColor")),w=x.color;if(b)if(isString2(b)){var C=a.ecModel.get("useUTC"),S=isArray3(s)?s[0]:s,D=S&&S.axisType&&S.axisType.indexOf("time")>=0;_=b,D&&(_=format2(S.axisValue,_,C)),_=formatTpl(_,s,!0)}else if(isFunction3(b)){var A=bind(function(T,P){T===this._ticket&&(y.setContent(P,g,a,w,d),this._updatePosition(a,d,u,f,y,s,v))},this);this._ticket=l,_=b(s,l,A)}else _=b;y.setContent(_,g,a,w,d),y.show(a,w),this._updatePosition(a,d,u,f,y,s,v)}},n.prototype._getNearestPoint=function(a,o,s,l){if(s==="axis"||isArray3(o))return{color:l||(this._renderMode==="html"?"#fff":"none")};if(!isArray3(o))return{color:l||o.color||o.borderColor}},n.prototype._updatePosition=function(a,o,s,l,u,f,d){var v=this._api.getWidth(),g=this._api.getHeight();o=o||a.get("position");var y=u.getSize(),b=a.get("align"),_=a.get("verticalAlign"),x=d&&d.getBoundingRect().clone();if(d&&x.applyTransform(d.transform),isFunction3(o)&&(o=o([s,l],f,u.el,x,{viewSize:[v,g],contentSize:y.slice()})),isArray3(o))s=parsePercent2(o[0],v),l=parsePercent2(o[1],g);else if(isObject3(o)){var w=o;w.width=y[0],w.height=y[1];var C=getLayoutRect(w,{width:v,height:g});s=C.x,l=C.y,b=null,_=null}else if(isString2(o)&&d){var S=calcTooltipPosition(o,x,y,a.get("borderWidth"));s=S[0],l=S[1]}else{var S=refixTooltipPosition(s,l,u,v,g,b?null:20,_?null:20);s=S[0],l=S[1]}if(b&&(s-=isCenterAlign(b)?y[0]/2:b==="right"?y[0]:0),_&&(l-=isCenterAlign(_)?y[1]/2:_==="bottom"?y[1]:0),shouldTooltipConfine(a)){var S=confineTooltipPosition(s,l,u,v,g);s=S[0],l=S[1]}u.moveTo(s,l)},n.prototype._updateContentNotChangedOnAxis=function(a,o){var s=this._lastDataByCoordSys,l=this._cbParamsList,u=!!s&&s.length===a.length;return u&&each(s,function(f,d){var v=f.dataByAxis||[],g=a[d]||{},y=g.dataByAxis||[];u=u&&v.length===y.length,u&&each(v,function(b,_){var x=y[_]||{},w=b.seriesDataIndices||[],C=x.seriesDataIndices||[];u=u&&b.value===x.value&&b.axisType===x.axisType&&b.axisId===x.axisId&&w.length===C.length,u&&each(w,function(S,D){var A=C[D];u=u&&S.seriesIndex===A.seriesIndex&&S.dataIndex===A.dataIndex}),l&&each(b.seriesDataIndices,function(S){var D=S.seriesIndex,A=o[D],T=l[D];A&&T&&T.data!==A.data&&(u=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=o,!!u},n.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},n.prototype.dispose=function(a,o){env_default.node||!o.getDom()||(clear2(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},n.type="tooltip",n}(Component_default2);function buildTooltipModel(r,n,a){var o=n.ecModel,s;a?(s=new Model_default(a,o,o),s=new Model_default(n.option,s,o)):s=n;for(var l=r.length-1;l>=0;l--){var u=r[l];u&&(u instanceof Model_default&&(u=u.get("tooltip",!0)),isString2(u)&&(u={formatter:u}),u&&(s=new Model_default(u,s,o)))}return s}function makeDispatchAction2(r,n){return r.dispatchAction||bind(n.dispatchAction,n)}function refixTooltipPosition(r,n,a,o,s,l,u){var f=a.getSize(),d=f[0],v=f[1];return l!=null&&(r+d+l+2>o?r-=d+l:r+=l),u!=null&&(n+v+u>s?n-=v+u:n+=u),[r,n]}function confineTooltipPosition(r,n,a,o,s){var l=a.getSize(),u=l[0],f=l[1];return r=Math.min(r+u,o)-u,n=Math.min(n+f,s)-f,r=Math.max(r,0),n=Math.max(n,0),[r,n]}function calcTooltipPosition(r,n,a,o){var s=a[0],l=a[1],u=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,v=n.width,g=n.height;switch(r){case"inside":f=n.x+v/2-s/2,d=n.y+g/2-l/2;break;case"top":f=n.x+v/2-s/2,d=n.y-l-u;break;case"bottom":f=n.x+v/2-s/2,d=n.y+g+u;break;case"left":f=n.x-s-u,d=n.y+g/2-l/2;break;case"right":f=n.x+v+u,d=n.y+g/2-l/2}return[f,d]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,n,a){var o=preParseFinder(r).queryOptionMap,s=o.keys()[0];if(!(!s||s==="series")){var l=queryReferringComponents(n,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),u=l.models[0];if(!!u){var f=a.getViewOfComponentModel(u),d;if(f.group.traverse(function(v){var g=getECData(v).tooltipConfig;if(g&&g.name===r.name)return d=v,!0}),d)return{componentMainType:s,componentIndex:u.componentIndex,el:d}}}}var TooltipView_default=TooltipView;function install5(r){use(install2),r.registerComponentModel(TooltipModel_default),r.registerComponentView(TooltipView_default),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var each8=each,isObject6=isObject3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function r(n){var a=n.mappingMethod,o=n.type,s=this.option=clone(n);this.type=o,this.mappingMethod=a,this._normalizeData=normalizers[a];var l=r.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[a],a==="piecewise"?(normalizeVisualRange(s),preprocessForPiecewise(s)):a==="category"?s.categories?preprocessForSpecifiedCategory(s):normalizeVisualRange(s,!0):(assert(a!=="linear"||s.dataExtent),normalizeVisualRange(s))}return r.prototype.mapValueToVisual=function(n){var a=this._normalizeData(n);return this._normalizedToVisual(a,n)},r.prototype.getNormalizer=function(){return bind(this._normalizeData,this)},r.listVisualTypes=function(){return keys2(r.visualHandlers)},r.isValidType=function(n){return r.visualHandlers.hasOwnProperty(n)},r.eachVisual=function(n,a,o){isObject3(n)?each(n,a,o):a.call(o,n)},r.mapVisual=function(n,a,o){var s,l=isArray3(n)?[]:isObject3(n)?{}:(s=!0,null);return r.eachVisual(n,function(u,f){var d=a.call(o,u,f);s?l=d:l[f]=d}),l},r.retrieveVisuals=function(n){var a={},o;return n&&each8(r.visualHandlers,function(s,l){n.hasOwnProperty(l)&&(a[l]=n[l],o=!0)}),o?a:null},r.prepareVisualTypes=function(n){if(isArray3(n))n=n.slice();else if(isObject6(n)){var a=[];each8(n,function(o,s){a.push(s)}),n=a}else return[];return n.sort(function(o,s){return s==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),n},r.dependsOn=function(n,a){return a==="color"?!!(n&&n.indexOf(a)===0):n===a},r.findPieceIndex=function(n,a,o){for(var s,l=1/0,u=0,f=a.length;u<f;u++){var d=a[u].value;if(d!=null){if(d===n||isString2(d)&&d===n+"")return u;o&&b(d,u)}}for(var u=0,f=a.length;u<f;u++){var v=a[u],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(littleThan(y[1],n,g[1]))return u}else if(g[1]===1/0){if(littleThan(y[0],g[0],n))return u}else if(littleThan(y[0],g[0],n)&&littleThan(y[1],n,g[1]))return u;o&&b(g[0],u),o&&b(g[1],u)}}if(o)return n===1/0?a.length-1:n===-1/0?0:s;function b(_,x){var w=Math.abs(_-n);w<l&&(l=w,s=x)}},r.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind(n.mappingMethod==="category"?function(a,o){return!o&&(a=this._normalizeData(a)),doMapCategory.call(this,a)}:function(a,o,s){var l=!!s;return!o&&(a=this._normalizeData(a)),s=fastLerp(a,n.parsedVisual,s),l?s:stringify(s,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),o},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,a)}),colorSaturation:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,null,a)}),colorLightness:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,null,null,a)}),colorAlpha:makePartialColorVisualHandler(function(n,a){return modifyAlpha(n,a)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,a,o){var s=this.mapValueToVisual(n);o("symbol",s)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=doMapToArray.call(this,n)),o},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},r}();function preprocessForPiecewise(r){var n=r.pieceList;r.hasSpecialVisual=!1,each(n,function(a,o){a.originIndex=o,a.visual!=null&&(r.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(r){var n=r.categories,a=r.categoryMap={},o=r.visual;if(each8(n,function(u,f){a[u]=f}),!isArray3(o)){var s=[];isObject3(o)?each8(o,function(u,f){var d=a[f];s[d!=null?d:CATEGORY_DEFAULT_VISUAL_INDEX]=u}):s[CATEGORY_DEFAULT_VISUAL_INDEX]=o,o=setVisualToOption(r,s)}for(var l=n.length-1;l>=0;l--)o[l]==null&&(delete a[n[l]],n.pop())}function normalizeVisualRange(r,n){var a=r.visual,o=[];isObject3(a)?each8(a,function(l){o.push(l)}):a!=null&&o.push(a);var s={color:1,symbol:1};!n&&o.length===1&&!s.hasOwnProperty(r.type)&&(o[1]=o[0]),setVisualToOption(r,o)}function makePartialColorVisualHandler(r){return{applyVisual:function(n,a,o){var s=this.mapValueToVisual(n);o("color",r(a("color"),s))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(r){var n=this.option.visual;return n[Math.round(linearMap(r,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(r){return function(n,a,o){o(r,this.mapValueToVisual(n))}}function doMapCategory(r){var n=this.option.visual;return n[this.option.loop&&r!==CATEGORY_DEFAULT_VISUAL_INDEX?r%n.length:r]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(r){return{linear:function(n){return linearMap(n,r,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=linearMap(n,r,this.option.visual,!0)),o},fixed:doMapFixed}}function getSpecifiedVisual(r){var n=this.option,a=n.pieceList;if(n.hasSpecialVisual){var o=VisualMapping.findPieceIndex(r,a),s=a[o];if(s&&s.visual)return s.visual[this.type]}}function setVisualToOption(r,n){return r.visual=n,r.type==="color"&&(r.parsedVisual=map3(n,function(a){var o=parse(a);return o||warn6("'"+a+"' is an illegal color, fallback to '#000000'",!0),o||[0,0,0,1]})),n}var normalizers={linear:function(r){return linearMap(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var n=this.option.pieceList,a=VisualMapping.findPieceIndex(r,n,!0);if(a!=null)return linearMap(a,[0,n.length-1],[0,1],!0)},category:function(r){var n=this.option.categories?this.option.categoryMap[r]:r;return n==null?CATEGORY_DEFAULT_VISUAL_INDEX:n},fixed:noop};function littleThan(r,n,a){return r?n<=a:n<a}var VisualMapping_default=VisualMapping,each9=each;function hasKeys(r){if(r){for(var n in r)if(r.hasOwnProperty(n))return!0}}function createVisualMappings(r,n,a){var o={};return each9(n,function(l){var u=o[l]=s();each9(r[l],function(f,d){if(!!VisualMapping_default.isValidType(d)){var v={type:d,visual:f};a&&a(v,l),u[d]=new VisualMapping_default(v),d==="opacity"&&(v=clone(v),v.type="colorAlpha",u.__hidden.__alphaForOpacity=new VisualMapping_default(v))}})}),o;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var u=new l;return u}}function replaceVisualOption(r,n,a){var o;each(a,function(s){n.hasOwnProperty(s)&&hasKeys(n[s])&&(o=!0)}),o&&each(a,function(s){n.hasOwnProperty(s)&&hasKeys(n[s])?r[s]=clone(n[s]):delete r[s]})}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(r,n,a){return r&&a.boundingRect.contain(r[0],r[1])},rect:function(r,n,a){return r&&a.boundingRect.intersect(r)}},polygon:{point:function(r,n,a){return r&&a.boundingRect.contain(r[0],r[1])&&contain3(a.range,r[0],r[1])},rect:function(r,n,a){var o=a.range;if(!r||o.length<=1)return!1;var s=r.x,l=r.y,u=r.width,f=r.height,d=o[0];if(contain3(o,s,l)||contain3(o,s+u,l)||contain3(o,s,l+f)||contain3(o,s+u,l+f)||BoundingRect_default.create(r).contain(d[0],d[1])||linePolygonIntersect(s,l,s+u,l,o)||linePolygonIntersect(s,l,s,l+f,o)||linePolygonIntersect(s+u,l,s+u,l+f,o)||linePolygonIntersect(s,l+f,s+u,l+f,o))return!0}}};function getLineSelectors(r){var n=["x","y"],a=["width","height"];return{point:function(o,s,l){if(o){var u=l.range,f=o[r];return inLineRange(f,u)}},rect:function(o,s,l){if(o){var u=l.range,f=[o[n[r]],o[n[r]]+o[a[r]]];return f[1]<f[0]&&f.reverse(),inLineRange(f[0],u)||inLineRange(f[1],u)||inLineRange(u[0],f)||inLineRange(u[1],f)}}}}function inLineRange(r,n){return n[0]<=r&&r<=n[1]}function layoutCovers(r){r.eachComponent({mainType:"brush"},function(n){var a=n.brushTargetManager=new BrushTargetManager_default(n.option,r);a.setInputRanges(n.areas,r)})}var BrushView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){this.ecModel=a,this.api=o,this.model,(this._brushController=new BrushController_default(o.getZr())).on("brush",bind(this._onBrush,this)).mount()},n.prototype.render=function(a,o,s,l){this.model=a,this._updateController(a,o,s,l)},n.prototype.updateTransform=function(a,o,s,l){layoutCovers(o),this._updateController(a,o,s,l)},n.prototype.updateVisual=function(a,o,s,l){this.updateTransform(a,o,s,l)},n.prototype.updateView=function(a,o,s,l){this._updateController(a,o,s,l)},n.prototype._updateController=function(a,o,s,l){(!l||l.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(s)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(a){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:clone(s),$from:o}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:clone(s),$from:o})},n.type="brush",n}(Component_default2),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.areas=[],a.brushOption={},a}return n.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,["inBrush","outOfBrush"]);var l=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},l.hasOwnProperty("liftZ")||(l.liftZ=5)},n.prototype.setAreas=function(a){assert(isArray3(a)),each(a,function(o){assert(o.brushType,"Illegal areas")}),!!a&&(this.areas=map3(a,function(o){return generateBrushOption(this.option,o)},this))},n.prototype.setBrushOption=function(a){this.brushOption=generateBrushOption(this.option,a),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(Component_default);function generateBrushOption(r,n){return merge3({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Model_default(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},n,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s){var l,u,f;o.eachComponent({mainType:"brush"},function(d){l=d.brushType,u=d.brushOption.brushMode||"single",f=f||!!d.areas.length}),this._brushType=l,this._brushMode=u,each(a.get("type",!0),function(d){a.setIconStatus(d,(d==="keep"?u==="multiple":d==="clear"?f:d===l)?"emphasis":"normal")})},n.prototype.updateView=function(a,o,s){this.render(a,o,s)},n.prototype.getIcons=function(){var a=this.model,o=a.get("icon",!0),s={};return each(a.get("type",!0),function(l){o[l]&&(s[l]=o[l])}),s},n.prototype.onclick=function(a,o,s){var l=this._brushType,u=this._brushMode;s==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:s==="keep"?l:l===s?!1:s,brushMode:s==="keep"?u==="multiple"?"single":"multiple":u}})},n.getDefaultOption=function(a){var o={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])};return o},n}(ToolboxFeature),TitleModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode={type:"box",ignoreSize:!0},a}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(Component_default),TitleView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){if(this.group.removeAll(),!!a.get("show")){var l=this.group,u=a.getModel("textStyle"),f=a.getModel("subtextStyle"),d=a.get("textAlign"),v=retrieve2(a.get("textBaseline"),a.get("textVerticalAlign")),g=new Text_default({style:createTextStyle(u,{text:a.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),b=a.get("subtext"),_=new Text_default({style:createTextStyle(f,{text:b,fill:f.getTextColor(),y:y.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=a.get("link"),w=a.get("sublink"),C=a.get("triggerEvent",!0);g.silent=!x&&!C,_.silent=!w&&!C,x&&g.on("click",function(){windowOpen(x,"_"+a.get("target"))}),w&&_.on("click",function(){windowOpen(w,"_"+a.get("subtarget"))}),getECData(g).eventData=getECData(_).eventData=C?{componentType:"title",componentIndex:a.componentIndex}:null,l.add(g),b&&l.add(_);var S=l.getBoundingRect(),D=a.getBoxLayoutParams();D.width=S.width,D.height=S.height;var A=getLayoutRect(D,{width:s.getWidth(),height:s.getHeight()},a.get("padding"));d||(d=a.get("left")||a.get("right"),d==="middle"&&(d="center"),d==="right"?A.x+=A.width:d==="center"&&(A.x+=A.width/2)),v||(v=a.get("top")||a.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?A.y+=A.height:v==="middle"&&(A.y+=A.height/2),v=v||"top"),l.x=A.x,l.y=A.y,l.markRedraw();var T={align:d,verticalAlign:v};g.setStyle(T),_.setStyle(T),S=l.getBoundingRect();var P=A.margin,E=a.getItemStyle(["color","opacity"]);E.fill=a.get("backgroundColor");var M=new Rect_default({shape:{x:S.x-P[3],y:S.y-P[0],width:S.width+P[1]+P[3],height:S.height+P[0]+P[2],r:a.get("borderRadius")},style:E,subPixelOptimize:!0,silent:!0});l.add(M)}},n.type="title",n}(Component_default2);function install6(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var TimelineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode="box",a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),this._initData()},n.prototype.mergeOption=function(a){r.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(a){a==null&&(a=this.option.currentIndex);var o=this._data.count();this.option.loop?a=(a%o+o)%o:(a>=o&&(a=o-1),a<0&&(a=0)),this.option.currentIndex=a},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(a){this.option.autoPlay=!!a},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var a=this.option,o=a.data||[],s=a.axisType,l=this._names=[],u;s==="category"?(u=[],each(o,function(v,g){var y=convertOptionIdName(getDataItemValue(v),""),b;isObject3(v)?(b=clone(v),b.value=g):b=g,u.push(b),l.push(y)})):u=o;var f={category:"ordinal",time:"time",value:"number"}[s]||"number",d=this._data=new SeriesData_default([{name:"value",type:f}],this);d.initData(u,l)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(Component_default),TimelineModel_default=TimelineModel,SliderTimelineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel_default.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel_default);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="timeline",n}(Component_default2),TimelineView_default=TimelineView,TimelineAxis=function(r){__extends(n,r);function n(a,o,s,l){var u=r.call(this,a,o,s)||this;return u.type=l||"value",u}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis_default),TimelineAxis_default=TimelineAxis,PI7=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){this.api=o},n.prototype.render=function(a,o,s){if(this.model=a,this.api=s,this.ecModel=o,this.group.removeAll(),a.get("show",!0)){var l=this._layout(a,s),u=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(l,a);a.formatTooltip=function(v){var g=d.scale.getLabel({value:v});return createTooltipMarkup("nameValue",{noName:!0,value:g})},each(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](l,u,d,a)},this),this._renderAxisLabel(l,f,d,a),this._position(l,a)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(a,o){var s=a.get(["label","position"]),l=a.get("orient"),u=getViewRect(a,o),f;s==null||s==="auto"?f=l==="horizontal"?u.y+u.height/2<o.getHeight()/2?"-":"+":u.x+u.width/2<o.getWidth()/2?"+":"-":isString2(s)?f={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][s]:f=s;var d={horizontal:"center",vertical:f>=0||f==="+"?"left":"right"},v={horizontal:f>=0||f==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:PI7/2},y=l==="vertical"?u.height:u.width,b=a.getModel("controlStyle"),_=b.get("show",!0),x=_?b.get("itemSize"):0,w=_?b.get("itemGap"):0,C=x+w,S=a.get(["label","rotate"])||0;S=S*PI7/180;var D,A,T,P=b.get("position",!0),E=_&&b.get("showPlayBtn",!0),M=_&&b.get("showPrevBtn",!0),L=_&&b.get("showNextBtn",!0),F=0,I=y;P==="left"||P==="bottom"?(E&&(D=[0,0],F+=C),M&&(A=[F,0],F+=C),L&&(T=[I-x,0],I-=C)):(E&&(D=[I-x,0],I-=C),M&&(A=[0,0],F+=C),L&&(T=[I-x,0],I-=C));var B=[F,I];return a.get("inverse")&&B.reverse(),{viewRect:u,mainLength:y,orient:l,rotation:g[l],labelRotation:S,labelPosOpt:f,labelAlign:a.get(["label","align"])||d[l],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||v[l],playPosition:D,prevBtnPosition:A,nextBtnPosition:T,axisExtent:B,controlSize:x,controlGap:w}},n.prototype._position=function(a,o){var s=this._mainGroup,l=this._labelGroup,u=a.viewRect;if(a.orient==="vertical"){var f=create2(),d=u.x,v=u.y+u.height;translate(f,f,[-d,-v]),rotate(f,f,-PI7/2),translate(f,f,[d,v]),u=u.clone(),u.applyTransform(f)}var g=D(u),y=D(s.getBoundingRect()),b=D(l.getBoundingRect()),_=[s.x,s.y],x=[l.x,l.y];x[0]=_[0]=g[0][0];var w=a.labelPosOpt;if(w==null||isString2(w)){var C=w==="+"?0:1;A(_,y,g,1,C),A(x,b,g,1,1-C)}else{var C=w>=0?0:1;A(_,y,g,1,C),x[1]=_[1]+w}s.setPosition(_),l.setPosition(x),s.rotation=l.rotation=a.rotation,S(s),S(l);function S(T){T.originX=g[0][0]-T.x,T.originY=g[1][0]-T.y}function D(T){return[[T.x,T.x+T.width],[T.y,T.y+T.height]]}function A(T,P,E,M,L){T[M]+=E[M][L]-P[M][L]}},n.prototype._createAxis=function(a,o){var s=o.getData(),l=o.get("axisType"),u=createScaleByModel2(o,l);u.getTicks=function(){return s.mapArray(["value"],function(v){return{value:v}})};var f=s.getDataExtent("value");u.setExtent(f[0],f[1]),u.calcNiceTicks();var d=new TimelineAxis_default("value",u,a.axisExtent,l);return d.model=o,d},n.prototype._createGroup=function(a){var o=this[a]=new Group_default;return this.group.add(o),o},n.prototype._renderAxisLine=function(a,o,s,l){var u=s.getExtent();if(!!l.get(["lineStyle","show"])){var f=new Line_default({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:extend2({lineCap:"round"},l.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(f);var d=this._progressLine=new Line_default({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:f.style.lineWidth},l.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(d)}},n.prototype._renderAxisTick=function(a,o,s,l){var u=this,f=l.getData(),d=s.scale.getTicks();this._tickSymbols=[],each(d,function(v){var g=s.dataToCoord(v.value),y=f.getItemModel(v.value),b=y.getModel("itemStyle"),_=y.getModel(["emphasis","itemStyle"]),x=y.getModel(["progress","itemStyle"]),w={x:g,y:0,onclick:bind(u._changeTimeline,u,v.value)},C=giveSymbol(y,b,o,w);C.ensureState("emphasis").style=_.getItemStyle(),C.ensureState("progress").style=x.getItemStyle(),enableHoverEmphasis(C);var S=getECData(C);y.get("tooltip")?(S.dataIndex=v.value,S.dataModel=l):S.dataIndex=S.dataModel=null,u._tickSymbols.push(C)})},n.prototype._renderAxisLabel=function(a,o,s,l){var u=this,f=s.getLabelModel();if(!!f.get("show")){var d=l.getData(),v=s.getViewLabels();this._tickLabels=[],each(v,function(g){var y=g.tickValue,b=d.getItemModel(y),_=b.getModel("label"),x=b.getModel(["emphasis","label"]),w=b.getModel(["progress","label"]),C=s.dataToCoord(g.tickValue),S=new Text_default({x:C,y:0,rotation:a.labelRotation-a.rotation,onclick:bind(u._changeTimeline,u,y),silent:!1,style:createTextStyle(_,{text:g.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});S.ensureState("emphasis").style=createTextStyle(x),S.ensureState("progress").style=createTextStyle(w),o.add(S),enableHoverEmphasis(S),labelDataIndexStore(S).dataIndex=y,u._tickLabels.push(S)})}},n.prototype._renderControl=function(a,o,s,l){var u=a.controlSize,f=a.rotation,d=l.getModel("controlStyle").getItemStyle(),v=l.getModel(["emphasis","controlStyle"]).getItemStyle(),g=l.getPlayState(),y=l.get("inverse",!0);b(a.nextBtnPosition,"next",bind(this._changeTimeline,this,y?"-":"+")),b(a.prevBtnPosition,"prev",bind(this._changeTimeline,this,y?"+":"-")),b(a.playPosition,g?"stop":"play",bind(this._handlePlayClick,this,!g),!0);function b(_,x,w,C){if(!!_){var S=parsePercent(retrieve2(l.get(["controlStyle",x+"BtnSize"]),u),u),D=[0,-S/2,S,S],A=makeControlIcon(l,x+"Icon",D,{x:_[0],y:_[1],originX:u/2,originY:0,rotation:C?-f:0,rectHover:!0,style:d,onclick:w});A.ensureState("emphasis").style=v,o.add(A),enableHoverEmphasis(A)}}},n.prototype._renderCurrentPointer=function(a,o,s,l){var u=l.getData(),f=l.getCurrentIndex(),d=u.getItemModel(f).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=bind(v._handlePointerDrag,v),y.ondragend=bind(v._handlePointerDragend,v),pointerMoveTo(y,v._progressLine,f,s,l,!0)},onUpdate:function(y){pointerMoveTo(y,v._progressLine,f,s,l)}};this._currentPointer=giveSymbol(d,d,this._mainGroup,{},this._currentPointer,g)},n.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},n.prototype._handlePointerDrag=function(a,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},n.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},n.prototype._pointerChangeTimeline=function(a,o){var s=this._toAxisCoord(a)[0],l=this._axis,u=asc(l.getExtent().slice());s>u[1]&&(s=u[1]),s<u[0]&&(s=u[0]),this._currentPointer.x=s,this._currentPointer.markRedraw(),this._progressLine.shape.x2=s,this._progressLine.dirty();var f=this._findNearestTick(s),d=this.model;(o||f!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(f)},n.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=a.model;a._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(a){var o=this._mainGroup.getLocalTransform();return applyTransform2(a,o,!0)},n.prototype._findNearestTick=function(a){var o=this.model.getData(),s=1/0,l,u=this._axis;return o.each(["value"],function(f,d){var v=u.dataToCoord(f),g=Math.abs(v-a);g<s&&(s=g,l=d)}),l},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(a){var o=this.model.getCurrentIndex();a==="+"?a=o+1:a==="-"&&(a=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},n.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var l=0;l<o.length;l++)o&&o[l]&&o[l].toggleState("progress",l<a);if(s)for(var l=0;l<s.length;l++)s&&s[l]&&s[l].toggleState("progress",labelDataIndexStore(s[l]).dataIndex<=a)},n.type="timeline.slider",n}(TimelineView_default);function createScaleByModel2(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new Ordinal_default({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new Time_default({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new Interval_default}}function getViewRect(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},r.get("padding"))}function makeControlIcon(r,n,a,o){var s=o.style,l=createIcon(r.get(["controlStyle",n]),o||{},new BoundingRect_default(a[0],a[1],a[2],a[3]));return s&&l.setStyle(s),l}function giveSymbol(r,n,a,o,s,l){var u=n.get("color");if(s)s.setColor(u),a.add(s),l&&l.onUpdate(s);else{var f=r.get("symbol");s=createSymbol(f,-1,-1,2,2,u),s.setStyle("strokeNoScale",!0),a.add(s),l&&l.onCreate(s)}var d=n.getItemStyle(["color"]);s.setStyle(d),o=merge3({rectHover:!0,z2:100},o,!0);var v=normalizeSymbolSize(r.get("symbolSize"));o.scaleX=v[0]/2,o.scaleY=v[1]/2;var g=normalizeSymbolOffset(r.get("symbolOffset"),v);g&&(o.x=(o.x||0)+g[0],o.y=(o.y||0)+g[1]);var y=r.get("symbolRotate");return o.rotation=(y||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function pointerMoveTo(r,n,a,o,s,l){if(!r.dragging){var u=s.getModel("checkpointStyle"),f=o.dataToCoord(s.getData().get("value",a));if(l||!u.get("animation",!0))r.attr({x:f,y:0}),n&&n.attr({shape:{x2:f}});else{var d={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:f,y:0},d),n&&n.animateTo({shape:{x2:f}},d)}}}function fillLabel(r){defaultEmphasis(r,"label",["show"])}var inner13=makeInner(),MarkerModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.createdBySelf=!1,a}return n.prototype.init=function(a,o,s){if(this.type==="marker")throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,s),this._mergeOption(a,s,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env_default.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},n.prototype.mergeOption=function(a,o){this._mergeOption(a,o,!1,!1)},n.prototype._mergeOption=function(a,o,s,l){var u=this.mainType;s||o.eachSeries(function(f){var d=f.get(this.mainType,!0),v=inner13(f)[u];if(!d||!d.data){inner13(f)[u]=null;return}v?v._mergeOption(d,o,!0):(l&&fillLabel(d),each(d.data,function(g){g instanceof Array?(fillLabel(g[0]),fillLabel(g[1])):fillLabel(g)}),v=this.createMarkerModelFromSeries(d,this,o),extend2(v,{mainType:this.mainType,seriesIndex:f.seriesIndex,name:f.name,createdBySelf:!0}),v.__hostSeries=f),inner13(f)[u]=v},this)},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.getRawValue(a),f=l.getName(a);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:f,value:u,noName:!f,noValue:u==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(a){this._data=a},n.getMarkerModelFromSeries=function(a,o){return inner13(a)[o]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(Component_default);mixin(MarkerModel,DataFormatMixin.prototype);var MarkerModel_default=MarkerModel,MarkPointModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel_default);function getDefaultLabel(r,n){var a=r.mapDimensionsAll("defaultedLabel"),o=a.length;if(o===1){var s=retrieveRawValue(r,n,a[0]);return s!=null?s+"":null}else if(o){for(var l=[],u=0;u<a.length;u++)l.push(retrieveRawValue(r,n,a[u]));return l.join(" ")}}function getDefaultInterpolatedLabel(r,n){var a=r.mapDimensionsAll("defaultedLabel");if(!isArray3(n))return n+"";for(var o=[],s=0;s<a.length;s++){var l=r.getDimensionIndex(a[s]);l>=0&&o.push(n[l])}return o.join(" ")}var Symbol3=function(r){__extends(n,r);function n(a,o,s,l){var u=r.call(this)||this;return u.updateData(a,o,s,l),u}return n.prototype._createSymbol=function(a,o,s,l,u){this.removeAll();var f=createSymbol(a,-1,-1,2,2,null,u);f.attr({z2:100,culling:!0,scaleX:l[0]/2,scaleY:l[1]/2}),f.drift=driftSymbol,this._symbolType=a,this.add(f)},n.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(a,o){var s=this.childAt(0);s.zlevel=a,s.z=o},n.prototype.setDraggable=function(a){var o=this.childAt(0);o.draggable=a,o.cursor=a?"move":o.cursor},n.prototype.updateData=function(a,o,s,l){this.silent=!1;var u=a.getItemVisual(o,"symbol")||"circle",f=a.hostModel,d=n.getSymbolSize(a,o),v=u!==this._symbolType,g=l&&l.disableAnimation;if(v){var y=a.getItemVisual(o,"symbolKeepAspect");this._createSymbol(u,a,o,d,y)}else{var b=this.childAt(0);b.silent=!1;var _={scaleX:d[0]/2,scaleY:d[1]/2};g?b.attr(_):updateProps2(b,_,f,o),saveOldStyle(b)}if(this._updateCommon(a,o,d,s,l),v){var b=this.childAt(0);if(!g){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,initProps2(b,_,f,o)}}g&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(a,o,s,l,u){var f=this.childAt(0),d=a.hostModel,v,g,y,b,_,x,w,C,S;if(l&&(v=l.emphasisItemStyle,g=l.blurItemStyle,y=l.selectItemStyle,b=l.focus,_=l.blurScope,w=l.labelStatesModels,C=l.hoverScale,S=l.cursorStyle,x=l.emphasisDisabled),!l||a.hasItemOption){var D=l&&l.itemModel?l.itemModel:a.getItemModel(o),A=D.getModel("emphasis");v=A.getModel("itemStyle").getItemStyle(),y=D.getModel(["select","itemStyle"]).getItemStyle(),g=D.getModel(["blur","itemStyle"]).getItemStyle(),b=A.get("focus"),_=A.get("blurScope"),x=A.get("disabled"),w=getLabelStatesModels(D),C=A.getShallow("scale"),S=D.getShallow("cursor")}var T=a.getItemVisual(o,"symbolRotate");f.attr("rotation",(T||0)*Math.PI/180||0);var P=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),s);P&&(f.x=P[0],f.y=P[1]),S&&f.attr("cursor",S);var E=a.getItemVisual(o,"style"),M=E.fill;if(f instanceof Image_default){var L=f.style;f.useStyle(extend2({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},E))}else f.__isEmptyBrush?f.useStyle(extend2({},E)):f.useStyle(E),f.style.decal=null,f.setColor(M,u&&u.symbolInnerColor),f.style.strokeNoScale=!0;var F=a.getItemVisual(o,"liftZ"),I=this._z2;F!=null?I==null&&(this._z2=f.z2,f.z2+=F):I!=null&&(f.z2=I,this._z2=null);var B=u&&u.useNameLabel;setLabelStyle(f,w,{labelFetcher:d,labelDataIndex:o,defaultText:O,inheritColor:M,defaultOpacity:E.opacity});function O(N){return B?a.getName(N):getDefaultLabel(a,N)}this._sizeX=s[0]/2,this._sizeY=s[1]/2;var R=f.ensureState("emphasis");if(R.style=v,f.ensureState("select").style=y,f.ensureState("blur").style=g,C){var z=Math.max(isNumber(C)?C:1.1,3/this._sizeY);R.scaleX=this._sizeX*z,R.scaleY=this._sizeY*z}this.setSymbolScale(1),toggleHoverEmphasis(this,b,_,x)},n.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},n.prototype.fadeOut=function(a,o,s){var l=this.childAt(0),u=getECData(this).dataIndex,f=s&&s.animation;if(this.silent=l.silent=!0,s&&s.fadeLabel){var d=l.getTextContent();d&&removeElement2(d,{style:{opacity:0}},o,{dataIndex:u,removeOpt:f,cb:function(){l.removeTextContent()}})}else l.removeTextContent();removeElement2(l,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:u,cb:a,removeOpt:f})},n.getSymbolSize=function(a,o){return normalizeSymbolSize(a.getItemVisual(o,"symbolSize"))},n}(Group_default);function driftSymbol(r,n){this.parent.drift(r,n)}var Symbol_default2=Symbol3;function symbolNeedsDraw(r,n,a,o){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(o.isIgnore&&o.isIgnore(a))&&!(o.clipShape&&!o.clipShape.contain(n[0],n[1]))&&r.getItemVisual(a,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject3(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope(r){var n=r.hostModel,a=n.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function r(n){this.group=new Group_default,this._SymbolCtor=n||Symbol_default2}return r.prototype.updateData=function(n,a){this._progressiveEls=null,a=normalizeUpdateOpt(a);var o=this.group,s=n.hostModel,l=this._data,u=this._SymbolCtor,f=a.disableAnimation,d=makeSeriesScope(n),v={disableAnimation:f},g=a.getSymbolPoint||function(y){return n.getItemLayout(y)};l||o.removeAll(),n.diff(l).add(function(y){var b=g(y);if(symbolNeedsDraw(n,b,y,a)){var _=new u(n,y,d,v);_.setPosition(b),n.setItemGraphicEl(y,_),o.add(_)}}).update(function(y,b){var _=l.getItemGraphicEl(b),x=g(y);if(!symbolNeedsDraw(n,x,y,a)){o.remove(_);return}var w=n.getItemVisual(y,"symbol")||"circle",C=_&&_.getSymbolType&&_.getSymbolType();if(!_||C&&C!==w)o.remove(_),_=new u(n,y,d,v),_.setPosition(x);else{_.updateData(n,y,d,v);var S={x:x[0],y:x[1]};f?_.attr(S):updateProps2(_,S,s)}o.add(_),n.setItemGraphicEl(y,_)}).remove(function(y){var b=l.getItemGraphicEl(y);b&&b.fadeOut(function(){o.remove(b)},s)}).execute(),this._getSymbolPoint=g,this._data=n},r.prototype.updateLayout=function(){var n=this,a=this._data;a&&a.eachItemGraphicEl(function(o,s){var l=n._getSymbolPoint(s);o.setPosition(l),o.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope(n),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,a,o){this._progressiveEls=[],o=normalizeUpdateOpt(o);function s(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var l=n.start;l<n.end;l++){var u=a.getItemLayout(l);if(symbolNeedsDraw(a,u,l,o)){var f=new this._SymbolCtor(a,l,this._seriesScope);f.traverse(s),f.setPosition(u),this.group.add(f),a.setItemGraphicEl(l,f),this._progressiveEls.push(f)}}},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype.remove=function(n){var a=this.group,o=this._data;o&&n?o.eachItemGraphicEl(function(s){s.fadeOut(function(){a.remove(s)},o.hostModel)}):a.removeAll()},r}(),SymbolDraw_default=SymbolDraw;function hasXOrY(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function hasXAndY(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function markerTypeCalculatorWithExtent(r,n,a,o,s,l){var u=[],f=isDimensionStacked(n,o),d=f?n.getCalculationInfo("stackResultDimension"):o,v=numCalculate(n,d,r),g=n.indicesOfNearest(d,v)[0];u[s]=n.get(a,g),u[l]=n.get(d,g);var y=n.get(o,g),b=getPrecision(n.get(o,g));return b=Math.min(b,20),b>=0&&(u[l]=+u[l].toFixed(b)),[u,y]}var markerTypeCalculator={min:curry(markerTypeCalculatorWithExtent,"min"),max:curry(markerTypeCalculatorWithExtent,"max"),average:curry(markerTypeCalculatorWithExtent,"average"),median:curry(markerTypeCalculatorWithExtent,"median")};function dataTransform(r,n){var a=r.getData(),o=r.coordinateSystem;if(n&&!hasXAndY(n)&&!isArray3(n.coord)&&o){var s=o.dimensions,l=getAxisInfo2(n,a,o,r);if(n=clone(n),n.type&&markerTypeCalculator[n.type]&&l.baseAxis&&l.valueAxis){var u=indexOf(s,l.baseAxis.dim),f=indexOf(s,l.valueAxis.dim),d=markerTypeCalculator[n.type](a,l.baseDataDim,l.valueDataDim,u,f);n.coord=d[0],n.value=d[1]}else{for(var v=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis],g=0;g<2;g++)markerTypeCalculator[v[g]]&&(v[g]=numCalculate(a,a.mapDimension(s[g]),v[g]));n.coord=v}}return n}function getAxisInfo2(r,n,a,o){var s={};return r.valueIndex!=null||r.valueDim!=null?(s.valueDataDim=r.valueIndex!=null?n.getDimension(r.valueIndex):r.valueDim,s.valueAxis=a.getAxis(dataDimToCoordDim(o,s.valueDataDim)),s.baseAxis=a.getOtherAxis(s.valueAxis),s.baseDataDim=n.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=a.getOtherAxis(s.baseAxis),s.baseDataDim=n.mapDimension(s.baseAxis.dim),s.valueDataDim=n.mapDimension(s.valueAxis.dim)),s}function dataDimToCoordDim(r,n){var a=r.getData().getDimensionInfo(n);return a&&a.coordDim}function dataFilter(r,n){return r&&r.containData&&n.coord&&!hasXOrY(n)?r.containData(n.coord):!0}function createMarkerDimValueGetter(r,n){return r?function(a,o,s,l){var u=l<2?a.coord&&a.coord[l]:a.value;return parseDataValue(u,n[l])}:function(a,o,s,l){return parseDataValue(a.value,n[l])}}function numCalculate(r,n,a){if(a==="average"){var o=0,s=0;return r.each(n,function(l,u){isNaN(l)||(o+=l,s++)}),o/s}else return a==="median"?r.getMedian(n):r.getDataExtent(n)[a==="max"?1:0]}var inner14=makeInner(),MarkerView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(a,o,s){var l=this,u=this.markerGroupMap;u.each(function(f){inner14(f).keep=!1}),o.eachSeries(function(f){var d=MarkerModel_default.getMarkerModelFromSeries(f,l.type);d&&l.renderSeries(f,d,o,s)}),u.each(function(f){!inner14(f).keep&&l.group.remove(f.group)})},n.prototype.markKeep=function(a){inner14(a).keep=!0},n.prototype.toggleBlurSeries=function(a,o){var s=this;each(a,function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,s.type);if(u){var f=u.getData();f.eachItemGraphicEl(function(d){d&&(o?enterBlur(d):leaveBlur(d))})}})},n.type="marker",n}(Component_default2),MarkerView_default=MarkerView;function updateMarkerLayout(r,n,a){var o=n.coordinateSystem;r.each(function(s){var l=r.getItemModel(s),u,f=parsePercent2(l.get("x"),a.getWidth()),d=parsePercent2(l.get("y"),a.getHeight());if(!isNaN(f)&&!isNaN(d))u=[f,d];else if(n.getMarkerPosition)u=n.getMarkerPosition(r.getValues(r.dimensions,s));else if(o){var v=r.get(o.dimensions[0],s),g=r.get(o.dimensions[1],s);u=o.dataToPoint([v,g])}isNaN(f)||(u[0]=f),isNaN(d)||(u[1]=d),r.setItemLayout(s,u)})}var MarkPointView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markPoint");u&&(updateMarkerLayout(u.getData(),l,s),this.markerGroupMap.get(l.id).updateLayout())},this)},n.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new SymbolDraw_default),y=createData(u,a,o);o.setData(y),updateMarkerLayout(o.getData(),a,l),y.each(function(b){var _=y.getItemModel(b),x=_.getShallow("symbol"),w=_.getShallow("symbolSize"),C=_.getShallow("symbolRotate"),S=_.getShallow("symbolOffset"),D=_.getShallow("symbolKeepAspect");if(isFunction3(x)||isFunction3(w)||isFunction3(C)||isFunction3(S)){var A=o.getRawValue(b),T=o.getDataParams(b);isFunction3(x)&&(x=x(A,T)),isFunction3(w)&&(w=w(A,T)),isFunction3(C)&&(C=C(A,T)),isFunction3(S)&&(S=S(A,T))}var P=_.getModel("itemStyle").getItemStyle(),E=getVisualFromData(d,"color");P.fill||(P.fill=E),y.setItemVisual(b,{symbol:x,symbolSize:w,symbolRotate:C,symbolOffset:S,symbolKeepAspect:D,style:P})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(b){b.traverse(function(_){getECData(_).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||a.get("silent")},n.type="markPoint",n}(MarkerView_default);function createData(r,n,a){var o;r?o=map3(r&&r.dimensions,function(f){var d=n.getData().getDimensionInfo(n.getData().mapDimension(f))||{};return extend2(extend2({},d),{name:f,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData_default(o,a),l=map3(a.get("data"),curry(dataTransform,n));r&&(l=filter(l,curry(dataFilter,r)));var u=createMarkerDimValueGetter(!!r,o);return s.initData(l,null,u),s}var MarkLineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel_default),straightLineProto=Line_default.prototype,bezierCurveProto=BezierCurve_default.prototype,StraightLineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),CurveShape=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(StraightLineShape);function isStraightLine(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var ECLinePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-line",o}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(a,o){isStraightLine(o)?straightLineProto.buildPath.call(this,a,o):bezierCurveProto.buildPath.call(this,a,o)},n.prototype.pointAt=function(a){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,a):bezierCurveProto.pointAt.call(this,a)},n.prototype.tangentAt=function(a){var o=this.shape,s=isStraightLine(o)?[o.x2-o.x1,o.y2-o.y1]:bezierCurveProto.tangentAt.call(this,a);return normalize(s,s)},n}(Path_default),LinePath_default=ECLinePath,SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(r){return"_"+r+"Type"}function createSymbol2(r,n,a){var o=n.getItemVisual(a,r);if(!(!o||o==="none")){var s=n.getItemVisual(a,r+"Size"),l=n.getItemVisual(a,r+"Rotate"),u=n.getItemVisual(a,r+"Offset"),f=n.getItemVisual(a,r+"KeepAspect"),d=normalizeSymbolSize(s),v=normalizeSymbolOffset(u||0,d),g=createSymbol(o,-d[0]/2+v[0],-d[1]/2+v[1],d[0],d[1],null,f);return g.__specifiedRotation=l==null||isNaN(l)?void 0:+l*Math.PI/180||0,g.name=r,g}}function createLine(r){var n=new LinePath_default({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,r),n}function setLinePoints(r,n){r.x1=n[0][0],r.y1=n[0][1],r.x2=n[1][0],r.y2=n[1][1],r.percent=1;var a=n[2];a?(r.cpx1=a[0],r.cpy1=a[1]):(r.cpx1=NaN,r.cpy1=NaN)}var Line2=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l._createLine(a,o,s),l}return n.prototype._createLine=function(a,o,s){var l=a.hostModel,u=a.getItemLayout(o),f=createLine(u);f.shape.percent=0,initProps2(f,{shape:{percent:1}},l,o),this.add(f),each(SYMBOL_CATEGORIES,function(d){var v=createSymbol2(d,a,o);this.add(v),this[makeSymbolTypeKey(d)]=a.getItemVisual(o,d)},this),this._updateCommonStl(a,o,s)},n.prototype.updateData=function(a,o,s){var l=a.hostModel,u=this.childOfName("line"),f=a.getItemLayout(o),d={shape:{}};setLinePoints(d.shape,f),updateProps2(u,d,l,o),each(SYMBOL_CATEGORIES,function(v){var g=a.getItemVisual(o,v),y=makeSymbolTypeKey(v);if(this[y]!==g){this.remove(this.childOfName(v));var b=createSymbol2(v,a,o);this.add(b)}this[y]=g},this),this._updateCommonStl(a,o,s)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(a,o,s){var l=a.hostModel,u=this.childOfName("line"),f=s&&s.emphasisLineStyle,d=s&&s.blurLineStyle,v=s&&s.selectLineStyle,g=s&&s.labelStatesModels,y=s&&s.emphasisDisabled,b=s&&s.focus,_=s&&s.blurScope;if(!s||a.hasItemOption){var x=a.getItemModel(o),w=x.getModel("emphasis");f=w.getModel("lineStyle").getLineStyle(),d=x.getModel(["blur","lineStyle"]).getLineStyle(),v=x.getModel(["select","lineStyle"]).getLineStyle(),y=w.get("disabled"),b=w.get("focus"),_=w.get("blurScope"),g=getLabelStatesModels(x)}var C=a.getItemVisual(o,"style"),S=C.stroke;u.useStyle(C),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=f,u.ensureState("blur").style=d,u.ensureState("select").style=v,each(SYMBOL_CATEGORIES,function(E){var M=this.childOfName(E);if(M){M.setColor(S),M.style.opacity=C.opacity;for(var L=0;L<SPECIAL_STATES.length;L++){var F=SPECIAL_STATES[L],I=u.getState(F);if(I){var B=I.style||{},O=M.ensureState(F),R=O.style||(O.style={});B.stroke!=null&&(R[M.__isEmptyBrush?"stroke":"fill"]=B.stroke),B.opacity!=null&&(R.opacity=B.opacity)}}M.markRedraw()}},this);var D=l.getRawValue(o);setLabelStyle(this,g,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(E,M){return l.getFormattedLabel(E,M,a.dataType)}},inheritColor:S||"#000",defaultOpacity:C.opacity,defaultText:(D==null?a.getName(o):isFinite(D)?round(D):D)+""});var A=this.getTextContent();if(A){var T=g.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=T.get("position")||"middle";var P=T.get("distance");isArray3(P)||(P=[P,P]),A.__labelDistance=P}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,b,_,y)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(a,o){this.setLinePoints(a.getItemLayout(o))},n.prototype.setLinePoints=function(a){var o=this.childOfName("line");setLinePoints(o.shape,a),o.dirty()},n.prototype.beforeUpdate=function(){var a=this,o=a.childOfName("fromSymbol"),s=a.childOfName("toSymbol"),l=a.getTextContent();if(!o&&!s&&(!l||l.ignore))return;for(var u=1,f=this.parent;f;)f.scaleX&&(u/=f.scaleX),f=f.parent;var d=a.childOfName("line");if(!this.__dirty&&!d.__dirty)return;var v=d.shape.percent,g=d.pointAt(0),y=d.pointAt(v),b=sub([],y,g);normalize(b,b);function _(I,B){var O=I.__specifiedRotation;if(O==null){var R=d.tangentAt(B);I.attr("rotation",(B===1?-1:1)*Math.PI/2-Math.atan2(R[1],R[0]))}else I.attr("rotation",O)}if(o&&(o.setPosition(g),_(o,0),o.scaleX=o.scaleY=u*v,o.markRedraw()),s&&(s.setPosition(y),_(s,1),s.scaleX=s.scaleY=u*v,s.markRedraw()),l&&!l.ignore){l.x=l.y=0,l.originX=l.originY=0;var x=void 0,w=void 0,C=l.__labelDistance,S=C[0]*u,D=C[1]*u,A=v/2,T=d.tangentAt(A),P=[T[1],-T[0]],E=d.pointAt(A);P[1]>0&&(P[0]=-P[0],P[1]=-P[1]);var M=T[0]<0?-1:1;if(l.__position!=="start"&&l.__position!=="end"){var L=-Math.atan2(T[1],T[0]);y[0]<g[0]&&(L=Math.PI+L),l.rotation=L}var F=void 0;switch(l.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-D,w="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=D,w="top";break;default:F=0,w="middle"}switch(l.__position){case"end":l.x=b[0]*S+y[0],l.y=b[1]*D+y[1],x=b[0]>.8?"left":b[0]<-.8?"right":"center",w=b[1]>.8?"top":b[1]<-.8?"bottom":"middle";break;case"start":l.x=-b[0]*S+g[0],l.y=-b[1]*D+g[1],x=b[0]>.8?"right":b[0]<-.8?"left":"center",w=b[1]>.8?"bottom":b[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":l.x=S*M+g[0],l.y=g[1]+F,x=T[0]<0?"right":"left",l.originX=-S*M,l.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":l.x=E[0],l.y=E[1]+F,x="center",l.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":l.x=-S*M+y[0],l.y=y[1]+F,x=T[0]>=0?"right":"left",l.originX=S*M,l.originY=-F;break}l.scaleX=l.scaleY=u,l.setStyle({verticalAlign:l.__verticalAlign||w,align:l.__align||x})}},n}(Group_default),Line_default2=Line2,LineDraw=function(){function r(n){this.group=new Group_default,this._LineCtor=n||Line_default2}return r.prototype.updateData=function(n){var a=this;this._progressiveEls=null;var o=this,s=o.group,l=o._lineData;o._lineData=n,l||s.removeAll();var u=makeSeriesScope2(n);n.diff(l).add(function(f){a._doAdd(n,f,u)}).update(function(f,d){a._doUpdate(l,n,d,f,u)}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute()},r.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(a,o){a.updateLayout(n,o)},this)},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope2(n),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,a){this._progressiveEls=[];function o(f){!f.isGroup&&!isEffectObject(f)&&(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var s=n.start;s<n.end;s++){var l=a.getItemLayout(s);if(lineNeedsDraw(l)){var u=new this._LineCtor(a,s,this._seriesScope);u.traverse(o),this.group.add(u),a.setItemGraphicEl(s,u),this._progressiveEls.push(u)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._doAdd=function(n,a,o){var s=n.getItemLayout(a);if(!!lineNeedsDraw(s)){var l=new this._LineCtor(n,a,o);n.setItemGraphicEl(a,l),this.group.add(l)}},r.prototype._doUpdate=function(n,a,o,s,l){var u=n.getItemGraphicEl(o);if(!lineNeedsDraw(a.getItemLayout(s))){this.group.remove(u);return}u?u.updateData(a,s,l):u=new this._LineCtor(a,s,l),a.setItemGraphicEl(s,u),this.group.add(u)},r}();function isEffectObject(r){return r.animators&&r.animators.length>0}function makeSeriesScope2(r){var n=r.hostModel,a=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(r){return isNaN(r[0])||isNaN(r[1])}function lineNeedsDraw(r){return r&&!isPointNaN(r[0])&&!isPointNaN(r[1])}var LineDraw_default=LineDraw;function isCoordinateSystemType(r,n){return r.type===n}var inner15=makeInner(),markLineTransform=function(r,n,a,o){var s=r.getData(),l;if(isArray3(o))l=o;else{var u=o.type;if(u==="min"||u==="max"||u==="average"||u==="median"||o.xAxis!=null||o.yAxis!=null){var f=void 0,d=void 0;if(o.yAxis!=null||o.xAxis!=null)f=n.getAxis(o.yAxis!=null?"y":"x"),d=retrieve(o.yAxis,o.xAxis);else{var v=getAxisInfo2(o,s,n,r);f=v.valueAxis;var g=getStackedDimension(s,v.valueDataDim);d=numCalculate(s,g,u)}var y=f.dim==="x"?0:1,b=1-y,_=clone(o),x={coord:[]};_.type=null,_.coord=[],_.coord[b]=-1/0,x.coord[b]=1/0;var w=a.get("precision");w>=0&&isNumber(d)&&(d=+d.toFixed(Math.min(w,20))),_.coord[y]=x.coord[y]=d,l=[_,x,{type:u,valueIndex:o.valueIndex,value:d}]}else logError2("Invalid markLine data."),l=[]}var C=[dataTransform(r,l[0]),dataTransform(r,l[1]),extend2({},l[2])];return C[2].type=C[2].type||null,merge3(C[2],C[0]),merge3(C[2],C[1]),C};function isInifinity(r){return!isNaN(r)&&!isFinite(r)}function ifMarkLineHasOnlyDim(r,n,a,o){var s=1-r,l=o.dimensions[r];return isInifinity(n[s])&&isInifinity(a[s])&&n[r]===a[r]&&o.getAxis(l).containData(n[r])}function markLineFilter(r,n){if(r.type==="cartesian2d"){var a=n[0].coord,o=n[1].coord;if(a&&o&&(ifMarkLineHasOnlyDim(1,a,o,r)||ifMarkLineHasOnlyDim(0,a,o,r)))return!0}return dataFilter(r,n[0])&&dataFilter(r,n[1])}function updateSingleMarkerEndLayout(r,n,a,o,s){var l=o.coordinateSystem,u=r.getItemModel(n),f,d=parsePercent2(u.get("x"),s.getWidth()),v=parsePercent2(u.get("y"),s.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(o.getMarkerPosition)f=o.getMarkerPosition(r.getValues(r.dimensions,n));else{var g=l.dimensions,y=r.get(g[0],n),b=r.get(g[1],n);f=l.dataToPoint([y,b])}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),x=l.getAxis("y"),g=l.dimensions;isInifinity(r.get(g[0],n))?f[0]=_.toGlobalCoord(_.getExtent()[a?0:1]):isInifinity(r.get(g[1],n))&&(f[1]=x.toGlobalCoord(x.getExtent()[a?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}r.setItemLayout(n,f)}var MarkLineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markLine");if(u){var f=u.getData(),d=inner15(u).from,v=inner15(u).to;d.each(function(g){updateSingleMarkerEndLayout(d,g,!0,l,s),updateSingleMarkerEndLayout(v,g,!1,l,s)}),f.each(function(g){f.setItemLayout(g,[d.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(l.id).updateLayout()}},this)},n.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new LineDraw_default);this.group.add(g.group);var y=createList(u,a,o),b=y.from,_=y.to,x=y.line;inner15(o).from=b,inner15(o).to=_,o.setData(x);var w=o.get("symbol"),C=o.get("symbolSize"),S=o.get("symbolRotate"),D=o.get("symbolOffset");isArray3(w)||(w=[w,w]),isArray3(C)||(C=[C,C]),isArray3(S)||(S=[S,S]),isArray3(D)||(D=[D,D]),y.from.each(function(T){A(b,T,!0),A(_,T,!1)}),x.each(function(T){var P=x.getItemModel(T).getModel("lineStyle").getLineStyle();x.setItemLayout(T,[b.getItemLayout(T),_.getItemLayout(T)]),P.stroke==null&&(P.stroke=b.getItemVisual(T,"style").fill),x.setItemVisual(T,{fromSymbolKeepAspect:b.getItemVisual(T,"symbolKeepAspect"),fromSymbolOffset:b.getItemVisual(T,"symbolOffset"),fromSymbolRotate:b.getItemVisual(T,"symbolRotate"),fromSymbolSize:b.getItemVisual(T,"symbolSize"),fromSymbol:b.getItemVisual(T,"symbol"),toSymbolKeepAspect:_.getItemVisual(T,"symbolKeepAspect"),toSymbolOffset:_.getItemVisual(T,"symbolOffset"),toSymbolRotate:_.getItemVisual(T,"symbolRotate"),toSymbolSize:_.getItemVisual(T,"symbolSize"),toSymbol:_.getItemVisual(T,"symbol"),style:P})}),g.updateData(x),y.line.eachItemGraphicEl(function(T,P){T.traverse(function(E){getECData(E).dataModel=o})});function A(T,P,E){var M=T.getItemModel(P);updateSingleMarkerEndLayout(T,P,E,a,l);var L=M.getModel("itemStyle").getItemStyle();L.fill==null&&(L.fill=getVisualFromData(d,"color")),T.setItemVisual(P,{symbolKeepAspect:M.get("symbolKeepAspect"),symbolOffset:retrieve2(M.get("symbolOffset",!0),D[E?0:1]),symbolRotate:retrieve2(M.get("symbolRotate",!0),S[E?0:1]),symbolSize:retrieve2(M.get("symbolSize"),C[E?0:1]),symbol:retrieve2(M.get("symbol",!0),w[E?0:1]),style:L})}this.markKeep(g),g.group.silent=o.get("silent")||a.get("silent")},n.type="markLine",n}(MarkerView_default);function createList(r,n,a){var o;r?o=map3(r&&r.dimensions,function(v){var g=n.getData().getDimensionInfo(n.getData().mapDimension(v))||{};return extend2(extend2({},g),{name:v,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData_default(o,a),l=new SeriesData_default(o,a),u=new SeriesData_default([],a),f=map3(a.get("data"),curry(markLineTransform,n,r,a));r&&(f=filter(f,curry(markLineFilter,r)));var d=createMarkerDimValueGetter(!!r,o);return s.initData(map3(f,function(v){return v[0]}),null,d),l.initData(map3(f,function(v){return v[1]}),null,d),u.initData(map3(f,function(v){return v[2]})),u.hasItemOption=!0,{from:s,to:l,line:u}}var MarkAreaModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel_default),inner16=makeInner(),markAreaTransform=function(r,n,a,o){var s=dataTransform(r,o[0]),l=dataTransform(r,o[1]),u=s.coord,f=l.coord;u[0]=retrieve(u[0],-1/0),u[1]=retrieve(u[1],-1/0),f[0]=retrieve(f[0],1/0),f[1]=retrieve(f[1],1/0);var d=mergeAll([{},s,l]);return d.coord=[s.coord,l.coord],d.x0=s.x,d.y0=s.y,d.x1=l.x,d.y1=l.y,d};function isInifinity2(r){return!isNaN(r)&&!isFinite(r)}function ifMarkAreaHasOnlyDim(r,n,a,o){var s=1-r;return isInifinity2(n[s])&&isInifinity2(a[s])}function markAreaFilter(r,n){var a=n.coord[0],o=n.coord[1];return isCoordinateSystemType(r,"cartesian2d")&&a&&o&&(ifMarkAreaHasOnlyDim(1,a,o,r)||ifMarkAreaHasOnlyDim(0,a,o,r))?!0:dataFilter(r,{coord:a,x:n.x0,y:n.y0})||dataFilter(r,{coord:o,x:n.x1,y:n.y1})}function getSingleMarkerEndPoint(r,n,a,o,s){var l=o.coordinateSystem,u=r.getItemModel(n),f,d=parsePercent2(u.get(a[0]),s.getWidth()),v=parsePercent2(u.get(a[1]),s.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(o.getMarkerPosition)f=o.getMarkerPosition(r.getValues(a,n));else{var g=r.get(a[0],n),y=r.get(a[1],n),b=[g,y];l.clampData&&l.clampData(b,b),f=l.dataToPoint(b,!0)}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),x=l.getAxis("y"),g=r.get(a[0],n),y=r.get(a[1],n);isInifinity2(g)?f[0]=_.toGlobalCoord(_.getExtent()[a[0]==="x0"?0:1]):isInifinity2(y)&&(f[1]=x.toGlobalCoord(x.getExtent()[a[1]==="y0"?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}return f}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markArea");if(u){var f=u.getData();f.each(function(d){var v=map3(dimPermutations,function(y){return getSingleMarkerEndPoint(f,d,y,l,s)});f.setItemLayout(d,v);var g=f.getItemGraphicEl(d);g.setShape("points",v)})}},this)},n.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,{group:new Group_default});this.group.add(g.group),this.markKeep(g);var y=createList2(u,a,o);o.setData(y),y.each(function(b){var _=map3(dimPermutations,function(L){return getSingleMarkerEndPoint(y,b,L,a,l)}),x=u.getAxis("x").scale,w=u.getAxis("y").scale,C=x.getExtent(),S=w.getExtent(),D=[x.parse(y.get("x0",b)),x.parse(y.get("x1",b))],A=[w.parse(y.get("y0",b)),w.parse(y.get("y1",b))];asc(D),asc(A);var T=!(C[0]>D[1]||C[1]<D[0]||S[0]>A[1]||S[1]<A[0]),P=!T;y.setItemLayout(b,{points:_,allClipped:P});var E=y.getItemModel(b).getModel("itemStyle").getItemStyle(),M=getVisualFromData(d,"color");E.fill||(E.fill=M,isString2(E.fill)&&(E.fill=modifyAlpha(E.fill,.4))),E.stroke||(E.stroke=M),y.setItemVisual(b,"style",E)}),y.diff(inner16(g).data).add(function(b){var _=y.getItemLayout(b);if(!_.allClipped){var x=new Polygon_default({shape:{points:_.points}});y.setItemGraphicEl(b,x),g.group.add(x)}}).update(function(b,_){var x=inner16(g).data.getItemGraphicEl(_),w=y.getItemLayout(b);w.allClipped?x&&g.group.remove(x):(x?updateProps2(x,{shape:{points:w.points}},o,b):x=new Polygon_default({shape:{points:w.points}}),y.setItemGraphicEl(b,x),g.group.add(x))}).remove(function(b){var _=inner16(g).data.getItemGraphicEl(b);g.group.remove(_)}).execute(),y.eachItemGraphicEl(function(b,_){var x=y.getItemModel(_),w=y.getItemVisual(_,"style");b.useStyle(y.getItemVisual(_,"style")),setLabelStyle(b,getLabelStatesModels(x),{labelFetcher:o,labelDataIndex:_,defaultText:y.getName(_)||"",inheritColor:isString2(w.fill)?modifyAlpha(w.fill,1):"#000"}),setStatesStylesFromModel(b,x),toggleHoverEmphasis(b,null,null,x.get(["emphasis","disabled"])),getECData(b).dataModel=o}),inner16(g).data=y,g.group.silent=o.get("silent")||a.get("silent")},n.type="markArea",n}(MarkerView_default);function createList2(r,n,a){var o,s,l=["x0","y0","x1","y1"];if(r){var u=map3(r&&r.dimensions,function(v){var g=n.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return extend2(extend2({},y),{name:v,ordinalMeta:null})});s=map3(l,function(v,g){return{name:v,type:u[g%2].type}}),o=new SeriesData_default(s,a)}else s=[{name:"value",type:"float"}],o=new SeriesData_default(s,a);var f=map3(a.get("data"),curry(markAreaTransform,n,r,a));r&&(f=filter(f,curry(markAreaFilter,r)));var d=r?function(v,g,y,b){var _=v.coord[Math.floor(b/2)][b%2];return parseDataValue(_,s[b])}:function(v,g,y,b){return parseDataValue(v.value,s[b])};return o.initData(f,null,d),o.hasItemOption=!0,o}var getDefaultSelectorOptions=function(r,n){if(n==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode={type:"box",ignoreSize:!0},a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),a.selected=a.selected||{},this._updateSelector(a)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),this._updateSelector(a)},n.prototype._updateSelector=function(a){var o=a.selector,s=this.ecModel;o===!0&&(o=a.selector=["all","inverse"]),isArray3(o)&&each(o,function(l,u){isString2(l)&&(l={type:l}),o[u]=merge3(l,getDefaultSelectorOptions(s,l.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&this.get("selectedMode")==="single"){for(var o=!1,s=0;s<a.length;s++){var l=a[s].get("name");if(this.isSelected(l)){this.select(l),o=!0;break}}!o&&this.select(a[0].get("name"))}},n.prototype._updateData=function(a){var o=[],s=[];a.eachRawSeries(function(f){var d=f.name;s.push(d);var v;if(f.legendVisualProvider){var g=f.legendVisualProvider,y=g.getAllNames();a.isSeriesFiltered(f)||(s=s.concat(y)),y.length?o=o.concat(y):v=!0}else v=!0;v&&isNameSpecified(f)&&o.push(f.name)}),this._availableNames=s;var l=this.get("data")||o,u=map3(l,function(f){return(isString2(f)||isNumber(f))&&(f={name:f}),new Model_default(f,this,this.ecModel)},this);this._data=u},n.prototype.getData=function(){return this._data},n.prototype.select=function(a){var o=this.option.selected,s=this.get("selectedMode");if(s==="single"){var l=this._data;each(l,function(u){o[u.get("name")]=!1})}o[a]=!0},n.prototype.unSelect=function(a){this.get("selectedMode")!=="single"&&(this.option.selected[a]=!1)},n.prototype.toggleSelected=function(a){var o=this.option.selected;o.hasOwnProperty(a)||(o[a]=!0),this[o[a]?"unSelect":"select"](a)},n.prototype.allSelect=function(){var a=this._data,o=this.option.selected;each(a,function(s){o[s.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var a=this._data,o=this.option.selected;each(a,function(s){var l=s.get("name",!0);o.hasOwnProperty(l)||(o[l]=!0),o[l]=!o[l]})},n.prototype.isSelected=function(a){var o=this.option.selected;return!(o.hasOwnProperty(a)&&!o[a])&&indexOf(this._availableNames,a)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(Component_default),LegendModel_default=LegendModel,curry2=curry,each10=each,Group2=Group_default,LegendView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.newlineDisabled=!1,a}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group2),this.group.add(this._selectorGroup=new Group2),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(a,o,s){var l=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!a.get("show",!0)){var u=a.get("align"),f=a.get("orient");(!u||u==="auto")&&(u=a.get("left")==="right"&&f==="vertical"?"right":"left");var d=a.get("selector",!0),v=a.get("selectorPosition",!0);d&&(!v||v==="auto")&&(v=f==="horizontal"?"end":"start"),this.renderInner(u,a,o,s,d,f,v);var g=a.getBoxLayoutParams(),y={width:s.getWidth(),height:s.getHeight()},b=a.get("padding"),_=getLayoutRect(g,y,b),x=this.layoutInner(a,u,_,l,d,v),w=getLayoutRect(defaults({width:x.width,height:x.height},g),y,b);this.group.x=w.x-x.x,this.group.y=w.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(x,a))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(a,o,s,l,u,f,d){var v=this.getContentGroup(),g=createHashMap(),y=o.get("selectedMode"),b=[];s.eachRawSeries(function(_){!_.get("legendHoverLink")&&b.push(_.id)}),each10(o.getData(),function(_,x){var w=_.get("name");if(!this.newlineDisabled&&(w===""||w===`
`)){var C=new Group2;C.newline=!0,v.add(C);return}var S=s.getSeriesByName(w)[0];if(!g.get(w)){if(S){var D=S.getData(),A=D.getVisual("legendLineStyle")||{},T=D.getVisual("legendIcon"),P=D.getVisual("style"),E=this._createItem(S,w,x,_,o,a,A,P,T,y);E.on("click",curry2(dispatchSelectAction,w,null,l,b)).on("mouseover",curry2(dispatchHighlightAction,S.name,null,l,b)).on("mouseout",curry2(dispatchDownplayAction,S.name,null,l,b)),g.set(w,!0)}else s.eachRawSeries(function(M){if(!g.get(w)&&M.legendVisualProvider){var L=M.legendVisualProvider;if(!L.containName(w))return;var F=L.indexOfName(w),I=L.getItemVisual(F,"style"),B=L.getItemVisual(F,"legendIcon"),O=parse(I.fill);O&&O[3]===0&&(O[3]=.2,I=extend2(extend2({},I),{fill:stringify(O,"rgba")}));var R=this._createItem(M,w,x,_,o,a,{},I,B,y);R.on("click",curry2(dispatchSelectAction,null,w,l,b)).on("mouseover",curry2(dispatchHighlightAction,null,w,l,b)).on("mouseout",curry2(dispatchDownplayAction,null,w,l,b)),g.set(w,!0)}},this);g.get(w)||console.warn(w+" series not exists. Legend data should be same with series name or data name.")}},this),u&&this._createSelector(u,o,l,f,d)},n.prototype._createSelector=function(a,o,s,l,u){var f=this.getSelectorGroup();each10(a,function(v){var g=v.type,y=new Text_default({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(y);var b=o.getModel("selectorLabel"),_=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(y,{normal:b,emphasis:_},{defaultText:v.title}),enableHoverEmphasis(y)})},n.prototype._createItem=function(a,o,s,l,u,f,d,v,g,y){var b=a.visualDrawType,_=u.get("itemWidth"),x=u.get("itemHeight"),w=u.isSelected(o),C=l.get("symbolRotate"),S=l.get("symbolKeepAspect"),D=l.get("icon");g=D||g||"roundRect";var A=getLegendStyle(g,l,d,v,b,w),T=new Group2,P=l.getModel("textStyle");if(isFunction3(a.getLegendIcon)&&(!D||D==="inherit"))T.add(a.getLegendIcon({itemWidth:_,itemHeight:x,icon:g,iconRotate:C,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:S}));else{var E=D==="inherit"&&a.getData().getVisual("symbol")?C==="inherit"?a.getData().getVisual("symbolRotate"):C:0;T.add(getDefaultLegendIcon({itemWidth:_,itemHeight:x,icon:g,iconRotate:E,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:S}))}var M=f==="left"?_+5:-5,L=f,F=u.get("formatter"),I=o;isString2(F)&&F?I=F.replace("{name}",o!=null?o:""):isFunction3(F)&&(I=F(o));var B=l.get("inactiveColor");T.add(new Text_default({style:createTextStyle(P,{text:I,x:M,y:x/2,fill:w?P.getTextColor():B,align:L,verticalAlign:"middle"})}));var O=new Rect_default({shape:T.getBoundingRect(),invisible:!0}),R=l.getModel("tooltip");return R.get("show")&&setTooltipConfig({el:O,componentModel:u,itemName:o,itemTooltipOption:R.option}),T.add(O),T.eachChild(function(z){z.silent=!0}),O.silent=!y,this.getContentGroup().add(T),enableHoverEmphasis(T),T.__legendDataIndex=s,T},n.prototype.layoutInner=function(a,o,s,l,u,f){var d=this.getContentGroup(),v=this.getSelectorGroup();box(a.get("orient"),d,a.get("itemGap"),s.width,s.height);var g=d.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),d.markRedraw(),u){box("horizontal",v,a.get("selectorItemGap",!0));var b=v.getBoundingRect(),_=[-b.x,-b.y],x=a.get("selectorButtonGap",!0),w=a.getOrient().index,C=w===0?"width":"height",S=w===0?"height":"width",D=w===0?"y":"x";f==="end"?_[w]+=g[C]+x:y[w]+=b[C]+x,_[1-w]+=g[S]/2-b[S]/2,v.x=_[0],v.y=_[1],d.x=y[0],d.y=y[1];var A={x:0,y:0};return A[C]=g[C]+x+b[C],A[S]=Math.max(g[S],b[S]),A[D]=Math.min(0,b[D]+_[1-w]),A}else return d.x=y[0],d.y=y[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(Component_default2);function getLegendStyle(r,n,a,o,s,l){function u(x,w){x.lineWidth==="auto"&&(x.lineWidth=w.lineWidth>0?2:0),each10(x,function(C,S){x[S]==="inherit"&&(x[S]=w[S])})}var f=n.getModel("itemStyle"),d=f.getItemStyle(),v=r.lastIndexOf("empty",0)===0?"fill":"stroke";d.decal=o.decal,d.fill==="inherit"&&(d.fill=o[s]),d.stroke==="inherit"&&(d.stroke=o[v]),d.opacity==="inherit"&&(d.opacity=(s==="fill"?o:a).opacity),u(d,o);var g=n.getModel("lineStyle"),y=g.getLineStyle();if(u(y,a),d.fill==="auto"&&(d.fill=o.fill),d.stroke==="auto"&&(d.stroke=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),!l){var b=n.get("inactiveBorderWidth"),_=d[v];d.lineWidth=b==="auto"?o.lineWidth>0&&_?2:0:d.lineWidth,d.fill=n.get("inactiveColor"),d.stroke=n.get("inactiveBorderColor"),y.stroke=g.get("inactiveColor"),y.lineWidth=g.get("inactiveWidth")}return{itemStyle:d,lineStyle:y}}function getDefaultLegendIcon(r){var n=r.icon||"roundRect",a=createSymbol(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return a.setStyle(r.itemStyle),a.rotation=(r.iconRotate||0)*Math.PI/180,a.setOrigin([r.itemWidth/2,r.itemHeight/2]),n.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a}function dispatchSelectAction(r,n,a,o){dispatchDownplayAction(r,n,a,o),a.dispatchAction({type:"legendToggleSelect",name:r!=null?r:n}),dispatchHighlightAction(r,n,a,o)}function isUseHoverLayer(r){for(var n=r.getZr().storage.getDisplayList(),a,o=0,s=n.length;o<s&&!(a=n[o].states.emphasis);)o++;return a&&a.hoverLayer}function dispatchHighlightAction(r,n,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"highlight",seriesName:r,name:n,excludeSeriesId:o})}function dispatchDownplayAction(r,n,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"downplay",seriesName:r,name:n,excludeSeriesId:o})}var LegendView_default=LegendView,ScrollableLegendModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},n.prototype.init=function(a,o,s){var l=getLayoutParams(a);r.prototype.init.call(this,a,o,s),mergeAndNormalizeLayoutParams(this,a,l)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),mergeAndNormalizeLayoutParams(this,this.option,a)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel_default.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel_default);function mergeAndNormalizeLayoutParams(r,n,a){var o=r.getOrient(),s=[1,1];s[o.index]=0,mergeLayoutParam(n,a,{type:"box",ignoreSize:!!s})}var Group3=Group_default,WH2=["width","height"],XY2=["x","y"],ScrollableLegendView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.newlineDisabled=!0,a._currentIndex=0,a}return n.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group3),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group3)},n.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(a,o,s,l,u,f,d){var v=this;r.prototype.renderInner.call(this,a,o,s,l,u,f,d);var g=this._controllerGroup,y=o.get("pageIconSize",!0),b=isArray3(y)?y:[y,y];x("pagePrev",0);var _=o.getModel("pageTextStyle");g.add(new Text_default({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(w,C){var S=w+"DataIndex",D=createIcon(o.get("pageIcons",!0)[o.getOrient().name][C],{onclick:bind(v._pageGo,v,S,o,l)},{x:-b[0]/2,y:-b[1]/2,width:b[0],height:b[1]});D.name=w,g.add(D)}},n.prototype.layoutInner=function(a,o,s,l,u,f){var d=this.getSelectorGroup(),v=a.getOrient().index,g=WH2[v],y=XY2[v],b=WH2[1-v],_=XY2[1-v];u&&box("horizontal",d,a.get("selectorItemGap",!0));var x=a.get("selectorButtonGap",!0),w=d.getBoundingRect(),C=[-w.x,-w.y],S=clone(s);u&&(S[g]=s[g]-w[g]-x);var D=this._layoutContentAndController(a,l,S,v,g,b,_,y);if(u){if(f==="end")C[v]+=D[g]+x;else{var A=w[g]+x;C[v]-=A,D[y]-=A}D[g]+=w[g]+x,C[1-v]+=D[_]+D[b]/2-w[b]/2,D[b]=Math.max(D[b],w[b]),D[_]=Math.min(D[_],w[_]+C[1-v]),d.x=C[0],d.y=C[1],d.markRedraw()}return D},n.prototype._layoutContentAndController=function(a,o,s,l,u,f,d,v){var g=this.getContentGroup(),y=this._containerGroup,b=this._controllerGroup;box(a.get("orient"),g,a.get("itemGap"),l?s.width:null,l?null:s.height),box("horizontal",b,a.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),x=b.getBoundingRect(),w=this._showController=_[u]>s[u],C=[-_.x,-_.y];o||(C[l]=g[v]);var S=[0,0],D=[-x.x,-x.y],A=retrieve2(a.get("pageButtonGap",!0),a.get("itemGap",!0));if(w){var T=a.get("pageButtonPosition",!0);T==="end"?D[l]+=s[u]-x[u]:S[l]+=x[u]+A}D[1-l]+=_[f]/2-x[f]/2,g.setPosition(C),y.setPosition(S),b.setPosition(D);var P={x:0,y:0};if(P[u]=w?s[u]:_[u],P[f]=Math.max(_[f],x[f]),P[d]=Math.min(0,x[d]+D[1-l]),y.__rectSize=s[u],w){var E={x:0,y:0};E[u]=Math.max(s[u]-x[u]-A,0),E[f]=P[f],y.setClipPath(new Rect_default({shape:E})),y.__rectSize=E[u]}else b.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(a);return M.pageIndex!=null&&updateProps2(g,{x:M.contentPosition[0],y:M.contentPosition[1]},w?a:null),this._updatePageInfoView(a,M),P},n.prototype._pageGo=function(a,o,s){var l=this._getPageInfo(o)[a];l!=null&&s.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:o.id})},n.prototype._updatePageInfoView=function(a,o){var s=this._controllerGroup;each(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",b=o[y]!=null,_=s.childOfName(g);_&&(_.setStyle("fill",b?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),_.cursor=b?"pointer":"default")});var l=s.childOfName("pageText"),u=a.get("pageFormatter"),f=o.pageIndex,d=f!=null?f+1:0,v=o.pageCount;l&&u&&l.setStyle("text",isString2(u)?u.replace("{current}",d==null?"":d+"").replace("{total}",v==null?"":v+""):u({current:d,total:v}))},n.prototype._getPageInfo=function(a){var o=a.get("scrollDataIndex",!0),s=this.getContentGroup(),l=this._containerGroup.__rectSize,u=a.getOrient().index,f=WH2[u],d=XY2[u],v=this._findTargetItemIndex(o),g=s.children(),y=g[v],b=g.length,_=b?1:0,x={contentPosition:[s.x,s.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return x;var w=T(y);x.contentPosition[u]=-w.s;for(var C=v+1,S=w,D=w,A=null;C<=b;++C)A=T(g[C]),(!A&&D.e>S.s+l||A&&!P(A,S.s))&&(D.i>S.i?S=D:S=A,S&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=S.i),++x.pageCount)),D=A;for(var C=v-1,S=w,D=w,A=null;C>=-1;--C)A=T(g[C]),(!A||!P(D,A.s))&&S.i<D.i&&(D=S,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=S.i),++x.pageCount,++x.pageIndex),S=A;return x;function T(E){if(E){var M=E.getBoundingRect(),L=M[d]+E[d];return{s:L,e:L+M[f],i:E.__legendDataIndex}}}function P(E,M){return E.e>=M&&E.s<=M+l}},n.prototype._findTargetItemIndex=function(a){if(!this._showController)return 0;var o,s=this.getContentGroup(),l;return s.eachChild(function(u,f){var d=u.__legendDataIndex;l==null&&d!=null&&(l=f),d===a&&(o=f)}),o!=null?o:l},n.type="legend.scroll",n}(LegendView_default),InsideZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel_default),inner17=makeInner();function setViewInfoToCoordSysRecord(r,n,a){inner17(r).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(n.uid);s&&(s.getRange=a)})}function disposeCoordSysRecordIfNeeded(r,n){for(var a=inner17(r).coordSysRecordMap,o=a.keys(),s=0;s<o.length;s++){var l=o[s],u=a.get(l),f=u.dataZoomInfoMap;if(f){var d=n.uid,v=f.get(d);v&&(f.removeKey(d),f.keys().length||disposeCoordSysRecord(a,u))}}}function disposeCoordSysRecord(r,n){if(n){r.removeKey(n.model.uid);var a=n.controller;a&&a.dispose()}}var InsideZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataZoom.inside",a}return n.prototype.render=function(a,o,s){if(r.prototype.render.apply(this,arguments),a.noTarget()){this._clear();return}this.range=a.getPercentRange(),setViewInfoToCoordSysRecord(s,a,{pan:bind(getRangeHandlers.pan,this),zoom:bind(getRangeHandlers.zoom,this),scrollMove:bind(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView_default),getRangeHandlers={zoom:function(r,n,a,o){var s=this.range,l=s.slice(),u=r.axisModels[0];if(!!u){var f=getDirectionInfo[n](null,[o.originX,o.originY],u,a,r),d=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(l[1]-l[0])+l[0],v=Math.max(1/o.scale,0);l[0]=(l[0]-d)*v+d,l[1]=(l[1]-d)*v+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,l,[0,100],0,g.minSpan,g.maxSpan),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}},pan:makeMover(function(r,n,a,o,s,l){var u=getDirectionInfo[o]([l.oldX,l.oldY],[l.newX,l.newY],n,s,a);return u.signal*(r[1]-r[0])*u.pixel/u.pixelLength}),scrollMove:makeMover(function(r,n,a,o,s,l){var u=getDirectionInfo[o]([0,0],[l.scrollDelta,l.scrollDelta],n,s,a);return u.signal*(r[1]-r[0])*l.scrollDelta})};function makeMover(r){return function(n,a,o,s){var l=this.range,u=l.slice(),f=n.axisModels[0];if(!!f){var d=r(u,f,n,a,o,s);if(sliderMove(d,u,[0,100],"all"),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}}}var getDirectionInfo={grid:function(r,n,a,o,s){var l=a.axis,u={},f=s.model.coordinateSystem.getRect();return r=r||[0,0],l.dim==="x"?(u.pixel=n[0]-r[0],u.pixelLength=f.width,u.pixelStart=f.x,u.signal=l.inverse?1:-1):(u.pixel=n[1]-r[1],u.pixelLength=f.height,u.pixelStart=f.y,u.signal=l.inverse?-1:1),u},polar:function(r,n,a,o,s){var l=a.axis,u={},f=s.model.coordinateSystem,d=f.getRadiusAxis().getExtent(),v=f.getAngleAxis().getExtent();return r=r?f.pointToCoord(r):[0,0],n=f.pointToCoord(n),a.mainType==="radiusAxis"?(u.pixel=n[0]-r[0],u.pixelLength=d[1]-d[0],u.pixelStart=d[0],u.signal=l.inverse?1:-1):(u.pixel=n[1]-r[1],u.pixelLength=v[1]-v[0],u.pixelStart=v[0],u.signal=l.inverse?-1:1),u},singleAxis:function(r,n,a,o,s){var l=a.axis,u=s.model.coordinateSystem.getRect(),f={};return r=r||[0,0],l.orient==="horizontal"?(f.pixel=n[0]-r[0],f.pixelLength=u.width,f.pixelStart=u.x,f.signal=l.inverse?1:-1):(f.pixel=n[1]-r[1],f.pixelLength=u.height,f.pixelStart=u.y,f.signal=l.inverse?-1:1),f}},SliderZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel_default),Rect2=Rect_default,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._displayables={},a}return n.prototype.init=function(a,o){this.api=o,this._onBrush=bind(this._onBrush,this),this._onBrushEnd=bind(this._onBrushEnd,this)},n.prototype.render=function(a,o,s,l){if(r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",a.get("throttle"),"fixRate"),this._orient=a.getOrient(),a.get("show")===!1){this.group.removeAll();return}if(a.noTarget()){this._clear(),this.group.removeAll();return}(!l||l.type!=="dataZoom"||l.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear2(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Group_default;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(o),this._positionGroup()},n.prototype._resetLocation=function(){var a=this.dataZoomModel,o=this.api,s=a.get("brushSelect"),l=s?DEFAULT_MOVE_HANDLE_SIZE:0,u=this._findCoordRect(),f={width:o.getWidth(),height:o.getHeight()},d=this._orient===HORIZONTAL?{right:f.width-u.x-u.width,top:f.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-l,width:u.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:u.y,width:DEFAULT_FILLER_SIZE,height:u.height},v=getLayoutParams(a.option);each(["right","top","width","height"],function(y){v[y]==="ph"&&(v[y]=d[y])});var g=getLayoutRect(v,f);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var a=this.group,o=this._location,s=this._orient,l=this.dataZoomModel.getFirstTargetAxisModel(),u=l&&l.get("inverse"),f=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(s===HORIZONTAL&&!u?{scaleY:d?1:-1,scaleX:1}:s===HORIZONTAL&&u?{scaleY:d?1:-1,scaleX:-1}:s===VERTICAL&&!u?{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2});var v=a.getBoundingRect([f]);a.x=o.x-v.x,a.y=o.y-v.y,a.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var a=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,l=a.get("brushSelect");s.add(new Rect2({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var u=new Rect2({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:bind(this._onClickPanel,this)}),f=this.api.getZr();l?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),s.add(u)},n.prototype._renderDataShadow=function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!a)return;var o=this._size,s=this._shadowSize||[],l=a.series,u=l.getRawData(),f=l.getShadowDim?l.getShadowDim():a.otherDim;if(f==null)return;var d=this._shadowPolygonPts,v=this._shadowPolylinePts;if(u!==this._shadowData||f!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var g=u.getDataExtent(f),y=(g[1]-g[0])*.3;g=[g[0]-y,g[1]+y];var b=[0,o[1]],_=[0,o[0]],x=[[o[0],0],[0,0]],w=[],C=_[1]/(u.count()-1),S=0,D=Math.round(u.count()/o[0]),A;u.each([f],function(L,F){if(D>0&&F%D){S+=C;return}var I=L==null||isNaN(L)||L==="",B=I?0:linearMap(L,g,b,!0);I&&!A&&F?(x.push([x[x.length-1][0],0]),w.push([w[w.length-1][0],0])):!I&&A&&(x.push([S,0]),w.push([S,0])),x.push([S,B]),w.push([S,B]),S+=C,A=I}),d=this._shadowPolygonPts=x,v=this._shadowPolylinePts=w}this._shadowData=u,this._shadowDim=f,this._shadowSize=[o[0],o[1]];var T=this.dataZoomModel;function P(L){var F=T.getModel(L?"selectedDataBackground":"dataBackground"),I=new Group_default,B=new Polygon_default({shape:{points:d},segmentIgnoreThreshold:1,style:F.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),O=new Polyline_default({shape:{points:v},segmentIgnoreThreshold:1,style:F.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return I.add(B),I.add(O),I}for(var E=0;E<3;E++){var M=P(E===1);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}},n.prototype._prepareDataShadowInfo=function(){var a=this.dataZoomModel,o=a.get("showDataShadow");if(o!==!1){var s,l=this.ecModel;return a.eachTargetAxis(function(u,f){var d=a.getAxisProxy(u,f).getTargetSeriesModels();each(d,function(v){if(!s&&!(o!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,v.get("type"))<0)){var g=l.getComponent(getAxisMainType(u),f).axis,y=getOtherDim(u),b,_=v.coordinateSystem;y!=null&&_.getOtherAxis&&(b=_.getOtherAxis(g).inverse),y=v.getData().mapDimension(y),s={thisAxis:g,series:v,thisDim:u,otherDim:y,otherAxisInverse:b}}},this)},this),s}},n.prototype._renderHandle=function(){var a=this.group,o=this._displayables,s=o.handles=[null,null],l=o.handleLabels=[null,null],u=this._displayables.sliderGroup,f=this._size,d=this.dataZoomModel,v=this.api,g=d.get("borderRadius")||0,y=d.get("brushSelect"),b=o.filler=new Rect2({silent:y,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});u.add(b),u.add(new Rect2({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each([0,1],function(A){var T=d.get("handleIcon");!symbolBuildProxies[T]&&T.indexOf("path://")<0&&T.indexOf("image://")<0&&(T="path://"+T,deprecateLog("handleIcon now needs 'path://' prefix when using a path string"));var P=createSymbol(T,-1,0,2,2,null,!0);P.attr({cursor:getCursor(this._orient),draggable:!0,drift:bind(this._onDragMove,this,A),ondragend:bind(this._onDragEnd,this),onmouseover:bind(this._showDataInfo,this,!0),onmouseout:bind(this._showDataInfo,this,!1),z2:5});var E=P.getBoundingRect(),M=d.get("handleSize");this._handleHeight=parsePercent2(M,this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,P.setStyle(d.getModel("handleStyle").getItemStyle()),P.style.strokeNoScale=!0,P.rectHover=!0,P.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(P);var L=d.get("handleColor");L!=null&&(P.style.fill=L),u.add(s[A]=P);var F=d.getModel("textStyle");a.add(l[A]=new Text_default({silent:!0,invisible:!0,style:createTextStyle(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var _=b;if(y){var x=parsePercent2(d.get("moveHandleSize"),f[1]),w=o.moveHandle=new Rect_default({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:x}}),C=x*.8,S=o.moveHandleIcon=createSymbol(d.get("moveHandleIcon"),-C/2,-C/2,C,C,"#fff",!0);S.silent=!0,S.y=f[1]+x/2-.5,w.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var D=Math.min(f[1]/2,Math.max(x,10));_=o.moveZone=new Rect_default({invisible:!0,shape:{y:f[1]-D,height:x+D}}),_.on("mouseover",function(){v.enterEmphasis(w)}).on("mouseout",function(){v.leaveEmphasis(w)}),u.add(w),u.add(S),u.add(_)}_.attr({draggable:!0,cursor:getCursor(this._orient),drift:bind(this._onDragMove,this,"all"),ondragstart:bind(this._showDataInfo,this,!0),ondragend:bind(this._onDragEnd,this),onmouseover:bind(this._showDataInfo,this,!0),onmouseout:bind(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[linearMap(a[0],[0,100],o,!0),linearMap(a[1],[0,100],o,!0)]},n.prototype._updateInterval=function(a,o){var s=this.dataZoomModel,l=this._handleEnds,u=this._getViewExtent(),f=s.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];sliderMove(o,l,u,s.get("zoomLock")?"all":a,f.minSpan!=null?linearMap(f.minSpan,d,u,!0):null,f.maxSpan!=null?linearMap(f.maxSpan,d,u,!0):null);var v=this._range,g=this._range=asc([linearMap(l[0],u,d,!0),linearMap(l[1],u,d,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},n.prototype._updateView=function(a){var o=this._displayables,s=this._handleEnds,l=asc(s.slice()),u=this._size;each([0,1],function(_){var x=o.handles[_],w=this._handleHeight;x.attr({scaleX:w/2,scaleY:w/2,x:s[_]+(_?-1:1),y:u[1]/2-w/2})},this),o.filler.setShape({x:l[0],y:0,width:l[1]-l[0],height:u[1]});var f={x:l[0],width:l[1]-l[0]};o.moveHandle&&(o.moveHandle.setShape(f),o.moveZone.setShape(f),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",f.x+f.width/2));for(var d=o.dataShadowSegs,v=[0,l[0],l[1],u[0]],g=0;g<d.length;g++){var y=d[g],b=y.getClipPath();b||(b=new Rect_default,y.setClipPath(b)),b.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:u[1]})}this._updateDataInfo(a)},n.prototype._updateDataInfo=function(a){var o=this.dataZoomModel,s=this._displayables,l=s.handleLabels,u=this._orient,f=["",""];if(o.get("showDetail")){var d=o.findRepresentativeAxisProxy();if(d){var v=d.getAxisModel().axis,g=this._range,y=a?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();f=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var b=asc(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(x){var w=getTransform(s.handles[x].parent,this.group),C=transformDirection(x===0?"right":"left",w),S=this._handleWidth/2+LABEL_GAP,D=applyTransform2([b[x]+(x===0?-S:S),this._size[1]/2],w);l[x].setStyle({x:D[0],y:D[1],verticalAlign:u===HORIZONTAL?"middle":C,align:u===HORIZONTAL?C:"center",text:f[x]})}},n.prototype._formatLabel=function(a,o){var s=this.dataZoomModel,l=s.get("labelFormatter"),u=s.get("labelPrecision");(u==null||u==="auto")&&(u=o.getPixelPrecision());var f=a==null||isNaN(a)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(u,20));return isFunction3(l)?l(a,f):isString2(l)?l.replace("{value}",f):f},n.prototype._showDataInfo=function(a){a=this._dragging||a;var o=this._displayables,s=o.handleLabels;s[0].attr("invisible",!a),s[1].attr("invisible",!a),o.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},n.prototype._onDragMove=function(a,o,s,l){this._dragging=!0,stop2(l.event);var u=this._displayables.sliderGroup.getLocalTransform(),f=applyTransform2([o,s],u,!0),d=this._updateInterval(a,f[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),d&&v&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var a=this.dataZoomModel.get("realtime");!a&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(a){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var l=this._handleEnds,u=(l[0]+l[1])/2,f=this._updateInterval("all",s[0]-u);this._updateView(),f&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(a){var o=a.offsetX,s=a.offsetY;this._brushStart=new Point_default(o,s),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(a){if(!!this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var s=o.shape,l=+new Date;if(!(l-this._brushStartTime<200&&Math.abs(s.width)<5)){var u=this._getViewExtent(),f=[0,100];this._range=asc([linearMap(s.x,u,f,!0),linearMap(s.x+s.width,u,f,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(a){this._brushing&&(stop2(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},n.prototype._updateBrushRect=function(a,o){var s=this._displayables,l=this.dataZoomModel,u=s.brushRect;u||(u=s.brushRect=new Rect2({silent:!0,style:l.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(u)),u.attr("ignore",!1);var f=this._brushStart,d=this._displayables.sliderGroup,v=d.transformCoordToLocal(a,o),g=d.transformCoordToLocal(f.x,f.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),u.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},n.prototype._dispatchZoomAction=function(a){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?REALTIME_ANIMATION_CONFIG:null,start:o[0],end:o[1]})},n.prototype._findCoordRect=function(){var a,o=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!a&&o.length){var s=o[0].model.coordinateSystem;a=s.getRect&&s.getRect()}if(!a){var l=this.api.getWidth(),u=this.api.getHeight();a={x:l*.2,y:u*.2,width:l*.6,height:u*.6}}return a},n.type="dataZoom.slider",n}(DataZoomView_default);function getOtherDim(r){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[r]}function getCursor(r){return r==="vertical"?"ns-resize":"ew-resize"}var visualDefault={get:function(r,n,a){var o=clone((defaultOption2[r]||{})[n]);return a&&isArray3(o)?o[o.length-1]:o}},defaultOption2={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},visualDefault_default=visualDefault,mapVisual=VisualMapping_default.mapVisual,eachVisual=VisualMapping_default.eachVisual,isArray4=isArray3,each11=each,asc3=asc,linearMap2=linearMap,VisualMapModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},n.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(a){var o=this.stateList;a=bind(a,this),this.controllerVisuals=createVisualMappings(this.option.controller,o,a),this.targetVisuals=createVisualMappings(this.option.target,o,a)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,o=[];return a==null||a==="all"?this.ecModel.eachSeries(function(s,l){o.push(l)}):o=normalizeToArray(a),o},n.prototype.eachTargetSeries=function(a,o){each(this.getTargetSeriesIndices(),function(s){var l=this.ecModel.getSeriesByIndex(s);l&&a.call(o,l)},this)},n.prototype.isTargetSeries=function(a){var o=!1;return this.eachTargetSeries(function(s){s===a&&(o=!0)}),o},n.prototype.formatValueText=function(a,o,s){var l=this.option,u=l.precision,f=this.dataBound,d=l.formatter,v;s=s||["<",">"],isArray3(a)&&(a=a.slice(),v=!0);var g=o?a:v?[y(a[0]),y(a[1])]:y(a);if(isString2(d))return d.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(isFunction3(d))return v?d(a[0],a[1]):d(a);if(v)return a[0]===f[0]?s[0]+" "+g[1]:a[1]===f[1]?s[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(b){return b===f[0]?"min":b===f[1]?"max":(+b).toFixed(Math.min(u,20))}},n.prototype.resetExtent=function(){var a=this.option,o=asc3([a.min,a.max]);this._dataExtent=o},n.prototype.getDataDimensionIndex=function(a){var o=this.option.dimension;if(o!=null)return a.getDimensionIndex(o);for(var s=a.dimensions,l=s.length-1;l>=0;l--){var u=s[l],f=a.getDimensionInfo(u);if(!f.isCalculationCoord)return f.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var a=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},l=o.target||(o.target={}),u=o.controller||(o.controller={});merge3(l,s),merge3(u,s);var f=this.isCategory();d.call(this,l),d.call(this,u),v.call(this,l,"inRange","outOfRange"),g.call(this,u);function d(y){isArray4(o.color)&&!y.inRange&&(y.inRange={color:o.color.slice().reverse()}),y.inRange=y.inRange||{color:a.get("gradientColor")}}function v(y,b,_){var x=y[b],w=y[_];x&&!w&&(w=y[_]={},each11(x,function(C,S){if(!!VisualMapping_default.isValidType(S)){var D=visualDefault_default.get(S,"inactive",f);D!=null&&(w[S]=D,S==="color"&&!w.hasOwnProperty("opacity")&&!w.hasOwnProperty("colorAlpha")&&(w.opacity=[0,0]))}}))}function g(y){var b=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,_=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),w=this.getItemSymbol(),C=w||"roundRect";each11(this.stateList,function(S){var D=this.itemSize,A=y[S];A||(A=y[S]={color:f?x:[x]}),A.symbol==null&&(A.symbol=b&&clone(b)||(f?C:[C])),A.symbolSize==null&&(A.symbolSize=_&&clone(_)||(f?D[0]:[D[0],D[0]])),A.symbol=mapVisual(A.symbol,function(E){return E==="none"?C:E});var T=A.symbolSize;if(T!=null){var P=-1/0;eachVisual(T,function(E){E>P&&(P=E)}),A.symbolSize=mapVisual(T,function(E){return linearMap2(E,[0,P],[0,D[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(a){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(a){return null},n.prototype.getVisualMeta=function(a){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(Component_default),VisualMapModel_default=VisualMapModel,DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(a,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;(a[0]==null||isNaN(a[0]))&&(a[0]=DEFAULT_BAR_BOUND[0]),(a[1]==null||isNaN(a[1]))&&(a[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var a=this.getExtent(),o=this.option.range;!o||o.auto?(a.auto=1,this.option.range=a):isArray3(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],a[0]),o[1]=Math.min(o[1],a[1]))},n.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),each(this.stateList,function(a){var o=this.option.controller[a].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},n.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},n.prototype.getSelected=function(){var a=this.getExtent(),o=asc((this.get("range")||[]).slice());return o[0]>a[1]&&(o[0]=a[1]),o[1]>a[1]&&(o[1]=a[1]),o[0]<a[0]&&(o[0]=a[0]),o[1]<a[0]&&(o[1]=a[0]),o},n.prototype.getValueState=function(a){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=a)&&(o[1]>=s[1]||a<=o[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(a){var o=[];return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimensionIndex(u),function(f,d){a[0]<=f&&f<=a[1]&&l.push(d)},this),o.push({seriesId:s.id,dataIndex:l})},this),o},n.prototype.getVisualMeta=function(a){var o=getColorStopValues(this,"outOfRange",this.getExtent()),s=getColorStopValues(this,"inRange",this.option.range.slice()),l=[];function u(_,x){l.push({value:_,color:a(_,x)})}for(var f=0,d=0,v=s.length,g=o.length;d<g&&(!s.length||o[d]<=s[0]);d++)o[d]<s[f]&&u(o[d],"outOfRange");for(var y=1;f<v;f++,y=0)y&&l.length&&u(s[f],"outOfRange"),u(s[f],"inRange");for(var y=1;d<g;d++)(!s.length||s[s.length-1]<o[d])&&(y&&(l.length&&u(l[l.length-1].value,"outOfRange"),y=0),u(o[d],"outOfRange"));var b=l.length;return{stops:l,outerColors:[b?l[0].color:"transparent",b?l[b-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel_default);function getColorStopValues(r,n,a){if(a[0]===a[1])return a.slice();for(var o=200,s=(a[1]-a[0])/o,l=a[0],u=[],f=0;f<=o&&l<a[1];f++)u.push(l),l+=s;return u.push(a[1]),u}var VisualMapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return n.prototype.init=function(a,o){this.ecModel=a,this.api=o},n.prototype.render=function(a,o,s,l){if(this.visualMapModel=a,a.get("show")===!1){this.group.removeAll();return}this.doRender(a,o,s,l)},n.prototype.renderBackground=function(a){var o=this.visualMapModel,s=normalizeCssArray2(o.get("padding")||0),l=a.getBoundingRect();a.add(new Rect_default({z2:-1,silent:!0,shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[3]+s[1],height:l.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},n.prototype.getControllerVisual=function(a,o,s){s=s||{};var l=s.forceState,u=this.visualMapModel,f={};if(o==="color"){var d=u.get("contentColor");f.color=d}function v(_){return f[_]}function g(_,x){f[_]=x}var y=u.controllerVisuals[l||u.getValueState(a)],b=VisualMapping_default.prepareVisualTypes(y);return each(b,function(_){var x=y[_];s.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",x=y.__alphaForOpacity),VisualMapping_default.dependsOn(_,o)&&x&&x.applyVisual(a,v,g)}),f[o]},n.prototype.positionGroup=function(a){var o=this.visualMapModel,s=this.api;positionElement(a,o.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},n.prototype.doRender=function(a,o,s,l){},n.type="visualMap",n}(Component_default2),VisualMapView_default=VisualMapView,paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(r,n,a){var o=r.option,s=o.align;if(s!=null&&s!=="auto")return s;for(var l={width:n.getWidth(),height:n.getHeight()},u=o.orient==="horizontal"?1:0,f=paramsSet[u],d=[0,null,10],v={},g=0;g<3;g++)v[paramsSet[1-u][g]]=d[g],v[f[g]]=g===2?a[0]:o[f[g]];var y=[["x","width",3],["y","height",0]][u],b=getLayoutRect(v,l,o.padding);return f[(b.margin[y[2]]||0)+b[y[0]]+b[y[1]]*.5<l[y[1]]*.5?0:1]}function makeHighDownBatch(r,n){return each(r||[],function(a){a.dataIndex!=null&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(n?n.componentIndex:"")}),r}var linearMap3=linearMap,each12=each,mathMin7=Math.min,mathMax7=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return n.prototype.doRender=function(a,o,s,l){this._api=s,(!l||l.type!=="selectDataRange"||l.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,o=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(o);var s=a.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},n.prototype._renderEndsText=function(a,o,s){if(!!o){var l=o[1-s];l=l!=null?l+"":"";var u=this.visualMapModel,f=u.get("textGap"),d=u.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,s===0?-f:d[1]+f],v),y=this._applyTransform(s===0?"bottom":"top",v),b=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new Text_default({style:createTextStyle(_,{x:g[0],y:g[1],verticalAlign:b==="horizontal"?"middle":y,align:b==="horizontal"?y:"center",text:l})}))}},n.prototype._renderBar=function(a){var o=this.visualMapModel,s=this._shapes,l=o.itemSize,u=this._orient,f=this._useHandle,d=getItemAlign(o,this.api,l),v=s.mainGroup=this._createBarGroup(d),g=new Group_default;v.add(g),g.add(s.outOfRange=createPolygon()),g.add(s.inRange=createPolygon(null,f?getCursor2(this._orient):null,bind(this._dragHandle,this,"all",!1),bind(this._dragHandle,this,"all",!0))),g.setClipPath(new Rect_default({shape:{x:0,y:0,width:l[0],height:l[1],r:3}}));var y=o.textStyleModel.getTextRect("\u56FD"),b=mathMax7(y.width,y.height);f&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,v,0,l,b,u),this._createHandle(o,v,1,l,b,u)),this._createIndicator(o,v,l,b,u),a.add(v)},n.prototype._createHandle=function(a,o,s,l,u,f){var d=bind(this._dragHandle,this,s,!1),v=bind(this._dragHandle,this,s,!0),g=parsePercent(a.get("handleSize"),l[0]),y=createSymbol(a.get("handleIcon"),-g/2,-g/2,g,g,null,!0),b=getCursor2(this._orient);y.attr({cursor:b,draggable:!0,drift:d,ondragend:v,onmousemove:function(S){stop2(S.event)}}),y.x=l[0]/2,y.useStyle(a.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(y,!0),o.add(y);var _=this.visualMapModel.textStyleModel,x=new Text_default({cursor:b,draggable:!0,drift:d,onmousemove:function(S){stop2(S.event)},ondragend:v,style:createTextStyle(_,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var w=[g,0],C=this._shapes;C.handleThumbs[s]=y,C.handleLabelPoints[s]=w,C.handleLabels[s]=x},n.prototype._createIndicator=function(a,o,s,l,u){var f=parsePercent(a.get("indicatorSize"),s[0]),d=createSymbol(a.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var v=a.getModel("indicatorStyle").getItemStyle();if(d instanceof Image_default){var g=d.style;d.useStyle(extend2({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else d.useStyle(v);o.add(d);var y=this.visualMapModel.textStyleModel,b=new Text_default({silent:!0,invisible:!0,style:createTextStyle(y,{x:0,y:0,text:""})});this.group.add(b);var _=[(u==="horizontal"?l/2:HOVER_LINK_OUT)+s[0]/2,0],x=this._shapes;x.indicator=d,x.indicatorLabel=b,x.indicatorLabelPoint=_,this._firstShowIndicator=!0},n.prototype._dragHandle=function(a,o,s,l){if(!!this._useHandle){if(this._dragging=!o,!o){var u=this._applyTransform([s,l],this._shapes.mainGroup,!0);this._updateInterval(a,u[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},n.prototype._resetInterval=function(){var a=this.visualMapModel,o=this._dataInterval=a.getSelected(),s=a.getExtent(),l=[0,a.itemSize[1]];this._handleEnds=[linearMap3(o[0],s,l,!0),linearMap3(o[1],s,l,!0)]},n.prototype._updateInterval=function(a,o){o=o||0;var s=this.visualMapModel,l=this._handleEnds,u=[0,s.itemSize[1]];sliderMove(o,l,u,a,0);var f=s.getExtent();this._dataInterval=[linearMap3(l[0],u,f,!0),linearMap3(l[1],u,f,!0)]},n.prototype._updateView=function(a){var o=this.visualMapModel,s=o.getExtent(),l=this._shapes,u=[0,o.itemSize[1]],f=a?u:this._handleEnds,d=this._createBarVisual(this._dataInterval,s,f,"inRange"),v=this._createBarVisual(s,s,u,"outOfRange");l.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),l.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(f,d)},n.prototype._createBarVisual=function(a,o,s,l){var u={forceState:l,convertOpacityToAlpha:!0},f=this._makeColorGradient(a,u),d=[this.getControllerVisual(a[0],"symbolSize",u),this.getControllerVisual(a[1],"symbolSize",u)],v=this._createBarPoints(s,d);return{barColor:new LinearGradient_default(0,0,0,1,f),barPoints:v,handlesColor:[f[0].color,f[f.length-1].color]}},n.prototype._makeColorGradient=function(a,o){var s=100,l=[],u=(a[1]-a[0])/s;l.push({color:this.getControllerVisual(a[0],"color",o),offset:0});for(var f=1;f<s;f++){var d=a[0]+u*f;if(d>a[1])break;l.push({color:this.getControllerVisual(d,"color",o),offset:f/s})}return l.push({color:this.getControllerVisual(a[1],"color",o),offset:1}),l},n.prototype._createBarPoints=function(a,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],a[0]],[s[0],a[0]],[s[0],a[1]],[s[0]-o[1],a[1]]]},n.prototype._createBarGroup=function(a){var o=this._orient,s=this.visualMapModel.get("inverse");return new Group_default(o==="horizontal"&&!s?{scaleX:a==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&s?{scaleX:a==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!s?{scaleX:a==="left"?1:-1,scaleY:-1}:{scaleX:a==="left"?1:-1})},n.prototype._updateHandle=function(a,o){if(!!this._useHandle){var s=this._shapes,l=this.visualMapModel,u=s.handleThumbs,f=s.handleLabels,d=l.itemSize,v=l.getExtent();each12([0,1],function(g){var y=u[g];y.setStyle("fill",o.handlesColor[g]),y.y=a[g];var b=linearMap3(a[g],[0,d[1]],v,!0),_=this.getControllerVisual(b,"symbolSize");y.scaleX=y.scaleY=_/d[0],y.x=d[0]-_/2;var x=applyTransform2(s.handleLabelPoints[g],getTransform(y,this.group));f[g].setStyle({x:x[0],y:x[1],text:l.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(a,o,s,l){var u=this.visualMapModel,f=u.getExtent(),d=u.itemSize,v=[0,d[1]],g=this._shapes,y=g.indicator;if(!!y){y.attr("invisible",!1);var b={convertOpacityToAlpha:!0},_=this.getControllerVisual(a,"color",b),x=this.getControllerVisual(a,"symbolSize"),w=linearMap3(a,f,v,!0),C=d[0]-x/2,S={x:y.x,y:y.y};y.y=w,y.x=C;var D=applyTransform2(g.indicatorLabelPoint,getTransform(y,this.group)),A=g.indicatorLabel;A.attr("invisible",!1);var T=this._applyTransform("left",g.mainGroup),P=this._orient,E=P==="horizontal";A.setStyle({text:(s||"")+u.formatValueText(o),verticalAlign:E?T:"middle",align:E?"center":T});var M={x:C,y:w,style:{fill:_}},L={style:{x:D[0],y:D[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};y.x=S.x,y.y=S.y,y.animateTo(M,F),A.animateTo(L,F)}else y.attr(M),A.attr(L);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var B=0;B<I.length;B++)this._api.enterBlur(I[B])}},n.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(o){if(a._hovering=!0,!a._dragging){var s=a.visualMapModel.itemSize,l=a._applyTransform([o.offsetX,o.offsetY],a._shapes.mainGroup,!0,!0);l[1]=mathMin7(mathMax7(0,l[1]),s[1]),a._doHoverLinkToSeries(l[1],0<=l[0]&&l[0]<=s[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(a,o){var s=this.visualMapModel,l=s.itemSize;if(!!s.option.hoverLink){var u=[0,l[1]],f=s.getExtent();a=mathMin7(mathMax7(u[0],a),u[1]);var d=getHalfHoverLinkSize(s,f,u),v=[a-d,a+d],g=linearMap3(a,u,f,!0),y=[linearMap3(v[0],u,f,!0),linearMap3(v[1],u,f,!0)];v[0]<u[0]&&(y[0]=-1/0),v[1]>u[1]&&(y[1]=1/0),o&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",d):y[1]===1/0?this._showIndicator(g,y[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var b=this._hoverLinkDataIndices,_=[];(o||useHoverLinkOnHandle(s))&&(_=this._hoverLinkDataIndices=s.findTargetDataIndices(y));var x=compressBatches(b,_);this._dispatchHighDown("downplay",makeHighDownBatch(x[0],s)),this._dispatchHighDown("highlight",makeHighDownBatch(x[1],s))}},n.prototype._hoverLinkFromSeriesMouseOver=function(a){var o=a.target,s=this.visualMapModel;if(!(!o||getECData(o).dataIndex==null)){var l=getECData(o),u=this.ecModel.getSeriesByIndex(l.seriesIndex);if(!!s.isTargetSeries(u)){var f=u.getData(l.dataType),d=f.getStore().get(s.getDataDimensionIndex(f),l.dataIndex);isNaN(d)||this._showIndicator(d,d)}}},n.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this._api.leaveBlur(o[s])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(a,this.visualMapModel)),a.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(a,o,s,l){var u=getTransform(o,l?null:this.group);return isArray3(a)?applyTransform2(a,u,s):transformDirection(a,u,s)},n.prototype._dispatchHighDown=function(a,o){o&&o.length&&this.api.dispatchAction({type:a,batch:o})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView_default);function createPolygon(r,n,a,o){return new Polygon_default({shape:{points:r},draggable:!!a,cursor:n,drift:a,onmousemove:function(s){stop2(s.event)},ondragend:o})}function getHalfHoverLinkSize(r,n,a){var o=HOVER_LINK_SIZE/2,s=r.get("hoverLinkDataSize");return s&&(o=linearMap3(s,n,a,!0)/2),o}function useHoverLinkOnHandle(r){var n=r.get("hoverLinkOnHandle");return!!(n==null?r.get("realtime"):n)}function getCursor2(r){return r==="vertical"?"ns-resize":"ew-resize"}var PiecewiseModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._pieceList=[],a}return n.prototype.optionUpdated=function(a,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(a,o);var l=this.option.categories;this.resetVisual(function(u,f){s==="categories"?(u.mappingMethod="category",u.categories=clone(l)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=map3(this._pieceList,function(d){return d=clone(d),f!=="inRange"&&(d.visual=null),d}))})},n.prototype.completeVisualOption=function(){var a=this.option,o={},s=VisualMapping_default.listVisualTypes(),l=this.isCategory();each(a.pieces,function(f){each(s,function(d){f.hasOwnProperty(d)&&(o[d]=1)})}),each(o,function(f,d){var v=!1;each(this.stateList,function(g){v=v||u(a,g,d)||u(a.target,g,d)},this),!v&&each(this.stateList,function(g){(a[g]||(a[g]={}))[d]=visualDefault_default.get(d,g==="inRange"?"active":"inactive",l)})},this);function u(f,d,v){return f&&f[d]&&f[d].hasOwnProperty(v)}r.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(a,o){var s=this.option,l=this._pieceList,u=(o?s:a).selected||{};if(s.selected=u,each(l,function(d,v){var g=this.getSelectedMapKey(d);u.hasOwnProperty(g)||(u[g]=!0)},this),s.selectedMode==="single"){var f=!1;each(l,function(d,v){var g=this.getSelectedMapKey(d);u[g]&&(f?u[g]=!1:f=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(a){return this._mode==="categories"?a.value+"":a.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(a){this.option.selected=clone(a)},n.prototype.getValueState=function(a){var o=VisualMapping_default.findPieceIndex(a,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(a){var o=[],s=this._pieceList;return this.eachTargetSeries(function(l){var u=[],f=l.getData();f.each(this.getDataDimensionIndex(f),function(d,v){var g=VisualMapping_default.findPieceIndex(d,s);g===a&&u.push(v)},this),o.push({seriesId:l.id,dataIndex:u})},this),o},n.prototype.getRepresentValue=function(a){var o;if(this.isCategory())o=a.value;else if(a.value!=null)o=a.value;else{var s=a.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},n.prototype.getVisualMeta=function(a){if(this.isCategory())return;var o=[],s=["",""],l=this;function u(g,y){var b=l.getRepresentValue({interval:g});y||(y=l.getValueState(b));var _=a(b,y);g[0]===-1/0?s[0]=_:g[1]===1/0?s[1]=_:o.push({value:g[0],color:_},{value:g[1],color:_})}var f=this._pieceList.slice();if(!f.length)f.push({interval:[-1/0,1/0]});else{var d=f[0].interval[0];d!==-1/0&&f.unshift({interval:[-1/0,d]}),d=f[f.length-1].interval[1],d!==1/0&&f.push({interval:[d,1/0]})}var v=-1/0;return each(f,function(g){var y=g.interval;y&&(y[0]>v&&u([v,y[0]],"outOfRange"),u(y.slice()),v=y[1])},this),{stops:o,outerColors:s}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel_default),resetMethods={splitNumber:function(r){var n=this.option,a=Math.min(n.precision,20),o=this.getExtent(),s=n.splitNumber;s=Math.max(parseInt(s,10),1),n.splitNumber=s;for(var l=(o[1]-o[0])/s;+l.toFixed(a)!==l&&a<5;)a++;n.precision=a,l=+l.toFixed(a),n.minOpen&&r.push({interval:[-1/0,o[0]],close:[0,0]});for(var u=0,f=o[0];u<s;f+=l,u++){var d=u===s-1?o[1]:f+l;r.push({interval:[f,d],close:[1,1]})}n.maxOpen&&r.push({interval:[o[1],1/0],close:[0,0]}),reformIntervals(r),each(r,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(r){var n=this.option;each(n.categories,function(a){r.push({text:this.formatValueText(a,!0),value:a})},this),normalizeReverse(n,r)},pieces:function(r){var n=this.option;each(n.pieces,function(a,o){isObject3(a)||(a={value:a});var s={text:"",index:o};if(a.label!=null&&(s.text=a.label),a.hasOwnProperty("value")){var l=s.value=a.value;s.interval=[l,l],s.close=[1,1]}else{for(var u=s.interval=[],f=s.close=[0,0],d=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var b=[["gte","gt","min"],["lte","lt","max"]][y],_=0;_<3&&u[y]==null;_++)u[y]=a[b[_]],f[y]=d[_],g[y]=_===2;u[y]==null&&(u[y]=v[y])}g[0]&&u[1]===1/0&&(f[0]=0),g[1]&&u[0]===-1/0&&(f[1]=0),u[0]>u[1]&&console.warn("Piece "+o+"is illegal: "+u+" lower bound should not greater then uppper bound."),u[0]===u[1]&&f[0]&&f[1]&&(s.value=u[0])}s.visual=VisualMapping_default.retrieveVisuals(a),r.push(s)},this),normalizeReverse(n,r),reformIntervals(r),each(r,function(a){var o=a.close,s=[["<","\u2264"][o[1]],[">","\u2265"][o[0]]];a.text=a.text||this.formatValueText(a.value!=null?a.value:a.interval,!1,s)},this)}};function normalizeReverse(r,n){var a=r.inverse;(r.orient==="vertical"?!a:a)&&n.reverse()}var PiecewiseVisualMapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.doRender=function(){var a=this.group;a.removeAll();var o=this.visualMapModel,s=o.get("textGap"),l=o.textStyleModel,u=l.getFont(),f=l.getTextColor(),d=this._getItemAlign(),v=o.itemSize,g=this._getViewData(),y=g.endsText,b=retrieve(o.get("showLabel",!0),!y);y&&this._renderEndsText(a,y[0],v,b,d),each(g.viewPieceList,function(_){var x=_.piece,w=new Group_default;w.onclick=bind(this._onItemClick,this,x),this._enableHoverLink(w,_.indexInModelPieceList);var C=o.getRepresentValue(x);if(this._createItemSymbol(w,C,[0,0,v[0],v[1]]),b){var S=this.visualMapModel.getValueState(C);w.add(new Text_default({style:{x:d==="right"?-s:v[0]+s,y:v[1]/2,text:x.text,verticalAlign:"middle",align:d,font:u,fill:f,opacity:S==="outOfRange"?.5:1}}))}a.add(w)},this),y&&this._renderEndsText(a,y[1],v,b,d),box(o.get("orient"),a,o.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},n.prototype._enableHoverLink=function(a,o){var s=this;a.on("mouseover",function(){return l("highlight")}).on("mouseout",function(){return l("downplay")});var l=function(u){var f=s.visualMapModel;f.option.hoverLink&&s.api.dispatchAction({type:u,batch:makeHighDownBatch(f.findTargetDataIndices(o),f)})}},n.prototype._getItemAlign=function(){var a=this.visualMapModel,o=a.option;if(o.orient==="vertical")return getItemAlign(a,this.api,a.itemSize);var s=o.align;return(!s||s==="auto")&&(s="left"),s},n.prototype._renderEndsText=function(a,o,s,l,u){if(!!o){var f=new Group_default,d=this.visualMapModel.textStyleModel;f.add(new Text_default({style:createTextStyle(d,{x:l?u==="right"?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:l?u:"center",text:o})})),a.add(f)}},n.prototype._getViewData=function(){var a=this.visualMapModel,o=map3(a.getPieceList(),function(f,d){return{piece:f,indexInModelPieceList:d}}),s=a.get("text"),l=a.get("orient"),u=a.get("inverse");return(l==="horizontal"?u:!u)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},n.prototype._createItemSymbol=function(a,o,s){a.add(createSymbol(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color")))},n.prototype._onItemClick=function(a){var o=this.visualMapModel,s=o.option,l=clone(s.selected),u=o.getSelectedMapKey(a);s.selectedMode==="single"?(l[u]=!0,each(l,function(f,d){l[d]=d===u})):l[u]=!l[u],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})},n.type="visualMap.piecewise",n}(VisualMapView_default),sampleLog="";sampleLog=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");var DatasetModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataset",a}return n.prototype.init=function(a,o,s){r.prototype.init.call(this,a,o,s),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(Component_default),DatasetView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataset",a}return n.type="dataset",n}(Component_default2),LineSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a){var o=a.coordinateSystem;if(o!=="polar"&&o!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar");return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(a){var o=new Group_default,s=createSymbol("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);o.add(s),s.setStyle(a.lineStyle);var l=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),f=l==="none"?"circle":l,d=a.itemHeight*.8,v=createSymbol(f,(a.itemWidth-d)/2,(a.itemHeight-d)/2,d,d,a.itemStyle.fill);o.add(v),v.setStyle(a.itemStyle);var g=a.iconRotate==="inherit"?u:a.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([a.itemWidth/2,a.itemHeight/2]),f.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill="#fff",v.style.lineWidth=2),o},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(Series_default),LineSeries_default=LineSeriesModel;function prepareDataCoordInfo(r,n,a){var o=r.getBaseAxis(),s=r.getOtherAxis(o),l=getValueStart(s,a),u=o.dim,f=s.dim,d=n.mapDimension(f),v=n.mapDimension(u),g=f==="x"||f==="radius"?1:0,y=map3(r.dimensions,function(x){return n.mapDimension(x)}),b=!1,_=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,y[0])&&(b=!0,y[0]=_),isDimensionStacked(n,y[1])&&(b=!0,y[1]=_),{dataDimsForPoint:y,valueStart:l,valueAxisDim:f,baseAxisDim:u,stacked:!!b,valueDim:d,baseDim:v,baseDataOffset:g,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,n){var a=0,o=r.scale.getExtent();return n==="start"?a=o[0]:n==="end"?a=o[1]:isNumber(n)&&!isNaN(n)?a=n:o[0]>0?a=o[0]:o[1]<0&&(a=o[1]),a}function getStackedOnPoint(r,n,a,o){var s=NaN;r.stacked&&(s=a.get(a.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=r.valueStart);var l=r.baseDataOffset,u=[];return u[l]=a.get(r.baseDim,o),u[1-l]=s,n.dataToPoint(u)}function diffData(r,n){var a=[];return n.diff(r).add(function(o){a.push({cmd:"+",idx:o})}).update(function(o,s){a.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){a.push({cmd:"-",idx:o})}).execute(),a}function lineAnimationDiff(r,n,a,o,s,l,u,f){for(var d=diffData(r,n),v=[],g=[],y=[],b=[],_=[],x=[],w=[],C=prepareDataCoordInfo(s,n,u),S=r.getLayout("points")||[],D=n.getLayout("points")||[],A=0;A<d.length;A++){var T=d[A],P=!0,E=void 0,M=void 0;switch(T.cmd){case"=":E=T.idx*2,M=T.idx1*2;var L=S[E],F=S[E+1],I=D[M],B=D[M+1];(isNaN(L)||isNaN(F))&&(L=I,F=B),v.push(L,F),g.push(I,B),y.push(a[E],a[E+1]),b.push(o[M],o[M+1]),w.push(n.getRawIndex(T.idx1));break;case"+":var O=T.idx,R=C.dataDimsForPoint,z=s.dataToPoint([n.get(R[0],O),n.get(R[1],O)]);M=O*2,v.push(z[0],z[1]),g.push(D[M],D[M+1]);var N=getStackedOnPoint(C,s,n,O);y.push(N[0],N[1]),b.push(o[M],o[M+1]),w.push(n.getRawIndex(O));break;case"-":P=!1}P&&(_.push(T),x.push(x.length))}x.sort(function(ge,ye){return w[ge]-w[ye]});for(var V=v.length,W=createFloat32Array(V),H=createFloat32Array(V),$=createFloat32Array(V),Y=createFloat32Array(V),ae=[],A=0;A<x.length;A++){var X=x[A],J=A*2,fe=X*2;W[J]=v[fe],W[J+1]=v[fe+1],H[J]=g[fe],H[J+1]=g[fe+1],$[J]=y[fe],$[J+1]=y[fe+1],Y[J]=b[fe],Y[J+1]=b[fe+1],ae[A]=_[X]}return{current:W,next:H,stackedOnCurrent:$,stackedOnNext:Y,status:ae}}var mathMin8=Math.min,mathMax8=Math.max;function isPointNull(r,n){return isNaN(r)||isNaN(n)}function drawSegment(r,n,a,o,s,l,u,f,d){for(var v,g,y,b,_,x,w=a,C=0;C<o;C++){var S=n[w*2],D=n[w*2+1];if(w>=s||w<0)break;if(isPointNull(S,D)){if(d){w+=l;continue}break}if(w===a)r[l>0?"moveTo":"lineTo"](S,D),y=S,b=D;else{var A=S-v,T=D-g;if(A*A+T*T<.5){w+=l;continue}if(u>0){for(var P=w+l,E=n[P*2],M=n[P*2+1];E===S&&M===D&&C<o;)C++,P+=l,w+=l,E=n[P*2],M=n[P*2+1],S=n[w*2],D=n[w*2+1],A=S-v,T=D-g;var L=C+1;if(d)for(;isPointNull(E,M)&&L<o;)L++,P+=l,E=n[P*2],M=n[P*2+1];var F=.5,I=0,B=0,O=void 0,R=void 0;if(L>=o||isPointNull(E,M))_=S,x=D;else{I=E-v,B=M-g;var z=S-v,N=E-S,V=D-g,W=M-D,H=void 0,$=void 0;if(f==="x"){H=Math.abs(z),$=Math.abs(N);var Y=I>0?1:-1;_=S-Y*H*u,x=D,O=S+Y*$*u,R=D}else if(f==="y"){H=Math.abs(V),$=Math.abs(W);var ae=B>0?1:-1;_=S,x=D-ae*H*u,O=S,R=D+ae*$*u}else H=Math.sqrt(z*z+V*V),$=Math.sqrt(N*N+W*W),F=$/($+H),_=S-I*u*(1-F),x=D-B*u*(1-F),O=S+I*u*F,R=D+B*u*F,O=mathMin8(O,mathMax8(E,S)),R=mathMin8(R,mathMax8(M,D)),O=mathMax8(O,mathMin8(E,S)),R=mathMax8(R,mathMin8(M,D)),I=O-S,B=R-D,_=S-I*H/$,x=D-B*H/$,_=mathMin8(_,mathMax8(v,S)),x=mathMin8(x,mathMax8(g,D)),_=mathMax8(_,mathMin8(v,S)),x=mathMax8(x,mathMin8(g,D)),I=S-_,B=D-x,O=S+I*$/H,R=D+B*$/H}r.bezierCurveTo(y,b,_,x,S,D),y=O,b=R}else r.lineTo(S,D)}v=S,g=D,w+=l}return C}var ECPolylineShape=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ECPolyline=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-polyline",o}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(a,o){var s=o.points,l=0,u=s.length/2;if(o.connectNulls){for(;u>0&&isPointNull(s[u*2-2],s[u*2-1]);u--);for(;l<u&&isPointNull(s[l*2],s[l*2+1]);l++);}for(;l<u;)l+=drawSegment(a,s,l,u,u,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},n.prototype.getPointOn=function(a,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,l=s.data,u=PathProxy_default.CMD,f,d,v=o==="x",g=[],y=0;y<l.length;){var b=l[y++],_=void 0,x=void 0,w=void 0,C=void 0,S=void 0,D=void 0,A=void 0;switch(b){case u.M:f=l[y++],d=l[y++];break;case u.L:if(_=l[y++],x=l[y++],A=v?(a-f)/(_-f):(a-d)/(x-d),A<=1&&A>=0){var T=v?(x-d)*A+d:(_-f)*A+f;return v?[a,T]:[T,a]}f=_,d=x;break;case u.C:_=l[y++],x=l[y++],w=l[y++],C=l[y++],S=l[y++],D=l[y++];var P=v?cubicRootAt(f,_,w,S,a,g):cubicRootAt(d,x,C,D,a,g);if(P>0)for(var E=0;E<P;E++){var M=g[E];if(M<=1&&M>=0){var T=v?cubicAt(d,x,C,D,M):cubicAt(f,_,w,S,M);return v?[a,T]:[T,a]}}f=S,d=D;break}}},n}(Path_default),ECPolygonShape=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-polygon",o}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(a,o){var s=o.points,l=o.stackedOnPoints,u=0,f=s.length/2,d=o.smoothMonotone;if(o.connectNulls){for(;f>0&&isPointNull(s[f*2-2],s[f*2-1]);f--);for(;u<f&&isPointNull(s[u*2],s[u*2+1]);u++);}for(;u<f;){var v=drawSegment(a,s,u,f,f,1,o.smooth,d,o.connectNulls);drawSegment(a,l,u+v-1,v,f,-1,o.stackedOnSmooth,d,o.connectNulls),u+=v+1,a.closePath()}},n}(Path_default);function createGridClipPath(r,n,a,o,s){var l=r.getArea(),u=l.x,f=l.y,d=l.width,v=l.height,g=a.get(["lineStyle","width"])||2;u-=g/2,f-=g/2,d+=g,v+=g,u=Math.floor(u),d=Math.round(d);var y=new Rect_default({shape:{x:u,y:f,width:d,height:v}});if(n){var b=r.getBaseAxis(),_=b.isHorizontal(),x=b.inverse;_?(x&&(y.shape.x+=d),y.shape.width=0):(x||(y.shape.y+=v),y.shape.height=0);var w=isFunction3(s)?function(C){s(C,y)}:null;initProps2(y,{shape:{width:d,height:v,x:u,y:f}},a,null,o,w)}return y}function createPolarClipPath(r,n,a){var o=r.getArea(),s=round(o.r0,1),l=round(o.r,1),u=new Sector_default({shape:{cx:round(r.cx,1),cy:round(r.cy,1),r0:s,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(n){var f=r.getBaseAxis().dim==="angle";f?u.shape.endAngle=o.startAngle:u.shape.r=s,initProps2(u,{shape:{endAngle:o.endAngle,r:l}},a)}return u}function createClipPath(r,n,a,o,s){if(r){if(r.type==="polar")return createPolarClipPath(r,n,a);if(r.type==="cartesian2d")return createGridClipPath(r,n,a,o,s)}else return null;return null}function isPointsSame(r,n){if(r.length===n.length){for(var a=0;a<r.length;a++)if(r[a]!==n[a])return;return!0}}function bboxFromPoints(r){for(var n=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r.length;){var u=r[l++],f=r[l++];isNaN(u)||(n=Math.min(u,n),o=Math.max(u,o)),isNaN(f)||(a=Math.min(f,a),s=Math.max(f,s))}return[[n,a],[o,s]]}function getBoundingDiff(r,n){var a=bboxFromPoints(r),o=a[0],s=a[1],l=bboxFromPoints(n),u=l[0],f=l[1];return Math.max(Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]),Math.abs(s[0]-f[0]),Math.abs(s[1]-f[1]))}function getSmooth(r){return isNumber(r)?r:r?.5:0}function getStackedOnPoints(r,n,a){if(!a.valueDim)return[];for(var o=n.count(),s=createFloat32Array(o*2),l=0;l<o;l++){var u=getStackedOnPoint(a,r,n,l);s[l*2]=u[0],s[l*2+1]=u[1]}return s}function turnPointsIntoStep(r,n,a,o){var s=n.getBaseAxis(),l=s.dim==="x"||s.dim==="radius"?0:1,u=[],f=0,d=[],v=[],g=[],y=[];if(o){for(f=0;f<r.length;f+=2)!isNaN(r[f])&&!isNaN(r[f+1])&&y.push(r[f],r[f+1]);r=y}for(f=0;f<r.length-2;f+=2)switch(g[0]=r[f+2],g[1]=r[f+3],v[0]=r[f],v[1]=r[f+1],u.push(v[0],v[1]),a){case"end":d[l]=g[l],d[1-l]=v[1-l],u.push(d[0],d[1]);break;case"middle":var b=(v[l]+g[l])/2,_=[];d[l]=_[l]=b,d[1-l]=v[1-l],_[1-l]=g[1-l],u.push(d[0],d[1]),u.push(_[0],_[1]);break;default:d[l]=v[l],d[1-l]=g[1-l],u.push(d[0],d[1])}return u.push(r[f++],r[f++]),u}function clipColorStops(r,n){var a=[],o=r.length,s,l;function u(g,y,b){var _=g.coord,x=(b-_)/(y.coord-_),w=lerp2(x,[g.color,y.color]);return{coord:b,color:w}}for(var f=0;f<o;f++){var d=r[f],v=d.coord;if(v<0)s=d;else if(v>n){l?a.push(u(l,d,n)):s&&a.push(u(s,d,0),u(s,d,n));break}else s&&(a.push(u(s,d,0)),s=null),a.push(d),l=d}return a}function getVisualGradient(r,n,a){var o=r.getVisual("visualMeta");if(!(!o||!o.length||!r.count())){if(n.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var s,l,u=o.length-1;u>=0;u--){var f=r.getDimensionInfo(o[u].dimension);if(s=f&&f.coordDim,s==="x"||s==="y"){l=o[u];break}}if(!l){console.warn("Visual map on line style only support x or y dimension.");return}var d=n.getAxis(s),v=map3(l.stops,function(A){return{coord:d.toGlobalCoord(d.dataToCoord(A.value)),color:A.color}}),g=v.length,y=l.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var b=clipColorStops(v,s==="x"?a.getWidth():a.getHeight()),_=b.length;if(!_&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var x=10,w=b[0].coord-x,C=b[_-1].coord+x,S=C-w;if(S<.001)return"transparent";each(b,function(A){A.offset=(A.coord-w)/S}),b.push({offset:_?b[_-1].offset:.5,color:y[1]||"transparent"}),b.unshift({offset:_?b[0].offset:.5,color:y[0]||"transparent"});var D=new LinearGradient_default(0,0,0,0,b,!0);return D[s]=w,D[s+"2"]=C,D}}function getIsIgnoreFunc(r,n,a){var o=r.get("showAllSymbol"),s=o==="auto";if(!(o&&!s)){var l=a.getAxesByScale("ordinal")[0];if(!!l&&!(s&&canShowAllSymbolForCategory(l,n))){var u=n.mapDimension(l.dim),f={};return each(l.getViewLabels(),function(d){var v=l.scale.getRawOrdinalNumber(d.tickValue);f[v]=1}),function(d){return!f.hasOwnProperty(n.get(u,d))}}}}function canShowAllSymbolForCategory(r,n){var a=r.getExtent(),o=Math.abs(a[1]-a[0])/r.scale.count();isNaN(o)&&(o=0);for(var s=n.count(),l=Math.max(1,Math.round(s/5)),u=0;u<s;u+=l)if(Symbol_default2.getSymbolSize(n,u)[r.isHorizontal()?1:0]*1.5>o)return!1;return!0}function isPointNull2(r,n){return isNaN(r)||isNaN(n)}function getLastIndexNotNull(r){for(var n=r.length/2;n>0&&isPointNull2(r[n*2-2],r[n*2-1]);n--);return n-1}function getPointAtIndex(r,n){return[r[n*2],r[n*2+1]]}function getIndexRange(r,n,a){for(var o=r.length/2,s=a==="x"?0:1,l,u,f=0,d=-1,v=0;v<o;v++)if(u=r[v*2+s],!(isNaN(u)||isNaN(r[v*2+1-s]))){if(v===0){l=u;continue}if(l<=n&&u>=n||l>=n&&u<=n){d=v;break}f=v,l=u}return{range:[f,d],t:(n-l)/(u-l)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(r.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,n,a,o){if(isCoordinateSystemType(n,"cartesian2d")){var s=o.getModel("endLabel"),l=s.get("valueAnimation"),u=o.getData(),f={lastFrameIndex:0},d=anyStateShowEndLabel(o)?function(_,x){r._endLabelOnDuring(_,x,u,f,l,s,n)}:null,v=n.getBaseAxis().isHorizontal(),g=createGridClipPath(n,a,o,function(){var _=r._endLabel;_&&a&&f.originalX!=null&&_.attr({x:f.originalX,y:f.originalY})},d);if(!o.get("clip",!0)){var y=g.shape,b=Math.max(y.width,y.height);v?(y.y-=b,y.height+=b*2):(y.x-=b,y.width+=b*2)}return d&&d(1,g),g}else return o.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),createPolarClipPath(n,a,o)}function getEndLabelStateSpecified(r,n){var a=n.getBaseAxis(),o=a.isHorizontal(),s=a.inverse,l=o?s?"right":"left":"center",u=o?"middle":s?"top":"bottom";return{normal:{align:r.get("align")||l,verticalAlign:r.get("verticalAlign")||u}}}var LineView=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(){var a=new Group_default,o=new SymbolDraw_default;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=a},n.prototype.render=function(a,o,s){var l=this,u=a.coordinateSystem,f=this.group,d=a.getData(),v=a.getModel("lineStyle"),g=a.getModel("areaStyle"),y=d.getLayout("points")||[],b=u.type==="polar",_=this._coordSys,x=this._symbolDraw,w=this._polyline,C=this._polygon,S=this._lineGroup,D=a.get("animation"),A=!g.isEmpty(),T=g.get("origin"),P=prepareDataCoordInfo(u,d,T),E=A&&getStackedOnPoints(u,d,P),M=a.get("showSymbol"),L=a.get("connectNulls"),F=M&&!b&&getIsIgnoreFunc(a,d,u),I=this._data;I&&I.eachItemGraphicEl(function(ye,be){ye.__temp&&(f.remove(ye),I.setItemGraphicEl(be,null))}),M||x.remove(),f.add(S);var B=b?!1:a.get("step"),O;u&&u.getArea&&a.get("clip",!0)&&(O=u.getArea(),O.width!=null?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r+=.5)),this._clipShapeForSymbol=O;var R=getVisualGradient(d,u,s)||d.getVisual("style")[d.getVisual("drawType")];if(!(w&&_.type===u.type&&B===this._step))M&&x.updateData(d,{isIgnore:F,clipShape:O,disableAnimation:!0,getSymbolPoint:function(ye){return[y[ye*2],y[ye*2+1]]}}),D&&this._initSymbolLabelAnimation(d,u,O),B&&(y=turnPointsIntoStep(y,u,B,L),E&&(E=turnPointsIntoStep(E,u,B,L))),w=this._newPolyline(y),A&&(C=this._newPolygon(y,E)),b||this._initOrUpdateEndLabel(a,u,convertToColorString(R)),S.setClipPath(createLineClipPath(this,u,!0,a));else{A&&!C?C=this._newPolygon(y,E):C&&!A&&(S.remove(C),C=this._polygon=null),b||this._initOrUpdateEndLabel(a,u,convertToColorString(R));var z=S.getClipPath();if(z){var N=createLineClipPath(this,u,!1,a);initProps2(z,{shape:N.shape},a)}else S.setClipPath(createLineClipPath(this,u,!0,a));M&&x.updateData(d,{isIgnore:F,clipShape:O,disableAnimation:!0,getSymbolPoint:function(ye){return[y[ye*2],y[ye*2+1]]}}),(!isPointsSame(this._stackedOnPoints,E)||!isPointsSame(this._points,y))&&(D?this._doUpdateAnimation(d,E,u,s,B,T,L):(B&&(y=turnPointsIntoStep(y,u,B,L),E&&(E=turnPointsIntoStep(E,u,B,L))),w.setShape({points:y}),C&&C.setShape({points:y,stackedOnPoints:E})))}var V=a.getModel("emphasis"),W=V.get("focus"),H=V.get("blurScope"),$=V.get("disabled");if(w.useStyle(defaults(v.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),setStatesStylesFromModel(w,a,"lineStyle"),w.style.lineWidth>0&&a.get(["emphasis","lineStyle","width"])==="bolder"){var Y=w.getState("emphasis").style;Y.lineWidth=+w.style.lineWidth+1}getECData(w).seriesIndex=a.seriesIndex,toggleHoverEmphasis(w,W,H,$);var ae=getSmooth(a.get("smooth")),X=a.get("smoothMonotone");if(w.setShape({smooth:ae,smoothMonotone:X,connectNulls:L}),C){var J=d.getCalculationInfo("stackedOnSeries"),fe=0;C.useStyle(defaults(g.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),J&&(fe=getSmooth(J.get("smooth"))),C.setShape({smooth:ae,stackedOnSmooth:fe,smoothMonotone:X,connectNulls:L}),setStatesStylesFromModel(C,a,"areaStyle"),getECData(C).seriesIndex=a.seriesIndex,toggleHoverEmphasis(C,W,H,$)}var ge=function(ye){l._changePolyState(ye)};d.eachItemGraphicEl(function(ye){ye&&(ye.onHoverStateChange=ge)}),this._polyline.onHoverStateChange=ge,this._data=d,this._coordSys=u,this._stackedOnPoints=E,this._points=y,this._step=B,this._valueOrigin=T,a.get("triggerLineEvent")&&(this.packEventData(a,w),C&&this.packEventData(a,C))},n.prototype.packEventData=function(a,o){getECData(o).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},n.prototype.highlight=function(a,o,s,l){var u=a.getData(),f=queryDataIndex(u,l);if(this._changePolyState("emphasis"),!(f instanceof Array)&&f!=null&&f>=0){var d=u.getLayout("points"),v=u.getItemGraphicEl(f);if(!v){var g=d[f*2],y=d[f*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var b=a.get("zlevel"),_=a.get("z");v=new Symbol_default2(u,f),v.x=g,v.y=y,v.setZ(b,_);var x=v.getSymbolPath().getTextContent();x&&(x.zlevel=b,x.z=_,x.z2=this._polyline.z2+1),v.__temp=!0,u.setItemGraphicEl(f,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else Chart_default.prototype.highlight.call(this,a,o,s,l)},n.prototype.downplay=function(a,o,s,l){var u=a.getData(),f=queryDataIndex(u,l);if(this._changePolyState("normal"),f!=null&&f>=0){var d=u.getItemGraphicEl(f);d&&(d.__temp?(u.setItemGraphicEl(f,null),this.group.remove(d)):d.downplay())}else Chart_default.prototype.downplay.call(this,a,o,s,l)},n.prototype._changePolyState=function(a){var o=this._polygon;setStatesFlag(this._polyline,a),o&&setStatesFlag(o,a)},n.prototype._newPolyline=function(a){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new ECPolyline({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},n.prototype._newPolygon=function(a,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new ECPolygon({shape:{points:a,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},n.prototype._initSymbolLabelAnimation=function(a,o,s){var l,u,f=o.getBaseAxis(),d=f.inverse;o.type==="cartesian2d"?(l=f.isHorizontal(),u=!1):o.type==="polar"&&(l=f.dim==="angle",u=!0);var v=a.hostModel,g=v.get("animationDuration");isFunction3(g)&&(g=g(null));var y=v.get("animationDelay")||0,b=isFunction3(y)?y(null):y;a.eachItemGraphicEl(function(_,x){var w=_;if(w){var C=[_.x,_.y],S=void 0,D=void 0,A=void 0;if(s)if(u){var T=s,P=o.pointToCoord(C);l?(S=T.startAngle,D=T.endAngle,A=-P[1]/180*Math.PI):(S=T.r0,D=T.r,A=P[0])}else{var E=s;l?(S=E.x,D=E.x+E.width,A=_.x):(S=E.y+E.height,D=E.y,A=_.y)}var M=D===S?0:(A-S)/(D-S);d&&(M=1-M);var L=isFunction3(y)?y(x):g*M+b,F=w.getSymbolPath(),I=F.getTextContent();w.attr({scaleX:0,scaleY:0}),w.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:L}),F.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(a,o,s){var l=a.getModel("endLabel");if(anyStateShowEndLabel(a)){var u=a.getData(),f=this._polyline,d=u.getLayout("points");if(!d){f.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new Text_default({z2:200}),v.ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var g=getLastIndexNotNull(d);g>=0&&(setLabelStyle(f,getLabelStatesModels(a,"endLabel"),{inheritColor:s,labelFetcher:a,labelDataIndex:g,defaultText:function(y,b,_){return _!=null?getDefaultInterpolatedLabel(u,_):getDefaultLabel(u,y)},enableTextSetter:!0},getEndLabelStateSpecified(l,o)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(a,o,s,l,u,f,d){var v=this._endLabel,g=this._polyline;if(v){a<1&&l.originalX==null&&(l.originalX=v.x,l.originalY=v.y);var y=s.getLayout("points"),b=s.hostModel,_=b.get("connectNulls"),x=f.get("precision"),w=f.get("distance")||0,C=d.getBaseAxis(),S=C.isHorizontal(),D=C.inverse,A=o.shape,T=D?S?A.x:A.y+A.height:S?A.x+A.width:A.y,P=(S?w:0)*(D?-1:1),E=(S?0:-w)*(D?-1:1),M=S?"x":"y",L=getIndexRange(y,T,M),F=L.range,I=F[1]-F[0],B=void 0;if(I>=1){if(I>1&&!_){var O=getPointAtIndex(y,F[0]);v.attr({x:O[0]+P,y:O[1]+E}),u&&(B=b.getRawValue(F[0]))}else{var O=g.getPointOn(T,M);O&&v.attr({x:O[0]+P,y:O[1]+E});var R=b.getRawValue(F[0]),z=b.getRawValue(F[1]);u&&(B=interpolateRawValues(s,x,R,z,L.t))}l.lastFrameIndex=F[0]}else{var N=a===1||l.lastFrameIndex>0?F[0]:0,O=getPointAtIndex(y,N);u&&(B=b.getRawValue(N)),v.attr({x:O[0]+P,y:O[1]+E})}u&&labelInner(v).setLabelText(B)}},n.prototype._doUpdateAnimation=function(a,o,s,l,u,f,d){var v=this._polyline,g=this._polygon,y=a.hostModel,b=lineAnimationDiff(this._data,a,this._stackedOnPoints,o,this._coordSys,s,this._valueOrigin,f),_=b.current,x=b.stackedOnCurrent,w=b.next,C=b.stackedOnNext;if(u&&(_=turnPointsIntoStep(b.current,s,u,d),x=turnPointsIntoStep(b.stackedOnCurrent,s,u,d),w=turnPointsIntoStep(b.next,s,u,d),C=turnPointsIntoStep(b.stackedOnNext,s,u,d)),getBoundingDiff(_,w)>3e3||g&&getBoundingDiff(x,C)>3e3){v.stopAnimation(),v.setShape({points:w}),g&&(g.stopAnimation(),g.setShape({points:w,stackedOnPoints:C}));return}v.shape.__points=b.current,v.shape.points=_;var S={shape:{points:w}};b.current!==_&&(S.shape.__points=b.next),v.stopAnimation(),updateProps2(v,S,y),g&&(g.setShape({points:_,stackedOnPoints:x}),g.stopAnimation(),updateProps2(g,{shape:{stackedOnPoints:C}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var D=[],A=b.status,T=0;T<A.length;T++){var P=A[T].cmd;if(P==="="){var E=a.getItemGraphicEl(A[T].idx1);E&&D.push({el:E,ptIdx:T})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var M=v.shape.__points,L=0;L<D.length;L++){var F=D[L].el,I=D[L].ptIdx*2;F.x=M[I],F.y=M[I+1],F.markRedraw()}})},n.prototype.remove=function(a){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(l,u){l.__temp&&(o.remove(l),s.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(Chart_default),LineView_default=LineView;function pointsLayout(r,n){return{seriesType:r,plan:createRenderPlanner(),reset:function(a){var o=a.getData(),s=a.coordinateSystem,l=a.pipelineContext,u=n||l.large;if(!!s){var f=map3(s.dimensions,function(_){return o.mapDimension(_)}).slice(0,2),d=f.length,v=o.getCalculationInfo("stackResultDimension");isDimensionStacked(o,f[0])&&(f[0]=v),isDimensionStacked(o,f[1])&&(f[1]=v);var g=o.getStore(),y=o.getDimensionIndex(f[0]),b=o.getDimensionIndex(f[1]);return d&&{progress:function(_,x){for(var w=_.end-_.start,C=u&&createFloat32Array(w*d),S=[],D=[],A=_.start,T=0;A<_.end;A++){var P=void 0;if(d===1){var E=g.get(y,A);P=s.dataToPoint(E,null,D)}else S[0]=g.get(y,A),S[1]=g.get(b,A),P=s.dataToPoint(S,null,D);u?(C[T++]=P[0],C[T++]=P[1]):x.setItemLayout(A,P.slice())}u&&x.setLayout("points",C)}}}}}}var samplers={average:function(r){for(var n=0,a=0,o=0;o<r.length;o++)isNaN(r[o])||(n+=r[o],a++);return a===0?NaN:n/a},sum:function(r){for(var n=0,a=0;a<r.length;a++)n+=r[a]||0;return n},max:function(r){for(var n=-1/0,a=0;a<r.length;a++)r[a]>n&&(n=r[a]);return isFinite(n)?n:NaN},min:function(r){for(var n=1/0,a=0;a<r.length;a++)r[a]<n&&(n=r[a]);return isFinite(n)?n:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(n,a,o){var s=n.getData(),l=n.get("sampling"),u=n.coordinateSystem,f=s.count();if(f>10&&u.type==="cartesian2d"&&l){var d=u.getBaseAxis(),v=u.getOtherAxis(d),g=d.getExtent(),y=o.getDevicePixelRatio(),b=Math.abs(g[1]-g[0])*(y||1),_=Math.round(f/b);if(isFinite(_)&&_>1){l==="lttb"&&n.setData(s.lttbDownSample(s.mapDimension(v.dim),1/_));var x=void 0;isString2(l)?x=samplers[l]:isFunction3(l)&&(x=l),x&&n.setData(s.downSample(s.mapDimension(v.dim),1/_,x,indexSampler))}}}}}function install32(r){r.registerChartView(LineView_default),r.registerSeriesModel(LineSeries_default),r.registerLayout(pointsLayout("line",!0)),r.registerVisual({seriesType:"line",reset:function(n){var a=n.getData(),o=n.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=a.getVisual("style").fill),a.setVisual("legendLineStyle",o)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(a){var o=this.coordinateSystem;if(o&&o.clampData){var s=o.dataToPoint(o.clampData(a)),l=this.getData(),u=l.getLayout("offset"),f=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;return s[d]+=u+f/2,s}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(Series_default);Series_default.registerClass(BaseBarSeriesModel);var BaseBarSeries_default=BaseBarSeriesModel,BarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(){return createSeriesData_default(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>a&&(a=o),a},n.prototype.brushSelector=function(a,o,s){return s.rect(o.getItemLayout(a))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeries_default),SausageShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),SausagePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="sausage",o}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.max(o.r0||0,0),f=Math.max(o.r,0),d=(f-u)*.5,v=u+d,g=o.startAngle,y=o.endAngle,b=o.clockwise,_=Math.PI*2,x=b?y-g<_:g-y<_;x||(g=y-(b?_:-_));var w=Math.cos(g),C=Math.sin(g),S=Math.cos(y),D=Math.sin(y);x?(a.moveTo(w*u+s,C*u+l),a.arc(w*v+s,C*v+l,d,-Math.PI+g,g,!b)):a.moveTo(w*f+s,C*f+l),a.arc(s,l,f,g,y,!b),a.arc(S*v+s,D*v+l,d,y-Math.PI*2,y-Math.PI,!b),u!==0&&a.arc(s,l,u,y,g,b)},n}(Path_default),sausage_default=SausagePath;function createSectorCalculateTextPosition(r,n){n=n||{};var a=n.isRoundCap;return function(o,s,l){var u=s.position;if(!u||u instanceof Array)return calculateTextPosition(o,s,l);var f=r(u),d=s.distance!=null?s.distance:5,v=this.shape,g=v.cx,y=v.cy,b=v.r,_=v.r0,x=(b+_)/2,w=v.startAngle,C=v.endAngle,S=(w+C)/2,D=a?Math.abs(b-_)/2:0,A=Math.cos,T=Math.sin,P=g+b*A(w),E=y+b*T(w),M="left",L="top";switch(f){case"startArc":P=g+(_-d)*A(S),E=y+(_-d)*T(S),M="center",L="top";break;case"insideStartArc":P=g+(_+d)*A(S),E=y+(_+d)*T(S),M="center",L="bottom";break;case"startAngle":P=g+x*A(w)+adjustAngleDistanceX(w,d+D,!1),E=y+x*T(w)+adjustAngleDistanceY(w,d+D,!1),M="right",L="middle";break;case"insideStartAngle":P=g+x*A(w)+adjustAngleDistanceX(w,-d+D,!1),E=y+x*T(w)+adjustAngleDistanceY(w,-d+D,!1),M="left",L="middle";break;case"middle":P=g+x*A(S),E=y+x*T(S),M="center",L="middle";break;case"endArc":P=g+(b+d)*A(S),E=y+(b+d)*T(S),M="center",L="bottom";break;case"insideEndArc":P=g+(b-d)*A(S),E=y+(b-d)*T(S),M="center",L="top";break;case"endAngle":P=g+x*A(C)+adjustAngleDistanceX(C,d+D,!0),E=y+x*T(C)+adjustAngleDistanceY(C,d+D,!0),M="left",L="middle";break;case"insideEndAngle":P=g+x*A(C)+adjustAngleDistanceX(C,-d+D,!0),E=y+x*T(C)+adjustAngleDistanceY(C,-d+D,!0),M="right",L="middle";break;default:return calculateTextPosition(o,s,l)}return o=o||{},o.x=P,o.y=E,o.align=M,o.verticalAlign=L,o}}function setSectorTextRotation(r,n,a,o){if(isNumber(o)){r.setTextConfig({rotation:o});return}else if(isArray3(n)){r.setTextConfig({rotation:0});return}var s=r.shape,l=s.clockwise?s.startAngle:s.endAngle,u=s.clockwise?s.endAngle:s.startAngle,f=(l+u)/2,d,v=a(n);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=f;break;case"startAngle":case"insideStartAngle":d=l;break;case"endAngle":case"insideEndAngle":d=u;break;default:r.setTextConfig({rotation:0});return}var g=Math.PI*1.5-d;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),r.setTextConfig({rotation:g})}function adjustAngleDistanceX(r,n,a){return n*Math.sin(r)*(a?-1:1)}function adjustAngleDistanceY(r,n,a){return n*Math.cos(r)*(a?1:-1)}var mathMax9=Math.max,mathMin9=Math.min;function getClipArea(r,n){var a=r.getArea&&r.getArea();if(isCoordinateSystemType(r,"cartesian2d")){var o=r.getBaseAxis();if(o.type!=="category"||!o.onBand){var s=n.getLayout("bandWidth");o.isHorizontal()?(a.x-=s,a.width+=s*2):(a.y-=s,a.height+=s*2)}}return a}var BarView=function(r){__extends(n,r);function n(){var a=r.call(this)||this;return a.type=n.type,a._isFirstFrame=!0,a}return n.prototype.render=function(a,o,s,l){this._model=a,this._removeOnRenderedListener(s),this._updateDrawMode(a);var u=a.get("coordinateSystem");u==="cartesian2d"||u==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,o,s):this._renderNormal(a,o,s,l)):warn6("Only cartesian2d and polar supported for bar.")},n.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},n.prototype.incrementalRender=function(a,o){this._progressiveEls=[],this._incrementalRenderLarge(a,o)},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(a,o,s,l){var u=this.group,f=a.getData(),d=this._data,v=a.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var b=a.isAnimationEnabled()?a:null,_=shouldRealtimeSort(a,v);_&&this._enableRealtimeSort(_,f,s);var x=a.get("clip",!0)||_,w=getClipArea(v,f);u.removeClipPath();var C=a.get("roundCap",!0),S=a.get("showBackground",!0),D=a.getModel("backgroundStyle"),A=D.get("borderRadius")||0,T=[],P=this._backgroundEls,E=l&&l.isInitSort,M=l&&l.type==="changeAxisOrder";function L(B){var O=getLayout[v.type](f,B),R=createBackgroundEl(v,y,O);return R.useStyle(D.getItemStyle()),v.type==="cartesian2d"&&R.setShape("r",A),T[B]=R,R}f.diff(d).add(function(B){var O=f.getItemModel(B),R=getLayout[v.type](f,B,O);if(S&&L(B),!(!f.hasValue(B)||!isValidLayout[v.type](R))){var z=!1;x&&(z=clip[v.type](w,R));var N=elementCreator[v.type](a,f,B,R,y,b,g.model,!1,C);_&&(N.forceLabelAnimation=!0),updateStyle(N,f,B,O,R,a,y,v.type==="polar"),E?N.attr({shape:R}):_?updateRealtimeAnimation(_,b,N,R,B,y,!1,!1):initProps2(N,{shape:R},a,B),f.setItemGraphicEl(B,N),u.add(N),N.ignore=z}}).update(function(B,O){var R=f.getItemModel(B),z=getLayout[v.type](f,B,R);if(S){var N=void 0;P.length===0?N=L(O):(N=P[O],N.useStyle(D.getItemStyle()),v.type==="cartesian2d"&&N.setShape("r",A),T[B]=N);var V=getLayout[v.type](f,B),W=createBackgroundShape(y,V,v);updateProps2(N,{shape:W},b,B)}var H=d.getItemGraphicEl(O);if(!f.hasValue(B)||!isValidLayout[v.type](z)){u.remove(H);return}var $=!1;if(x&&($=clip[v.type](w,z),$&&u.remove(H)),H?saveOldStyle(H):H=elementCreator[v.type](a,f,B,z,y,b,g.model,!!H,C),_&&(H.forceLabelAnimation=!0),M){var Y=H.getTextContent();if(Y){var ae=labelInner(Y);ae.prevValue!=null&&(ae.prevValue=ae.value)}}else updateStyle(H,f,B,R,z,a,y,v.type==="polar");E?H.attr({shape:z}):_?updateRealtimeAnimation(_,b,H,z,B,y,!0,M):updateProps2(H,{shape:z},a,B,null),f.setItemGraphicEl(B,H),H.ignore=$,u.add(H)}).remove(function(B){var O=d.getItemGraphicEl(B);O&&removeElementWithFadeOut(O,a,B)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Group_default);F.removeAll();for(var I=0;I<T.length;++I)F.add(T[I]);u.add(F),this._backgroundEls=T,this._data=f},n.prototype._renderLarge=function(a,o,s){this._clear(),createLarge(a,this.group),this._updateLargeClip(a)},n.prototype._incrementalRenderLarge=function(a,o){this._removeBackground(),createLarge(o,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(a){var o=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a),s=this.group;o?s.setClipPath(o):s.removeClipPath()},n.prototype._enableRealtimeSort=function(a,o,s){var l=this;if(!!o.count()){var u=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,a,s),this._isFirstFrame=!1;else{var f=function(d){var v=o.getItemGraphicEl(d),g=v&&v.shape;return g&&Math.abs(u.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){l._updateSortWithinSameData(o,f,u,s)},s.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(a,o,s){var l=[];return a.each(a.mapDimension(o.dim),function(u,f){var d=s(f);d=d==null?NaN:d,l.push({dataIndex:f,mappedValue:d,ordinalNumber:u})}),l.sort(function(u,f){return f.mappedValue-u.mappedValue}),{ordinalNumbers:map3(l,function(u){return u.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(a,o,s){for(var l=s.scale,u=a.mapDimension(s.dim),f=Number.MAX_VALUE,d=0,v=l.getOrdinalMeta().categories.length;d<v;++d){var g=a.rawIndexOf(u,l.getRawOrdinalNumber(d)),y=g<0?Number.MIN_VALUE:o(a.indexOfRawIndex(g));if(y>f)return!0;f=y}return!1},n.prototype._isOrderDifferentInView=function(a,o){for(var s=o.scale,l=s.getExtent(),u=Math.max(0,l[0]),f=Math.min(l[1],s.getOrdinalMeta().categories.length-1);u<=f;++u)if(a.ordinalNumbers[u]!==s.getRawOrdinalNumber(u))return!0},n.prototype._updateSortWithinSameData=function(a,o,s,l){if(!!this._isOrderChangedWithinSameData(a,o,s)){var u=this._dataSort(a,s,o);this._isOrderDifferentInView(u,s)&&(this._removeOnRenderedListener(l),l.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:u}))}},n.prototype._dispatchInitSort=function(a,o,s){var l=o.baseAxis,u=this._dataSort(a,l,function(f){return a.get(a.mapDimension(o.otherAxis.dim),f)});s.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",isInitSort:!0,axisId:l.index,sortInfo:u})},n.prototype.remove=function(a,o){this._clear(this._model),this._removeOnRenderedListener(o)},n.prototype.dispose=function(a,o){this._removeOnRenderedListener(o)},n.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(a){var o=this.group,s=this._data;a&&a.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(l){removeElementWithFadeOut(l,a,getECData(l).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(Chart_default),clip={cartesian2d:function(r,n){var a=n.width<0?-1:1,o=n.height<0?-1:1;a<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height);var s=r.x+r.width,l=r.y+r.height,u=mathMax9(n.x,r.x),f=mathMin9(n.x+n.width,s),d=mathMax9(n.y,r.y),v=mathMin9(n.y+n.height,l),g=f<u,y=v<d;return n.x=g&&u>s?f:u,n.y=y&&d>l?v:d,n.width=g?0:f-u,n.height=y?0:v-d,a<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height),g||y},polar:function(r,n){var a=n.r0<=n.r?1:-1;if(a<0){var o=n.r;n.r=n.r0,n.r0=o}var s=mathMin9(n.r,r.r),l=mathMax9(n.r0,r.r0);n.r=s,n.r0=l;var u=s-l<0;if(a<0){var o=n.r;n.r=n.r0,n.r0=o}return u}},elementCreator={cartesian2d:function(r,n,a,o,s,l,u,f,d){var v=new Rect_default({shape:extend2({},o),z2:1});if(v.__dataIndex=a,v.name="item",l){var g=v.shape,y=s?"height":"width";g[y]=0}return v},polar:function(r,n,a,o,s,l,u,f,d){var v=!s&&d?sausage_default:Sector_default,g=new v({shape:o,z2:1});g.name="item";var y=createPolarPositionMapping(s);if(g.calculateTextPosition=createSectorCalculateTextPosition(y,{isRoundCap:v===sausage_default}),l){var b=g.shape,_=s?"r":"endAngle",x={};b[_]=s?0:o.startAngle,x[_]=o[_],(f?updateProps2:initProps2)(g,{shape:x},l)}return g}};function shouldRealtimeSort(r,n){var a=r.get("realtimeSort",!0),o=n.getBaseAxis();if(a&&(o.type!=="category"&&warn6("`realtimeSort` will not work because this bar series is not based on a category axis."),n.type!=="cartesian2d"&&warn6("`realtimeSort` will not work because this bar series is not on cartesian2d.")),a&&o.type==="category"&&n.type==="cartesian2d")return{baseAxis:o,otherAxis:n.getOtherAxis(o)}}function updateRealtimeAnimation(r,n,a,o,s,l,u,f){var d,v;l?(v={x:o.x,width:o.width},d={y:o.y,height:o.height}):(v={y:o.y,height:o.height},d={x:o.x,width:o.width}),f||(u?updateProps2:initProps2)(a,{shape:d},n,s,null);var g=n?r.baseAxis.model:null;(u?updateProps2:initProps2)(a,{shape:v},g,s)}function checkPropertiesNotValid(r,n){for(var a=0;a<n.length;a++)if(!isFinite(r[n[a]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(r){return!checkPropertiesNotValid(r,rectPropties)},polar:function(r){return!checkPropertiesNotValid(r,polarPropties)}},getLayout={cartesian2d:function(r,n,a){var o=r.getItemLayout(n),s=a?getLineWidth(a,o):0,l=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+u*s/2,width:o.width-l*s,height:o.height-u*s}},polar:function(r,n,a){var o=r.getItemLayout(n);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function isZeroOnPolar(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function createPolarPositionMapping(r){return function(n){var a=n?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+a;default:return o}}}(r)}function updateStyle(r,n,a,o,s,l,u,f){var d=n.getItemVisual(a,"style");f||r.setShape("r",o.get(["itemStyle","borderRadius"])||0),r.useStyle(d);var v=o.getShallow("cursor");v&&r.attr("cursor",v);var g=f?u?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":u?s.height>=0?"bottom":"top":s.width>=0?"right":"left",y=getLabelStatesModels(o);setLabelStyle(r,y,{labelFetcher:l,labelDataIndex:a,defaultText:getDefaultLabel(l.getData(),a),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:g});var b=r.getTextContent();if(f&&b){var _=o.get(["label","position"]);r.textConfig.inside=_==="middle"?!0:null,setSectorTextRotation(r,_==="outside"?g:_,createPolarPositionMapping(u),o.get(["label","rotate"]))}setLabelValueAnimation(b,y,l.getRawValue(a),function(w){return getDefaultInterpolatedLabel(n,w)});var x=o.getModel(["emphasis"]);toggleHoverEmphasis(r,x.get("focus"),x.get("blurScope"),x.get("disabled")),setStatesStylesFromModel(r,o),isZeroOnPolar(s)&&(r.style.fill="none",r.style.stroke="none",each(r.states,function(w){w.style&&(w.style.fill=w.style.stroke="none")}))}function getLineWidth(r,n){var a=r.get(["itemStyle","borderColor"]);if(!a||a==="none")return 0;var o=r.get(["itemStyle","borderWidth"])||0,s=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),l=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(o,s,l)}var LagePathShape=function(){function r(){}return r}(),LargePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="largeBar",o}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(a,o){for(var s=o.points,l=this.baseDimIdx,u=1-this.baseDimIdx,f=[],d=[],v=this.barWidth,g=0;g<s.length;g+=3)d[l]=v,d[u]=s[g+2],f[l]=s[g+l],f[u]=s[g+u],a.rect(f[0],f[1],d[0],d[1])},n}(Path_default);function createLarge(r,n,a,o){var s=r.getData(),l=s.getLayout("valueAxisHorizontal")?1:0,u=s.getLayout("largeDataIndices"),f=s.getLayout("size"),d=r.getModel("backgroundStyle"),v=s.getLayout("largeBackgroundPoints");if(v){var g=new LargePath({shape:{points:v},incremental:!!o,silent:!0,z2:0});g.baseDimIdx=l,g.largeDataIndices=u,g.barWidth=f,g.useStyle(d.getItemStyle()),n.add(g),a&&a.push(g)}var y=new LargePath({shape:{points:s.getLayout("largePoints")},incremental:!!o,z2:1});y.baseDimIdx=l,y.largeDataIndices=u,y.barWidth=f,n.add(y),y.useStyle(s.getVisual("style")),getECData(y).seriesIndex=r.seriesIndex,r.get("silent")||(y.on("mousedown",largePathUpdateDataIndex),y.on("mousemove",largePathUpdateDataIndex)),a&&a.push(y)}var largePathUpdateDataIndex=throttle(function(r){var n=this,a=largePathFindDataIndex(n,r.offsetX,r.offsetY);getECData(n).dataIndex=a>=0?a:null},30,!1);function largePathFindDataIndex(r,n,a){for(var o=r.baseDimIdx,s=1-o,l=r.shape.points,u=r.largeDataIndices,f=[],d=[],v=r.barWidth,g=0,y=l.length/3;g<y;g++){var b=g*3;if(d[o]=v,d[s]=l[b+2],f[o]=l[b+o],f[s]=l[b+s],d[s]<0&&(f[s]+=d[s],d[s]=-d[s]),n>=f[0]&&n<=f[0]+d[0]&&a>=f[1]&&a<=f[1]+d[1])return u[g]}return-1}function createBackgroundShape(r,n,a){if(isCoordinateSystemType(a,"cartesian2d")){var o=n,s=a.getArea();return{x:r?o.x:s.x,y:r?s.y:o.y,width:r?o.width:s.width,height:r?s.height:o.height}}else{var s=a.getArea(),l=n;return{cx:s.cx,cy:s.cy,r0:r?s.r0:l.r0,r:r?s.r:l.r,startAngle:r?l.startAngle:0,endAngle:r?l.endAngle:Math.PI*2}}}function createBackgroundEl(r,n,a){var o=r.type==="polar"?Sector_default:Rect_default;return new o({shape:createBackgroundShape(n,a,r),silent:!0,z2:0})}var PI28=Math.PI*2,RADIAN=Math.PI/180;function getViewRect2(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(r,n){var a=getViewRect2(r,n),o=r.get("center"),s=r.get("radius");isArray3(s)||(s=[0,s]),isArray3(o)||(o=[o,o]);var l=parsePercent2(a.width,n.getWidth()),u=parsePercent2(a.height,n.getHeight()),f=Math.min(l,u),d=parsePercent2(o[0],l)+a.x,v=parsePercent2(o[1],u)+a.y,g=parsePercent2(s[0],f/2),y=parsePercent2(s[1],f/2);return{cx:d,cy:v,r0:g,r:y}}var RADIAN2=Math.PI/180;function adjustSingleSide(r,n,a,o,s,l,u,f,d,v){if(r.length<2)return;function g(w){for(var C=w.rB,S=C*C,D=0;D<w.list.length;D++){var A=w.list[D],T=Math.abs(A.label.y-a),P=o+A.len,E=P*P,M=Math.sqrt((1-Math.abs(T*T/S))*E),L=n+(M+A.len2)*s,F=L-A.label.x,I=A.targetTextWidth-F*s;constrainTextWidth(A,I,!0),A.label.x=L}}function y(w){for(var C={list:[],maxY:0},S={list:[],maxY:0},D=0;D<w.length;D++)if(w[D].labelAlignTo==="none"){var A=w[D],T=A.label.y>a?S:C,P=Math.abs(A.label.y-a);if(P>=T.maxY){var E=A.label.x-n-A.len2*s,M=o+A.len,L=Math.abs(E)<M?Math.sqrt(P*P/(1-E*E/M/M)):M;T.rB=L,T.maxY=P}T.list.push(A)}g(C),g(S)}for(var b=r.length,_=0;_<b;_++)if(r[_].position==="outer"&&r[_].labelAlignTo==="labelLine"){var x=r[_].label.x-v;r[_].linePoints[1][0]+=x,r[_].label.x=v}shiftLayoutOnY(r,d,d+u)&&y(r)}function avoidOverlap(r,n,a,o,s,l,u,f){for(var d=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,b=0;b<r.length;b++){var _=r[b].label;isPositionCenter(r[b])||(_.x<n?(g=Math.min(g,_.x),d.push(r[b])):(y=Math.max(y,_.x),v.push(r[b])))}for(var b=0;b<r.length;b++){var x=r[b];if(!isPositionCenter(x)&&x.linePoints){if(x.labelStyleWidth!=null)continue;var _=x.label,w=x.linePoints,C=void 0;x.labelAlignTo==="edge"?_.x<n?C=w[2][0]-x.labelDistance-u-x.edgeDistance:C=u+s-x.edgeDistance-w[2][0]-x.labelDistance:x.labelAlignTo==="labelLine"?_.x<n?C=g-u-x.bleedMargin:C=u+s-y-x.bleedMargin:_.x<n?C=_.x-u-x.bleedMargin:C=u+s-_.x-x.bleedMargin,x.targetTextWidth=C,constrainTextWidth(x,C)}}adjustSingleSide(v,n,a,o,1,s,l,u,f,y),adjustSingleSide(d,n,a,o,-1,s,l,u,f,g);for(var b=0;b<r.length;b++){var x=r[b];if(!isPositionCenter(x)&&x.linePoints){var _=x.label,w=x.linePoints,S=x.labelAlignTo==="edge",D=_.style.padding,A=D?D[1]+D[3]:0,T=_.style.backgroundColor?0:A,P=x.rect.width+T,E=w[1][0]-w[2][0];S?_.x<n?w[2][0]=u+x.edgeDistance+P+x.labelDistance:w[2][0]=u+s-x.edgeDistance-P-x.labelDistance:(_.x<n?w[2][0]=_.x+x.labelDistance:w[2][0]=_.x-x.labelDistance,w[1][0]=w[2][0]+E),w[1][1]=w[2][1]=_.y}}}function constrainTextWidth(r,n,a){if(a===void 0&&(a=!1),r.labelStyleWidth==null){var o=r.label,s=o.style,l=r.rect,u=s.backgroundColor,f=s.padding,d=f?f[1]+f[3]:0,v=s.overflow,g=l.width+(u?0:d);if(n<g||a){var y=l.height;if(v&&v.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-d);var b=o.getBoundingRect();o.setStyle("width",Math.ceil(b.width)),o.setStyle("backgroundColor",u)}else{var _=n-d,x=n<g?_:a?_>r.unconstrainedWidth?null:_:null;o.setStyle("width",x)}var w=o.getBoundingRect();l.width=w.width;var C=(o.style.margin||0)+2.1;l.height=w.height+C,l.y-=(l.height-y)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var n=r.getData(),a=[],o,s,l=!1,u=(r.get("minShowLabelAngle")||0)*RADIAN2,f=n.getLayout("viewRect"),d=n.getLayout("r"),v=f.width,g=f.x,y=f.y,b=f.height;function _(E){E.ignore=!0}function x(E){if(!E.ignore)return!0;for(var M in E.states)if(E.states[M].ignore===!1)return!0;return!1}n.each(function(E){var M=n.getItemGraphicEl(E),L=M.shape,F=M.getTextContent(),I=M.getTextGuideLine(),B=n.getItemModel(E),O=B.getModel("label"),R=O.get("position")||B.get(["emphasis","label","position"]),z=O.get("distanceToLabelLine"),N=O.get("alignTo"),V=parsePercent2(O.get("edgeDistance"),v),W=O.get("bleedMargin"),H=B.getModel("labelLine"),$=H.get("length");$=parsePercent2($,v);var Y=H.get("length2");if(Y=parsePercent2(Y,v),Math.abs(L.endAngle-L.startAngle)<u){each(F.states,_),F.ignore=!0;return}if(!!x(F)){var ae=(L.startAngle+L.endAngle)/2,X=Math.cos(ae),J=Math.sin(ae),fe,ge,ye,be;o=L.cx,s=L.cy;var K=R==="inside"||R==="inner";if(R==="center")fe=L.cx,ge=L.cy,be="center";else{var j=(K?(L.r+L.r0)/2*X:L.r*X)+o,Q=(K?(L.r+L.r0)/2*J:L.r*J)+s;if(fe=j+X*3,ge=Q+J*3,!K){var le=j+X*($+d-L.r),oe=Q+J*($+d-L.r),he=le+(X<0?-1:1)*Y,G=oe;N==="edge"?fe=X<0?g+V:g+v-V:fe=he+(X<0?-z:z),ge=G,ye=[[j,Q],[le,oe],[he,G]]}be=K?"center":N==="edge"?X>0?"right":"left":X>0?"left":"right"}var U=Math.PI,ee=0,te=O.get("rotate");if(isNumber(te))ee=te*(U/180);else if(R==="center")ee=0;else if(te==="radial"||te===!0){var ie=X<0?-ae+U:-ae;ee=ie}else if(te==="tangential"&&R!=="outside"&&R!=="outer"){var re=Math.atan2(X,J);re<0&&(re=U*2+re);var ue=J>0;ue&&(re=U+re),ee=re-U}if(l=!!ee,F.x=fe,F.y=ge,F.rotation=ee,F.setStyle({verticalAlign:"middle"}),K){F.setStyle({align:be});var ce=F.states.select;ce&&(ce.x+=F.x,ce.y+=F.y)}else{var q=F.getBoundingRect().clone();q.applyTransform(F.getComputedTransform());var Z=(F.style.margin||0)+2.1;q.y-=Z/2,q.height+=Z,a.push({label:F,labelLine:I,position:R,len:$,len2:Y,minTurnAngle:H.get("minTurnAngle"),maxSurfaceAngle:H.get("maxSurfaceAngle"),surfaceNormal:new Point_default(X,J),linePoints:ye,textAlign:be,labelDistance:z,labelAlignTo:N,edgeDistance:V,bleedMargin:W,rect:q,unconstrainedWidth:q.width,labelStyleWidth:F.style.width})}M.setTextConfig({inside:K})}}),!l&&r.get("avoidLabelOverlap")&&avoidOverlap(a,o,s,d,v,b,g,y);for(var w=0;w<a.length;w++){var C=a[w],S=C.label,D=C.labelLine,A=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:C.textAlign}),A&&(each(S.states,_),S.ignore=!0);var T=S.states.select;T&&(T.x+=S.x,T.y+=S.y)}if(D){var P=C.linePoints;A||!P?(each(D.states,_),D.ignore=!0):(limitTurnAngle(P,C.minTurnAngle),limitSurfaceAngle(P,C.surfaceNormal,C.maxSurfaceAngle),D.setShape({points:P}),S.__hostTarget.textGuideLineConfig={anchor:new Point_default(P[0][0],P[0][1])})}}}function getSectorCornerRadius(r,n,a){var o=r.get("borderRadius");if(o==null)return a?{cornerRadius:0}:null;isArray3(o)||(o=[o,o,o,o]);var s=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map3(o,function(l){return parsePercent(l,s)})}}var PiePiece=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;l.z2=2;var u=new Text_default;return l.setTextContent(u),l.updateData(a,o,s,!0),l}return n.prototype.updateData=function(a,o,s,l){var u=this,f=a.hostModel,d=a.getItemModel(o),v=d.getModel("emphasis"),g=a.getItemLayout(o),y=extend2(getSectorCornerRadius(d.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){u.setShape(y);return}if(l){u.setShape(y);var b=f.getShallow("animationType");f.ecModel.ssr?(initProps2(u,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),u.originX=y.cx,u.originY=y.cy):b==="scale"?(u.shape.r=g.r0,initProps2(u,{shape:{r:g.r}},f,o)):s!=null?(u.setShape({startAngle:s,endAngle:s}),initProps2(u,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},f,o)):(u.shape.endAngle=g.startAngle,updateProps2(u,{shape:{endAngle:g.endAngle}},f,o))}else saveOldStyle(u),updateProps2(u,{shape:y},f,o);u.useStyle(a.getItemVisual(o,"style")),setStatesStylesFromModel(u,d);var _=(g.startAngle+g.endAngle)/2,x=f.get("selectedOffset"),w=Math.cos(_)*x,C=Math.sin(_)*x,S=d.getShallow("cursor");S&&u.attr("cursor",S),this._updateLabel(f,a,o),u.ensureState("emphasis").shape=extend2({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},getSectorCornerRadius(v.getModel("itemStyle"),g)),extend2(u.ensureState("select"),{x:w,y:C,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),g)}),extend2(u.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),g)});var D=u.getTextGuideLine(),A=u.getTextContent();D&&extend2(D.ensureState("select"),{x:w,y:C}),extend2(A.ensureState("select"),{x:w,y:C}),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(a,o,s){var l=this,u=o.getItemModel(s),f=u.getModel("labelLine"),d=o.getItemVisual(s,"style"),v=d&&d.fill,g=d&&d.opacity;setLabelStyle(l,getLabelStatesModels(u),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:v,defaultOpacity:g,defaultText:a.getFormattedLabel(s,"normal")||o.getName(s)});var y=l.getTextContent();l.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var b=a.get(["label","position"]);if(b!=="outside"&&b!=="outer")l.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new Polyline_default,this.setTextGuideLine(_)),setLabelLineStyle(this,getLabelLineStatesModels(u),{stroke:v,opacity:retrieve3(f.get(["lineStyle","opacity"]),g,1)})}},n}(Sector_default),PieView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return n.prototype.render=function(a,o,s,l){var u=a.getData(),f=this._data,d=this.group,v;if(!f&&u.count()>0){for(var g=u.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<u.count();++y)g=u.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),u.count()===0&&a.get("showEmptyCircle")){var b=new Sector_default({shape:getBasicPieLayout(a,s)});b.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,d.add(b)}u.diff(f).add(function(_){var x=new PiePiece(u,_,v);u.setItemGraphicEl(_,x),d.add(x)}).update(function(_,x){var w=f.getItemGraphicEl(x);w.updateData(u,_,v),w.off("click"),d.add(w),u.setItemGraphicEl(_,w)}).remove(function(_){var x=f.getItemGraphicEl(_);removeElementWithFadeOut(x,a,_)}).execute(),pieLabelLayout(a),a.get("animationTypeUpdate")!=="expansion"&&(this._data=u)},n.prototype.dispose=function(){},n.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=a[0]-l.cx,f=a[1]-l.cy,d=Math.sqrt(u*u+f*f);return d<=l.r&&d>=l.r0}},n.type="pie",n}(Chart_default);function createSeriesDataSimply(r,n,a){n=isArray3(n)&&{coordDimensions:n}||extend2({encodeDefine:r.getEncode()},n);var o=r.getSource(),s=prepareSeriesDataSchema(o,n).dimensions,l=new SeriesData_default(s,r);return l.initData(o,a),l}var LegendVisualProvider=function(){function r(n,a){this._getDataWithEncodedVisual=n,this._getRawData=a}return r.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},r.prototype.containName=function(n){var a=this._getRawData();return a.indexOfName(n)>=0},r.prototype.indexOfName=function(n){var a=this._getDataWithEncodedVisual();return a.indexOfName(n)},r.prototype.getItemVisual=function(n,a){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,a)},r}(),LegendVisualProvider_default=LegendVisualProvider,PieSeriesModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this)),this._defaultLabelLine(a)},n.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(a){var o=this.getData(),s=r.prototype.getDataParams.call(this,a),l=[];return o.each(o.mapDimension("value"),function(u){l.push(u)}),s.percent=getPercentWithPrecision(l,a,o.hostModel.get("percentPrecision")),s.$vars.push("percent"),s},n.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(Series_default),ScatterSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var a=this.option.progressive;return a==null?this.option.large?5e3:this.get("progressive"):a},n.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?1e4:this.get("progressiveThreshold"):a},n.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(Series_default),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function r(){}return r}(),LargeSymbolPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(a,o){var s=o.points,l=o.size,u=this.symbolProxy,f=u.shape,d=a.getContext?a.getContext():a,v=d&&l[0]<BOOST_SIZE_THRESHOLD,g=this.softClipShape,y;if(v){this._ctx=d;return}for(this._ctx=null,y=this._off;y<s.length;){var b=s[y++],_=s[y++];isNaN(b)||isNaN(_)||g&&!g.contain(b,_)||(f.x=b-l[0]/2,f.y=_-l[1]/2,f.width=l[0],f.height=l[1],u.buildPath(a,f,!0))}this.incremental&&(this._off=y,this.notClear=!0)},n.prototype.afterBrush=function(){var a=this.shape,o=a.points,s=a.size,l=this._ctx,u=this.softClipShape,f;if(!!l){for(f=this._off;f<o.length;){var d=o[f++],v=o[f++];isNaN(d)||isNaN(v)||u&&!u.contain(d,v)||l.fillRect(d-s[0]/2,v-s[1]/2,s[0],s[1])}this.incremental&&(this._off=f,this.notClear=!0)}},n.prototype.findDataIndex=function(a,o){for(var s=this.shape,l=s.points,u=s.size,f=Math.max(u[0],4),d=Math.max(u[1],4),v=l.length/2-1;v>=0;v--){var g=v*2,y=l[g]-f/2,b=l[g+1]-d/2;if(a>=y&&o>=b&&a<=y+f&&o<=b+d)return v}return-1},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var u=this.hoverDataIdx=this.findDataIndex(a,o);return u>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.points,l=o.size,u=l[0],f=l[1],d=1/0,v=1/0,g=-1/0,y=-1/0,b=0;b<s.length;){var _=s[b++],x=s[b++];d=Math.min(_,d),g=Math.max(_,g),v=Math.min(x,v),y=Math.max(x,y)}a=this._rect=new BoundingRect_default(d-u/2,v-f/2,g-d+u,y-v+f)}return a},n}(Path_default),LargeSymbolDraw=function(){function r(){this.group=new Group_default}return r.prototype.updateData=function(n,a){this._clear();var o=this._create();o.setShape({points:n.getLayout("points")}),this._setCommon(o,n,a)},r.prototype.updateLayout=function(n){var a=n.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var s=(o.endIndex-o.startIndex)*2,l=o.startIndex*4*2;a=new Float32Array(a.buffer,l,s)}o.setShape("points",a),o.reset()})},r.prototype.incrementalPrepareUpdate=function(n){this._clear()},r.prototype.incrementalUpdate=function(n,a,o){var s=this._newAdded[0],l=a.getLayout("points"),u=s&&s.shape.points;if(u&&u.length<2e4){var f=u.length,d=new Float32Array(f+l.length);d.set(u),d.set(l,f),s.endIndex=n.end,s.setShape({points:d})}else{this._newAdded=[];var v=this._create();v.startIndex=n.start,v.endIndex=n.end,v.incremental=!0,v.setShape({points:l}),this._setCommon(v,a,o)}},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return this.group.add(n),this._newAdded.push(n),n},r.prototype._setCommon=function(n,a,o){var s=a.hostModel;o=o||{};var l=a.getVisual("symbolSize");n.setShape("size",l instanceof Array?l:[l,l]),n.softClipShape=o.clipShape||null,n.symbolProxy=createSymbol(a.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var u=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(s.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var f=a.getVisual("style"),d=f&&f.fill;d&&n.setColor(d);var v=getECData(n);v.seriesIndex=s.seriesIndex,n.on("mousemove",function(g){v.dataIndex=null;var y=n.hoverDataIdx;y>=0&&(v.dataIndex=y+(n.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),LargeSymbolDraw_default=LargeSymbolDraw,ScatterView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),u=this._updateSymbolDraw(l,a);u.updateData(l,{clipShape:this._getClipShape(a)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),u=this._updateSymbolDraw(l,a);u.incrementalPrepareUpdate(l),this._finished=!1},n.prototype.incrementalRender=function(a,o,s){this._symbolDraw.incrementalUpdate(a,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=a.end===o.getData().count()},n.prototype.updateTransform=function(a,o,s){var l=a.getData();if(this.group.dirty(),!this._finished||l.count()>1e4)return{update:!0};var u=pointsLayout("").reset(a,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout(l)},n.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},n.prototype._getClipShape=function(a){var o=a.coordinateSystem,s=o&&o.getArea&&o.getArea();return a.get("clip",!0)?s:null},n.prototype._updateSymbolDraw=function(a,o){var s=this._symbolDraw,l=o.pipelineContext,u=l.large;return(!s||u!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=u?new LargeSymbolDraw_default:new SymbolDraw_default,this._isLargeDraw=u,this.group.removeAll()),this.group.add(s.group),s},n.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(Chart_default),RadarView2=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.coordinateSystem,u=this.group,f=a.getData(),d=this._data;function v(b,_){var x=b.getItemVisual(_,"symbol")||"circle";if(x!=="none"){var w=normalizeSymbolSize(b.getItemVisual(_,"symbolSize")),C=createSymbol(x,-1,-1,2,2),S=b.getItemVisual(_,"symbolRotate")||0;return C.attr({style:{strokeNoScale:!0},z2:100,scaleX:w[0]/2,scaleY:w[1]/2,rotation:S*Math.PI/180||0}),C}}function g(b,_,x,w,C,S){x.removeAll();for(var D=0;D<_.length-1;D++){var A=v(w,C);A&&(A.__dimIdx=D,b[D]?(A.setPosition(b[D]),graphic_exports[S?"initProps":"updateProps"](A,{x:_[D][0],y:_[D][1]},a,C)):A.setPosition(_[D]),x.add(A))}}function y(b){return map3(b,function(_){return[l.cx,l.cy]})}f.diff(d).add(function(b){var _=f.getItemLayout(b);if(!!_){var x=new Polygon_default,w=new Polyline_default,C={shape:{points:_}};x.shape.points=y(_),w.shape.points=y(_),initProps2(x,C,a,b),initProps2(w,C,a,b);var S=new Group_default,D=new Group_default;S.add(w),S.add(x),S.add(D),g(w.shape.points,_,D,f,b,!0),f.setItemGraphicEl(b,S)}}).update(function(b,_){var x=d.getItemGraphicEl(_),w=x.childAt(0),C=x.childAt(1),S=x.childAt(2),D={shape:{points:f.getItemLayout(b)}};!D.shape.points||(g(w.shape.points,D.shape.points,S,f,b,!1),saveOldStyle(C),saveOldStyle(w),updateProps2(w,D,a),updateProps2(C,D,a),f.setItemGraphicEl(b,x))}).remove(function(b){u.remove(d.getItemGraphicEl(b))}).execute(),f.eachItemGraphicEl(function(b,_){var x=f.getItemModel(_),w=b.childAt(0),C=b.childAt(1),S=b.childAt(2),D=f.getItemVisual(_,"style"),A=D.fill;u.add(b),w.useStyle(defaults(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),setStatesStylesFromModel(w,x,"lineStyle"),setStatesStylesFromModel(C,x,"areaStyle");var T=x.getModel("areaStyle"),P=T.isEmpty()&&T.parentModel.isEmpty();C.ignore=P,each(["emphasis","select","blur"],function(L){var F=x.getModel([L,"areaStyle"]),I=F.isEmpty()&&F.parentModel.isEmpty();C.ensureState(L).ignore=I&&P}),C.useStyle(defaults(T.getAreaStyle(),{fill:A,opacity:.7,decal:D.decal}));var E=x.getModel("emphasis"),M=E.getModel("itemStyle").getItemStyle();S.eachChild(function(L){if(L instanceof Image_default){var F=L.style;L.useStyle(extend2({image:F.image,x:F.x,y:F.y,width:F.width,height:F.height},D))}else L.useStyle(D),L.setColor(A),L.style.strokeNoScale=!0;var I=L.ensureState("emphasis");I.style=clone(M);var B=f.getStore().get(f.getDimensionIndex(L.__dimIdx),_);(B==null||isNaN(B))&&(B=""),setLabelStyle(L,getLabelStatesModels(x),{labelFetcher:f.hostModel,labelDataIndex:_,labelDimIndex:L.__dimIdx,defaultText:B,inheritColor:A,defaultOpacity:D.opacity})}),toggleHoverEmphasis(b,E.get("focus"),E.get("blurScope"),E.get("disabled"))}),this._data=f},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(Chart_default),RadarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this))},n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.coordinateSystem,f=u.getIndicatorAxes(),d=this.getData().getName(a),v=d===""?this.name:d,g=retrieveVisualColorForTooltipMarker(this,a);return createTooltipMarkup("section",{header:v,sortBlocks:!0,blocks:map3(f,function(y){var b=l.get(l.mapDimension(y.dim),a);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:b,sortParam:b})})})},n.prototype.getTooltipPosition=function(a){if(a!=null){for(var o=this.getData(),s=this.coordinateSystem,l=o.getValues(map3(s.dimensions,function(v){return o.mapDimension(v)}),a),u=0,f=l.length;u<f;u++)if(!isNaN(l[u])){var d=s.getIndicatorAxes();return s.coordToPoint(d[u].dataToCoord(l[u]),u)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(Series_default),MapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var u=this.group;if(u.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&l&&l.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===a.id){var f=this._mapDraw;f&&u.add(f.group)}else if(a.needsDrawMap){var f=this._mapDraw||new MapDraw_default(s);u.add(f.group),f.draw(a,o,s,this,l),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(a,o,s)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(a,o,s){var l=a.originalData,u=this.group;l.each(l.mapDimension("value"),function(f,d){if(!isNaN(f)){var v=l.getItemLayout(d);if(!(!v||!v.point)){var g=v.point,y=v.offset,b=new Circle_default({style:{fill:a.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Z2_EMPHASIS_LIFT+1)});if(!y){var _=a.mainSeries.getData(),x=l.getName(d),w=_.indexOfName(x),C=l.getItemModel(d),S=C.getModel("label"),D=_.getItemGraphicEl(w);setLabelStyle(b,getLabelStatesModels(C),{labelFetcher:{getFormattedLabel:function(A,T){return a.getFormattedLabel(w,T)}},defaultText:x}),b.disableLabelAnimation=!0,S.get("position")||b.setTextConfig({position:"bottom"}),D.onHoverStateChange=function(A){setStatesFlag(b,A)}}u.add(b)}}})},n.type="map",n}(Chart_default),MapSeries=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(o){if(o!=null){var s=this.getData().getName(o),l=this.coordinateSystem,u=l.getRegion(s);return u&&l.dataToPoint(u.getCenter())}},a}return n.prototype.getInitialData=function(a){for(var o=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)}),s=createHashMap(),l=[],u=0,f=o.count();u<f;u++){var d=o.getName(u);s.set(d,!0)}var v=geoSourceManager_default.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each(v.regions,function(g){var y=g.name;s.get(y)||l.push(y)}),o.appendValues([],l),o},n.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return a!=null?this.ecModel.getComponent("geo",a):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(a){var o=this.getData();return o.get(o.mapDimension("value"),a)},n.prototype.getRegionModel=function(a){var o=this.getData();return o.getItemModel(o.indexOfName(a))},n.prototype.formatTooltip=function(a,o,s){for(var l=this.getData(),u=this.getRawValue(a),f=l.getName(a),d=this.seriesGroup,v=[],g=0;g<d.length;g++){var y=d[g].originalData.indexOfName(f),b=l.mapDimension("value");isNaN(d[g].originalData.get(b,y))||v.push(d[g].name)}return createTooltipMarkup("section",{header:v.join(", "),noHeader:!v.length,blocks:[createTooltipMarkup("nameValue",{name:f,value:u})]})},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.getLegendIcon=function(a){var o=a.icon||"roundRect",s=createSymbol(o,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return s.setStyle(a.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(Series_default);function radialCoordinate(r,n){return r-=Math.PI/2,{x:n*Math.cos(r),y:n*Math.sin(r)}}var TreeEdgeShape=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),TreePath=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(a,o){var s=o.childPoints,l=s.length,u=o.parentPoint,f=s[0],d=s[l-1];if(l===1){a.moveTo(u[0],u[1]),a.lineTo(f[0],f[1]);return}var v=o.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,b=parsePercent2(o.forkPosition,1),_=[];_[g]=u[g],_[y]=u[y]+(d[y]-u[y])*b,a.moveTo(u[0],u[1]),a.lineTo(_[0],_[1]),a.moveTo(f[0],f[1]),_[g]=f[g],a.lineTo(_[0],_[1]),_[g]=d[g],a.lineTo(_[0],_[1]),a.lineTo(d[0],d[1]);for(var x=1;x<l-1;x++){var w=s[x];a.moveTo(w[0],w[1]),_[g]=w[g],a.lineTo(_[0],_[1])}},n}(Path_default),TreeView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._mainGroup=new Group_default,a}return n.prototype.init=function(a,o){this._controller=new RoamController_default(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(a,o,s){var l=a.getData(),u=a.layoutInfo,f=this._mainGroup,d=a.get("layout");d==="radial"?(f.x=u.x+u.width/2,f.y=u.y+u.height/2):(f.x=u.x,f.y=u.y),this._updateViewCoordSys(a),this._updateController(a,o,s);var v=this._data;l.diff(v).add(function(g){symbolNeedsDraw2(l,g)&&updateNode(l,g,null,f,a)}).update(function(g,y){var b=v.getItemGraphicEl(y);if(!symbolNeedsDraw2(l,g)){b&&removeNode(v,y,b,f,a);return}updateNode(l,g,b,f,a)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&removeNode(v,g,y,f,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),a.get("expandAndCollapse")===!0&&l.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:y})})}),this._data=l},n.prototype._updateViewCoordSys=function(a){var o=a.getData(),s=[];o.each(function(g){var y=o.getItemLayout(g);y&&!isNaN(y.x)&&!isNaN(y.y)&&s.push([+y.x,+y.y])});var l=[],u=[];fromPoints(s,l,u);var f=this._min,d=this._max;u[0]-l[0]==0&&(l[0]=f?f[0]:l[0]-1,u[0]=d?d[0]:u[0]+1),u[1]-l[1]==0&&(l[1]=f?f[1]:l[1]-1,u[1]=d?d[1]:u[1]+1);var v=a.coordinateSystem=new View_default3;v.zoomLimit=a.get("scaleLimit"),v.setBoundingRect(l[0],l[1],u[0]-l[0],u[1]-l[1]),v.setCenter(a.get("center")),v.setZoom(a.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=l,this._max=u},n.prototype._updateController=function(a,o,s){var l=this,u=this._controller,f=this._controllerHost,d=this.group;u.setPointerChecker(function(v,g,y){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,y)&&!onIrrelevantElement(v,s,a)}),u.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),s.dispatchAction({seriesId:a.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(a),s.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(a){var o=a.getData(),s=this._getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,u){l.setSymbolScale(s)})},n.prototype._getNodeGlobalScale=function(a){var o=a.coordinateSystem;if(o.type!=="view")return 1;var s=this._nodeScaleRatio,l=o.scaleX||1,u=o.getZoom(),f=(u-1)*s+1;return f/l},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(Chart_default);function symbolNeedsDraw2(r,n){var a=r.getItemLayout(n);return a&&!isNaN(a.x)&&!isNaN(a.y)}function updateNode(r,n,a,o,s){var l=!a,u=r.tree.getNodeByDataIndex(n),f=u.getModel(),d=u.getVisual("style").fill,v=u.isExpand===!1&&u.children.length!==0?d:"#fff",g=r.tree.root,y=u.parentNode===g?u:u.parentNode||u,b=r.getItemGraphicEl(y.dataIndex),_=y.getLayout(),x=b?{x:b.__oldX,y:b.__oldY,rawX:b.__radialOldRawX,rawY:b.__radialOldRawY}:_,w=u.getLayout();l?(a=new Symbol_default2(r,n,null,{symbolInnerColor:v,useNameLabel:!0}),a.x=x.x,a.y=x.y):a.updateData(r,n,null,{symbolInnerColor:v,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=w.rawX,a.__radialRawY=w.rawY,o.add(a),r.setItemGraphicEl(n,a),a.__oldX=a.x,a.__oldY=a.y,updateProps2(a,{x:w.x,y:w.y},s);var C=a.getSymbolPath();if(s.get("layout")==="radial"){var S=g.children[0],D=S.getLayout(),A=S.children.length,T=void 0,P=void 0;if(w.x===D.x&&u.isExpand===!0){var E={x:(S.children[0].getLayout().x+S.children[A-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[A-1].getLayout().y)/2};T=Math.atan2(E.y-D.y,E.x-D.x),T<0&&(T=Math.PI*2+T),P=E.x<D.x,P&&(T=T-Math.PI)}else T=Math.atan2(w.y-D.y,w.x-D.x),T<0&&(T=Math.PI*2+T),u.children.length===0||u.children.length!==0&&u.isExpand===!1?(P=w.x<D.x,P&&(T=T-Math.PI)):(P=w.x>D.x,P||(T=T-Math.PI));var M=P?"left":"right",L=f.getModel("label"),F=L.get("rotate"),I=F*(Math.PI/180),B=C.getTextContent();B&&(C.setTextConfig({position:L.get("position")||M,rotation:F==null?-T:I,origin:"center"}),B.setStyle("verticalAlign","middle"))}var O=f.get(["emphasis","focus"]),R=O==="ancestor"?u.getAncestorsIndices():O==="descendant"?u.getDescendantIndices():null;R&&(getECData(a).focus=R),drawEdge(s,u,g,a,x,_,w,o),a.__edge&&(a.onHoverStateChange=function(z){if(z!=="blur"){var N=u.parentNode&&r.getItemGraphicEl(u.parentNode.dataIndex);N&&N.hoverState===HOVER_STATE_BLUR||setStatesFlag(a.__edge,z)}})}function drawEdge(r,n,a,o,s,l,u,f){var d=n.getModel(),v=r.get("edgeShape"),g=r.get("layout"),y=r.getOrient(),b=r.get(["lineStyle","curveness"]),_=r.get("edgeForkPosition"),x=d.getModel("lineStyle").getLineStyle(),w=o.__edge;if(v==="curve")n.parentNode&&n.parentNode!==a&&(w||(w=o.__edge=new BezierCurve_default({shape:getEdgeShape(g,y,b,s,s)})),updateProps2(w,{shape:getEdgeShape(g,y,b,l,u)},r));else if(v==="polyline")if(g==="orthogonal"){if(n!==a&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var C=n.children,S=[],D=0;D<C.length;D++){var A=C[D].getLayout();S.push([A.x,A.y])}w||(w=o.__edge=new TreePath({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:y,forkPosition:_}})),updateProps2(w,{shape:{parentPoint:[u.x,u.y],childPoints:S}},r)}}else throw new Error("The polyline edgeShape can only be used in orthogonal layout");w&&(w.useStyle(defaults({strokeNoScale:!0,fill:null},x)),setStatesStylesFromModel(w,d,"lineStyle"),setDefaultStateProxy(w),f.add(w))}function removeNodeEdge(r,n,a,o,s){var l=n.tree.root,u=getSourceNode(l,r),f=u.source,d=u.sourceLayout,v=n.getItemGraphicEl(r.dataIndex);if(!!v){var g=n.getItemGraphicEl(f.dataIndex),y=g.__edge,b=v.__edge||(f.isExpand===!1||f.children.length===1?y:void 0),_=o.get("edgeShape"),x=o.get("layout"),w=o.get("orient"),C=o.get(["lineStyle","curveness"]);b&&(_==="curve"?removeElement2(b,{shape:getEdgeShape(x,w,C,d,d),style:{opacity:0}},o,{cb:function(){a.remove(b)},removeOpt:s}):_==="polyline"&&o.get("layout")==="orthogonal"&&removeElement2(b,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},o,{cb:function(){a.remove(b)},removeOpt:s}))}}function getSourceNode(r,n){for(var a=n.parentNode===r?n:n.parentNode||n,o;o=a.getLayout(),o==null;)a=a.parentNode===r?a:a.parentNode||a;return{source:a,sourceLayout:o}}function removeNode(r,n,a,o,s){var l=r.tree.getNodeByDataIndex(n),u=r.tree.root,f=getSourceNode(u,l).sourceLayout,d={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};removeElement2(a,{x:f.x+1,y:f.y+1},s,{cb:function(){o.remove(a),r.setItemGraphicEl(n,null)},removeOpt:d}),a.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:d}),l.children.forEach(function(v){removeNodeEdge(v,r,o,s,d)}),removeNodeEdge(l,r,o,s,d)}function getEdgeShape(r,n,a,o,s){var l,u,f,d,v,g,y,b;if(r==="radial"){v=o.rawX,y=o.rawY,g=s.rawX,b=s.rawY;var _=radialCoordinate(v,y),x=radialCoordinate(v,y+(b-y)*a),w=radialCoordinate(g,b+(y-b)*a),C=radialCoordinate(g,b);return{x1:_.x||0,y1:_.y||0,x2:C.x||0,y2:C.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:w.x||0,cpy2:w.y||0}}else v=o.x,y=o.y,g=s.x,b=s.y,(n==="LR"||n==="RL")&&(l=v+(g-v)*a,u=y,f=g+(v-g)*a,d=b),(n==="TB"||n==="BT")&&(l=v,u=y+(b-y)*a,f=g,d=b+(y-b)*a);return{x1:v,y1:y,x2:g,y2:b,cpx1:l,cpy1:u,cpx2:f,cpy2:d}}var inner18=makeInner();function linkSeriesData(r){var n=r.mainData,a=r.datas;a||(a={main:n},r.datasAttr={main:"data"}),r.datas=r.mainData=null,linkAll(n,a,r),each(a,function(o){each(n.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,curry(transferInjection,r))})}),n.wrapMethod("cloneShallow",curry(cloneShallowInjection,r)),each(n.CHANGABLE_METHODS,function(o){n.wrapMethod(o,curry(changeInjection,r))}),assert(a[n.dataType]===n)}function transferInjection(r,n){if(isMainData(this)){var a=extend2({},inner18(this).datas);a[this.dataType]=n,linkAll(n,a,r)}else linkSingle(n,this.dataType,inner18(this).mainData,r);return n}function changeInjection(r,n){return r.struct&&r.struct.update(),n}function cloneShallowInjection(r,n){return each(inner18(n).datas,function(a,o){a!==n&&linkSingle(a.cloneShallow(),o,n,r)}),n}function getLinkedData(r){var n=inner18(this).mainData;return r==null||n==null?n:inner18(n).datas[r]}function getLinkedDataAll(){var r=inner18(this).mainData;return r==null?[{data:r}]:map3(keys2(inner18(r).datas),function(n){return{type:n,data:inner18(r).datas[n]}})}function isMainData(r){return inner18(r).mainData===r}function linkAll(r,n,a){inner18(r).datas={},each(n,function(o,s){linkSingle(o,s,r,a)})}function linkSingle(r,n,a,o){inner18(a).datas[n]=r,inner18(r).mainData=a,r.dataType=n,o.struct&&(r[o.structAttr]=o.struct,o.struct[o.datasAttr[n]]=r),r.getLinkedData=getLinkedData,r.getLinkedDataAll=getLinkedDataAll}var linkSeriesData_default=linkSeriesData,TreeNode=function(){function r(n,a){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=a}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(n,a,o){isFunction3(n)&&(o=a,a=n,n=null),n=n||{},isString2(n)&&(n={order:n});var s=n.order||"preorder",l=this[n.attr||"children"],u;s==="preorder"&&(u=a.call(o,this));for(var f=0;!u&&f<l.length;f++)l[f].eachNode(n,a,o);s==="postorder"&&a.call(o,this)},r.prototype.updateDepthAndHeight=function(n){var a=0;this.depth=n;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(n+1),s.height>a&&(a=s.height)}this.height=a+1},r.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].getNodeById(n);if(l)return l}},r.prototype.contains=function(n){if(n===this)return!0;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].contains(n);if(l)return l}},r.prototype.getAncestors=function(n){for(var a=[],o=n?this:this.parentNode;o;)a.push(o),o=o.parentNode;return a.reverse(),a},r.prototype.getAncestorsIndices=function(){for(var n=[],a=this;a;)n.push(a.dataIndex),a=a.parentNode;return n.reverse(),n},r.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(a){n.push(a.dataIndex)}),n},r.prototype.getValue=function(n){var a=this.hostTree.data;return a.getStore().get(a.getDimensionIndex(n||"value"),this.dataIndex)},r.prototype.setLayout=function(n,a){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,a)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostTree,o=a.data.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(n,a){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,a)},r.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,a=0;a<n.length;++a)if(n[a]===this)return a;return-1}return-1},r.prototype.isAncestorOf=function(n){for(var a=n.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},r.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},r}(),Tree=function(){function r(n){this.type="tree",this._nodes=[],this.hostModel=n}return r.prototype.eachNode=function(n,a,o){this.root.eachNode(n,a,o)},r.prototype.getNodeByDataIndex=function(n){var a=this.data.getRawIndex(n);return this._nodes[a]},r.prototype.getNodeById=function(n){return this.root.getNodeById(n)},r.prototype.update=function(){for(var n=this.data,a=this._nodes,o=0,s=a.length;o<s;o++)a[o].dataIndex=-1;for(var o=0,s=n.count();o<s;o++)a[n.getRawIndex(o)].dataIndex=o},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(n,a,o){var s=new r(a),l=[],u=1;f(n);function f(g,y){var b=g.value;u=Math.max(u,isArray3(b)?b.length:1),l.push(g);var _=new TreeNode(convertOptionIdName(g.name,""),s);y?addChild(_,y):s.root=_,s._nodes.push(_);var x=g.children;if(x)for(var w=0;w<x.length;w++)f(x[w],_)}s.root.updateDepthAndHeight(0);var d=prepareSeriesDataSchema(l,{coordDimensions:["value"],dimensionsCount:u}).dimensions,v=new SeriesData_default(d,a);return v.initData(l),o&&o(v),linkSeriesData_default({mainData:v,struct:s,structAttr:"tree"}),s.update(),s},r}();function addChild(r,n){var a=n.children;r.parentNode!==n&&(a.push(r),r.parentNode=n)}var Tree_default=Tree;function retrieveTargetInfo(r,n,a){if(r&&indexOf(n,r.type)>=0){var o=a.getData().tree.root,s=r.targetNode;if(isString2(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var l=r.targetNodeId;if(l!=null&&(s=o.getNodeById(l)))return{node:s}}}function getPathToRoot(r){for(var n=[];r;)r=r.parentNode,r&&n.push(r);return n.reverse()}function aboveViewRoot(r,n){var a=getPathToRoot(r);return indexOf(a,n)>=0}function wrapTreePathInfo(r,n){for(var a=[];r;){var o=r.dataIndex;a.push({name:r.name,dataIndex:o,value:n.getRawValue(o)}),r=r.parentNode}return a.reverse(),a}var TreeSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.hasSymbolVisual=!0,a.ignoreStyleOnData=!0,a}return n.prototype.getInitialData=function(a){var o={name:a.name,children:a.data},s=a.leaves||{},l=new Model_default(s,this,this.ecModel),u=Tree_default.createTree(o,this,f);function f(y){y.wrapMethod("getItemModel",function(b,_){var x=u.getNodeByDataIndex(_);return x&&x.children.length&&x.isExpand||(b.parentModel=l),b})}var d=0;u.eachNode("preorder",function(y){y.depth>d&&(d=y.depth)});var v=a.expandAndCollapse,g=v&&a.initialTreeDepth>=0?a.initialTreeDepth:d;return u.root.eachNode("preorder",function(y){var b=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=b&&b.collapsed!=null?!b.collapsed:y.depth<=g}),u.data},n.prototype.getOrient=function(){var a=this.get("orient");return a==="horizontal"?a="LR":a==="vertical"&&(a="TB"),a},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.formatTooltip=function(a,o,s){for(var l=this.getData().tree,u=l.root.children[0],f=l.getNodeByDataIndex(a),d=f.getValue(),v=f.name;f&&f!==u;)v=f.parentNode.name+"."+v,f=f.parentNode;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:isNaN(d)||d==null})},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.collapsed=!s.isExpand,o},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(Series_default);function enableAriaDecalForTree(r){var n=r.getData(),a=n.tree,o={};a.eachNode(function(s){for(var l=s;l&&l.depth>1;)l=l.parentNode;var u=getDecalFromPalette(r.ecModel,l.name||l.dataIndex+"",o);s.setVisual("decal",u)})}var TreemapSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.preventUsingHoverLayer=!0,a}return n.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue(s);var l=a.levels||[],u=this.designatedVisualItemStyle={},f=new Model_default({itemStyle:u},this,o);l=a.levels=setDefault(l,o);var d=map3(l||[],function(y){return new Model_default(y,f,o)},this),v=Tree_default.createTree(s,this,g);function g(y){y.wrapMethod("getItemModel",function(b,_){var x=v.getNodeByDataIndex(_),w=x?d[x.depth]:null;return b.parentModel=w||f,b})}return v.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.getRawValue(a),f=l.getName(a);return createTooltipMarkup("nameValue",{name:f,value:u})},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.treePathInfo=o.treeAncestors,o},n.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},extend2(this.layoutInfo,a)},n.prototype.mapIdToIndex=function(a){var o=this._idIndexMap;o||(o=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var s=o.get(a);return s==null&&o.set(a,s=this._idIndexMapCount++),s},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(Series_default);function completeTreeValue(r){var n=0;each(r.children,function(o){completeTreeValue(o);var s=o.value;isArray3(s)&&(s=s[0]),n+=s});var a=r.value;isArray3(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=n),a<0&&(a=0),isArray3(r.value)?r.value[0]=a:r.value=a}function setDefault(r,n){var a=normalizeToArray(n.get("color")),o=normalizeToArray(n.get(["aria","decal","decals"]));if(!!a){r=r||[];var s,l;each(r,function(f){var d=new Model_default(f),v=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||v&&v!=="none")&&(s=!0),(d.get(["itemStyle","decal"])||g&&g!=="none")&&(l=!0)});var u=r[0]||(r[0]={});return s||(u.color=a.slice()),!l&&o&&(u.decal=o.slice()),r}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function r(n){this.group=new Group_default,n.add(this.group)}return r.prototype.render=function(n,a,o,s){var l=n.getModel("breadcrumb"),u=this.group;if(u.removeAll(),!(!l.get("show")||!o)){var f=l.getModel("itemStyle"),d=f.getModel("textStyle"),v={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:a.getWidth(),height:a.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,v,d),this._renderContent(n,v,f,d,s),positionElement(u,v.pos,v.box)}},r.prototype._prepare=function(n,a,o){for(var s=n;s;s=s.parentNode){var l=convertOptionIdName(s.getModel().get("name"),""),u=o.getTextRect(l),f=Math.max(u.width+TEXT_PADDING*2,a.emptyItemWidth);a.totalWidth+=f+ITEM_GAP,a.renderList.push({node:s,text:l,width:f})}},r.prototype._renderContent=function(n,a,o,s,l){for(var u=0,f=a.emptyItemWidth,d=n.get(["breadcrumb","height"]),v=getAvailableSize(a.pos,a.box),g=a.totalWidth,y=a.renderList,b=y.length-1;b>=0;b--){var _=y[b],x=_.node,w=_.width,C=_.text;g>v.width&&(g-=w-f,w=f,C=null);var S=new Polygon_default({shape:{points:makeItemPoints(u,0,w,d,b===y.length-1,b===0)},style:defaults(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text_default({style:{text:C,fill:s.getTextColor(),font:s.getFont()}}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry(l,x)});S.disableLabelAnimation=!0,this.group.add(S),packEventData(S,n,x),u+=w+ITEM_GAP}},r.prototype.remove=function(){this.group.removeAll()},r}();function makeItemPoints(r,n,a,o,s,l){var u=[[s?r:r-ARRAY_LENGTH,n],[r+a,n],[r+a,n+o],[s?r:r-ARRAY_LENGTH,n+o]];return!l&&u.splice(2,0,[r+a+ARRAY_LENGTH,n+o/2]),!s&&u.push([r,n+o/2]),u}function packEventData(r,n,a){getECData(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&wrapTreePathInfo(a,n)}}var Breadcrumb_default=Breadcrumb,AnimationWrap=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(n,a,o,s,l){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:a,duration:o,delay:s,easing:l}),!0)},r.prototype.finished=function(n){return this._finishedCallback=n,this},r.prototype.start=function(){for(var n=this,a=this._storage.length,o=function(){a--,a<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},s=0,l=this._storage.length;s<l;s++){var u=this._storage[s];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:o,aborted:o})}return this},r}();function createWrap(){return new AnimationWrap}var Group4=Group_default,Rect3=Rect_default,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(r){var n=getStateItemStyle(r);return n.stroke=n.fill=n.lineWidth=null,n},inner19=makeInner(),TreemapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._state="ready",a._storage=createStorage(),a}return n.prototype.render=function(a,o,s,l){var u=o.findComponents({mainType:"series",subType:"treemap",query:l});if(!(indexOf(u,a)<0)){this.seriesModel=a,this.api=s,this.ecModel=o;var f=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(l,f,a),v=l&&l.type,g=a.layoutInfo,y=!this._oldTree,b=this._storage,_=v==="treemapRootToNode"&&d&&b?{rootNodeGroup:b.nodeGroup[d.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(g),w=a.get("animation"),C=this._doRender(x,a,_);w&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(x,C,a,_):C.renderFinally(),this._resetController(s),this._renderBreadcrumb(a,s,d)}},n.prototype._giveContainerGroup=function(a){var o=this._containerGroup;return o||(o=this._containerGroup=new Group4,this._initEvents(o),this.group.add(o)),o.x=a.x,o.y=a.y,o},n.prototype._doRender=function(a,o,s){var l=o.getData().tree,u=this._oldTree,f=createStorage(),d=createStorage(),v=this._storage,g=[];function y(C,S,D,A){return renderNode(o,d,v,s,f,g,C,S,D,A)}_(l.root?[l.root]:[],u&&u.root?[u.root]:[],a,l===u||!u,0);var b=x(v);return this._oldTree=l,this._storage=d,{lastsForAnimation:f,willDeleteEls:b,renderFinally:w};function _(C,S,D,A,T){A?(S=C,each(C,function(M,L){!M.isRemoved()&&E(L,L)})):new DataDiffer_default(S,C,P,P).add(E).update(E).remove(curry(E,null)).execute();function P(M){return M.getId()}function E(M,L){var F=M!=null?C[M]:null,I=L!=null?S[L]:null,B=y(F,I,D,T);B&&_(F&&F.viewChildren||[],I&&I.viewChildren||[],B,A,T+1)}}function x(C){var S=createStorage();return C&&each(C,function(D,A){var T=S[A];each(D,function(P){P&&(T.push(P),inner19(P).willDelete=!0)})}),S}function w(){each(b,function(C){each(C,function(S){S.parent&&S.parent.remove(S)})}),each(g,function(C){C.invisible=!0,C.dirty()})}},n.prototype._doAnimation=function(a,o,s,l){var u=s.get("animationDurationUpdate"),f=s.get("animationEasing"),d=(isFunction3(u)?0:u)||0,v=(isFunction3(f)?null:f)||"cubicOut",g=createWrap();each(o.willDeleteEls,function(y,b){each(y,function(_,x){if(!_.invisible){var w=_.parent,C,S=inner19(w);if(l&&l.direction==="drillDown")C=w===l.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var D=0,A=0;S.willDelete||(D=S.nodeWidth/2,A=S.nodeHeight/2),C=b==="nodeGroup"?{x:D,y:A,style:{opacity:0}}:{shape:{x:D,y:A,width:0,height:0},style:{opacity:0}}}C&&g.add(_,C,d,0,v)}})}),each(this._storage,function(y,b){each(y,function(_,x){var w=o.lastsForAnimation[b][x],C={};!w||(_ instanceof Group_default?w.oldX!=null&&(C.x=_.x,C.y=_.y,_.x=w.oldX,_.y=w.oldY):(w.oldShape&&(C.shape=extend2({},_.shape),_.setShape(w.oldShape)),w.fadein?(_.setStyle("opacity",0),C.style={opacity:1}):_.style.opacity!==1&&(C.style={opacity:1})),g.add(_,C,d,0,v))})},this),this._state="animating",g.finished(bind(function(){this._state="ready",o.renderFinally()},this)).start()},n.prototype._resetController=function(a){var o=this._controller;o||(o=this._controller=new RoamController_default(a.getZr()),o.enable(this.seriesModel.get("roam")),o.on("pan",bind(this._onPan,this)),o.on("zoom",bind(this._onZoom,this)));var s=new BoundingRect_default(0,0,a.getWidth(),a.getHeight());o.setPointerChecker(function(l,u,f){return s.contain(u,f)})},n.prototype._clearController=function(){var a=this._controller;a&&(a.dispose(),a=null)},n.prototype._onPan=function(a){if(this._state!=="animating"&&(Math.abs(a.dx)>DRAG_THRESHOLD||Math.abs(a.dy)>DRAG_THRESHOLD)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+a.dx,y:s.y+a.dy,width:s.width,height:s.height}})}},n.prototype._onZoom=function(a){var o=a.originX,s=a.originY;if(this._state!=="animating"){var l=this.seriesModel.getData().tree.root;if(!l)return;var u=l.getLayout();if(!u)return;var f=new BoundingRect_default(u.x,u.y,u.width,u.height),d=this.seriesModel.layoutInfo;o-=d.x,s-=d.y;var v=create2();translate(v,v,[-o,-s]),scale2(v,v,[a.scale,a.scale]),translate(v,v,[o,s]),f.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},n.prototype._initEvents=function(a){var o=this;a.on("click",function(s){if(o._state==="ready"){var l=o.seriesModel.get("nodeClick",!0);if(!!l){var u=o.findTarget(s.offsetX,s.offsetY);if(!!u){var f=u.node;if(f.getLayout().isLeafRoot)o._rootToNode(u);else if(l==="zoomToNode")o._zoomToNode(u);else if(l==="link"){var d=f.hostTree.data.getItemModel(f.dataIndex),v=d.get("link",!0),g=d.get("target",!0)||"blank";v&&windowOpen(v,g)}}}}},this)},n.prototype._renderBreadcrumb=function(a,o,s){var l=this;s||(s=a.get("leafDepth",!0)!=null?{node:a.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),s||(s={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb_default(this.group))).render(a,o,s.node,function(u){l._state!=="animating"&&(aboveViewRoot(a.getViewRoot(),u)?l._rootToNode({node:u}):l._zoomToNode({node:u}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},n.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},n.prototype.findTarget=function(a,o){var s,l=this.seriesModel.getViewRoot();return l.eachNode({attr:"viewChildren",order:"preorder"},function(u){var f=this._storage.background[u.getRawIndex()];if(f){var d=f.transformCoordToLocal(a,o),v=f.shape;if(v.x<=d[0]&&d[0]<=v.x+v.width&&v.y<=d[1]&&d[1]<=v.y+v.height)s={node:u,offsetX:d[0],offsetY:d[1]};else return!1}},this),s},n.type="treemap",n}(Chart_default);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(r,n,a,o,s,l,u,f,d,v){if(!u)return;var g=u.getLayout(),y=r.getData(),b=u.getModel();if(y.setItemGraphicEl(u.dataIndex,null),!g||!g.isInView)return;var _=g.width,x=g.height,w=g.borderWidth,C=g.invisible,S=u.getRawIndex(),D=f&&f.getRawIndex(),A=u.viewChildren,T=g.upperHeight,P=A&&A.length,E=b.getModel("itemStyle"),M=b.getModel(["emphasis","itemStyle"]),L=b.getModel(["blur","itemStyle"]),F=b.getModel(["select","itemStyle"]),I=E.get("borderRadius")||0,B=fe("nodeGroup",Group4);if(!B)return;if(d.add(B),B.x=g.x||0,B.y=g.y||0,B.markRedraw(),inner19(B).nodeWidth=_,inner19(B).nodeHeight=x,g.isAboveViewRoot)return B;var O=fe("background",Rect3,v,Z2_BG);O&&$(B,O,P&&g.upperLabelHeight);var R=b.getModel("emphasis"),z=R.get("focus"),N=R.get("blurScope"),V=R.get("disabled"),W=z==="ancestor"?u.getAncestorsIndices():z==="descendant"?u.getDescendantIndices():z;if(P)isHighDownDispatcher(B)&&setAsHighDownDispatcher(B,!1),O&&(setAsHighDownDispatcher(O,!V),y.setItemGraphicEl(u.dataIndex,O),enableHoverFocus(O,W,N));else{var H=fe("content",Rect3,v,Z2_CONTENT);H&&Y(B,H),O.disableMorphing=!0,O&&isHighDownDispatcher(O)&&setAsHighDownDispatcher(O,!1),setAsHighDownDispatcher(B,!V),y.setItemGraphicEl(u.dataIndex,B),enableHoverFocus(B,W,N)}return B;function $(be,K,j){var Q=getECData(K);if(Q.dataIndex=u.dataIndex,Q.seriesIndex=r.seriesIndex,K.setShape({x:0,y:0,width:_,height:x,r:I}),C)ae(K);else{K.invisible=!1;var le=u.getVisual("style"),oe=le.stroke,he=getItemStyleNormal(E);he.fill=oe;var G=getStateItemStyle(M);G.fill=M.get("borderColor");var U=getStateItemStyle(L);U.fill=L.get("borderColor");var ee=getStateItemStyle(F);if(ee.fill=F.get("borderColor"),j){var te=_-2*w;X(K,oe,le.opacity,{x:w,y:0,width:te,height:T})}else K.removeTextContent();K.setStyle(he),K.ensureState("emphasis").style=G,K.ensureState("blur").style=U,K.ensureState("select").style=ee,setDefaultStateProxy(K)}be.add(K)}function Y(be,K){var j=getECData(K);j.dataIndex=u.dataIndex,j.seriesIndex=r.seriesIndex;var Q=Math.max(_-2*w,0),le=Math.max(x-2*w,0);if(K.culling=!0,K.setShape({x:w,y:w,width:Q,height:le,r:I}),C)ae(K);else{K.invisible=!1;var oe=u.getVisual("style"),he=oe.fill,G=getItemStyleNormal(E);G.fill=he,G.decal=oe.decal;var U=getStateItemStyle(M),ee=getStateItemStyle(L),te=getStateItemStyle(F);X(K,he,oe.opacity,null),K.setStyle(G),K.ensureState("emphasis").style=U,K.ensureState("blur").style=ee,K.ensureState("select").style=te,setDefaultStateProxy(K)}be.add(K)}function ae(be){!be.invisible&&l.push(be)}function X(be,K,j,Q){var le=b.getModel(Q?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),oe=convertOptionIdName(b.get("name"),null),he=le.getShallow("show");setLabelStyle(be,getLabelStatesModels(b,Q?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:he?oe:null,inheritColor:K,defaultOpacity:j,labelFetcher:r,labelDataIndex:u.dataIndex});var G=be.getTextContent();if(!!G){var U=G.style,ee=normalizeCssArray(U.padding||0);Q&&(be.setTextConfig({layoutRect:Q}),G.disableLabelLayout=!0),G.beforeUpdate=function(){var ie=Math.max((Q?Q.width:be.shape.width)-ee[1]-ee[3],0),re=Math.max((Q?Q.height:be.shape.height)-ee[0]-ee[2],0);(U.width!==ie||U.height!==re)&&G.setStyle({width:ie,height:re})},U.truncateMinChar=2,U.lineOverflow="truncate",J(U,Q,g);var te=G.getState("emphasis");J(te?te.style:null,Q,g)}}function J(be,K,j){var Q=be?be.text:null;if(!K&&j.isLeafRoot&&Q!=null){var le=r.get("drillDownIcon",!0);be.text=le?le+" "+Q:Q}}function fe(be,K,j,Q){var le=D!=null&&a[be][D],oe=s[be];return le?(a[be][D]=null,ge(oe,le)):C||(le=new K,le instanceof Displayable_default&&(le.z2=calculateZ2(j,Q)),ye(oe,le)),n[be][S]=le}function ge(be,K){var j=be[S]={};K instanceof Group4?(j.oldX=K.x,j.oldY=K.y):j.oldShape=extend2({},K.shape)}function ye(be,K){var j=be[S]={},Q=u.parentNode,le=K instanceof Group_default;if(Q&&(!o||o.direction==="drillDown")){var oe=0,he=0,G=s.background[Q.getRawIndex()];!o&&G&&G.oldShape&&(oe=G.oldShape.width,he=G.oldShape.height),le?(j.oldX=0,j.oldY=he):j.oldShape={x:oe,y:he,width:0,height:0}}j.fadein=!le}}function calculateZ2(r,n){return r*Z2_BASE+n}var inner20=makeInner(),KEY_DELIMITER="-->",getAutoCurvenessParams=function(r){return r.get("autoCurveness")||null},createCurveness=function(r,n){var a=getAutoCurvenessParams(r),o=20,s=[];if(isNumber(a))o=a;else if(isArray3(a)){r.__curvenessList=a;return}n>o&&(o=n);var l=o%2?o+2:o+3;s=[];for(var u=0;u<l;u++)s.push((u%2?u+1:u)/10*(u%2?-1:1));r.__curvenessList=s},getKeyOfEdges=function(r,n,a){var o=[r.id,r.dataIndex].join("."),s=[n.id,n.dataIndex].join(".");return[a.uid,o,s].join(KEY_DELIMITER)},getOppositeKey=function(r){var n=r.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)};function initCurvenessList(r){!getAutoCurvenessParams(r)||(r.__curvenessList=[],r.__edgeMap={},createCurveness(r))}function createEdgeMapForCurveness(r,n,a,o){if(!!getAutoCurvenessParams(a)){var s=getKeyOfEdges(r,n,a),l=a.__edgeMap,u=l[getOppositeKey(s)];l[s]&&!u?l[s].isForward=!0:u&&l[s]&&(u.isForward=!0,l[s].isForward=!1),l[s]=l[s]||[],l[s].push(o)}}function getNodeGlobalScale(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var a=r.option.nodeScaleRatio,o=n.scaleX,s=n.getZoom(),l=(s-1)*a+1;return l/o}function getSymbolSize(r){var n=r.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var v1=[],v2=[],v3=[],quadraticAt2=quadraticAt,v2DistSquare=distSquare,mathAbs3=Math.abs;function intersectCurveCircle(r,n,a){for(var o=r[0],s=r[1],l=r[2],u=1/0,f,d=a*a,v=.1,g=.1;g<=.9;g+=.1){v1[0]=quadraticAt2(o[0],s[0],l[0],g),v1[1]=quadraticAt2(o[1],s[1],l[1],g);var y=mathAbs3(v2DistSquare(v1,n)-d);y<u&&(u=y,f=g)}for(var b=0;b<32;b++){var _=f+v;v2[0]=quadraticAt2(o[0],s[0],l[0],f),v2[1]=quadraticAt2(o[1],s[1],l[1],f),v3[0]=quadraticAt2(o[0],s[0],l[0],_),v3[1]=quadraticAt2(o[1],s[1],l[1],_);var y=v2DistSquare(v2,n)-d;if(mathAbs3(y)<.01)break;var x=v2DistSquare(v3,n)-d;v/=2,y<0?x>=0?f=f+v:f=f-v:x>=0?f=f-v:f=f+v}return f}function adjustEdge(r,n){var a=[],o=quadraticSubdivide,s=[[],[],[]],l=[[],[]],u=[];n/=2,r.eachEdge(function(f,d){var v=f.getLayout(),g=f.getVisual("fromSymbol"),y=f.getVisual("toSymbol");v.__original||(v.__original=[clone2(v[0]),clone2(v[1])],v[2]&&v.__original.push(clone2(v[2])));var b=v.__original;if(v[2]!=null){if(copy(s[0],b[0]),copy(s[1],b[2]),copy(s[2],b[1]),g&&g!=="none"){var _=getSymbolSize(f.node1),x=intersectCurveCircle(s,b[0],_*n);o(s[0][0],s[1][0],s[2][0],x,a),s[0][0]=a[3],s[1][0]=a[4],o(s[0][1],s[1][1],s[2][1],x,a),s[0][1]=a[3],s[1][1]=a[4]}if(y&&y!=="none"){var _=getSymbolSize(f.node2),x=intersectCurveCircle(s,b[1],_*n);o(s[0][0],s[1][0],s[2][0],x,a),s[1][0]=a[1],s[2][0]=a[2],o(s[0][1],s[1][1],s[2][1],x,a),s[1][1]=a[1],s[2][1]=a[2]}copy(v[0],s[0]),copy(v[1],s[2]),copy(v[2],s[1])}else{if(copy(l[0],b[0]),copy(l[1],b[1]),sub(u,l[1],l[0]),normalize(u,u),g&&g!=="none"){var _=getSymbolSize(f.node1);scaleAndAdd(l[0],l[0],u,_*n)}if(y&&y!=="none"){var _=getSymbolSize(f.node2);scaleAndAdd(l[1],l[1],u,-_*n)}copy(v[0],l[0]),copy(v[1],l[1])}})}function isViewCoordSys(r){return r.type==="view"}var GraphView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){var s=new SymbolDraw_default,l=new LineDraw_default,u=this.group;this._controller=new RoamController_default(o.getZr()),this._controllerHost={target:u},u.add(s.group),u.add(l.group),this._symbolDraw=s,this._lineDraw=l,this._firstRender=!0},n.prototype.render=function(a,o,s){var l=this,u=a.coordinateSystem;this._model=a;var f=this._symbolDraw,d=this._lineDraw,v=this.group;if(isViewCoordSys(u)){var g={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?v.attr(g):updateProps2(v,g,a)}adjustEdge(a.getGraph(),getNodeGlobalScale(a));var y=a.getData();f.updateData(y);var b=a.getEdgeData();d.updateData(b),this._updateNodeAndLinkScale(),this._updateController(a,o,s),clearTimeout(this._layoutTimeout);var _=a.forceLayout,x=a.get(["force","layoutAnimation"]);_&&this._startForceLayoutIteration(_,x),y.graph.eachNode(function(D){var A=D.dataIndex,T=D.getGraphicEl(),P=D.getModel();if(!!T){T.off("drag").off("dragend");var E=P.get("draggable");E&&T.on("drag",function(){_&&(_.warmUp(),!l._layouting&&l._startForceLayoutIteration(_,x),_.setFixed(A),y.setItemLayout(A,[T.x,T.y]))}).on("dragend",function(){_&&_.setUnfixed(A)}),T.setDraggable(E&&!!_);var M=P.get(["emphasis","focus"]);M==="adjacency"&&(getECData(T).focus=D.getAdjacentDataIndices())}}),y.graph.eachEdge(function(D){var A=D.getGraphicEl(),T=D.getModel().get(["emphasis","focus"]);!A||T==="adjacency"&&(getECData(A).focus={edge:[D.dataIndex],node:[D.node1.dataIndex,D.node2.dataIndex]})});var w=a.get("layout")==="circular"&&a.get(["circular","rotateLabel"]),C=y.getLayout("cx"),S=y.getLayout("cy");y.eachItemGraphicEl(function(D,A){var T=y.getItemModel(A),P=T.get(["label","rotate"])||0,E=D.getSymbolPath();if(w){var M=y.getItemLayout(A),L=Math.atan2(M[1]-S,M[0]-C);L<0&&(L=Math.PI*2+L);var F=M[0]<C;F&&(L=L-Math.PI);var I=F?"left":"right";E.setTextConfig({rotation:-L,position:I,origin:"center"});var B=E.ensureState("emphasis");extend2(B.textConfig||(B.textConfig={}),{position:I})}else E.setTextConfig({rotation:P*=Math.PI/180})}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(a,o){var s=this;(function l(){a.step(function(u){s.updateLayout(s._model),(s._layouting=!u)&&(o?s._layoutTimeout=setTimeout(l,16):l())})})()},n.prototype._updateController=function(a,o,s){var l=this,u=this._controller,f=this._controllerHost,d=this.group;if(u.setPointerChecker(function(v,g,y){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,y)&&!onIrrelevantElement(v,s,a)}),!isViewCoordSys(a.coordinateSystem)){u.disable();return}u.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),s.dispatchAction({seriesId:a.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(),adjustEdge(a.getGraph(),getNodeGlobalScale(a)),l._lineDraw.updateLayout(),s.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var a=this._model,o=a.getData(),s=getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,u){l&&l.setSymbolScale(s)})},n.prototype.updateLayout=function(a){adjustEdge(a.getGraph(),getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(Chart_default);function generateNodeKey(r){return"_EC_"+r}var Graph=function(){function r(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(n,a){n=n==null?""+a:""+n;var o=this._nodesMap;if(o[generateNodeKey(n)]){console.error("Graph nodes have duplicate name or id");return}var s=new GraphNode(n,a);return s.hostGraph=this,this.nodes.push(s),o[generateNodeKey(n)]=s,s},r.prototype.getNodeByIndex=function(n){var a=this.data.getRawIndex(n);return this.nodes[a]},r.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},r.prototype.addEdge=function(n,a,o){var s=this._nodesMap,l=this._edgesMap;if(isNumber(n)&&(n=this.nodes[n]),isNumber(a)&&(a=this.nodes[a]),n instanceof GraphNode||(n=s[generateNodeKey(n)]),a instanceof GraphNode||(a=s[generateNodeKey(a)]),!(!n||!a)){var u=n.id+"-"+a.id,f=new GraphEdge(n,a,o);return f.hostGraph=this,this._directed&&(n.outEdges.push(f),a.inEdges.push(f)),n.edges.push(f),n!==a&&a.edges.push(f),this.edges.push(f),l[u]=f,f}},r.prototype.getEdgeByIndex=function(n){var a=this.edgeData.getRawIndex(n);return this.edges[a]},r.prototype.getEdge=function(n,a){n instanceof GraphNode&&(n=n.id),a instanceof GraphNode&&(a=a.id);var o=this._edgesMap;return this._directed?o[n+"-"+a]:o[n+"-"+a]||o[a+"-"+n]},r.prototype.eachNode=function(n,a){for(var o=this.nodes,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&n.call(a,o[l],l)},r.prototype.eachEdge=function(n,a){for(var o=this.edges,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&n.call(a,o[l],l)},r.prototype.breadthFirstTraverse=function(n,a,o,s){if(a instanceof GraphNode||(a=this._nodesMap[generateNodeKey(a)]),!!a){for(var l=o==="out"?"outEdges":o==="in"?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!n.call(s,a,null))for(var f=[a];f.length;)for(var d=f.shift(),v=d[l],u=0;u<v.length;u++){var g=v[u],y=g.node1===d?g.node2:g.node1;if(!y.__visited){if(n.call(s,y,d))return;f.push(y),y.__visited=!0}}}},r.prototype.update=function(){for(var n=this.data,a=this.edgeData,o=this.nodes,s=this.edges,l=0,u=o.length;l<u;l++)o[l].dataIndex=-1;for(var l=0,u=n.count();l<u;l++)o[n.getRawIndex(l)].dataIndex=l;a.filterSelf(function(f){var d=s[a.getRawIndex(f)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0});for(var l=0,u=s.length;l<u;l++)s[l].dataIndex=-1;for(var l=0,u=a.count();l<u;l++)s[a.getRawIndex(l)].dataIndex=l},r.prototype.clone=function(){for(var n=new r(this._directed),a=this.nodes,o=this.edges,s=0;s<a.length;s++)n.addNode(a[s].id,a[s].dataIndex);for(var s=0;s<o.length;s++){var l=o[s];n.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return n},r}(),GraphNode=function(){function r(n,a){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n==null?"":n,this.dataIndex=a==null?-1:a}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.data.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},a=0;a<this.edges.length;a++){var o=this.edges[a];o.dataIndex<0||(n.edge.push(o.dataIndex),n.node.push(o.node1.dataIndex,o.node2.dataIndex))}return n},r}(),GraphEdge=function(){function r(n,a,o){this.dataIndex=-1,this.node1=n,this.node2=a,this.dataIndex=o==null?-1:o}return r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.edgeData.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r}();function createGraphDataProxyMixin(r,n){return{getValue:function(a){var o=this[r][n];return o.getStore().get(o.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,o){this.dataIndex>=0&&this[r][n].setItemVisual(this.dataIndex,a,o)},getVisual:function(a){return this[r][n].getItemVisual(this.dataIndex,a)},setLayout:function(a,o){this.dataIndex>=0&&this[r][n].setItemLayout(this.dataIndex,a,o)},getLayout:function(){return this[r][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));var Graph_default=Graph;function createGraphFromNodeEdge(r,n,a,o,s){for(var l=new Graph_default(o),u=0;u<r.length;u++)l.addNode(retrieve(r[u].id,r[u].name,u),u);for(var f=[],d=[],v=0,u=0;u<n.length;u++){var g=n[u],y=g.source,b=g.target;l.addEdge(y,b,v)&&(d.push(g),f.push(retrieve(convertOptionIdName(g.id,null),y+" > "+b)),v++)}var _=a.get("coordinateSystem"),x;if(_==="cartesian2d"||_==="polar")x=createSeriesData_default(r,a);else{var w=CoordinateSystem_default.get(_),C=w?w.dimensions||[]:[];indexOf(C,"value")<0&&C.concat(["value"]);var S=prepareSeriesDataSchema(r,{coordDimensions:C,encodeDefine:a.getEncode()}).dimensions;x=new SeriesData_default(S,a),x.initData(r)}var D=new SeriesData_default(["value"],a);return D.initData(d,f),s&&s(x,D),linkSeriesData_default({mainData:x,struct:l,structAttr:"graph",datas:{node:x,edge:D},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}var GraphSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new LegendVisualProvider_default(s,s),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},n.prototype.mergeOption=function(a){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(a){r.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(a,"edgeLabel",["show"])},n.prototype.getInitialData=function(a,o){var s=a.edges||a.links||[],l=a.data||a.nodes||[],u=this;if(l&&s){initCurvenessList(this);var f=createGraphFromNodeEdge(l,s,this,!0,d);return each(f.edges,function(v){createEdgeMapForCurveness(v.node1,v.node2,this,v.dataIndex)},this),f.data}function d(v,g){v.wrapMethod("getItemModel",function(x){var w=u._categoriesModels,C=x.getShallow("category"),S=w[C];return S&&(S.parentModel=x.parentModel,x.parentModel=S),x});var y=Model_default.prototype.getModel;function b(x,w){var C=y.call(this,x,w);return C.resolveParentPath=_,C}g.wrapMethod("getItemModel",function(x){return x.resolveParentPath=_,x.getModel=b,x});function _(x){if(x&&(x[0]==="label"||x[1]==="label")){var w=x.slice();return x[0]==="label"?w[0]="edgeLabel":x[1]==="label"&&(w[1]="edgeLabel"),w}return x}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(a,o,s){if(s==="edge"){var l=this.getData(),u=this.getDataParams(a,s),f=l.graph.getEdgeByIndex(a),d=l.getName(f.node1.dataIndex),v=l.getName(f.node2.dataIndex),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > "),value:u.value,noValue:u.value==null})}var y=defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o});return y},n.prototype._updateCategoriesData=function(){var a=map3(this.option.categories||[],function(s){return s.value!=null?s:extend2({value:0},s)}),o=new SeriesData_default(["value"],this);o.initData(a),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Series_default),PointerShape=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),PointerPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="pointer",o}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(a,o){var s=Math.cos,l=Math.sin,u=o.r,f=o.width,d=o.angle,v=o.x-s(d)*f*(f>=u/3?1:2),g=o.y-l(d)*f*(f>=u/3?1:2);d=o.angle-Math.PI/2,a.moveTo(v,g),a.lineTo(o.x+s(d)*f,o.y+l(d)*f),a.lineTo(o.x+s(o.angle)*u,o.y+l(o.angle)*u),a.lineTo(o.x-s(d)*f,o.y-l(d)*f),a.lineTo(v,g)},n}(Path_default),PointerPath_default=PointerPath;function parsePosition(r,n){var a=r.get("center"),o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s),u=parsePercent2(a[0],n.getWidth()),f=parsePercent2(a[1],n.getHeight()),d=parsePercent2(r.get("radius"),l/2);return{cx:u,cy:f,r:d}}function formatLabel(r,n){var a=r==null?"":r+"";return n&&(isString2(n)?a=n.replace("{value}",a):isFunction3(n)&&(a=n(r))),a}var GaugeView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this.group.removeAll();var l=a.get(["axisLine","lineStyle","color"]),u=parsePosition(a,s);this._renderMain(a,o,s,l,u),this._data=a.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(a,o,s,l,u){var f=this.group,d=a.get("clockwise"),v=-a.get("startAngle")/180*Math.PI,g=-a.get("endAngle")/180*Math.PI,y=a.getModel("axisLine"),b=y.get("roundCap"),_=b?sausage_default:Sector_default,x=y.get("show"),w=y.getModel("lineStyle"),C=w.get("width"),S=[v,g];normalizeArcAngles(S,!d),v=S[0],g=S[1];for(var D=g-v,A=v,T=0;x&&T<l.length;T++){var P=Math.min(Math.max(l[T][0],0),1);g=v+D*P;var E=new _({shape:{startAngle:A,endAngle:g,cx:u.cx,cy:u.cy,clockwise:d,r0:u.r-C,r:u.r},silent:!0});E.setStyle({fill:l[T][1]}),E.setStyle(w.getLineStyle(["color","width"])),f.add(E),A=g}var M=function(L){if(L<=0)return l[0][1];var F;for(F=0;F<l.length;F++)if(l[F][0]>=L&&(F===0?0:l[F-1][0])<L)return l[F][1];return l[F-1][1]};this._renderTicks(a,o,s,M,u,v,g,d,C),this._renderTitleAndDetail(a,o,s,M,u),this._renderAnchor(a,u),this._renderPointer(a,o,s,M,u,v,g,d,C)},n.prototype._renderTicks=function(a,o,s,l,u,f,d,v,g){for(var y=this.group,b=u.cx,_=u.cy,x=u.r,w=+a.get("min"),C=+a.get("max"),S=a.getModel("splitLine"),D=a.getModel("axisTick"),A=a.getModel("axisLabel"),T=a.get("splitNumber"),P=D.get("splitNumber"),E=parsePercent2(S.get("length"),x),M=parsePercent2(D.get("length"),x),L=f,F=(d-f)/T,I=F/P,B=S.getModel("lineStyle").getLineStyle(),O=D.getModel("lineStyle").getLineStyle(),R=S.get("distance"),z,N,V=0;V<=T;V++){if(z=Math.cos(L),N=Math.sin(L),S.get("show")){var W=R?R+g:g,H=new Line_default({shape:{x1:z*(x-W)+b,y1:N*(x-W)+_,x2:z*(x-E-W)+b,y2:N*(x-E-W)+_},style:B,silent:!0});B.stroke==="auto"&&H.setStyle({stroke:l(V/T)}),y.add(H)}if(A.get("show")){var W=A.get("distance")+R,$=formatLabel(round(V/T*(C-w)+w),A.get("formatter")),Y=l(V/T);y.add(new Text_default({style:createTextStyle(A,{text:$,x:z*(x-E-W)+b,y:N*(x-E-W)+_,verticalAlign:N<-.8?"top":N>.8?"bottom":"middle",align:z<-.4?"left":z>.4?"right":"center"},{inheritColor:Y}),silent:!0}))}if(D.get("show")&&V!==T){var W=D.get("distance");W=W?W+g:g;for(var ae=0;ae<=P;ae++){z=Math.cos(L),N=Math.sin(L);var X=new Line_default({shape:{x1:z*(x-W)+b,y1:N*(x-W)+_,x2:z*(x-M-W)+b,y2:N*(x-M-W)+_},silent:!0,style:O});O.stroke==="auto"&&X.setStyle({stroke:l((V+ae/P)/T)}),y.add(X),L+=I}L-=I}else L+=F}},n.prototype._renderPointer=function(a,o,s,l,u,f,d,v,g){var y=this.group,b=this._data,_=this._progressEls,x=[],w=a.get(["pointer","show"]),C=a.getModel("progress"),S=C.get("show"),D=a.getData(),A=D.mapDimension("value"),T=+a.get("min"),P=+a.get("max"),E=[T,P],M=[f,d];function L(I,B){var O=D.getItemModel(I),R=O.getModel("pointer"),z=parsePercent2(R.get("width"),u.r),N=parsePercent2(R.get("length"),u.r),V=a.get(["pointer","icon"]),W=R.get("offsetCenter"),H=parsePercent2(W[0],u.r),$=parsePercent2(W[1],u.r),Y=R.get("keepAspect"),ae;return V?ae=createSymbol(V,H-z/2,$-N,z,N,null,Y):ae=new PointerPath_default({shape:{angle:-Math.PI/2,width:z,r:N,x:H,y:$}}),ae.rotation=-(B+Math.PI/2),ae.x=u.cx,ae.y=u.cy,ae}function F(I,B){var O=C.get("roundCap"),R=O?sausage_default:Sector_default,z=C.get("overlap"),N=z?C.get("width"):g/D.count(),V=z?u.r-N:u.r-(I+1)*N,W=z?u.r:u.r-I*N,H=new R({shape:{startAngle:f,endAngle:B,cx:u.cx,cy:u.cy,clockwise:v,r0:V,r:W}});return z&&(H.z2=P-D.get(A,I)%P),H}(S||w)&&(D.diff(b).add(function(I){var B=D.get(A,I);if(w){var O=L(I,f);initProps2(O,{rotation:-((isNaN(+B)?M[0]:linearMap(B,E,M,!0))+Math.PI/2)},a),y.add(O),D.setItemGraphicEl(I,O)}if(S){var R=F(I,f),z=C.get("clip");initProps2(R,{shape:{endAngle:linearMap(B,E,M,z)}},a),y.add(R),setCommonECData(a.seriesIndex,D.dataType,I,R),x[I]=R}}).update(function(I,B){var O=D.get(A,I);if(w){var R=b.getItemGraphicEl(B),z=R?R.rotation:f,N=L(I,z);N.rotation=z,updateProps2(N,{rotation:-((isNaN(+O)?M[0]:linearMap(O,E,M,!0))+Math.PI/2)},a),y.add(N),D.setItemGraphicEl(I,N)}if(S){var V=_[B],W=V?V.shape.endAngle:f,H=F(I,W),$=C.get("clip");updateProps2(H,{shape:{endAngle:linearMap(O,E,M,$)}},a),y.add(H),setCommonECData(a.seriesIndex,D.dataType,I,H),x[I]=H}}).execute(),D.each(function(I){var B=D.getItemModel(I),O=B.getModel("emphasis"),R=O.get("focus"),z=O.get("blurScope"),N=O.get("disabled");if(w){var V=D.getItemGraphicEl(I),W=D.getItemVisual(I,"style"),H=W.fill;if(V instanceof Image_default){var $=V.style;V.useStyle(extend2({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},W))}else V.useStyle(W),V.type!=="pointer"&&V.setColor(H);V.setStyle(B.getModel(["pointer","itemStyle"]).getItemStyle()),V.style.fill==="auto"&&V.setStyle("fill",l(linearMap(D.get(A,I),E,[0,1],!0))),V.z2EmphasisLift=0,setStatesStylesFromModel(V,B),toggleHoverEmphasis(V,R,z,N)}if(S){var Y=x[I];Y.useStyle(D.getItemVisual(I,"style")),Y.setStyle(B.getModel(["progress","itemStyle"]).getItemStyle()),Y.z2EmphasisLift=0,setStatesStylesFromModel(Y,B),toggleHoverEmphasis(Y,R,z,N)}}),this._progressEls=x)},n.prototype._renderAnchor=function(a,o){var s=a.getModel("anchor"),l=s.get("show");if(l){var u=s.get("size"),f=s.get("icon"),d=s.get("offsetCenter"),v=s.get("keepAspect"),g=createSymbol(f,o.cx-u/2+parsePercent2(d[0],o.r),o.cy-u/2+parsePercent2(d[1],o.r),u,u,null,v);g.z2=s.get("showAbove")?1:0,g.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(g)}},n.prototype._renderTitleAndDetail=function(a,o,s,l,u){var f=this,d=a.getData(),v=d.mapDimension("value"),g=+a.get("min"),y=+a.get("max"),b=new Group_default,_=[],x=[],w=a.isAnimationEnabled(),C=a.get(["pointer","showAbove"]);d.diff(this._data).add(function(S){_[S]=new Text_default({silent:!0}),x[S]=new Text_default({silent:!0})}).update(function(S,D){_[S]=f._titleEls[D],x[S]=f._detailEls[D]}).execute(),d.each(function(S){var D=d.getItemModel(S),A=d.get(v,S),T=new Group_default,P=l(linearMap(A,[g,y],[0,1],!0)),E=D.getModel("title");if(E.get("show")){var M=E.get("offsetCenter"),L=u.cx+parsePercent2(M[0],u.r),F=u.cy+parsePercent2(M[1],u.r),I=_[S];I.attr({z2:C?0:2,style:createTextStyle(E,{x:L,y:F,text:d.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:P})}),T.add(I)}var B=D.getModel("detail");if(B.get("show")){var O=B.get("offsetCenter"),R=u.cx+parsePercent2(O[0],u.r),z=u.cy+parsePercent2(O[1],u.r),N=parsePercent2(B.get("width"),u.r),V=parsePercent2(B.get("height"),u.r),W=a.get(["progress","show"])?d.getItemVisual(S,"style").fill:P,I=x[S],H=B.get("formatter");I.attr({z2:C?0:2,style:createTextStyle(B,{x:R,y:z,text:formatLabel(A,H),width:isNaN(N)?null:N,height:isNaN(V)?null:V,align:"center",verticalAlign:"middle"},{inheritColor:W})}),setLabelValueAnimation(I,{normal:B},A,function(Y){return formatLabel(Y,H)}),w&&animateLabelValue(I,S,d,a,{getFormattedLabel:function(Y,ae,X,J,fe,ge){return formatLabel(ge?ge.interpolatedValue:A,H)}}),T.add(I)}b.add(T)}),this.group.add(b),this._titleEls=_,this._detailEls=x},n.type="gauge",n}(Chart_default),GaugeSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="itemStyle",a}return n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(Series_default),opacityAccessPath=["itemStyle","opacity"],FunnelPiece=function(r){__extends(n,r);function n(a,o){var s=r.call(this)||this,l=s,u=new Polyline_default,f=new Text_default;return l.setTextContent(f),s.setTextGuideLine(u),s.updateData(a,o,!0),s}return n.prototype.updateData=function(a,o,s){var l=this,u=a.hostModel,f=a.getItemModel(o),d=a.getItemLayout(o),v=f.getModel("emphasis"),g=f.get(opacityAccessPath);g=g==null?1:g,s||saveOldStyle(l),l.useStyle(a.getItemVisual(o,"style")),l.style.lineJoin="round",s?(l.setShape({points:d.points}),l.style.opacity=0,initProps2(l,{style:{opacity:g}},u,o)):updateProps2(l,{style:{opacity:g},shape:{points:d.points}},u,o),setStatesStylesFromModel(l,f),this._updateLabel(a,o),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(a,o){var s=this,l=this.getTextGuideLine(),u=s.getTextContent(),f=a.hostModel,d=a.getItemModel(o),v=a.getItemLayout(o),g=v.label,y=a.getItemVisual(o,"style"),b=y.fill;setLabelStyle(u,getLabelStatesModels(d),{labelFetcher:a.hostModel,labelDataIndex:o,defaultOpacity:y.opacity,defaultText:a.getName(o)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),s.setTextConfig({local:!0,inside:!!g.inside,insideStroke:b,outsideFill:b});var _=g.linePoints;l.setShape({points:_}),s.textGuideLineConfig={anchor:_?new Point_default(_[0][0],_[0][1]):null},updateProps2(u,{style:{x:g.x,y:g.y}},f,o),u.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),setLabelLineStyle(s,getLabelLineStatesModels(d),{stroke:b})},n}(Polygon_default),FunnelView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.ignoreLabelLineUpdate=!0,a}return n.prototype.render=function(a,o,s){var l=a.getData(),u=this._data,f=this.group;l.diff(u).add(function(d){var v=new FunnelPiece(l,d);l.setItemGraphicEl(d,v),f.add(v)}).update(function(d,v){var g=u.getItemGraphicEl(v);g.updateData(l,d),f.add(g),l.setItemGraphicEl(d,g)}).remove(function(d){var v=u.getItemGraphicEl(d);removeElementWithFadeOut(v,a,d)}).execute(),this._data=l},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(Chart_default),FunnelSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this)),this._defaultLabelLine(a)},n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},n.prototype.getDataParams=function(a){var o=this.getData(),s=r.prototype.getDataParams.call(this,a),l=o.mapDimension("value"),u=o.getSum(l);return s.percent=u?+(o.get(l,a)/u*100).toFixed(2):0,s.$vars.push("percent"),s},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Series_default),DEFAULT_SMOOTH=.3,ParallelView2=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._dataGroup=new Group_default,a._initialized=!1,a}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(a,o,s,l){this._progressiveEls=null;var u=this._dataGroup,f=a.getData(),d=this._data,v=a.coordinateSystem,g=v.dimensions,y=makeSeriesScope3(a);f.diff(d).add(b).update(_).remove(x).execute();function b(C){var S=addEl(f,u,C,g,v);updateElCommon(S,f,C,y)}function _(C,S){var D=d.getItemGraphicEl(S),A=createLinePoints(f,C,g,v);f.setItemGraphicEl(C,D),updateProps2(D,{shape:{points:A}},a,C),saveOldStyle(D),updateElCommon(D,f,C,y)}function x(C){var S=d.getItemGraphicEl(C);u.remove(S)}if(!this._initialized){this._initialized=!0;var w=createGridClipShape(v,a,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(w)}this._data=f},n.prototype.incrementalPrepareRender=function(a,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(a,o,s){for(var l=o.getData(),u=o.coordinateSystem,f=u.dimensions,d=makeSeriesScope3(o),v=this._progressiveEls=[],g=a.start;g<a.end;g++){var y=addEl(l,this._dataGroup,g,f,u);y.incremental=!0,updateElCommon(y,l,g,d),v.push(y)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(Chart_default);function createGridClipShape(r,n,a){var o=r.model,s=r.getRect(),l=new Rect_default({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),u=o.get("layout")==="horizontal"?"width":"height";return l.setShape(u,0),initProps2(l,{shape:{width:s.width,height:s.height}},n,a),l}function createLinePoints(r,n,a,o){for(var s=[],l=0;l<a.length;l++){var u=a[l],f=r.get(r.mapDimension(u),n);isEmptyValue3(f,o.getAxis(u).type)||s.push(o.dataToPoint(f,u))}return s}function addEl(r,n,a,o,s){var l=createLinePoints(r,a,o,s),u=new Polyline_default({shape:{points:l},z2:10});return n.add(u),r.setItemGraphicEl(a,u),u}function makeSeriesScope3(r){var n=r.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(r,n,a,o){r.useStyle(n.getItemVisual(a,"style")),r.style.fill=null,r.setShape("smooth",o.smooth);var s=n.getItemModel(a),l=s.getModel("emphasis");setStatesStylesFromModel(r,s,"lineStyle"),toggleHoverEmphasis(r,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function isEmptyValue3(r,n){return n==="category"?r==null:r==null||isNaN(r)}var ParallelSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:bind(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(a){var o=this.coordinateSystem,s=this.getData(),l=[];return o.eachActiveState(s,function(u,f){a===u&&l.push(s.getRawIndex(f))}),l},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(Series_default);function makeDefaultEncode(r){var n=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(!!n){var a={};return each(n.dimensions,function(o){var s=convertDimNameToNumber(o);a[o]=s}),a}}function convertDimNameToNumber(r){return+r.replace("dim","")}var SankeyPathShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),SankeyPath=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(a,o){var s=o.extent;a.moveTo(o.x1,o.y1),a.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(a.lineTo(o.x2+s,o.y2),a.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(a.lineTo(o.x2,o.y2+s),a.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),a.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path_default),SankeyView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._focusAdjacencyDisabled=!1,a}return n.prototype.render=function(a,o,s){var l=this,u=a.getGraph(),f=this.group,d=a.layoutInfo,v=d.width,g=d.height,y=a.getData(),b=a.getData("edge"),_=a.get("orient");this._model=a,f.removeAll(),f.x=d.x,f.y=d.y,u.eachEdge(function(x){var w=new SankeyPath,C=getECData(w);C.dataIndex=x.dataIndex,C.seriesIndex=a.seriesIndex,C.dataType="edge";var S=x.getModel(),D=S.getModel("lineStyle"),A=D.get("curveness"),T=x.node1.getLayout(),P=x.node1.getModel(),E=P.get("localX"),M=P.get("localY"),L=x.node2.getLayout(),F=x.node2.getModel(),I=F.get("localX"),B=F.get("localY"),O=x.getLayout(),R,z,N,V,W,H,$,Y;switch(w.shape.extent=Math.max(1,O.dy),w.shape.orient=_,_==="vertical"?(R=(E!=null?E*v:T.x)+O.sy,z=(M!=null?M*g:T.y)+T.dy,N=(I!=null?I*v:L.x)+O.ty,V=B!=null?B*g:L.y,W=R,H=z*(1-A)+V*A,$=N,Y=z*A+V*(1-A)):(R=(E!=null?E*v:T.x)+T.dx,z=(M!=null?M*g:T.y)+O.sy,N=I!=null?I*v:L.x,V=(B!=null?B*g:L.y)+O.ty,W=R*(1-A)+N*A,H=z,$=R*A+N*(1-A),Y=V),w.setShape({x1:R,y1:z,x2:N,y2:V,cpx1:W,cpy1:H,cpx2:$,cpy2:Y}),w.useStyle(D.getItemStyle()),w.style.fill){case"source":w.style.fill=x.node1.getVisual("color"),w.style.decal=x.node1.getVisual("style").decal;break;case"target":w.style.fill=x.node2.getVisual("color"),w.style.decal=x.node2.getVisual("style").decal;break;case"gradient":var ae=x.node1.getVisual("color"),X=x.node2.getVisual("color");isString2(ae)&&isString2(X)&&(w.style.fill=new LinearGradient_default(0,0,+(_==="horizontal"),+(_==="vertical"),[{color:ae,offset:0},{color:X,offset:1}]))}var J=S.getModel("emphasis");setStatesStylesFromModel(w,S,"lineStyle",function(ge){return ge.getItemStyle()}),f.add(w),b.setItemGraphicEl(x.dataIndex,w);var fe=J.get("focus");toggleHoverEmphasis(w,fe==="adjacency"?x.getAdjacentDataIndices():fe,J.get("blurScope"),J.get("disabled")),getECData(w).dataType="edge"}),u.eachNode(function(x){var w=x.getLayout(),C=x.getModel(),S=C.get("localX"),D=C.get("localY"),A=C.getModel("emphasis"),T=new Rect_default({shape:{x:S!=null?S*v:w.x,y:D!=null?D*g:w.y,width:w.dx,height:w.dy},style:C.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(T,getLabelStatesModels(C),{labelFetcher:a,labelDataIndex:x.dataIndex,defaultText:x.id}),T.disableLabelAnimation=!0,T.setStyle("fill",x.getVisual("color")),T.setStyle("decal",x.getVisual("style").decal),setStatesStylesFromModel(T,C),f.add(T),y.setItemGraphicEl(x.dataIndex,T),getECData(T).dataType="node";var P=A.get("focus");toggleHoverEmphasis(T,P==="adjacency"?x.getAdjacentDataIndices():P,A.get("blurScope"),A.get("disabled"))}),y.eachItemGraphicEl(function(x,w){var C=y.getItemModel(w);C.get("draggable")&&(x.drift=function(S,D){l._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=D,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:y.getRawIndex(w),localX:this.shape.x/v,localY:this.shape.y/g})},x.ondragend=function(){l._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&a.isAnimationEnabled()&&f.setClipPath(createGridClipShape2(f.getBoundingRect(),a,function(){f.removeClipPath()})),this._data=a.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(Chart_default);function createGridClipShape2(r,n,a){var o=new Rect_default({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps2(o,{shape:{width:r.width+20}},n,a),o}var SankeySeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){var s=a.edges||a.links,l=a.data||a.nodes,u=a.levels;this.levelModels=[];for(var f=this.levelModels,d=0;d<u.length;d++)if(u[d].depth!=null&&u[d].depth>=0)f[u[d].depth]=new Model_default(u[d],this,o);else throw new Error("levels[i].depth is mandatory and should be natural number");if(l&&s){var v=createGraphFromNodeEdge(l,s,this,!0,g);return v.data}function g(y,b){y.wrapMethod("getItemModel",function(_,x){var w=_.parentModel,C=w.getData().getItemLayout(x);if(C){var S=C.depth,D=w.levelModels[S];D&&(_.parentModel=D)}return _}),b.wrapMethod("getItemModel",function(_,x){var w=_.parentModel,C=w.getGraph().getEdgeByIndex(x),S=C.node1.getLayout();if(S){var D=S.depth,A=w.levelModels[D];A&&(_.parentModel=A)}return _})}},n.prototype.setNodePosition=function(a,o){var s=this.option.data||this.option.nodes,l=s[a];l.localX=o[0],l.localY=o[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(a,o,s){function l(_){return isNaN(_)||_==null}if(s==="edge"){var u=this.getDataParams(a,s),f=u.data,d=u.value,v=f.source+" -- "+f.target;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:l(d)})}else{var g=this.getGraph().getNodeByIndex(a),y=g.getLayout().value,b=this.getDataParams(a,s).data.name;return createTooltipMarkup("nameValue",{name:b!=null?b+"":null,value:y,noValue:l(y)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(a,o){var s=r.prototype.getDataParams.call(this,a,o);if(s.value==null&&o==="node"){var l=this.getGraph().getNodeByIndex(a),u=l.getLayout().value;s.value=u}return s},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(Series_default),WhiskerBoxCommonMixin=function(){function r(){}return r.prototype.getInitialData=function(n,a){var o,s=a.getComponent("xAxis",this.get("xAxisIndex")),l=a.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),f=l.get("type"),d;u==="category"?(n.layout="horizontal",o=s.getOrdinalMeta(),d=!0):f==="category"?(n.layout="vertical",o=l.getOrdinalMeta(),d=!0):n.layout=n.layout||"horizontal";var v=["x","y"],g=n.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],b=v[1-g],_=[s,l],x=_[g].get("type"),w=_[1-g].get("type"),C=n.data;if(C&&d){var S=[];each(C,function(T,P){var E;isArray3(T)?(E=T.slice(),T.unshift(P)):isArray3(T.value)?(E=extend2({},T),E.value=E.value.slice(),T.value.unshift(P)):E=T,S.push(E)}),n.data=S}var D=this.defaultValueDimensions,A=[{name:y,type:getDimensionTypeByAxis(x),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:b,type:getDimensionTypeByAxis(w),dimsDef:D.slice()}];return createSeriesDataSimply(this,{coordDimensions:A,dimensionsCount:D.length+1,encodeDefaulter:curry(makeSeriesEncodeForAxisCoordSys,A,this)})},r.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},r}(),BoxplotSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(Series_default);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),u=this.group,f=this._data;this._data||u.removeAll();var d=a.get("layout")==="horizontal"?1:0;l.diff(f).add(function(v){if(l.hasValue(v)){var g=l.getItemLayout(v),y=createNormalBox(g,l,v,d,!0);l.setItemGraphicEl(v,y),u.add(y)}}).update(function(v,g){var y=f.getItemGraphicEl(g);if(!l.hasValue(v)){u.remove(y);return}var b=l.getItemLayout(v);y?(saveOldStyle(y),updateNormalBoxData(b,y,l,v)):y=createNormalBox(b,l,v,d),u.add(y),l.setItemGraphicEl(v,y)}).remove(function(v){var g=f.getItemGraphicEl(v);g&&u.remove(g)}).execute(),this._data=l},n.prototype.remove=function(a){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(l){l&&o.remove(l)})},n.type="boxplot",n}(Chart_default),BoxPathShape=function(){function r(){}return r}(),BoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="boxplotBoxPath",o}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(a,o){var s=o.points,l=0;for(a.moveTo(s[l][0],s[l][1]),l++;l<4;l++)a.lineTo(s[l][0],s[l][1]);for(a.closePath();l<s.length;l++)a.moveTo(s[l][0],s[l][1]),l++,a.lineTo(s[l][0],s[l][1])},n}(Path_default);function createNormalBox(r,n,a,o,s){var l=r.ends,u=new BoxPath({shape:{points:s?transInit(l,o,r):l}});return updateNormalBoxData(r,u,n,a,s),u}function updateNormalBoxData(r,n,a,o,s){var l=a.hostModel,u=graphic_exports[s?"initProps":"updateProps"];u(n,{shape:{points:r.ends}},l,o),n.useStyle(a.getItemVisual(o,"style")),n.style.strokeNoScale=!0,n.z2=100;var f=a.getItemModel(o),d=f.getModel("emphasis");setStatesStylesFromModel(n,f),toggleHoverEmphasis(n,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function transInit(r,n,a){return map3(r,function(o){return o=o.slice(),o[n]=a.initBaseline,o})}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},n.prototype.incrementalPrepareRender=function(a,o,s){this._clear(),this._updateDrawMode(a)},n.prototype.incrementalRender=function(a,o,s,l){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,o):this._incrementalRenderNormal(a,o)},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(a){var o=a.getData(),s=this._data,l=this.group,u=o.getLayout("isSimpleBox"),f=a.get("clip",!0),d=a.coordinateSystem,v=d.getArea&&d.getArea();this._data||l.removeAll(),o.diff(s).add(function(g){if(o.hasValue(g)){var y=o.getItemLayout(g);if(f&&isNormalBoxClipped(v,y))return;var b=createNormalBox2(y,g,!0);initProps2(b,{shape:{points:y.ends}},a,g),setBoxCommon(b,o,g,u),l.add(b),o.setItemGraphicEl(g,b)}}).update(function(g,y){var b=s.getItemGraphicEl(y);if(!o.hasValue(g)){l.remove(b);return}var _=o.getItemLayout(g);if(f&&isNormalBoxClipped(v,_)){l.remove(b);return}b?(updateProps2(b,{shape:{points:_.ends}},a,g),saveOldStyle(b)):b=createNormalBox2(_,g),setBoxCommon(b,o,g,u),l.add(b),o.setItemGraphicEl(g,b)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&l.remove(y)}).execute(),this._data=o},n.prototype._renderLarge=function(a){this._clear(),createLarge2(a,this.group);var o=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;o?this.group.setClipPath(o):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(a,o){for(var s=o.getData(),l=s.getLayout("isSimpleBox"),u;(u=a.next())!=null;){var f=s.getItemLayout(u),d=createNormalBox2(f,u);setBoxCommon(d,s,u,l),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},n.prototype._incrementalRenderLarge=function(a,o){createLarge2(o,this.group,this._progressiveEls,!0)},n.prototype.remove=function(a){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(Chart_default),NormalBoxPathShape=function(){function r(){}return r}(),NormalBoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="normalCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(a,o){var s=o.points;this.__simpleBox?(a.moveTo(s[4][0],s[4][1]),a.lineTo(s[6][0],s[6][1])):(a.moveTo(s[0][0],s[0][1]),a.lineTo(s[1][0],s[1][1]),a.lineTo(s[2][0],s[2][1]),a.lineTo(s[3][0],s[3][1]),a.closePath(),a.moveTo(s[4][0],s[4][1]),a.lineTo(s[5][0],s[5][1]),a.moveTo(s[6][0],s[6][1]),a.lineTo(s[7][0],s[7][1]))},n}(Path_default);function createNormalBox2(r,n,a){var o=r.ends;return new NormalBoxPath({shape:{points:a?transInit2(o,r):o},z2:100})}function isNormalBoxClipped(r,n){for(var a=!0,o=0;o<n.ends.length;o++)if(r.contain(n.ends[o][0],n.ends[o][1])){a=!1;break}return a}function setBoxCommon(r,n,a,o){var s=n.getItemModel(a);r.useStyle(n.getItemVisual(a,"style")),r.style.strokeNoScale=!0,r.__simpleBox=o,setStatesStylesFromModel(r,s)}function transInit2(r,n){return map3(r,function(a){return a=a.slice(),a[1]=n.initBaseline,a})}var LargeBoxPathShape=function(){function r(){}return r}(),LargeBoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="largeCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(a,o){for(var s=o.points,l=0;l<s.length;)if(this.__sign===s[l++]){var u=s[l++];a.moveTo(u,s[l++]),a.lineTo(u,s[l++])}else l+=3},n}(Path_default);function createLarge2(r,n,a,o){var s=r.getData(),l=s.getLayout("largePoints"),u=new LargeBoxPath({shape:{points:l},__sign:1});n.add(u);var f=new LargeBoxPath({shape:{points:l},__sign:-1});n.add(f),setLargeStyle(1,u,r,s),setLargeStyle(-1,f,r,s),o&&(u.incremental=!0,f.incremental=!0),a&&a.push(u,f)}function setLargeStyle(r,n,a,o){var s=a.get(["itemStyle",r>0?"borderColor":"borderColor0"])||a.get(["itemStyle",r>0?"color":"color0"]),l=a.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(l),n.style.fill=null,n.style.stroke=s}var CandlestickSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(a,o,s){var l=o.getItemLayout(a);return l&&s.rect(l.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(Series_default);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(r,n){function a(l,u){return u.get(l>0?positiveColorQuery:negativeColorQuery)}function o(l,u){return u.get(l>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!n.isSeriesFiltered(r)){var s=r.pipelineContext.large;return!s&&{progress:function(l,u){for(var f;(f=l.next())!=null;){var d=u.getItemModel(f),v=u.getItemLayout(f).sign,g=d.getItemStyle();g.fill=a(v,d),g.stroke=o(v,d)||g.fill;var y=u.ensureUniqueItemVisual(f,"style");extend2(y,g)}}}}}},candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem,a=r.getData(),o=calculateCandleWidth(r,a),s=0,l=1,u=["x","y"],f=a.getDimensionIndex(a.mapDimension(u[s])),d=map3(a.mapDimensionsAll(u[l]),a.getDimensionIndex,a),v=d[0],g=d[1],y=d[2],b=d[3];if(a.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),f<0||d.length<4)return;return{progress:r.pipelineContext.large?x:_};function _(w,C){for(var S,D=C.getStore();(S=w.next())!=null;){var A=D.get(f,S),T=D.get(v,S),P=D.get(g,S),E=D.get(y,S),M=D.get(b,S),L=Math.min(T,P),F=Math.max(T,P),I=N(L,A),B=N(F,A),O=N(E,A),R=N(M,A),z=[];V(z,B,0),V(z,I,1),z.push(H(R),H(B),H(O),H(I)),C.setItemLayout(S,{sign:getSign(D,S,T,P,g),initBaseline:T>P?B[l]:I[l],ends:z,brushRect:W(E,M,A)})}function N($,Y){var ae=[];return ae[s]=Y,ae[l]=$,isNaN(Y)||isNaN($)?[NaN,NaN]:n.dataToPoint(ae)}function V($,Y,ae){var X=Y.slice(),J=Y.slice();X[s]=subPixelOptimize2(X[s]+o/2,1,!1),J[s]=subPixelOptimize2(J[s]-o/2,1,!0),ae?$.push(X,J):$.push(J,X)}function W($,Y,ae){var X=N($,ae),J=N(Y,ae);return X[s]-=o/2,J[s]-=o/2,{x:X[0],y:X[1],width:l?o:J[0]-X[0],height:l?J[1]-X[1]:o}}function H($){return $[s]=subPixelOptimize2($[s],1),$}}function x(w,C){for(var S=createFloat32Array(w.count*4),D=0,A,T=[],P=[],E,M=C.getStore();(E=w.next())!=null;){var L=M.get(f,E),F=M.get(v,E),I=M.get(g,E),B=M.get(y,E),O=M.get(b,E);if(isNaN(L)||isNaN(B)||isNaN(O)){S[D++]=NaN,D+=3;continue}S[D++]=getSign(M,E,F,I,g),T[s]=L,T[l]=B,A=n.dataToPoint(T,null,P),S[D++]=A?A[0]:NaN,S[D++]=A?A[1]:NaN,T[l]=O,A=n.dataToPoint(T,null,P),S[D++]=A?A[1]:NaN}C.setLayout("largePoints",S)}}};function getSign(r,n,a,o,s){var l;return a>o?l=-1:a<o?l=1:l=n>0?r.get(s,n-1)<=o?1:-1:1,l}function calculateCandleWidth(r,n){var a=r.getBaseAxis(),o,s=a.type==="category"?a.getBandWidth():(o=a.getExtent(),Math.abs(o[1]-o[0])/n.count()),l=parsePercent2(retrieve2(r.get("barMaxWidth"),s),s),u=parsePercent2(retrieve2(r.get("barMinWidth"),1),s),f=r.get("barWidth");return f!=null?parsePercent2(f,s):Math.max(Math.min(s/2,l),u)}function updateRipplePath(r,n){var a=n.rippleEffectColor||n.color;r.eachChild(function(o){o.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?a:null,fill:n.brushType==="fill"?a:null}})})}var EffectSymbol=function(r){__extends(n,r);function n(a,o){var s=r.call(this)||this,l=new Symbol_default2(a,o),u=new Group_default;return s.add(l),s.add(u),s.updateData(a,o),s}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(a){for(var o=a.symbolType,s=a.color,l=a.rippleNumber,u=this.childAt(1),f=0;f<l;f++){var d=createSymbol(o,-1,-1,2,2,s);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-f/l*a.period+a.effectOffset;d.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(v).start(),d.animateStyle(!0).when(a.period,{opacity:0}).delay(v).start(),u.add(d)}updateRipplePath(u,a)},n.prototype.updateEffectAnimation=function(a){for(var o=this._effectCfg,s=this.childAt(1),l=["symbolType","period","rippleScale","rippleNumber"],u=0;u<l.length;u++){var f=l[u];if(o[f]!==a[f]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}updateRipplePath(s,a)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},n.prototype.updateData=function(a,o){var s=this,l=a.hostModel;this.childAt(0).updateData(a,o);var u=this.childAt(1),f=a.getItemModel(o),d=a.getItemVisual(o,"symbol"),v=normalizeSymbolSize(a.getItemVisual(o,"symbolSize")),g=a.getItemVisual(o,"style"),y=g&&g.fill,b=f.getModel("emphasis");u.setScale(v),u.traverse(function(C){C.setStyle("fill",y)});var _=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),v);_&&(u.x=_[0],u.y=_[1]);var x=a.getItemVisual(o,"symbolRotate");u.rotation=(x||0)*Math.PI/180||0;var w={};w.showEffectOn=l.get("showEffectOn"),w.rippleScale=f.get(["rippleEffect","scale"]),w.brushType=f.get(["rippleEffect","brushType"]),w.period=f.get(["rippleEffect","period"])*1e3,w.effectOffset=o/a.count(),w.z=l.getShallow("z")||0,w.zlevel=l.getShallow("zlevel")||0,w.symbolType=d,w.color=y,w.rippleEffectColor=f.get(["rippleEffect","color"]),w.rippleNumber=f.get(["rippleEffect","number"]),w.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(w):this.startEffectAnimation(w),this._effectCfg=w):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(C){C==="emphasis"?w.showEffectOn!=="render"&&s.startEffectAnimation(w):C==="normal"&&w.showEffectOn!=="render"&&s.stopEffectAnimation()}),this._effectCfg=w,toggleHoverEmphasis(this,b.get("focus"),b.get("blurScope"),b.get("disabled"))},n.prototype.fadeOut=function(a){a&&a()},n}(Group_default),EffectSymbol_default=EffectSymbol,EffectScatterView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw_default(EffectSymbol_default)},n.prototype.render=function(a,o,s){var l=a.getData(),u=this._symbolDraw;u.updateData(l,{clipShape:this._getClipShape(a)}),this.group.add(u.group)},n.prototype._getClipShape=function(a){var o=a.coordinateSystem,s=o&&o.getArea&&o.getArea();return a.get("clip",!0)?s:null},n.prototype.updateTransform=function(a,o,s){var l=a.getData();this.group.dirty();var u=pointsLayout("").reset(a,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(a){var o=a.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=clone3(o.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(Chart_default),EffectScatterSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(Series_default),EffectLine=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l.add(l.createLine(a,o,s)),l._updateEffectSymbol(a,o),l}return n.prototype.createLine=function(a,o,s){return new Line_default2(a,o,s)},n.prototype._updateEffectSymbol=function(a,o){var s=a.getItemModel(o),l=s.getModel("effect"),u=l.get("symbolSize"),f=l.get("symbol");isArray3(u)||(u=[u,u]);var d=a.getItemVisual(o,"style"),v=l.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==f&&(this.remove(g),g=createSymbol(f,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),!!g&&(g.setStyle("shadowColor",v),g.setStyle(l.getItemStyle(["color"])),g.scaleX=u[0],g.scaleY=u[1],g.setColor(v),this._symbolType=f,this._symbolScale=u,this._updateEffectAnimation(a,l,o))},n.prototype._updateEffectAnimation=function(a,o,s){var l=this.childAt(1);if(!!l){var u=a.getItemLayout(s),f=o.get("period")*1e3,d=o.get("loop"),v=o.get("constantSpeed"),g=retrieve(o.get("delay"),function(b){return b/a.count()*f/3});if(l.ignore=!0,this._updateAnimationPoints(l,u),v>0&&(f=this._getLineLength(l)/v*1e3),f!==this._period||d!==this._loop){l.stopAnimation();var y=void 0;isFunction3(g)?y=g(s):y=g,l.__t>0&&(y=-f*l.__t),this._animateSymbol(l,f,y,d)}this._period=f,this._loop=d}},n.prototype._animateSymbol=function(a,o,s,l){if(o>0){a.__t=0;var u=this,f=a.animate("",l).when(o,{__t:1}).delay(s).during(function(){u._updateSymbolPosition(a)});l||f.done(function(){u.remove(a)}),f.start()}},n.prototype._getLineLength=function(a){return dist(a.__p1,a.__cp1)+dist(a.__cp1,a.__p2)},n.prototype._updateAnimationPoints=function(a,o){a.__p1=o[0],a.__p2=o[1],a.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},n.prototype.updateData=function(a,o,s){this.childAt(0).updateData(a,o,s),this._updateEffectSymbol(a,o)},n.prototype._updateSymbolPosition=function(a){var o=a.__p1,s=a.__p2,l=a.__cp1,u=a.__t,f=[a.x,a.y],d=f.slice(),v=quadraticAt,g=quadraticDerivativeAt;f[0]=v(o[0],l[0],s[0],u),f[1]=v(o[1],l[1],s[1],u);var y=g(o[0],l[0],s[0],u),b=g(o[1],l[1],s[1],u);a.rotation=-Math.atan2(b,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(a.__lastT!==void 0&&a.__lastT<a.__t?(a.scaleY=dist(d,f)*1.05,u===1&&(f[0]=d[0]+(f[0]-d[0])/2,f[1]=d[1]+(f[1]-d[1])/2)):a.__lastT===1?a.scaleY=2*dist(o,f):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=f[0],a.y=f[1]},n.prototype.updateLayout=function(a,o){this.childAt(0).updateLayout(a,o);var s=a.getItemModel(o).getModel("effect");this._updateEffectAnimation(a,s,o)},n}(Group_default),EffectLine_default=EffectLine,Polyline2=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l._createPolyline(a,o,s),l}return n.prototype._createPolyline=function(a,o,s){var l=a.getItemLayout(o),u=new Polyline_default({shape:{points:l}});this.add(u),this._updateCommonStl(a,o,s)},n.prototype.updateData=function(a,o,s){var l=a.hostModel,u=this.childAt(0),f={shape:{points:a.getItemLayout(o)}};updateProps2(u,f,l,o),this._updateCommonStl(a,o,s)},n.prototype._updateCommonStl=function(a,o,s){var l=this.childAt(0),u=a.getItemModel(o),f=s&&s.emphasisLineStyle,d=s&&s.focus,v=s&&s.blurScope,g=s&&s.emphasisDisabled;if(!s||a.hasItemOption){var y=u.getModel("emphasis");f=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),d=y.get("focus"),v=y.get("blurScope")}l.useStyle(a.getItemVisual(o,"style")),l.style.fill=null,l.style.strokeNoScale=!0;var b=l.ensureState("emphasis");b.style=f,toggleHoverEmphasis(this,d,v,g)},n.prototype.updateLayout=function(a,o){var s=this.childAt(0);s.setShape("points",a.getItemLayout(o))},n}(Group_default),Polyline_default2=Polyline2,EffectPolyline=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a._lastFrame=0,a._lastFramePercent=0,a}return n.prototype.createLine=function(a,o,s){return new Polyline_default2(a,o,s)},n.prototype._updateAnimationPoints=function(a,o){this._points=o;for(var s=[0],l=0,u=1;u<o.length;u++){var f=o[u-1],d=o[u];l+=dist(f,d),s.push(l)}if(l===0){this._length=0;return}for(var u=0;u<s.length;u++)s[u]/=l;this._offsets=s,this._length=l},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(a){var o=a.__t,s=this._points,l=this._offsets,u=s.length;if(!!l){var f=this._lastFrame,d;if(o<this._lastFramePercent){var v=Math.min(f+1,u-1);for(d=v;d>=0&&!(l[d]<=o);d--);d=Math.min(d,u-2)}else{for(d=f;d<u&&!(l[d]>o);d++);d=Math.min(d-1,u-2)}var g=(o-l[d])/(l[d+1]-l[d]),y=s[d],b=s[d+1];a.x=y[0]*(1-g)+g*b[0],a.y=y[1]*(1-g)+g*b[1];var _=b[0]-y[0],x=b[1]-y[1];a.rotation=-Math.atan2(x,_)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,a.ignore=!1}},n}(EffectLine_default),EffectPolyline_default=EffectPolyline,LargeLinesPathShape=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),LargeLinesPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(a,o){var s=o.segs,l=o.curveness,u;if(o.polyline)for(u=this._off;u<s.length;){var f=s[u++];if(f>0){a.moveTo(s[u++],s[u++]);for(var d=1;d<f;d++)a.lineTo(s[u++],s[u++])}}else for(u=this._off;u<s.length;){var v=s[u++],g=s[u++],y=s[u++],b=s[u++];if(a.moveTo(v,g),l>0){var _=(v+y)/2-(g-b)*l,x=(g+b)/2-(y-v)*l;a.quadraticCurveTo(_,x,y,b)}else a.lineTo(y,b)}this.incremental&&(this._off=u,this.notClear=!0)},n.prototype.findDataIndex=function(a,o){var s=this.shape,l=s.segs,u=s.curveness,f=this.style.lineWidth;if(s.polyline)for(var d=0,v=0;v<l.length;){var g=l[v++];if(g>0)for(var y=l[v++],b=l[v++],_=1;_<g;_++){var x=l[v++],w=l[v++];if(containStroke(y,b,x,w,f,a,o))return d}d++}else for(var d=0,v=0;v<l.length;){var y=l[v++],b=l[v++],x=l[v++],w=l[v++];if(u>0){var C=(y+x)/2-(b-w)*u,S=(b+w)/2-(x-y)*u;if(containStroke3(y,b,C,S,x,w,f,a,o))return d}else if(containStroke(y,b,x,w,f,a,o))return d;d++}return-1},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var u=this.hoverDataIdx=this.findDataIndex(a,o);return u>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.segs,l=1/0,u=1/0,f=-1/0,d=-1/0,v=0;v<s.length;){var g=s[v++],y=s[v++];l=Math.min(g,l),f=Math.max(g,f),u=Math.min(y,u),d=Math.max(y,d)}a=this._rect=new BoundingRect_default(l,u,f,d)}return a},n}(Path_default),LargeLineDraw=function(){function r(){this.group=new Group_default}return r.prototype.updateData=function(n){this._clear();var a=this._create();a.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(a,n)},r.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(n,a){var o=this._newAdded[0],s=a.getLayout("linesPoints"),l=o&&o.shape.segs;if(l&&l.length<2e4){var u=l.length,f=new Float32Array(u+s.length);f.set(l),f.set(s,u),o.setShape({segs:f})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:s}),this._setCommon(d,a),d.__startIndex=n.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeLinesPath({cursor:"default"});return this._newAdded.push(n),this.group.add(n),n},r.prototype._setCommon=function(n,a,o){var s=a.hostModel;n.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),n.useStyle(s.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var l=a.getVisual("style");l&&l.stroke&&n.setStyle("stroke",l.stroke),n.setStyle("fill",null);var u=getECData(n);u.seriesIndex=s.seriesIndex,n.on("mousemove",function(f){u.dataIndex=null;var d=n.hoverDataIdx;d>0&&(u.dataIndex=d+n.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),LargeLineDraw_default=LargeLineDraw,linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem;if(!n){error("The lines series must have a coordinate system.");return}var a=r.get("polyline"),o=r.pipelineContext.large;return{progress:function(s,l){var u=[];if(o){var f=void 0,d=s.end-s.start;if(a){for(var v=0,g=s.start;g<s.end;g++)v+=r.getLineCoordsCount(g);f=new Float32Array(d+v*2)}else f=new Float32Array(d*4);for(var y=0,b=[],g=s.start;g<s.end;g++){var _=r.getLineCoords(g,u);a&&(f[y++]=_);for(var x=0;x<_;x++)b=n.dataToPoint(u[x],!1,b),f[y++]=b[0],f[y++]=b[1]}l.setLayout("linesPoints",f)}else for(var g=s.start;g<s.end;g++){var w=l.getItemModel(g),_=r.getLineCoords(g,u),C=[];if(a)for(var S=0;S<_;S++)C.push(n.dataToPoint(u[S]));else{C[0]=n.dataToPoint(u[0]),C[1]=n.dataToPoint(u[1]);var D=w.get(["lineStyle","curveness"]);+D&&(C[2]=[(C[0][0]+C[1][0])/2-(C[0][1]-C[1][1])*D,(C[0][1]+C[1][1])/2-(C[1][0]-C[0][0])*D])}l.setItemLayout(g,C)}}}}},linesLayout_default=linesLayout,LinesView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),u=this._updateLineDraw(l,a),f=a.get("zlevel"),d=a.get(["effect","trailLength"]),v=s.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(f).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&d>0&&(g?console.warn("SVG render mode doesn't support lines with trail effect"):v.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),u.updateData(l);var y=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},n.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),u=this._updateLineDraw(l,a);u.incrementalPrepareUpdate(l),this._clearLayer(s),this._finished=!1},n.prototype.incrementalRender=function(a,o,s){this._lineDraw.incrementalUpdate(a,o.getData()),this._finished=a.end===o.getData().count()},n.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},n.prototype.updateTransform=function(a,o,s){var l=a.getData(),u=a.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var f=linesLayout_default.reset(a,o,s);f.progress&&f.progress({start:0,end:l.count(),count:l.count()},l),this._lineDraw.updateLayout(),this._clearLayer(s)},n.prototype._updateLineDraw=function(a,o){var s=this._lineDraw,l=this._showEffect(o),u=!!o.get("polyline"),f=o.pipelineContext,d=f.large;return l&&d&&console.warn("Large lines not support effect"),(!s||l!==this._hasEffet||u!==this._isPolyline||d!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=d?new LargeLineDraw_default:new LineDraw_default(u?l?EffectPolyline_default:Polyline_default2:l?EffectLine_default:Line_default2),this._hasEffet=l,this._isPolyline=u,this._isLargeDraw=d),this.group.add(s.group),s},n.prototype._showEffect=function(a){return!!a.get(["effect","show"])},n.prototype._clearLayer=function(a){var o=a.getZr(),s=o.painter.getType()==="svg";!s&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(a,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},n.prototype.dispose=function(a,o){this.remove(a,o)},n.type="lines",n}(Chart_default),Uint32Arr=typeof Uint32Array=="undefined"?Array:Uint32Array,Float64Arr=typeof Float64Array=="undefined"?Array:Float64Array;function compatEc2(r){var n=r.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),r.data=map3(n,function(a){var o=[a[0].coord,a[1].coord],s={coords:o};return a[0].name&&(s.fromName=a[0].name),a[1].name&&(s.toName=a[1].name),mergeAll([s,a[0],a[1]])}))}var LinesSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return n.prototype.init=function(a){a.data=a.data||[],compatEc2(a);var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count)),r.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(a){if(compatEc2(a),a.data){var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count))}r.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(a){var o=this._processFlatCoordsArray(a.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,o.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),a.data=new Float32Array(o.count)),this.getRawData().appendData(a.data)},n.prototype._getCoordsFromItemModel=function(a){var o=this.getData().getItemModel(a),s=o.option instanceof Array?o.option:o.getShallow("coords");if(!(s instanceof Array&&s.length>0&&s[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(s)+". Lines must have 2d coords array in data item.");return s},n.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[a*2+1]:this._getCoordsFromItemModel(a).length},n.prototype.getLineCoords=function(a,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[a*2],l=this._flatCoordsOffset[a*2+1],u=0;u<l;u++)o[u]=o[u]||[],o[u][0]=this._flatCoords[s+u*2],o[u][1]=this._flatCoords[s+u*2+1];return l}else{for(var f=this._getCoordsFromItemModel(a),u=0;u<f.length;u++)o[u]=o[u]||[],o[u][0]=f[u][0],o[u][1]=f[u][1];return f.length}},n.prototype._processFlatCoordsArray=function(a){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),isNumber(a[0])){for(var s=a.length,l=new Uint32Arr(s),u=new Float64Arr(s),f=0,d=0,v=0,g=0;g<s;){v++;var y=a[g++];l[d++]=f+o,l[d++]=y;for(var b=0;b<y;b++){var _=a[g++],x=a[g++];if(u[f++]=_,u[f++]=x,g>s)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(l.buffer,0,d),flatCoords:u,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},n.prototype.getInitialData=function(a,o){var s=CoordinateSystem_default.get(a.coordinateSystem);if(!s)throw new Error("Unkown coordinate system "+a.coordinateSystem);var l=new SeriesData_default(["value"],this);return l.hasItemOption=!1,l.initData(a.data,[],function(u,f,d,v){if(u instanceof Array)return NaN;l.hasItemOption=!0;var g=u.value;if(g!=null)return g instanceof Array?g[v]:g}),l},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=l.getItemModel(a),f=u.get("name");if(f)return f;var d=u.get("fromName"),v=u.get("toName"),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var a=this.option.progressive;return a==null?this.option.large?1e4:this.get("progressive"):a},n.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?2e4:this.get("progressiveThreshold"):a},n.prototype.getZLevelKey=function(){var a=this.getModel("effect"),o=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&o>0?o+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(Series_default),GRADIENT_LEVELS=256,HeatmapLayer=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return r.prototype.update=function(n,a,o,s,l,u){var f=this._getBrush(),d=this._getGradient(l,"inRange"),v=this._getGradient(l,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,b=y.getContext("2d"),_=n.length;y.width=a,y.height=o;for(var x=0;x<_;++x){var w=n[x],C=w[0],S=w[1],D=w[2],A=s(D);b.globalAlpha=A,b.drawImage(f,C-g,S-g)}if(!y.width||!y.height)return y;for(var T=b.getImageData(0,0,y.width,y.height),P=T.data,E=0,M=P.length,L=this.minOpacity,F=this.maxOpacity,I=F-L;E<M;){var A=P[E+3]/256,B=Math.floor(A*(GRADIENT_LEVELS-1))*4;if(A>0){var O=u(A)?d:v;A>0&&(A=A*I+L),P[E++]=O[B],P[E++]=O[B+1],P[E++]=O[B+2],P[E++]=O[B+3]*A*256}else E+=4}return b.putImageData(T,0,0),y},r.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),a=this.pointSize+this.blurSize,o=a*2;n.width=o,n.height=o;var s=n.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-a,a,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),n},r.prototype._getGradient=function(n,a){for(var o=this._gradientPixels,s=o[a]||(o[a]=new Uint8ClampedArray(256*4)),l=[0,0,0,0],u=0,f=0;f<256;f++)n[a](f/255,!0,l),s[u++]=l[0],s[u++]=l[1],s[u++]=l[2],s[u++]=l[3];return s},r}(),HeatmapLayer_default=HeatmapLayer;function getIsInPiecewiseRange(r,n,a){var o=r[1]-r[0];n=map3(n,function(u){return{interval:[(u.interval[0]-r[0])/o,(u.interval[1]-r[0])/o]}});var s=n.length,l=0;return function(u){var f;for(f=l;f<s;f++){var d=n[f].interval;if(d[0]<=u&&u<=d[1]){l=f;break}}if(f===s)for(f=l-1;f>=0;f--){var d=n[f].interval;if(d[0]<=u&&u<=d[1]){l=f;break}}return f>=0&&f<s&&a[f]}}function getIsInContinuousRange(r,n){var a=r[1]-r[0];return n=[(n[0]-r[0])/a,(n[1]-r[0])/a],function(o){return o>=n[0]&&o<=n[1]}}function isGeoCoordSys(r){var n=r.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l;if(o.eachComponent("visualMap",function(f){f.eachTargetSeries(function(d){d===a&&(l=f)})}),!l)throw new Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var u=a.coordinateSystem;u.type==="cartesian2d"||u.type==="calendar"?this._renderOnCartesianAndCalendar(a,s,0,a.getData().count()):isGeoCoordSys(u)&&this._renderOnGeo(u,a,l,s)},n.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll()},n.prototype.incrementalRender=function(a,o,s,l){var u=o.coordinateSystem;u&&(isGeoCoordSys(u)?this.render(o,s,l):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,l,a.start,a.end,!0)))},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._renderOnCartesianAndCalendar=function(a,o,s,l,u){var f=a.coordinateSystem,d=isCoordinateSystemType(f,"cartesian2d"),v,g,y,b;if(d){var _=f.getAxis("x"),x=f.getAxis("y");if(!(_.type==="category"&&x.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(_.onBand&&x.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");v=_.getBandWidth()+.5,g=x.getBandWidth()+.5,y=_.scale.getExtent(),b=x.scale.getExtent()}for(var w=this.group,C=a.getData(),S=a.getModel(["emphasis","itemStyle"]).getItemStyle(),D=a.getModel(["blur","itemStyle"]).getItemStyle(),A=a.getModel(["select","itemStyle"]).getItemStyle(),T=a.get(["itemStyle","borderRadius"]),P=getLabelStatesModels(a),E=a.getModel("emphasis"),M=E.get("focus"),L=E.get("blurScope"),F=E.get("disabled"),I=d?[C.mapDimension("x"),C.mapDimension("y"),C.mapDimension("value")]:[C.mapDimension("time"),C.mapDimension("value")],B=s;B<l;B++){var O=void 0,R=C.getItemVisual(B,"style");if(d){var z=C.get(I[0],B),N=C.get(I[1],B);if(isNaN(C.get(I[2],B))||z<y[0]||z>y[1]||N<b[0]||N>b[1])continue;var V=f.dataToPoint([z,N]);O=new Rect_default({shape:{x:V[0]-v/2,y:V[1]-g/2,width:v,height:g},style:R})}else{if(isNaN(C.get(I[1],B)))continue;O=new Rect_default({z2:1,shape:f.dataToRect([C.get(I[0],B)]).contentShape,style:R})}if(C.hasItemOption){var W=C.getItemModel(B),H=W.getModel("emphasis");S=H.getModel("itemStyle").getItemStyle(),D=W.getModel(["blur","itemStyle"]).getItemStyle(),A=W.getModel(["select","itemStyle"]).getItemStyle(),T=W.get(["itemStyle","borderRadius"]),M=H.get("focus"),L=H.get("blurScope"),F=H.get("disabled"),P=getLabelStatesModels(W)}O.shape.r=T;var $=a.getRawValue(B),Y="-";$&&$[2]!=null&&(Y=$[2]+""),setLabelStyle(O,P,{labelFetcher:a,labelDataIndex:B,defaultOpacity:R.opacity,defaultText:Y}),O.ensureState("emphasis").style=S,O.ensureState("blur").style=D,O.ensureState("select").style=A,toggleHoverEmphasis(O,M,L,F),O.incremental=u,u&&(O.states.emphasis.hoverLayer=!0),w.add(O),C.setItemGraphicEl(B,O),this._progressiveEls&&this._progressiveEls.push(O)}},n.prototype._renderOnGeo=function(a,o,s,l){var u=s.targetVisuals.inRange,f=s.targetVisuals.outOfRange,d=o.getData(),v=this._hmLayer||this._hmLayer||new HeatmapLayer_default;v.blurSize=o.get("blurSize"),v.pointSize=o.get("pointSize"),v.minOpacity=o.get("minOpacity"),v.maxOpacity=o.get("maxOpacity");var g=a.getViewRect().clone(),y=a.getRoamTransform();g.applyTransform(y);var b=Math.max(g.x,0),_=Math.max(g.y,0),x=Math.min(g.width+g.x,l.getWidth()),w=Math.min(g.height+g.y,l.getHeight()),C=x-b,S=w-_,D=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],A=d.mapArray(D,function(M,L,F){var I=a.dataToPoint([M,L]);return I[0]-=b,I[1]-=_,I.push(F),I}),T=s.getExtent(),P=s.type==="visualMap.continuous"?getIsInContinuousRange(T,s.option.range):getIsInPiecewiseRange(T,s.getPieceList(),s.option.selected);v.update(A,C,S,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:f.color.getColorMapper()},P);var E=new Image_default({style:{width:C,height:S,x:b,y:_,image:v.canvas},silent:!0});this.group.add(E)},n.type="heatmap",n}(Chart_default),HeatmapSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var a=CoordinateSystem_default.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(Series_default),BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle_default,PictorialBarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group,u=a.getData(),f=this._data,d=a.coordinateSystem,v=d.getBaseAxis(),g=v.isHorizontal(),y=d.master.getRect(),b={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:a,coordSys:d,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:LAYOUT_ATTRS[+g],categoryDim:LAYOUT_ATTRS[1-+g]};return u.diff(f).add(function(_){if(!!u.hasValue(_)){var x=getItemModel(u,_),w=getSymbolMeta(u,_,x,b),C=createBar(u,b,w);u.setItemGraphicEl(_,C),l.add(C),updateCommon2(C,b,w)}}).update(function(_,x){var w=f.getItemGraphicEl(x);if(!u.hasValue(_)){l.remove(w);return}var C=getItemModel(u,_),S=getSymbolMeta(u,_,C,b),D=getShapeStr(u,S);w&&D!==w.__pictorialShapeStr&&(l.remove(w),u.setItemGraphicEl(_,null),w=null),w?updateBar(w,b,S):w=createBar(u,b,S,!0),u.setItemGraphicEl(_,w),w.__pictorialSymbolMeta=S,l.add(w),updateCommon2(w,b,S)}).remove(function(_){var x=f.getItemGraphicEl(_);x&&removeBar(f,_,x.__pictorialSymbolMeta.animationModel,x)}).execute(),this._data=u,this.group},n.prototype.remove=function(a,o){var s=this.group,l=this._data;a.get("animation")?l&&l.eachItemGraphicEl(function(u){removeBar(l,getECData(u).dataIndex,a,u)}):s.removeAll()},n.type="pictorialBar",n}(Chart_default);function getSymbolMeta(r,n,a,o){var s=r.getItemLayout(n),l=a.get("symbolRepeat"),u=a.get("symbolClip"),f=a.get("symbolPosition")||"start",d=a.get("symbolRotate"),v=(d||0)*Math.PI/180||0,g=a.get("symbolPatternSize")||2,y=a.isAnimationEnabled(),b={dataIndex:n,layout:s,itemModel:a,symbolType:r.getItemVisual(n,"symbol")||"circle",style:r.getItemVisual(n,"style"),symbolClip:u,symbolRepeat:l,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?a:null,hoverScale:y&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};prepareBarLength(a,l,s,o,b),prepareSymbolSize(r,n,s,l,u,b.boundingLength,b.pxSign,g,o,b),prepareLineWidth(a,b.symbolScale,v,o,b);var _=b.symbolSize,x=normalizeSymbolOffset(a.get("symbolOffset"),_);return prepareLayoutInfo(a,_,s,l,u,x,f,b.valueLineWidth,b.boundingLength,b.repeatCutLength,o,b),b}function prepareBarLength(r,n,a,o,s){var l=o.valueDim,u=r.get("symbolBoundingData"),f=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=f.toGlobalCoord(f.dataToCoord(0)),v=1-+(a[l.wh]<=0),g;if(isArray3(u)){var y=[convertToCoordOnAxis(f,u[0])-d,convertToCoordOnAxis(f,u[1])-d];y[1]<y[0]&&y.reverse(),g=y[v]}else u!=null?g=convertToCoordOnAxis(f,u)-d:n?g=o.coordSysExtent[l.index][v]-d:g=a[l.wh];s.boundingLength=g,n&&(s.repeatCutLength=a[l.wh]),s.pxSign=g>0?1:-1}function convertToCoordOnAxis(r,n){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(n)))}function prepareSymbolSize(r,n,a,o,s,l,u,f,d,v){var g=d.valueDim,y=d.categoryDim,b=Math.abs(a[y.wh]),_=r.getItemVisual(n,"symbolSize"),x;isArray3(_)?x=_.slice():_==null?x=["100%","100%"]:x=[_,_],x[y.index]=parsePercent2(x[y.index],b),x[g.index]=parsePercent2(x[g.index],o?b:Math.abs(l)),v.symbolSize=x;var w=v.symbolScale=[x[0]/f,x[1]/f];w[g.index]*=(d.isHorizontal?-1:1)*u}function prepareLineWidth(r,n,a,o,s){var l=r.get(BAR_BORDER_WIDTH_QUERY)||0;l&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:a}),pathForLineWidth.updateTransform(),l/=pathForLineWidth.getLineScale(),l*=n[o.valueDim.index]),s.valueLineWidth=l||0}function prepareLayoutInfo(r,n,a,o,s,l,u,f,d,v,g,y){var b=g.categoryDim,_=g.valueDim,x=y.pxSign,w=Math.max(n[_.index]+f,0),C=w;if(o){var S=Math.abs(d),D=retrieve(r.get("symbolMargin"),"15%")+"",A=!1;D.lastIndexOf("!")===D.length-1&&(A=!0,D=D.slice(0,D.length-1));var T=parsePercent2(D,n[_.index]),P=Math.max(w+T*2,0),E=A?0:T*2,M=isNumeric(o),L=M?o:toIntTimes((S+E)/P),F=S-L*w;T=F/2/(A?L:Math.max(L-1,1)),P=w+T*2,E=A?0:T*2,!M&&o!=="fixed"&&(L=v?toIntTimes((Math.abs(v)+E)/P):0),C=L*P-E,y.repeatTimes=L,y.symbolMargin=T}var I=x*(C/2),B=y.pathPosition=[];B[b.index]=a[b.wh]/2,B[_.index]=u==="start"?I:u==="end"?d-I:d/2,l&&(B[0]+=l[0],B[1]+=l[1]);var O=y.bundlePosition=[];O[b.index]=a[b.xy],O[_.index]=a[_.xy];var R=y.barRectShape=extend2({},a);R[_.wh]=x*Math.max(Math.abs(a[_.wh]),Math.abs(B[_.index]+I)),R[b.wh]=a[b.wh];var z=y.clipShape={};z[b.xy]=-a[b.xy],z[b.wh]=g.ecSize[b.wh],z[_.xy]=0,z[_.wh]=a[_.wh]}function createPath(r){var n=r.symbolPatternSize,a=createSymbol(r.symbolType,-n/2,-n/2,n,n);return a.attr({culling:!0}),a.type!=="image"&&a.setStyle({strokeNoScale:!0}),a}function createOrUpdateRepeatSymbols(r,n,a,o){var s=r.__pictorialBundle,l=a.symbolSize,u=a.valueLineWidth,f=a.pathPosition,d=n.valueDim,v=a.repeatTimes||0,g=0,y=l[n.valueDim.index]+u+a.symbolMargin*2;for(eachPath(r,function(w){w.__pictorialAnimationIndex=g,w.__pictorialRepeatTimes=v,g<v?updateAttr(w,null,x(g),a,o):updateAttr(w,null,{scaleX:0,scaleY:0},a,o,function(){s.remove(w)}),g++});g<v;g++){var b=createPath(a);b.__pictorialAnimationIndex=g,b.__pictorialRepeatTimes=v,s.add(b);var _=x(g);updateAttr(b,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},a,o)}function x(w){var C=f.slice(),S=a.pxSign,D=w;return(a.symbolRepeatDirection==="start"?S>0:S<0)&&(D=v-1-w),C[d.index]=y*(D-v/2+.5)+f[d.index],{x:C[0],y:C[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function createOrUpdateSingleSymbol(r,n,a,o){var s=r.__pictorialBundle,l=r.__pictorialMainPath;l?updateAttr(l,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,o):(l=r.__pictorialMainPath=createPath(a),s.add(l),updateAttr(l,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,o))}function createOrUpdateBarRect(r,n,a){var o=extend2({},n.barRectShape),s=r.__pictorialBarRect;s?updateAttr(s,null,{shape:o},n,a):(s=r.__pictorialBarRect=new Rect_default({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),s.disableMorphing=!0,r.add(s))}function createOrUpdateClip(r,n,a,o){if(a.symbolClip){var s=r.__pictorialClipPath,l=extend2({},a.clipShape),u=n.valueDim,f=a.animationModel,d=a.dataIndex;if(s)updateProps2(s,{shape:l},f,d);else{l[u.wh]=0,s=new Rect_default({shape:l}),r.__pictorialBundle.setClipPath(s),r.__pictorialClipPath=s;var v={};v[u.wh]=a.clipShape[u.wh],graphic_exports[o?"updateProps":"initProps"](s,{shape:v},f,d)}}}function getItemModel(r,n){var a=r.getItemModel(n);return a.getAnimationDelayParams=getAnimationDelayParams,a.isAnimationEnabled=isAnimationEnabled,a}function getAnimationDelayParams(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(r,n,a,o){var s=new Group_default,l=new Group_default;return s.add(l),s.__pictorialBundle=l,l.x=a.bundlePosition[0],l.y=a.bundlePosition[1],a.symbolRepeat?createOrUpdateRepeatSymbols(s,n,a):createOrUpdateSingleSymbol(s,n,a),createOrUpdateBarRect(s,a,o),createOrUpdateClip(s,n,a,o),s.__pictorialShapeStr=getShapeStr(r,a),s.__pictorialSymbolMeta=a,s}function updateBar(r,n,a){var o=a.animationModel,s=a.dataIndex,l=r.__pictorialBundle;updateProps2(l,{x:a.bundlePosition[0],y:a.bundlePosition[1]},o,s),a.symbolRepeat?createOrUpdateRepeatSymbols(r,n,a,!0):createOrUpdateSingleSymbol(r,n,a,!0),createOrUpdateBarRect(r,a,!0),createOrUpdateClip(r,n,a,!0)}function removeBar(r,n,a,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var l=[];eachPath(o,function(u){l.push(u)}),o.__pictorialMainPath&&l.push(o.__pictorialMainPath),o.__pictorialClipPath&&(a=null),each(l,function(u){removeElement2(u,{scaleX:0,scaleY:0},a,n,function(){o.parent&&o.parent.remove(o)})}),r.setItemGraphicEl(n,null)}function getShapeStr(r,n){return[r.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(r,n,a){each(r.__pictorialBundle.children(),function(o){o!==r.__pictorialBarRect&&n.call(a,o)})}function updateAttr(r,n,a,o,s,l){n&&r.attr(n),o.symbolClip&&!s?a&&r.attr(a):a&&graphic_exports[s?"updateProps":"initProps"](r,a,o.animationModel,o.dataIndex,l)}function updateCommon2(r,n,a){var o=a.dataIndex,s=a.itemModel,l=s.getModel("emphasis"),u=l.getModel("itemStyle").getItemStyle(),f=s.getModel(["blur","itemStyle"]).getItemStyle(),d=s.getModel(["select","itemStyle"]).getItemStyle(),v=s.getShallow("cursor"),g=l.get("focus"),y=l.get("blurScope"),b=l.get("scale");eachPath(r,function(w){if(w instanceof Image_default){var C=w.style;w.useStyle(extend2({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},a.style))}else w.useStyle(a.style);var S=w.ensureState("emphasis");S.style=u,b&&(S.scaleX=w.scaleX*1.1,S.scaleY=w.scaleY*1.1),w.ensureState("blur").style=f,w.ensureState("select").style=d,v&&(w.cursor=v),w.z2=a.z2});var _=n.valueDim.posDesc[+(a.boundingLength>0)],x=r.__pictorialBarRect;setLabelStyle(x,getLabelStatesModels(s),{labelFetcher:n.seriesModel,labelDataIndex:o,defaultText:getDefaultLabel(n.seriesModel.getData(),o),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:_}),toggleHoverEmphasis(r,g,y,l.get("disabled"))}function toIntTimes(r){var n=Math.round(r);return Math.abs(r-n)<1e-4?n:Math.ceil(r)}var PictorialBarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return n.prototype.getInitialData=function(a){return a.stack=null,r.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeries_default),ThemeRiverView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._layers=[],a}return n.prototype.render=function(a,o,s){var l=a.getData(),u=this,f=this.group,d=a.getLayerSeries(),v=l.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;f.x=0,f.y=g.y+y[0];function b(C){return C.name}var _=new DataDiffer_default(this._layersSeries||[],d,b,b),x=[];_.add(bind(w,this,"add")).update(bind(w,this,"update")).remove(bind(w,this,"remove")).execute();function w(C,S,D){var A=u._layers;if(C==="remove"){f.remove(A[S]);return}for(var T=[],P=[],E,M=d[S].indices,L=0;L<M.length;L++){var F=l.getItemLayout(M[L]),I=F.x,B=F.y0,O=F.y;T.push(I,B),P.push(I,B+O),E=l.getItemVisual(M[L],"style")}var R,z=l.getItemLayout(M[0]),N=a.getModel("label"),V=N.get("margin"),W=a.getModel("emphasis");if(C==="add"){var H=x[S]=new Group_default;R=new ECPolygon({shape:{points:T,stackedOnPoints:P,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),H.add(R),f.add(H),a.isAnimationEnabled()&&R.setClipPath(createGridClipShape3(R.getBoundingRect(),a,function(){R.removeClipPath()}))}else{var H=A[D];R=H.childAt(0),f.add(H),x[S]=H,updateProps2(R,{shape:{points:T,stackedOnPoints:P}},a),saveOldStyle(R)}setLabelStyle(R,getLabelStatesModels(a),{labelDataIndex:M[L-1],defaultText:l.getName(M[L-1]),inheritColor:E.fill},{normal:{verticalAlign:"middle"}}),R.setTextConfig({position:null,local:!0});var $=R.getTextContent();$&&($.x=z.x-V,$.y=z.y0+z.y/2),R.useStyle(E),l.setItemGraphicEl(S,R),setStatesStylesFromModel(R,a),toggleHoverEmphasis(R,W.get("focus"),W.get("blurScope"),W.get("disabled"))}this._layersSeries=d,this._layers=x},n.type="themeRiver",n}(Chart_default);function createGridClipShape3(r,n,a){var o=new Rect_default({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps2(o,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},n,a),o}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this))},n.prototype.fixData=function(a){var o=a.length,s={},l=groupData(a,function(b){return s.hasOwnProperty(b[0]+"")||(s[b[0]+""]=-1),b[2]}),u=[];l.buckets.each(function(b,_){u.push({name:_,dataList:b})});for(var f=u.length,d=0;d<f;++d){for(var v=u[d].name,g=0;g<u[d].dataList.length;++g){var y=u[d].dataList[g][0]+"";s[y]=d}for(var y in s)s.hasOwnProperty(y)&&s[y]!==d&&(s[y]=d,a[o]=[y,0,v],o++)}return a},n.prototype.getInitialData=function(a,o){for(var s=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],l=s.get("type"),u=filter(a.data,function(x){return x[2]!==void 0}),f=this.fixData(u||[]),d=[],v=this.nameMap=createHashMap(),g=0,y=0;y<f.length;++y)d.push(f[y][DATA_NAME_INDEX]),v.get(f[y][DATA_NAME_INDEX])||(v.set(f[y][DATA_NAME_INDEX],g),g++);var b=prepareSeriesDataSchema(f,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new SeriesData_default(b,this);return _.initData(f),_},n.prototype.getLayerSeries=function(){for(var a=this.getData(),o=a.count(),s=[],l=0;l<o;++l)s[l]=l;var u=a.mapDimension("single"),f=groupData(s,function(v){return a.get("name",v)}),d=[];return f.buckets.each(function(v,g){v.sort(function(y,b){return a.get(u,y)-a.get(u,b)}),d.push({name:g,indices:v})}),d},n.prototype.getAxisTooltipData=function(a,o,s){isArray3(a)||(a=a?[a]:[]);for(var l=this.getData(),u=this.getLayerSeries(),f=[],d=u.length,v,g=0;g<d;++g){for(var y=Number.MAX_VALUE,b=-1,_=u[g].indices.length,x=0;x<_;++x){var w=l.get(a[0],u[g].indices[x]),C=Math.abs(w-o);C<=y&&(v=w,y=C,b=u[g].indices[x])}f.push(b)}return{dataIndices:f,nestestValue:v}},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=l.getName(a),f=l.get(l.mapDimension("value"),a);return createTooltipMarkup("nameValue",{name:u,value:f})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(Series_default),DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(r){__extends(n,r);function n(a,o,s,l){var u=r.call(this)||this;u.z2=DEFAULT_SECTOR_Z,u.textConfig={inside:!0},getECData(u).seriesIndex=o.seriesIndex;var f=new Text_default({z2:DEFAULT_TEXT_Z,silent:a.getModel().get(["label","silent"])});return u.setTextContent(f),u.updateData(!0,a,o,s,l),u}return n.prototype.updateData=function(a,o,s,l,u){this.node=o,o.piece=this,s=s||this._seriesModel,l=l||this._ecModel;var f=this;getECData(f).dataIndex=o.dataIndex;var d=o.getModel(),v=d.getModel("emphasis"),g=o.getLayout(),y=extend2({},g);y.label=null;var b=o.getVisual("style");b.lineJoin="bevel";var _=o.getVisual("decal");_&&(b.decal=createOrUpdatePatternFromDecal(_,u));var x=getSectorCornerRadius(d.getModel("itemStyle"),y,!0);extend2(y,x),each(SPECIAL_STATES,function(D){var A=f.ensureState(D),T=d.getModel([D,"itemStyle"]);A.style=T.getItemStyle();var P=getSectorCornerRadius(T,y);P&&(A.shape=P)}),a?(f.setShape(y),f.shape.r=g.r0,updateProps2(f,{shape:{r:g.r}},s,o.dataIndex)):(updateProps2(f,{shape:y},s),saveOldStyle(f)),f.useStyle(b),this._updateLabel(s);var w=d.getShallow("cursor");w&&f.attr("cursor",w),this._seriesModel=s||this._seriesModel,this._ecModel=l||this._ecModel;var C=v.get("focus"),S=C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():C;toggleHoverEmphasis(this,S,v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(a){var o=this,s=this.node.getModel(),l=s.getModel("label"),u=this.node.getLayout(),f=u.endAngle-u.startAngle,d=(u.startAngle+u.endAngle)/2,v=Math.cos(d),g=Math.sin(d),y=this,b=y.getTextContent(),_=this.node.dataIndex,x=l.get("minAngle")/180*Math.PI,w=l.get("show")&&!(x!=null&&Math.abs(f)<x);b.ignore=!w,each(DISPLAY_STATES,function(S){var D=S==="normal"?s.getModel("label"):s.getModel([S,"label"]),A=S==="normal",T=A?b:b.ensureState(S),P=a.getFormattedLabel(_,S);A&&(P=P||o.node.name),T.style=createTextStyle(D,{},null,S!=="normal",!0),P&&(T.style.text=P);var E=D.get("show");E!=null&&!A&&(T.ignore=!E);var M=C(D,"position"),L=A?y:y.states[S],F=L.style.fill;L.textConfig={outsideFill:D.get("color")==="inherit"?F:null,inside:M!=="outside"};var I,B=C(D,"distance")||0,O=C(D,"align");M==="outside"?(I=u.r+B,O=d>Math.PI/2?"right":"left"):!O||O==="center"?(f===2*Math.PI&&u.r0===0?I=0:I=(u.r+u.r0)/2,O="center"):O==="left"?(I=u.r0+B,d>Math.PI/2&&(O="right")):O==="right"&&(I=u.r-B,d>Math.PI/2&&(O="left")),T.style.align=O,T.style.verticalAlign=C(D,"verticalAlign")||"middle",T.x=I*v+u.cx,T.y=I*g+u.cy;var R=C(D,"rotate"),z=0;R==="radial"?(z=-d,z<-Math.PI/2&&(z+=Math.PI)):R==="tangential"?(z=Math.PI/2-d,z>Math.PI/2?z-=Math.PI:z<-Math.PI/2&&(z+=Math.PI)):isNumber(R)&&(z=R*Math.PI/180),T.rotation=z});function C(S,D){var A=S.get(D);return A==null?l.get(D):A}b.dirtyStyle()},n}(Sector_default),SunburstPiece_default=SunburstPiece,ROOT_TO_NODE_ACTION="sunburstRootToNode",SunburstView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){var u=this;this.seriesModel=a,this.api=s,this.ecModel=o;var f=a.getData(),d=f.tree.root,v=a.getViewRoot(),g=this.group,y=a.get("renderLabelForZeroData"),b=[];v.eachNode(function(D){b.push(D)});var _=this._oldChildren||[];x(b,_),S(d,v),this._initEvents(),this._oldChildren=b;function x(D,A){if(D.length===0&&A.length===0)return;new DataDiffer_default(A,D,T,T).add(P).update(P).remove(curry(P,null)).execute();function T(E){return E.getId()}function P(E,M){var L=E==null?null:D[E],F=M==null?null:A[M];w(L,F)}}function w(D,A){if(!y&&D&&!D.getValue()&&(D=null),D!==d&&A!==d){if(A&&A.piece)D?(A.piece.updateData(!1,D,a,o,s),f.setItemGraphicEl(D.dataIndex,A.piece)):C(A);else if(D){var T=new SunburstPiece_default(D,a,o,s);g.add(T),f.setItemGraphicEl(D.dataIndex,T)}}}function C(D){!D||D.piece&&(g.remove(D.piece),D.piece=null)}function S(D,A){A.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,D,a,o,s):(u.virtualPiece=new SunburstPiece_default(D,a,o,s),g.add(u.virtualPiece)),A.piece.off("click"),u.virtualPiece.on("click",function(T){u._rootToNode(A.parentNode)})):u.virtualPiece&&(g.remove(u.virtualPiece),u.virtualPiece=null)}},n.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(o){var s=!1,l=a.seriesModel.getViewRoot();l.eachNode(function(u){if(!s&&u.piece&&u.piece===o.target){var f=u.getModel().get("nodeClick");if(f==="rootToNode")a._rootToNode(u);else if(f==="link"){var d=u.getModel(),v=d.get("link");if(v){var g=d.get("target",!0)||"_blank";windowOpen(v,g)}}s=!0}})})},n.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},n.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=a[0]-l.cx,f=a[1]-l.cy,d=Math.sqrt(u*u+f*f);return d<=l.r&&d>=l.r0}},n.type="sunburst",n}(Chart_default),SunburstSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.ignoreStyleOnData=!0,a}return n.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue2(s);var l=this._levelModels=map3(a.levels||[],function(d){return new Model_default(d,this,o)},this),u=Tree_default.createTree(s,this,f);function f(d){d.wrapMethod("getItemModel",function(v,g){var y=u.getNodeByDataIndex(g),b=l[y.depth];return b&&(v.parentModel=b),v})}return u.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treePathInfo=wrapTreePathInfo(s,this),o},n.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(Series_default);function completeTreeValue2(r){var n=0;each(r.children,function(o){completeTreeValue2(o);var s=o.value;isArray3(s)&&(s=s[0]),n+=s});var a=r.value;isArray3(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=n),a<0&&(a=0),isArray3(r.value)?r.value[0]=a:r.value=a}var RADIAN3=Math.PI/180,STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this)},n.prototype.getDataParams=function(a,o,s){var l=r.prototype.getDataParams.call(this,a,o);return s&&(l.info=customInnerStore(s).info),l},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(Series_default);function dataToCoordSize(r,n){return n=n||[0,0],map3(["x","y"],function(a,o){var s=this.getAxis(a),l=n[o],u=r[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u))},this)}function cartesianPrepareCustom(r){var n=r.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(a){return r.dataToPoint(a)},size:bind(dataToCoordSize,r)}}}function dataToCoordSize2(r,n){return n=n||[0,0],map3([0,1],function(a){var o=n[a],s=r[a]/2,l=[],u=[];return l[a]=o-s,u[a]=o+s,l[1-a]=u[1-a]=n[1-a],Math.abs(this.dataToPoint(l)[a]-this.dataToPoint(u)[a])},this)}function geoPrepareCustom(r){var n=r.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:r.getZoom()},api:{coord:function(a){return r.dataToPoint(a)},size:bind(dataToCoordSize2,r)}}}function dataToCoordSize3(r,n){var a=this.getAxis(),o=n instanceof Array?n[0]:n,s=(r instanceof Array?r[0]:r)/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s))}function singlePrepareCustom(r){var n=r.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(a){return r.dataToPoint(a)},size:bind(dataToCoordSize3,r)}}}function dataToCoordSize4(r,n){return n=n||[0,0],map3(["Radius","Angle"],function(a,o){var s="get"+a+"Axis",l=this[s](),u=n[o],f=r[o]/2,d=l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(u-f)-l.dataToCoord(u+f));return a==="Angle"&&(d=d*Math.PI/180),d},this)}function polarPrepareCustom(r){var n=r.getRadiusAxis(),a=r.getAngleAxis(),o=n.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:o[1],r0:o[0]},api:{coord:function(s){var l=n.dataToRadius(s[0]),u=a.dataToAngle(s[1]),f=r.coordToPoint([l,u]);return f.push(l,u*Math.PI/180),f},size:bind(dataToCoordSize4,r)}}}function calendarPrepareCustom(r){var n=r.getRect(),a=r.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(o,s){return r.dataToPoint(o,s)}}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,singleAxis:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath2(r){return r instanceof Path_default}function isDisplayable(r){return r instanceof Displayable_default}function copyElement(r,n){n.copyTransform(r),isDisplayable(n)&&isDisplayable(r)&&(n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel,n.invisible=r.invisible,n.ignore=r.ignore,isPath2(n)&&isPath2(r)&&n.setShape(r.shape))}var CustomChartView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this._progressiveEls=null;var u=this._data,f=a.getData(),d=this.group,v=makeRenderItem(a,f,o,s);u||d.removeAll(),f.diff(u).add(function(y){createOrUpdateItem(s,null,y,v(y,l),a,d,f)}).remove(function(y){var b=u.getItemGraphicEl(y);applyLeaveTransition(b,customInnerStore(b).option,a)}).update(function(y,b){var _=u.getItemGraphicEl(b);createOrUpdateItem(s,_,y,v(y,l),a,d,f)}).execute();var g=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;g?d.setClipPath(g):d.removeClipPath(),this._data=f},n.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(a,o,s,l,u){var f=o.getData(),d=makeRenderItem(o,f,s,l),v=this._progressiveEls=[];function g(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}for(var y=a.start;y<a.end;y++){var b=createOrUpdateItem(null,null,y,d(y,u),o,this.group,f);b&&(b.traverse(g),v.push(b))}},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype.filterForExposedEvent=function(a,o,s,l){var u=o.element;if(u==null||s.name===u)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===u)return!0;return!1},n.type="custom",n}(Chart_default);function createEl2(r){var n=r.type,a;if(n==="path"){var o=r.shape,s=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,l=getPathData(o);a=makePath(l,null,s,o.layout||"center"),customInnerStore(a).customPathData=l}else if(n==="image")a=new Image_default({}),customInnerStore(a).customImagePath=r.style.image;else if(n==="text")a=new Text_default({});else if(n==="group")a=new Group_default;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var u=getShapeClass(n);if(!u){var f="";f='graphic type "'+n+'" can not be found.',throwError2(f)}a=new u}return customInnerStore(a).customGraphicType=n,a.name=r.name,a.z2EmphasisLift=1,a.z2SelectLift=1,a}function updateElNormal(r,n,a,o,s,l,u){stopPreviousKeyframeAnimationAndRestore(n);var f=s&&s.normal.cfg;f&&n.setTextConfig(f),o&&o.transition==null&&(o.transition=DEFAULT_TRANSITION);var d=o&&o.style;if(d){if(n.type==="text"){var v=d;hasOwn2(v,"textFill")&&(v.fill=v.textFill),hasOwn2(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=isPath2(n)?d.decal:null;r&&y&&(y.dirty=!0,g=createOrUpdatePatternFromDecal(y,r)),d.__decalPattern=g}if(isDisplayable(n)&&d){var g=d.__decalPattern;g&&(d.decal=g)}applyUpdateTransition(n,o,l,{dataIndex:a,isInit:u,clearStyle:!0}),applyKeyframeAnimation(n,o.keyframeAnimation,l)}function updateElOnState(r,n,a,o,s){var l=n.isGroup?null:n,u=s&&s[r].cfg;if(l){var f=l.ensureState(r);if(o===!1){var d=l.getState(r);d&&(d.style=null)}else f.style=o||null;u&&(f.textConfig=u),setDefaultStateProxy(l)}}function updateZ2(r,n,a){if(!r.isGroup){var o=r,s=a.currentZ,l=a.currentZLevel;o.z=s,o.zlevel=l;var u=n.z2;u!=null&&(o.z2=u||0);for(var f=0;f<STATES.length;f++)updateZForEachState(o,n,STATES[f])}}function updateZForEachState(r,n,a){var o=a===NORMAL,s=o?n:retrieveStateOption(n,a),l=s?s.z2:null,u;l!=null&&(u=o?r:r.ensureState(a),u.z2=l||0)}function makeRenderItem(r,n,a,o){var s=r.get("renderItem"),l=r.coordinateSystem,u={};l&&(assert(s,"series.render is required."),assert(l.prepareCustoms||prepareCustoms[l.type],"This coordSys does not support custom series."),u=l.prepareCustoms?l.prepareCustoms(l):prepareCustoms[l.type](l));for(var f=defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:T,style:E,ordinalRawValue:P,styleEmphasis:M,visual:I,barLayout:B,currentSeriesIndices:O,font:R},u.api||{}),d={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:u.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(r.getData())},v,g,y={},b={},_={},x={},w=0;w<STATES.length;w++){var C=STATES[w];_[C]=r.getModel(PATH_ITEM_STYLE[C]),x[C]=r.getModel(PATH_LABEL[C])}function S(z){return z===v?g||(g=n.getItemModel(z)):n.getItemModel(z)}function D(z,N){return n.hasItemOption?z===v?y[N]||(y[N]=S(z).getModel(PATH_ITEM_STYLE[N])):S(z).getModel(PATH_ITEM_STYLE[N]):_[N]}function A(z,N){return n.hasItemOption?z===v?b[N]||(b[N]=S(z).getModel(PATH_LABEL[N])):S(z).getModel(PATH_LABEL[N]):x[N]}return function(z,N){return v=z,g=null,y={},b={},s&&s(defaults({dataIndexInside:z,dataIndex:n.getRawIndex(z),actionType:N?N.type:null},d),f)};function T(z,N){return N==null&&(N=v),n.getStore().get(n.getDimensionIndex(z||0),N)}function P(z,N){N==null&&(N=v),z=z||0;var V=n.getDimensionInfo(z);if(!V){var W=n.getDimensionIndex(z);return W>=0?n.getStore().get(W,N):void 0}var H=n.get(V.name,N),$=V&&V.ordinalMeta;return $?$.categories[H]:H}function E(z,N){warnDeprecated("api.style","Please write literal style directly instead."),N==null&&(N=v);var V=n.getItemVisual(N,"style"),W=V&&V.fill,H=V&&V.opacity,$=D(N,NORMAL).getItemStyle();W!=null&&($.fill=W),H!=null&&($.opacity=H);var Y={inheritColor:isString2(W)?W:"#000"},ae=A(N,NORMAL),X=createTextStyle(ae,null,Y,!1,!0);X.text=ae.getShallow("show")?retrieve2(r.getFormattedLabel(N,NORMAL),getDefaultLabel(n,N)):null;var J=createTextConfig(ae,Y,!1);return F(z,$),$=convertToEC4StyleForCustomSerise($,X,J),z&&L($,z),$.legacy=!0,$}function M(z,N){warnDeprecated("api.styleEmphasis","Please write literal style directly instead."),N==null&&(N=v);var V=D(N,EMPHASIS).getItemStyle(),W=A(N,EMPHASIS),H=createTextStyle(W,null,null,!0,!0);H.text=W.getShallow("show")?retrieve3(r.getFormattedLabel(N,EMPHASIS),r.getFormattedLabel(N,NORMAL),getDefaultLabel(n,N)):null;var $=createTextConfig(W,null,!0);return F(z,V),V=convertToEC4StyleForCustomSerise(V,H,$),z&&L(V,z),V.legacy=!0,V}function L(z,N){for(var V in N)hasOwn2(N,V)&&(z[V]=N[V])}function F(z,N){z&&(z.textFill&&(N.textFill=z.textFill),z.textPosition&&(N.textPosition=z.textPosition))}function I(z,N){if(N==null&&(N=v),hasOwn2(STYLE_VISUAL_TYPE,z)){var V=n.getItemVisual(N,"style");return V?V[STYLE_VISUAL_TYPE[z]]:null}if(hasOwn2(NON_STYLE_VISUAL_PROPS,z))return n.getItemVisual(N,z)}function B(z){if(l.type==="cartesian2d"){var N=l.getBaseAxis();return getLayoutOnAxis(defaults({axis:N},z))}}function O(){return a.getCurrentSeriesIndices()}function R(z){return getFont(z,a)}}function wrapEncodeDef(r){var n={};return each(r.dimensions,function(a){var o=r.getDimensionInfo(a);if(!o.isExtraCoord){var s=o.coordDim,l=n[s]=n[s]||[];l[o.coordDimIndex]=r.getDimensionIndex(a)}}),n}function createOrUpdateItem(r,n,a,o,s,l,u){if(!o){l.remove(n);return}var f=doCreateOrUpdateEl(r,n,a,o,s,l);return f&&u.setItemGraphicEl(a,f),f&&toggleHoverEmphasis(f,o.focus,o.blurScope,o.emphasisDisabled),f}function doCreateOrUpdateEl(r,n,a,o,s,l){assert(o,"should not have an null/undefined element setting");var u=-1,f=n;n&&doesElNeedRecreate(n,o,s)&&(u=indexOf(l.childrenRef(),n),n=null);var d=!n,v=n;v?v.clearStates():(v=createEl2(o),f&&copyElement(f,v)),o.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(v,a,o,s,d,attachedTxInfoTmp),doCreateOrUpdateClipPath(v,a,o,s,d),updateElNormal(r,v,a,o,attachedTxInfoTmp,s,d),hasOwn2(o,"info")&&(customInnerStore(v).info=o.info);for(var g=0;g<STATES.length;g++){var y=STATES[g];if(y!==NORMAL){var b=retrieveStateOption(o,y),_=retrieveStyleOptionOnState(o,b,y);updateElOnState(y,v,b,_,attachedTxInfoTmp)}}return updateZ2(v,o,s),o.type==="group"&&mergeChildren(r,v,a,o,s),u>=0?l.replaceAt(v,u):l.add(v),v}function doesElNeedRecreate(r,n,a){var o=customInnerStore(r),s=n.type,l=n.shape,u=n.style;return a.isUniversalTransitionEnabled()||s!=null&&s!==o.customGraphicType||s==="path"&&hasOwnPathData(l)&&getPathData(l)!==o.customPathData||s==="image"&&hasOwn2(u,"image")&&u.image!==o.customImagePath}function doCreateOrUpdateClipPath(r,n,a,o,s){var l=a.clipPath;if(l===!1)r&&r.getClipPath()&&r.removeClipPath();else if(l){var u=r.getClipPath();u&&doesElNeedRecreate(u,l,o)&&(u=null),u||(u=createEl2(l),assert(isPath2(u),"Only any type of `path` can be used in `clipPath`, rather than "+u.type+"."),r.setClipPath(u)),updateElNormal(null,u,n,l,null,o,s)}}function doCreateOrUpdateAttachedTx(r,n,a,o,s,l){if(!r.isGroup){processTxInfo(a,null,l),processTxInfo(a,EMPHASIS,l);var u=l.normal.conOpt,f=l.emphasis.conOpt,d=l.blur.conOpt,v=l.select.conOpt;if(u!=null||f!=null||v!=null||d!=null){var g=r.getTextContent();if(u===!1)g&&r.removeTextContent();else{u=l.normal.conOpt=u||{type:"text"},g?g.clearStates():(g=createEl2(u),r.setTextContent(g)),updateElNormal(null,g,n,u,null,o,s);for(var y=u&&u.style,b=0;b<STATES.length;b++){var _=STATES[b];if(_!==NORMAL){var x=l[_].conOpt;updateElOnState(_,g,x,retrieveStyleOptionOnState(u,x,_),null)}}y?g.dirty():g.markRedraw()}}}}function processTxInfo(r,n,a){var o=n?retrieveStateOption(r,n):r,s=n?retrieveStyleOptionOnState(r,o,EMPHASIS):r.style,l=r.type,u=o?o.textConfig:null,f=r.textContent,d=f?n?retrieveStateOption(f,n):f:null;if(s&&(a.isLegacy||isEC4CompatibleStyle(s,l,!!u,!!d))){a.isLegacy=!0;var v=convertFromEC4CompatibleStyle(s,l,!n);!u&&v.textConfig&&(u=v.textConfig),!d&&v.textContent&&(d=v.textContent)}if(!n&&d){var g=d;!g.type&&(g.type="text"),assert(g.type==="text",'textContent.type must be "text"')}var y=n?a[n]:a.normal;y.cfg=u,y.conOpt=d}function retrieveStateOption(r,n){return n?r?r[n]:null:r}function retrieveStyleOptionOnState(r,n,a){var o=n&&n.style;return o==null&&a===EMPHASIS&&r&&(o=r.styleEmphasis),o}function mergeChildren(r,n,a,o,s){var l=o.children,u=l?l.length:0,f=o.$mergeChildren,d=f==="byName"||o.diffChildrenByName,v=f===!1;if(!(!u&&!d&&!v)){if(d){diffGroupChildren({api:r,oldChildren:n.children()||[],newChildren:l||[],dataIndex:a,seriesModel:s,group:n});return}v&&n.removeAll();for(var g=0;g<u;g++)l[g]&&doCreateOrUpdateEl(r,n.childAt(g),a,l[g],s,n);for(var y=n.childCount()-1;y>=g;y--){var b=n.childAt(y);applyLeaveTransition(b,customInnerStore(n).option,s)}}}function diffGroupChildren(r){new DataDiffer_default(r.oldChildren,r.newChildren,getKey2,getKey2,r).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey2(r,n){var a=r&&r.name;return a!=null?a:GROUP_DIFF_PREFIX+n}function processAddUpdate(r,n){var a=this.context,o=r!=null?a.newChildren[r]:null,s=n!=null?a.oldChildren[n]:null;doCreateOrUpdateEl(a.api,s,a.dataIndex,o,a.seriesModel,a.group)}function processRemove(r){var n=this.context,a=n.oldChildren[r];applyLeaveTransition(a,customInnerStore(a).option,n.seriesModel)}function getPathData(r){return r&&(r.pathData||r.d)}function hasOwnPathData(r){return r&&(hasOwn2(r,"pathData")||hasOwn2(r,"d"))}var CMD5=PathProxy_default.CMD;function aroundEqual(r,n){return Math.abs(r-n)<1e-5}function pathToBezierCurves(r){var n=r.data,a=r.len(),o=[],s,l=0,u=0,f=0,d=0;function v(R,z){s&&s.length>2&&o.push(s),s=[R,z]}function g(R,z,N,V){aroundEqual(R,N)&&aroundEqual(z,V)||s.push(R,z,N,V,N,V)}function y(R,z,N,V,W,H){var $=Math.abs(z-R),Y=Math.tan($/4)*4/3,ae=z<R?-1:1,X=Math.cos(R),J=Math.sin(R),fe=Math.cos(z),ge=Math.sin(z),ye=X*W+N,be=J*H+V,K=fe*W+N,j=ge*H+V,Q=W*Y*ae,le=H*Y*ae;s.push(ye-Q*J,be+le*X,K+Q*ge,j-le*fe,K,j)}for(var b,_,x,w,C=0;C<a;){var S=n[C++],D=C===1;switch(D&&(l=n[C],u=n[C+1],f=l,d=u,(S===CMD5.L||S===CMD5.C||S===CMD5.Q)&&(s=[f,d])),S){case CMD5.M:l=f=n[C++],u=d=n[C++],v(f,d);break;case CMD5.L:b=n[C++],_=n[C++],g(l,u,b,_),l=b,u=_;break;case CMD5.C:s.push(n[C++],n[C++],n[C++],n[C++],l=n[C++],u=n[C++]);break;case CMD5.Q:b=n[C++],_=n[C++],x=n[C++],w=n[C++],s.push(l+2/3*(b-l),u+2/3*(_-u),x+2/3*(b-x),w+2/3*(_-w),x,w),l=x,u=w;break;case CMD5.A:var A=n[C++],T=n[C++],P=n[C++],E=n[C++],M=n[C++],L=n[C++]+M;C+=1;var F=!n[C++];b=Math.cos(M)*P+A,_=Math.sin(M)*E+T,D?(f=b,d=_,v(f,d)):g(l,u,b,_),l=Math.cos(L)*P+A,u=Math.sin(L)*E+T;for(var I=(F?-1:1)*Math.PI/2,B=M;F?B>L:B<L;B+=I){var O=F?Math.max(B+I,L):Math.min(B+I,L);y(B,O,A,T,P,E)}break;case CMD5.R:f=l=n[C++],d=u=n[C++],b=f+n[C++],_=d+n[C++],v(b,d),g(b,d,b,_),g(b,_,f,_),g(f,_,f,d),g(f,d,b,d);break;case CMD5.Z:s&&g(l,u,f,d),l=f,u=d;break}}return s&&s.length>2&&o.push(s),o}function adpativeBezier(r,n,a,o,s,l,u,f,d,v){if(aroundEqual(r,a)&&aroundEqual(n,o)&&aroundEqual(s,u)&&aroundEqual(l,f)){d.push(u,f);return}var g=2/v,y=g*g,b=u-r,_=f-n,x=Math.sqrt(b*b+_*_);b/=x,_/=x;var w=a-r,C=o-n,S=s-u,D=l-f,A=w*w+C*C,T=S*S+D*D;if(A<y&&T<y){d.push(u,f);return}var P=b*w+_*C,E=-b*S-_*D,M=A-P*P,L=T-E*E;if(M<y&&P>=0&&L<y&&E>=0){d.push(u,f);return}var F=[],I=[];cubicSubdivide(r,a,s,u,.5,F),cubicSubdivide(n,o,l,f,.5,I),adpativeBezier(F[0],I[0],F[1],I[1],F[2],I[2],F[3],I[3],d,v),adpativeBezier(F[4],I[4],F[5],I[5],F[6],I[6],F[7],I[7],d,v)}function pathToPolygons(r,n){var a=pathToBezierCurves(r),o=[];n=n||1;for(var s=0;s<a.length;s++){var l=a[s],u=[],f=l[0],d=l[1];u.push(f,d);for(var v=2;v<l.length;){var g=l[v++],y=l[v++],b=l[v++],_=l[v++],x=l[v++],w=l[v++];adpativeBezier(f,d,g,y,b,_,x,w,u,n),f=x,d=w}o.push(u)}return o}function getDividingGrids(r,n,a){var o=r[n],s=r[1-n],l=Math.abs(o/s),u=Math.ceil(Math.sqrt(l*a)),f=Math.floor(a/u);f===0&&(f=1,u=a);for(var d=[],v=0;v<u;v++)d.push(f);var g=u*f,y=a-g;if(y>0)for(var v=0;v<y;v++)d[v%u]+=1;return d}function divideSector(r,n,a){for(var o=r.r0,s=r.r,l=r.startAngle,u=r.endAngle,f=Math.abs(u-l),d=f*s,v=s-o,g=d>Math.abs(v),y=getDividingGrids([d,v],g?0:1,n),b=(g?f:v)/y.length,_=0;_<y.length;_++)for(var x=(g?v:f)/y[_],w=0;w<y[_];w++){var C={};g?(C.startAngle=l+b*_,C.endAngle=l+b*(_+1),C.r0=o+x*w,C.r=o+x*(w+1)):(C.startAngle=l+x*w,C.endAngle=l+x*(w+1),C.r0=o+b*_,C.r=o+b*(_+1)),C.clockwise=r.clockwise,C.cx=r.cx,C.cy=r.cy,a.push(C)}}function divideRect(r,n,a){for(var o=r.width,s=r.height,l=o>s,u=getDividingGrids([o,s],l?0:1,n),f=l?"width":"height",d=l?"height":"width",v=l?"x":"y",g=l?"y":"x",y=r[f]/u.length,b=0;b<u.length;b++)for(var _=r[d]/u[b],x=0;x<u[b];x++){var w={};w[v]=b*y,w[g]=x*_,w[f]=y,w[d]=_,w.x+=r.x,w.y+=r.y,a.push(w)}}function crossProduct2d2(r,n,a,o){return r*o-a*n}function lineLineIntersect2(r,n,a,o,s,l,u,f){var d=a-r,v=o-n,g=u-s,y=f-l,b=crossProduct2d2(g,y,d,v);if(Math.abs(b)<1e-6)return null;var _=r-s,x=n-l,w=crossProduct2d2(_,x,g,y)/b;return w<0||w>1?null:new Point_default(w*d+r,w*v+n)}function projPtOnLine(r,n,a){var o=new Point_default;Point_default.sub(o,a,n),o.normalize();var s=new Point_default;Point_default.sub(s,r,n);var l=s.dot(o);return l}function addToPoly(r,n){var a=r[r.length-1];a&&a[0]===n[0]&&a[1]===n[1]||r.push(n)}function splitPolygonByLine(r,n,a){for(var o=r.length,s=[],l=0;l<o;l++){var u=r[l],f=r[(l+1)%o],d=lineLineIntersect2(u[0],u[1],f[0],f[1],n.x,n.y,a.x,a.y);d&&s.push({projPt:projPtOnLine(d,n,a),pt:d,idx:l})}if(s.length<2)return[{points:r},{points:r}];s.sort(function(C,S){return C.projPt-S.projPt});var v=s[0],g=s[s.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var b=[v.pt.x,v.pt.y],_=[g.pt.x,g.pt.y],x=[b],w=[_],l=v.idx+1;l<=g.idx;l++)addToPoly(x,r[l].slice());addToPoly(x,_),addToPoly(x,b);for(var l=g.idx+1;l<=v.idx+o;l++)addToPoly(w,r[l%o].slice());return addToPoly(w,b),addToPoly(w,_),[{points:x},{points:w}]}function binaryDividePolygon(r){var n=r.points,a=[],o=[];fromPoints(n,a,o);var s=new BoundingRect_default(a[0],a[1],o[0]-a[0],o[1]-a[1]),l=s.width,u=s.height,f=s.x,d=s.y,v=new Point_default,g=new Point_default;return l>u?(v.x=g.x=f+l/2,v.y=d,g.y=d+u):(v.y=g.y=d+u/2,v.x=f,g.x=f+l),splitPolygonByLine(n,v,g)}function binaryDivideRecursive(r,n,a,o){if(a===1)o.push(n);else{var s=Math.floor(a/2),l=r(n);binaryDivideRecursive(r,l[0],s,o),binaryDivideRecursive(r,l[1],a-s,o)}return o}function clone5(r,n){for(var a=[],o=0;o<n;o++)a.push(clonePath(r));return a}function copyPathProps(r,n){n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel}function polygonConvert(r){for(var n=[],a=0;a<r.length;)n.push([r[a++],r[a++]]);return n}function split(r,n){var a=[],o=r.shape,s;switch(r.type){case"rect":divideRect(o,n,a),s=Rect_default;break;case"sector":divideSector(o,n,a),s=Sector_default;break;case"circle":divideSector({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},n,a),s=Sector_default;break;default:var l=r.getComputedTransform(),u=l?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,f=map3(pathToPolygons(r.getUpdatedPathProxy(),u),function(S){return polygonConvert(S)}),d=f.length;if(d===0)binaryDivideRecursive(binaryDividePolygon,{points:f[0]},n,a);else if(d===n)for(var v=0;v<d;v++)a.push({points:f[v]});else{var g=0,y=map3(f,function(S){var D=[],A=[];fromPoints(S,D,A);var T=(A[1]-D[1])*(A[0]-D[0]);return g+=T,{poly:S,area:T}});y.sort(function(S,D){return D.area-S.area});for(var b=n,v=0;v<d;v++){var _=y[v];if(b<=0)break;var x=v===d-1?b:Math.ceil(_.area/g*n);x<0||(binaryDivideRecursive(binaryDividePolygon,{points:_.poly},x,a),b-=x)}}s=Polygon_default;break}if(!s)return clone5(r,n);for(var w=[],v=0;v<a.length;v++){var C=new s;C.setShape(a[v]),copyPathProps(r,C),w.push(C)}return w}function alignSubpath(r,n){var a=r.length,o=n.length;if(a===o)return[r,n];for(var s=[],l=[],u=a<o?r:n,f=Math.min(a,o),d=Math.abs(o-a)/6,v=(f-2)/6,g=Math.ceil(d/v)+1,y=[u[0],u[1]],b=d,_=2;_<f;){var x=u[_-2],w=u[_-1],C=u[_++],S=u[_++],D=u[_++],A=u[_++],T=u[_++],P=u[_++];if(b<=0){y.push(C,S,D,A,T,P);continue}for(var E=Math.min(b,g-1)+1,M=1;M<=E;M++){var L=M/E;cubicSubdivide(x,C,D,T,L,s),cubicSubdivide(w,S,A,P,L,l),x=s[3],w=l[3],y.push(s[1],l[1],s[2],l[2],x,w),C=s[5],S=l[5],D=s[6],A=l[6]}b-=E-1}return u===r?[y,n]:[r,y]}function createSubpath(r,n){for(var a=r.length,o=r[a-2],s=r[a-1],l=[],u=0;u<n.length;)l[u++]=o,l[u++]=s;return l}function alignBezierCurves(r,n){for(var a,o,s,l=[],u=[],f=0;f<Math.max(r.length,n.length);f++){var d=r[f],v=n[f],g=void 0,y=void 0;d?v?(a=alignSubpath(d,v),g=a[0],y=a[1],o=g,s=y):(y=createSubpath(s||d,d),g=d):(g=createSubpath(o||v,v),y=v),l.push(g),u.push(y)}return[l,u]}function centroid2(r){for(var n=0,a=0,o=0,s=r.length,l=0,u=s-2;l<s;u=l,l+=2){var f=r[u],d=r[u+1],v=r[l],g=r[l+1],y=f*g-v*d;n+=y,a+=(f+v)*y,o+=(d+g)*y}return n===0?[r[0]||0,r[1]||0]:[a/n/3,o/n/3,n]}function findBestRingOffset(r,n,a,o){for(var s=(r.length-2)/6,l=1/0,u=0,f=r.length,d=f-2,v=0;v<s;v++){for(var g=v*6,y=0,b=0;b<f;b+=2){var _=b===0?g:(g+b-2)%d+2,x=r[_]-a[0],w=r[_+1]-a[1],C=n[b]-o[0],S=n[b+1]-o[1],D=C-x,A=S-w;y+=D*D+A*A}y<l&&(l=y,u=v)}return u}function reverse(r){for(var n=[],a=r.length,o=0;o<a;o+=2)n[o]=r[a-o-2],n[o+1]=r[a-o-1];return n}function findBestMorphingRotation(r,n,a,o){for(var s=[],l,u=0;u<r.length;u++){var f=r[u],d=n[u],v=centroid2(f),g=centroid2(d);l==null&&(l=v[2]<0!=g[2]<0);var y=[],b=[],_=0,x=1/0,w=[],C=f.length;l&&(f=reverse(f));for(var S=findBestRingOffset(f,d,v,g)*6,D=C-2,A=0;A<D;A+=2){var T=(S+A)%D+2;y[A+2]=f[T]-v[0],y[A+3]=f[T+1]-v[1]}if(y[0]=f[S]-v[0],y[1]=f[S+1]-v[1],a>0)for(var P=o/a,E=-o/2;E<=o/2;E+=P){for(var M=Math.sin(E),L=Math.cos(E),F=0,A=0;A<f.length;A+=2){var I=y[A],B=y[A+1],O=d[A]-g[0],R=d[A+1]-g[1],z=O*L-R*M,N=O*M+R*L;w[A]=z,w[A+1]=N;var V=z-I,W=N-B;F+=V*V+W*W}if(F<x){x=F,_=E;for(var H=0;H<w.length;H++)b[H]=w[H]}}else for(var $=0;$<C;$+=2)b[$]=d[$]-g[0],b[$+1]=d[$+1]-g[1];s.push({from:y,to:b,fromCp:v,toCp:g,rotation:-_})}return s}function isCombineMorphing(r){return r.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(r,n,a){var o=SAVED_METHOD_PREFIX+n,s=r[o]||r[n];r[o]||(r[o]=r[n]);var l=a.replace,u=a.after,f=a.before;r[n]=function(){var d=arguments,v;return f&&f.apply(this,d),l?v=l.apply(this,d):v=s.apply(this,d),u&&u.apply(this,d),v}}function restoreMethod(r,n){var a=SAVED_METHOD_PREFIX+n;r[a]&&(r[n]=r[a],r[a]=null)}function applyTransformOnBeziers(r,n){for(var a=0;a<r.length;a++)for(var o=r[a],s=0;s<o.length;){var l=o[s],u=o[s+1];o[s++]=n[0]*l+n[2]*u+n[4],o[s++]=n[1]*l+n[3]*u+n[5]}}function prepareMorphPath(r,n){var a=r.getUpdatedPathProxy(),o=n.getUpdatedPathProxy(),s=alignBezierCurves(pathToBezierCurves(a),pathToBezierCurves(o)),l=s[0],u=s[1],f=r.getComputedTransform(),d=n.getComputedTransform();function v(){this.transform=null}f&&applyTransformOnBeziers(l,f),d&&applyTransformOnBeziers(u,d),saveAndModifyMethod(n,"updateTransform",{replace:v}),n.transform=null;var g=findBestMorphingRotation(l,u,10,Math.PI),y=[];saveAndModifyMethod(n,"buildPath",{replace:function(b){for(var _=n.__morphT,x=1-_,w=[],C=0;C<g.length;C++){var S=g[C],D=S.from,A=S.to,T=S.rotation*_,P=S.fromCp,E=S.toCp,M=Math.sin(T),L=Math.cos(T);lerp(w,P,E,_);for(var F=0;F<D.length;F+=2){var I=D[F],B=D[F+1],O=A[F],R=A[F+1],z=I*x+O*_,N=B*x+R*_;y[F]=z*L-N*M+w[0],y[F+1]=z*M+N*L+w[1]}var V=y[0],W=y[1];b.moveTo(V,W);for(var F=2;F<D.length;){var O=y[F++],R=y[F++],H=y[F++],$=y[F++],Y=y[F++],ae=y[F++];V===O&&W===R&&H===Y&&$===ae?b.lineTo(Y,ae):b.bezierCurveTo(O,R,H,$,Y,ae),V=Y,W=ae}}}})}function morphPath(r,n,a){if(!r||!n)return n;var o=a.done,s=a.during;prepareMorphPath(r,n),n.__morphT=0;function l(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults({during:function(u){n.dirtyShape(),s&&s(u)},done:function(){l(),o&&o()}},a)),n}function hilbert(r,n,a,o,s,l){var u=16;r=s===a?0:Math.round(32767*(r-a)/(s-a)),n=l===o?0:Math.round(32767*(n-o)/(l-o));for(var f=0,d,v=(1<<u)/2;v>0;v/=2){var g=0,y=0;(r&v)>0&&(g=1),(n&v)>0&&(y=1),f+=v*v*(3*g^y),y===0&&(g===1&&(r=v-1-r,n=v-1-n),d=r,r=n,n=d)}return f}function sortPaths(r){var n=1/0,a=1/0,o=-1/0,s=-1/0,l=map3(r,function(f){var d=f.getBoundingRect(),v=f.getComputedTransform(),g=d.x+d.width/2+(v?v[4]:0),y=d.y+d.height/2+(v?v[5]:0);return n=Math.min(g,n),a=Math.min(y,a),o=Math.max(g,o),s=Math.max(y,s),[g,y]}),u=map3(l,function(f,d){return{cp:f,z:hilbert(f[0],f[1],n,a,o,s),path:r[d]}});return u.sort(function(f,d){return f.z-d.z}).map(function(f){return f.path})}function defaultDividePath(r){return split(r.path,r.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(r,n,a){var o=[];function s(P){for(var E=0;E<P.length;E++){var M=P[E];isCombineMorphing(M)?s(M.childrenRef()):M instanceof Path_default&&o.push(M)}}s(r);var l=o.length;if(!l)return createEmptyReturn();var u=a.dividePath||defaultDividePath,f=u({path:n,count:l});if(f.length!==l)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();o=sortPaths(o),f=sortPaths(f);for(var d=a.done,v=a.during,g=a.individualDelay,y=new Transformable_default,b=0;b<l;b++){var _=o[b],x=f[b];x.parent=n,x.copyTransform(y),g||prepareMorphPath(_,x)}n.__isCombineMorphing=!0,n.childrenRef=function(){return f};function w(P){for(var E=0;E<f.length;E++)f[E].addSelfToZr(P)}saveAndModifyMethod(n,"addSelfToZr",{after:function(P){w(P)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(P){for(var E=0;E<f.length;E++)f[E].removeSelfFromZr(P)}});function C(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var S=f.length;if(g)for(var D=S,A=function(){D--,D===0&&(C(),d&&d())},b=0;b<S;b++){var T=g?defaults({delay:(a.delay||0)+g(b,S,o[b],f[b]),done:A},a):a;morphPath(o[b],f[b],T)}else n.__morphT=0,n.animateTo({__morphT:1},defaults({during:function(P){for(var E=0;E<S;E++){var M=f[E];M.__morphT=n.__morphT,M.dirtyShape()}v&&v(P)},done:function(){C();for(var P=0;P<r.length;P++)restoreMethod(r[P],"updateTransform");d&&d()}},a));return n.__zr&&w(n.__zr),{fromIndividuals:o,toIndividuals:f,count:S}}function separateMorph(r,n,a){var o=n.length,s=[],l=a.dividePath||defaultDividePath;function u(_){for(var x=0;x<_.length;x++){var w=_[x];isCombineMorphing(w)?u(w.childrenRef()):w instanceof Path_default&&s.push(w)}}if(isCombineMorphing(r)){u(r.childrenRef());var f=s.length;if(f<o)for(var d=0,v=f;v<o;v++)s.push(clonePath(s[d++%f]));s.length=o}else{s=l({path:r,count:o});for(var g=r.getComputedTransform(),v=0;v<s.length;v++)s[v].setLocalTransform(g);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}s=sortPaths(s),n=sortPaths(n);for(var y=a.individualDelay,v=0;v<o;v++){var b=y?defaults({delay:(a.delay||0)+y(v,o,s[v],n[v])},a):a;morphPath(s[v],n[v],b)}return{fromIndividuals:s,toIndividuals:n,count:n.length}}function isMultiple(r){return isArray3(r[0])}function prepareMorphBatches(r,n){for(var a=[],o=r.length,s=0;s<o;s++)a.push({one:r[s],many:[]});for(var s=0;s<n.length;s++){var l=n[s].length,u=void 0;for(u=0;u<l;u++)a[u%o].many.push(n[s][u])}for(var f=0,s=o-1;s>=0;s--)if(!a[s].many.length){var d=a[f].many;if(d.length<=1)if(f)f=0;else return a;var l=d.length,v=Math.ceil(l/2);a[s].many=d.slice(v,l),a[f].many=d.slice(0,v),f++}return a}var pathDividers={clone:function(r){for(var n=[],a=1-Math.pow(1-r.path.style.opacity,1/r.count),o=0;o<r.count;o++){var s=clonePath(r.path);s.setStyle("opacity",a),n.push(s)}return n},split:null};function applyMorphAnimation(r,n,a,o,s,l){if(!r.length||!n.length)return;var u=getAnimationConfig("update",o,s);if(!(u&&u.duration>0))return;var f=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},u),v,g;isMultiple(r)&&(v=r,g=n),isMultiple(n)&&(v=n,g=r);function y(S,D,A,T,P){var E=S.many,M=S.one;if(E.length===1&&!P){var L=D?E[0]:M,F=D?M:E[0];if(isCombineMorphing(L))y({many:[L],one:F},!0,A,T,!0);else{var I=f?defaults({delay:f(A,T)},d):d;morphPath(L,F,I),l(L,F,L,F,I)}}else for(var B=defaults({dividePath:pathDividers[a],individualDelay:f&&function(W,H,$,Y){return f(W+A,T)}},d),O=D?combineMorph(E,M,B):separateMorph(M,E,B),R=O.fromIndividuals,z=O.toIndividuals,N=R.length,V=0;V<N;V++){var I=f?defaults({delay:f(V,N)},d):d;l(R[V],z[V],D?E[V]:S.one,D?S.one:E[V],I)}}for(var b=v?v===r:r.length>n.length,_=v?prepareMorphBatches(g,v):prepareMorphBatches(b?n:r,[b?r:n]),x=0,w=0;w<_.length;w++)x+=_[w].many.length;for(var C=0,w=0;w<_.length;w++)y(_[w],b,C,x),C+=_[w].many.length}function getPathList(r){if(!r)return[];if(isArray3(r)){for(var n=[],a=0;a<r.length;a++)n.push(getPathList(r[a]));return n}var o=[];return r.traverse(function(s){s instanceof Path_default&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(r){for(var n=r.dimensions,a=0;a<n.length;a++){var o=r.getDimensionInfo(n[a]);if(o&&o.otherDims.itemGroupId===0)return n[a]}}function flattenDataDiffItems(r){var n=[];return each(r,function(a){var o=a.data;if(o.count()>DATA_COUNT_THRESHOLD){warn6("Universal transition is disabled on large data > 10k.");return}for(var s=o.getIndices(),l=getGroupIdDimension(o),u=0;u<s.length;u++)n.push({data:o,dim:a.dim||l,divide:a.divide,dataIndex:u})}),n}function fadeInElement(r,n,a){r.traverse(function(o){o instanceof Path_default&&initProps2(o,{style:{opacity:0}},n,{dataIndex:a,isFrom:!0})})}function removeEl2(r){if(r.parent){var n=r.getComputedTransform();r.setLocalTransform(n),r.parent.remove(r)}}function stopAnimation(r){r.stopAnimation(),r.isGroup&&r.traverse(function(n){n.stopAnimation()})}function animateElementStyles(r,n,a){var o=getAnimationConfig("update",a,n);o&&r.traverse(function(s){if(s instanceof Displayable_default){var l=getOldStyle(s);l&&s.animateFrom({style:l},o)}})}function isAllIdSame(r,n){var a=r.length;if(a!==n.length)return!1;for(var o=0;o<a;o++){var s=r[o],l=n[o];if(s.data.getId(s.dataIndex)!==l.data.getId(l.dataIndex))return!1}return!0}function transitionBetween(r,n,a){var o=flattenDataDiffItems(r),s=flattenDataDiffItems(n);function l(S,D,A,T,P){(A||S)&&D.animateFrom({style:A&&A!==S?extend2(extend2({},A.style),S.style):S.style},P)}function u(S){for(var D=0;D<S.length;D++)if(S[D].dim)return S[D].dim}var f=u(o),d=u(s),v=!1;function g(S,D){return function(A){var T=A.data,P=A.dataIndex;if(D)return T.getId(P);var E=T.hostModel&&T.hostModel.get("dataGroupId"),M=S?f||d:d||f,L=M&&T.getDimensionInfo(M),F=L&&L.ordinalMeta;if(L){var I=T.get(L.name,P);return F&&F.categories[I]||I+""}var B=T.getRawDataItem(P);return B&&B.groupId?B.groupId+"":E||T.getId(P)}}var y=isAllIdSame(o,s),b={};if(!y)for(var _=0;_<s.length;_++){var x=s[_],w=x.data.getItemGraphicEl(x.dataIndex);w&&(b[w.id]=!0)}function C(S,D){var A=o[D],T=s[S],P=T.data.hostModel,E=A.data.getItemGraphicEl(A.dataIndex),M=T.data.getItemGraphicEl(T.dataIndex);if(E===M){M&&animateElementStyles(M,T.dataIndex,P);return}E&&b[E.id]||M&&(stopAnimation(M),E?(stopAnimation(E),removeEl2(E),v=!0,applyMorphAnimation(getPathList(E),getPathList(M),T.divide,P,S,l)):fadeInElement(M,P,S))}new DataDiffer_default(o,s,g(!0,y),g(!1,y),null,"multiple").update(C).updateManyToOne(function(S,D){var A=s[S],T=A.data,P=T.hostModel,E=T.getItemGraphicEl(A.dataIndex),M=filter(map3(D,function(L){return o[L].data.getItemGraphicEl(o[L].dataIndex)}),function(L){return L&&L!==E&&!b[L.id]});E&&(stopAnimation(E),M.length?(each(M,function(L){stopAnimation(L),removeEl2(L)}),v=!0,applyMorphAnimation(getPathList(M),getPathList(E),A.divide,P,S,l)):fadeInElement(E,P,A.dataIndex))}).updateOneToMany(function(S,D){var A=o[D],T=A.data.getItemGraphicEl(A.dataIndex);if(!(T&&b[T.id])){var P=filter(map3(S,function(M){return s[M].data.getItemGraphicEl(s[M].dataIndex)}),function(M){return M&&M!==T}),E=s[S[0]].data.hostModel;P.length&&(each(P,function(M){return stopAnimation(M)}),T?(stopAnimation(T),removeEl2(T),v=!0,applyMorphAnimation(getPathList(T),getPathList(P),A.divide,E,S[0],l)):each(P,function(M){return fadeInElement(M,E,S[0])}))}}).updateManyToMany(function(S,D){new DataDiffer_default(D,S,function(A){return o[A].data.getId(o[A].dataIndex)},function(A){return s[A].data.getId(s[A].dataIndex)}).update(function(A,T){C(S[A],D[T])}).execute()}).execute(),v&&each(n,function(S){var D=S.data,A=D.hostModel,T=A&&a.getViewOfSeriesModel(A),P=getAnimationConfig("update",A,0);T&&A.isAnimationEnabled()&&P&&P.duration>0&&T.group.traverse(function(E){E instanceof Path_default&&!E.animators.length&&E.animateFrom({style:{opacity:0}},P)})})}function getSeriesTransitionKey(r){var n=r.getModel("universalTransition").get("seriesKey");return n||r.id}function convertArraySeriesKeyToString(r){return isArray3(r)?r.sort().join(","):r}function getDivideShapeFromData(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(r,n){var a=createHashMap(),o=createHashMap(),s=createHashMap();each(r.oldSeries,function(u,f){var d=r.oldData[f],v=getSeriesTransitionKey(u),g=convertArraySeriesKeyToString(v);o.set(g,d),isArray3(v)&&each(v,function(y){s.set(y,{data:d,key:g})})});function l(u){a.get(u)&&warn6("Duplicated seriesKey in universalTransition "+u)}return each(n.updatedSeries,function(u){if(u.isUniversalTransitionEnabled()&&u.isAnimationEnabled()){var f=u.getData(),d=getSeriesTransitionKey(u),v=convertArraySeriesKeyToString(d),g=o.get(v);if(g)l(v),a.set(v,{oldSeries:[{divide:getDivideShapeFromData(g),data:g}],newSeries:[{divide:getDivideShapeFromData(f),data:f}]});else if(isArray3(d)){l(v);var y=[];each(d,function(x){var w=o.get(x);w&&y.push({divide:getDivideShapeFromData(w),data:w})}),y.length&&a.set(v,{oldSeries:y,newSeries:[{data:f,divide:getDivideShapeFromData(f)}]})}else{var b=s.get(d);if(b){var _=a.get(b.key);_||(_={oldSeries:[{data:b.data,divide:getDivideShapeFromData(b.data)}],newSeries:[]},a.set(b.key,_)),_.newSeries.push({data:f,divide:getDivideShapeFromData(f)})}}}}),a}function querySeries(r,n){for(var a=0;a<r.length;a++){var o=n.seriesIndex!=null&&n.seriesIndex===r[a].seriesIndex||n.seriesId!=null&&n.seriesId===r[a].id;if(o)return a}}function transitionSeriesFromOpt(r,n,a,o){var s=[],l=[];each(normalizeToArray(r.from),function(u){var f=querySeries(n.oldSeries,u);f>=0&&s.push({data:n.oldData[f],divide:getDivideShapeFromData(n.oldData[f]),dim:u.dimension})}),each(normalizeToArray(r.to),function(u){var f=querySeries(a.updatedSeries,u);if(f>=0){var d=a.updatedSeries[f].getData();l.push({data:d,divide:getDivideShapeFromData(d),dim:u.dimension})}}),s.length>0&&l.length>0&&transitionBetween(s,l,o)}function installUniversalTransition(r){r.registerUpdateLifecycle("series:beforeupdate",function(n,a,o){each(normalizeToArray(o.seriesTransition),function(s){each(normalizeToArray(s.to),function(l){for(var u=o.updatedSeries,f=0;f<u.length;f++)(l.seriesIndex!=null&&l.seriesIndex===u[f].seriesIndex||l.seriesId!=null&&l.seriesId===u[f].id)&&(u[f][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(n,a,o){var s=getUniversalTransitionGlobalStore(a);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var l=o.seriesTransition;if(l)each(normalizeToArray(l),function(b){transitionSeriesFromOpt(b,s,o,a)});else{var u=findTransitionSeriesBatches(s,o);each(u.keys(),function(b){var _=u.get(b);transitionBetween(_.oldSeries,_.newSeries,a)})}each(o.updatedSeries,function(b){b[SERIES_UNIVERSAL_TRANSITION_PROP]&&(b[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var f=n.getSeries(),d=s.oldSeries=[],v=s.oldData=[],g=0;g<f.length;g++){var y=f[g].getData();y.count()<DATA_COUNT_THRESHOLD&&(d.push(f[g]),v.push(y))}})}function createDom(r,n,a){var o=platformApi.createCanvas(),s=n.getWidth(),l=n.getHeight(),u=o.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=s+"px",u.height=l+"px",o.setAttribute("data-zr-dom-id",r)),o.width=s*a,o.height=l*a,o}var Layer=function(r){__extends2(n,r);function n(a,o,s){var l=r.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null;var u;s=s||devicePixelRatio2,typeof a=="string"?u=createDom(a,o,s):isObject3(a)&&(u=a,a=u.id),l.id=a,l.dom=u;var f=u.style;return f&&(disableUserSelect(u),u.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),l.painter=o,l.dpr=s,l}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),a!==1&&this.ctxBack.scale(a,a)},n.prototype.createRepaintRects=function(a,o,s,l){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u=[],f=this.maxRepaintRectCount,d=!1,v=new BoundingRect_default(0,0,0,0);function g(D){if(!(!D.isFinite()||D.isZero()))if(u.length===0){var A=new BoundingRect_default(0,0,0,0);A.copy(D),u.push(A)}else{for(var T=!1,P=1/0,E=0,M=0;M<u.length;++M){var L=u[M];if(L.intersect(D)){var F=new BoundingRect_default(0,0,0,0);F.copy(L),F.union(D),u[M]=F,T=!0;break}else if(d){v.copy(D),v.union(L);var I=D.width*D.height,B=L.width*L.height,O=v.width*v.height,R=O-I-B;R<P&&(P=R,E=M)}}if(d&&(u[E].union(D),T=!0),!T){var A=new BoundingRect_default(0,0,0,0);A.copy(D),u.push(A)}d||(d=u.length>=f)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var b=a[y];if(b){var _=b.shouldBePainted(s,l,!0,!0),x=b.__isRendered&&(b.__dirty&REDRAW_BIT||!_)?b.getPrevPaintRect():null;x&&g(x);var w=_&&(b.__dirty&REDRAW_BIT||!b.__isRendered)?b.getPaintRect():null;w&&g(w)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var b=o[y],_=b.shouldBePainted(s,l,!0,!0);if(b&&(!_||!b.__zr)&&b.__isRendered){var x=b.getPrevPaintRect();x&&g(x)}}var C;do{C=!1;for(var y=0;y<u.length;){if(u[y].isZero()){u.splice(y,1);continue}for(var S=y+1;S<u.length;)u[y].intersect(u[S])?(C=!0,u[y].union(u[S]),u.splice(S,1)):S++;y++}}while(C);return this._paintRects=u,u},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(a,o){var s=this.dpr,l=this.dom,u=l.style,f=this.domBack;u&&(u.width=a+"px",u.height=o+"px"),l.width=a*s,l.height=o*s,f&&(f.width=a*s,f.height=o*s,s!==1&&this.ctxBack.scale(s,s))},n.prototype.clear=function(a,o,s){var l=this.dom,u=this.ctx,f=l.width,d=l.height;o=o||this.clearColor;var v=this.motionBlur&&!a,g=this.lastFrameAlpha,y=this.dpr,b=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(l,0,0,f/y,d/y));var _=this.domBack;function x(w,C,S,D){if(u.clearRect(w,C,S,D),o&&o!=="transparent"){var A=void 0;isGradientObject(o)?(A=o.__canvasGradient||getCanvasGradient(u,o,{x:0,y:0,width:S,height:D}),o.__canvasGradient=A):isImagePatternObject(o)&&(A=createCanvasPattern(u,o,{dirty:function(){b.setUnpainted(),b.__painter.refresh()}})),u.save(),u.fillStyle=A||o,u.fillRect(w,C,S,D),u.restore()}v&&(u.save(),u.globalAlpha=g,u.drawImage(_,w,C,S,D),u.restore())}!s||v?x(0,0,f,d):s.length&&each(s,function(w){x(w.x*y,w.y*y,w.width*y,w.height*y)})},n}(Eventful_default),Layer_default=Layer,HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,n){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+r+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var CanvasPainter=function(){function r(n,a,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var l=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=o=extend2({},o||{}),this.dpr=o.devicePixelRatio||devicePixelRatio2,this._singleCanvas=l,this.root=n;var u=n.style;u&&(disableUserSelect(n),n.innerHTML=""),this.storage=a;var f=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(l){var g=n,y=g.width,b=g.height;o.width!=null&&(y=o.width),o.height!=null&&(b=o.height),this.dpr=o.devicePixelRatio||1,g.width=y*this.dpr,g.height=b*this.dpr,this._width=y,this._height=b;var _=new Layer_default(g,this,this.dpr);_.__builtin__=!0,_.initContext(),d[CANVAS_ZLEVEL]=_,_.zlevel=CANVAS_ZLEVEL,f.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize(n,0,o),this._height=getSize(n,1,o);var v=this._domRoot=createRoot(this._width,this._height);n.appendChild(v)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.refresh=function(n){var a=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(a,o,n,this._redrawId);for(var l=0;l<s.length;l++){var u=s[l],f=this._layers[u];if(!f.__builtin__&&f.refresh){var d=l===0?this._backgroundColor:null;f.refresh(d)}}return this._opts.useDirtyRect&&(this._prevDisplayList=a.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(n){var a=n.length,o=this._hoverlayer;if(o&&o.clear(),!!a){for(var s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l,u=0;u<a;u++){var f=n[u];f.__inHover&&(o||(o=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),l||(l=o.ctx,l.save()),brush(l,f,s,u===a-1))}l&&l.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(n,a){brushSingle(n,a)},r.prototype._paintList=function(n,a,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(n);var l=this._doPaintList(n,a,o),u=l.finished,f=l.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(n),u)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var d=this;requestAnimationFrame_default(function(){d._paintList(n,a,o,s)})}}},r.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,a=this._domRoot.width,o=this._domRoot.height;n.clearRect(0,0,a,o),this.eachBuiltinLayer(function(s){s.virtual&&n.drawImage(s.dom,0,0,a,o)})},r.prototype._doPaintList=function(n,a,o){for(var s=this,l=[],u=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var d=this._zlevelList[f],v=this._layers[d];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||o)&&l.push(v)}for(var g=!0,y=!1,b=function(w){var C=l[w],S=C.ctx,D=u&&C.createRepaintRects(n,a,_._width,_._height),A=o?C.__startIndex:C.__drawIndex,T=!o&&C.incremental&&Date.now,P=T&&Date.now(),E=C.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(C.__startIndex===C.__endIndex)C.clear(!1,E,D);else if(A===C.__startIndex){var M=n[A];(!M.incremental||!M.notClear||o)&&C.clear(!1,E,D)}A===-1&&(console.error("For some unknown reason. drawIndex is -1"),A=C.__startIndex);var L,F=function(R){var z={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(L=A;L<C.__endIndex;L++){var N=n[L];if(N.__inHover&&(y=!0),s._doPaintEl(N,C,u,R,z,L===C.__endIndex-1),T){var V=Date.now()-P;if(V>15)break}}z.prevElClipPaths&&S.restore()};if(D)if(D.length===0)L=C.__endIndex;else for(var I=_.dpr,B=0;B<D.length;++B){var O=D[B];S.save(),S.beginPath(),S.rect(O.x*I,O.y*I,O.width*I,O.height*I),S.clip(),F(O),S.restore()}else S.save(),F(),S.restore();C.__drawIndex=L,C.__drawIndex<C.__endIndex&&(g=!1)},_=this,x=0;x<l.length;x++)b(x);return env_default.wxa&&each(this._layers,function(w){w&&w.ctx&&w.ctx.draw&&w.ctx.draw()}),{finished:g,needsRefreshHover:y}},r.prototype._doPaintEl=function(n,a,o,s,l,u){var f=a.ctx;if(o){var d=n.getPaintRect();(!s||d&&d.intersect(s))&&(brush(f,n,l,u),n.setPrevPaintRect(d))}else brush(f,n,l,u)},r.prototype.getLayer=function(n,a){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var o=this._layers[n];return o||(o=new Layer_default("zr_"+n,this,this.dpr),o.zlevel=n,o.__builtin__=!0,this._layerConfig[n]?merge3(o,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge3(o,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),a&&(o.virtual=a),this.insertLayer(n,o),o.initContext()),o},r.prototype.insertLayer=function(n,a){var o=this._layers,s=this._zlevelList,l=s.length,u=this._domRoot,f=null,d=-1;if(o[n]){logError2("ZLevel "+n+" has been used already");return}if(!isLayerValid(a)){logError2("Layer of zlevel "+n+" is not valid");return}if(l>0&&n>s[0]){for(d=0;d<l-1&&!(s[d]<n&&s[d+1]>n);d++);f=o[s[d]]}if(s.splice(d+1,0,n),o[n]=a,!a.virtual)if(f){var v=f.dom;v.nextSibling?u.insertBefore(a.dom,v.nextSibling):u.appendChild(a.dom)}else u.firstChild?u.insertBefore(a.dom,u.firstChild):u.appendChild(a.dom);a.__painter=this},r.prototype.eachLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s];n.call(a,this._layers[l],l)}},r.prototype.eachBuiltinLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__&&n.call(a,u,l)}},r.prototype.eachOtherLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__||n.call(a,u,l)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(y,b){y.__dirty=y.__used=!1});function a(y){l&&(l.__endIndex!==y&&(l.__dirty=!0),l.__endIndex=y)}if(this._singleCanvas)for(var o=1;o<n.length;o++){var s=n[o];if(s.zlevel!==n[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var l=null,u=0,f,d;for(d=0;d<n.length;d++){var s=n[d],v=s.zlevel,g=void 0;f!==v&&(f=v,u=0),s.incremental?(g=this.getLayer(v+INCREMENTAL_INC,this._needsManuallyCompositing),g.incremental=!0,u=1):g=this.getLayer(v+(u>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),g.__builtin__||logError2("ZLevel "+v+" has been used by unkown layer "+g.id),g!==l&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.incremental?g.__drawIndex=-1:g.__drawIndex=d,a(d),l=g),s.__dirty&REDRAW_BIT&&!s.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}a(d),this.eachBuiltinLayer(function(y,b){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(n){n.clear()},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each(this._layers,function(a){a.setUnpainted()})},r.prototype.configLayer=function(n,a){if(a){var o=this._layerConfig;o[n]?merge3(o[n],a,!0):o[n]=a;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];if(l===n||l===n+EL_AFTER_INCREMENTAL_INC){var u=this._layers[l];merge3(u,o[n],!0)}}}},r.prototype.delLayer=function(n){var a=this._layers,o=this._zlevelList,s=a[n];!s||(s.dom.parentNode.removeChild(s.dom),delete a[n],o.splice(indexOf(o,n),1))},r.prototype.resize=function(n,a){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,l=this.root;if(n!=null&&(s.width=n),a!=null&&(s.height=a),n=getSize(l,0,s),a=getSize(l,1,s),o.style.display="",this._width!==n||a!==this._height){o.style.width=n+"px",o.style.height=a+"px";for(var u in this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(n,a);this.refresh(!0)}this._width=n,this._height=a}else{if(n==null||a==null)return;this._width=n,this._height=a,this.getLayer(CANVAS_ZLEVEL).resize(n,a)}return this},r.prototype.clearLayer=function(n){var a=this._layers[n];a&&a.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var a=new Layer_default("image",this,n.pixelRatio||this.dpr);a.initContext(),a.clear(!1,n.backgroundColor||this._backgroundColor);var o=a.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var s=a.dom.width,l=a.dom.height;this.eachLayer(function(y){y.__builtin__?o.drawImage(y.dom,0,0,s,l):y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),d=0,v=f.length;d<v;d++){var g=f[d];brush(o,g,u,d===v-1)}return a.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}(),Painter_default=CanvasPainter;function install54(r){r.registerPainter("canvas",Painter_default)}var Stat_default=defineComponent({setup(r,{expose:n}){n(),use([install3,install32,install5,install6,install54,installUniversalTransition]);const a=getCurrentInstance().appContext.config.globalProperties.plugin,o=getCurrentInstance().appContext.config.globalProperties.container;let s,l,u;onMounted(()=>__async(this,null,function*(){s=o.querySelector("#chart"),l=init3(s,null,{width:400,height:350}),u&&l.setOption(u),d()}));const f=[6,5,4,3,2,1,0].map(g=>(0,import_obsidian7.moment)().subtract(g,"days").format("M-D"));u={title:{text:"Words"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:f},yAxis:{type:"value"},series:[{name:t("Day Ignore"),data:[],type:"line",areaStyle:{},smooth:!0,emphasis:{focus:"series"},stack:"single"},{name:t("Day Non-Ignore"),data:[],type:"line",areaStyle:{},smooth:!0,emphasis:{focus:"series"},stack:"single"},{name:t("Accumulated"),data:[],type:"line",smooth:!0,emphasis:{focus:"series"}}]};function d(){return __async(this,null,function*(){let g=yield a.db.countSeven(),y=g.map(x=>x.today[0]),b=g.map(x=>x.today.slice(1).reduce((w,C)=>w+C)),_=g.map(x=>x.accumulated.reduce((w,C)=>w+C));l.setOption({series:[{data:y},{data:b},{data:_}]})})}onMounted(()=>{addEventListener("obsidian-langr-refresh-stat",d)}),onUnmounted(()=>{removeEventListener("obsidian-langr-refresh-stat",d)});const v={plugin:a,container:o,charDom:s,sevenDays:l,option:u,last7days:f,updateChart:d};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),_hoisted_16={id:"chart"};function render9(r,n,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_16)}Stat_default.render=render9,Stat_default.__file="src\\views\\Stat.vue";var Stat_default2=Stat_default,STAT_VIEW_TYPE="langr-stat",StatView=class extends import_obsidian8.ItemView{constructor(r,n){super(r);this.plugin=n}getViewType(){return STAT_VIEW_TYPE}getDisplayText(){return t("Statistics")}getIcon(){return"bar-chart-4"}onOpen(){return __async(this,null,function*(){let n=this.containerEl.children[1].createDiv({cls:"langr-test"});this.vueApp=createApp(Stat_default2),this.vueApp.config.globalProperties.container=n,this.vueApp.config.globalProperties.plugin=this.plugin,this.vueApp.mount(n)})}onClose(){return __async(this,null,function*(){this.vueApp.unmount()})}},import_obsidian9=__toModule(require("obsidian")),DbProvider=class{},base_default=DbProvider,WebDb=class extends base_default{constructor(r){super();this.port=r}getStoredWords(r){return __async(this,null,function*(){let n={url:`http://localhost:${this.port}/word_phrase`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).json}catch(a){console.warn("Error when getting parse info from server:"+a)}})}getExpression(r){return __async(this,null,function*(){let n={url:`http://localhost:${this.port}/word`,method:"POST",body:JSON.stringify(r.toLowerCase()),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).json}catch(a){console.warn("Error while getting data from server."+a)}})}getExpressionsSimple(r){return __async(this,null,function*(){r=r.map(a=>a.toLowerCase());let n={url:`http://localhost:${this.port}/words_simple`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).json}catch(a){console.error("Error getting simple data from server: "+a)}})}getExpressionAfter(r){return __async(this,null,function*(){let n=import_obsidian9.moment.utc(r).unix(),a={url:`http://localhost:${this.port}/words/after`,method:"POST",body:JSON.stringify(n),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(a)).json}catch(o){console.warn("Error getting exprs after time from server"+o)}})}getAllExpressionSimple(r){return __async(this,null,function*(){let n=r?"all":"no_ignore",a={url:`http://localhost:${this.port}/words_simple/${n}`,method:"GET"};try{return(yield(0,import_obsidian9.requestUrl)(a)).json}catch(o){console.warn("Error while getting all simple data from server."+o)}})}postExpression(r){return __async(this,null,function*(){r.expression=r.expression.toLowerCase();let n={url:`http://localhost:${this.port}/update`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).status}catch(a){console.warn("Error while saving data to server."+a)}})}getTags(){return __async(this,null,function*(){let r={url:`http://localhost:${this.port}/tags`,method:"GET"};try{return(yield(0,import_obsidian9.requestUrl)(r)).json}catch(n){console.warn("Error getting tags from server."+n)}})}postIgnoreWords(r){return __async(this,null,function*(){let n={url:`http://localhost:${this.port}/ignores`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{yield(0,import_obsidian9.requestUrl)(n)}catch(a){console.warn("Error sending ignore words"+a)}})}tryGetSen(r){return __async(this,null,function*(){let n={url:`http://localhost:${this.port}/sentence`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).json}catch(a){console.warn("Error trying to get sentence"+a)}})}getCount(){return __async(this,null,function*(){let r={url:`http://localhost:${this.port}/count_all`,method:"GET"};try{return(yield(0,import_obsidian9.requestUrl)(r)).json}catch(n){console.warn("Error getting words count"+n)}})}countSeven(){return __async(this,null,function*(){let r=[];r=[0,1,2,3,4,5,6].map(a=>{let s=(0,import_obsidian9.moment)().subtract(6,"days").startOf("day").add(a,"days");return{from:s.unix(),to:s.endOf("day").unix()}});let n={url:`http://localhost:${this.port}/count_time`,method:"POST",body:JSON.stringify(r),contentType:"application/json"};try{return(yield(0,import_obsidian9.requestUrl)(n)).json}catch(a){}})}importDB(){return __async(this,null,function*(){})}exportDB(){return __async(this,null,function*(){})}destroyAll(){return __async(this,null,function*(){})}},import_obsidian10=__toModule(require("obsidian")),import_ac_auto=__toModule(require_dist()),_global=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,keys3=Object.keys,isArray5=Array.isArray;typeof Promise!="undefined"&&!_global.Promise&&(_global.Promise=Promise);function extend3(r,n){return typeof n!="object"||keys3(n).forEach(function(a){r[a]=n[a]}),r}var getProto2=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn3(r,n){return _hasOwn.call(r,n)}function props(r,n){typeof n=="function"&&(n=n(getProto2(r))),(typeof Reflect=="undefined"?keys3:Reflect.ownKeys)(n).forEach(a=>{setProp(r,a,n[a])})}var defineProperty2=Object.defineProperty;function setProp(r,n,a,o){defineProperty2(r,n,extend3(a&&hasOwn3(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},o))}function derive(r){return{from:function(n){return r.prototype=Object.create(n.prototype),setProp(r.prototype,"constructor",r),{extend:props.bind(null,r.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(r,n){const a=getOwnPropertyDescriptor(r,n);let o;return a||(o=getProto2(r))&&getPropertyDescriptor(o,n)}var _slice=[].slice;function slice2(r,n,a){return _slice.call(r,n,a)}function override(r,n){return n(r)}function assert2(r){if(!r)throw new Error("Assertion Failed")}function asap$1(r){_global.setImmediate?setImmediate(r):setTimeout(r,0)}function arrayToObject(r,n){return r.reduce((a,o,s)=>{var l=n(o,s);return l&&(a[l[0]]=l[1]),a},{})}function tryCatch(r,n,a){try{r.apply(null,a)}catch(o){n&&n(o)}}function getByKeyPath(r,n){if(hasOwn3(r,n))return r[n];if(!n)return r;if(typeof n!="string"){for(var a=[],o=0,s=n.length;o<s;++o){var l=getByKeyPath(r,n[o]);a.push(l)}return a}var u=n.indexOf(".");if(u!==-1){var f=r[n.substr(0,u)];return f===void 0?void 0:getByKeyPath(f,n.substr(u+1))}}function setByKeyPath(r,n,a){if(!(!r||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof n!="string"&&"length"in n){assert2(typeof a!="string"&&"length"in a);for(var o=0,s=n.length;o<s;++o)setByKeyPath(r,n[o],a[o])}else{var l=n.indexOf(".");if(l!==-1){var u=n.substr(0,l),f=n.substr(l+1);if(f==="")a===void 0?isArray5(r)&&!isNaN(parseInt(u))?r.splice(u,1):delete r[u]:r[u]=a;else{var d=r[u];(!d||!hasOwn3(r,u))&&(d=r[u]={}),setByKeyPath(d,f,a)}}else a===void 0?isArray5(r)&&!isNaN(parseInt(n))?r.splice(n,1):delete r[n]:r[n]=a}}function delByKeyPath(r,n){typeof n=="string"?setByKeyPath(r,n,void 0):"length"in n&&[].map.call(n,function(a){setByKeyPath(r,a,void 0)})}function shallowClone(r){var n={};for(var a in r)hasOwn3(r,a)&&(n[a]=r[a]);return n}var concat=[].concat;function flatten4(r){return concat.apply([],r)}var intrinsicTypeNames="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten4([8,16,32,64].map(r=>["Int","Uint","Float"].map(n=>n+r+"Array")))).filter(r=>_global[r]),intrinsicTypes=intrinsicTypeNames.map(r=>_global[r]);arrayToObject(intrinsicTypeNames,r=>[r,!0]);var circularRefs=null;function deepClone(r){circularRefs=typeof WeakMap!="undefined"&&new WeakMap;const n=innerDeepClone(r);return circularRefs=null,n}function innerDeepClone(r){if(!r||typeof r!="object")return r;let n=circularRefs&&circularRefs.get(r);if(n)return n;if(isArray5(r)){n=[],circularRefs&&circularRefs.set(r,n);for(var a=0,o=r.length;a<o;++a)n.push(innerDeepClone(r[a]))}else if(intrinsicTypes.indexOf(r.constructor)>=0)n=r;else{const l=getProto2(r);n=l===Object.prototype?{}:Object.create(l),circularRefs&&circularRefs.set(r,n);for(var s in r)hasOwn3(r,s)&&(n[s]=innerDeepClone(r[s]))}return n}var{toString:toString2}={};function toStringTag(r){return toString2.call(r).slice(8,-1)}var iteratorSymbol=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",getIteratorOf=typeof iteratorSymbol=="symbol"?function(r){var n;return r!=null&&(n=r[iteratorSymbol])&&n.apply(r)}:function(){return null},NO_CHAR_ARRAY={};function getArrayOf(r){var n,a,o,s;if(arguments.length===1){if(isArray5(r))return r.slice();if(this===NO_CHAR_ARRAY&&typeof r=="string")return[r];if(s=getIteratorOf(r)){for(a=[];o=s.next(),!o.done;)a.push(o.value);return a}if(r==null)return[r];if(n=r.length,typeof n=="number"){for(a=new Array(n);n--;)a[n]=r[n];return a}return[r]}for(n=arguments.length,a=new Array(n);n--;)a[n]=arguments[n];return a}var isAsyncFunction=typeof Symbol!="undefined"?r=>r[Symbol.toStringTag]==="AsyncFunction":()=>!1,debug=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(r,n){debug=r,libraryFilter=n}var libraryFilter=()=>!0,NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw getErrorWithStack.arguments,new Error}catch(r){return r}return new Error}function prettyStack(r,n){var a=r.stack;return a?(n=n||0,a.indexOf(r.name)===0&&(n+=(r.name+r.message).split(`
`).length),a.split(`
`).slice(n).filter(libraryFilter).map(o=>`
`+o).join("")):""}var dexieErrorNames=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],errorList=dexieErrorNames.concat(idbDomErrorNames),defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(r,n){this._e=getErrorWithStack(),this.name=r,this.message=n}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}});function getMultiErrorMessage(r,n){return r+". Errors: "+Object.keys(n).map(a=>n[a].toString()).filter((a,o,s)=>s.indexOf(a)===o).join(`
`)}function ModifyError(r,n,a,o){this._e=getErrorWithStack(),this.failures=n,this.failedKeys=o,this.successCount=a,this.message=getMultiErrorMessage(r,n)}derive(ModifyError).from(DexieError);function BulkError(r,n){this._e=getErrorWithStack(),this.name="BulkError",this.failures=Object.keys(n).map(a=>n[a]),this.failuresByPos=n,this.message=getMultiErrorMessage(r,n)}derive(BulkError).from(DexieError);var errnames=errorList.reduce((r,n)=>(r[n]=n+"Error",r),{}),BaseException=DexieError,exceptions=errorList.reduce((r,n)=>{var a=n+"Error";function o(s,l){this._e=getErrorWithStack(),this.name=a,s?typeof s=="string"?(this.message=`${s}${l?`
 `+l:""}`,this.inner=l||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=defaultTexts[n]||a,this.inner=null)}return derive(o).from(BaseException),r[n]=o,r},{});exceptions.Syntax=SyntaxError,exceptions.Type=TypeError,exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce((r,n)=>(r[n+"Error"]=exceptions[n],r),{});function mapError(r,n){if(!r||r instanceof DexieError||r instanceof TypeError||r instanceof SyntaxError||!r.name||!exceptionMap[r.name])return r;var a=new exceptionMap[r.name](n||r.message,r);return"stack"in r&&setProp(a,"stack",{get:function(){return this.inner.stack}}),a}var fullNameExceptions=errorList.reduce((r,n)=>(["Syntax","Type","Range"].indexOf(n)===-1&&(r[n+"Error"]=exceptions[n]),r),{});fullNameExceptions.ModifyError=ModifyError,fullNameExceptions.DexieError=DexieError,fullNameExceptions.BulkError=BulkError;function nop(){}function mirror(r){return r}function pureFunctionChain(r,n){return r==null||r===mirror?n:function(a){return n(r(a))}}function callBoth(r,n){return function(){r.apply(this,arguments),n.apply(this,arguments)}}function hookCreatingChain(r,n){return r===nop?n:function(){var a=r.apply(this,arguments);a!==void 0&&(arguments[0]=a);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var l=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?callBoth(o,this.onsuccess):o),s&&(this.onerror=this.onerror?callBoth(s,this.onerror):s),l!==void 0?l:a}}function hookDeletingChain(r,n){return r===nop?n:function(){r.apply(this,arguments);var a=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?callBoth(a,this.onsuccess):a),o&&(this.onerror=this.onerror?callBoth(o,this.onerror):o)}}function hookUpdatingChain(r,n){return r===nop?n:function(a){var o=r.apply(this,arguments);extend3(a,o);var s=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var u=n.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?callBoth(s,this.onsuccess):s),l&&(this.onerror=this.onerror?callBoth(l,this.onerror):l),o===void 0?u===void 0?void 0:u:extend3(o,u)}}function reverseStoppableEventChain(r,n){return r===nop?n:function(){return n.apply(this,arguments)===!1?!1:r.apply(this,arguments)}}function promisableChain(r,n){return r===nop?n:function(){var a=r.apply(this,arguments);if(a&&typeof a.then=="function"){for(var o=this,s=arguments.length,l=new Array(s);s--;)l[s]=arguments[s];return a.then(function(){return n.apply(o,l)})}return n.apply(this,arguments)}}var INTERNAL={},LONG_STACKS_CLIP_LIMIT=100,MAX_LONG_STACKS=20,ZONE_ECHO_LIMIT=100,[resolvedNativePromise,nativePromiseProto,resolvedGlobalPromise]=typeof Promise=="undefined"?[]:(()=>{let r=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[r,getProto2(r),r];const n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,getProto2(n),r]})(),nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1,schedulePhysicalTick=resolvedGlobalPromise?()=>{resolvedGlobalPromise.then(physicalTick)}:_global.setImmediate?setImmediate.bind(null,physicalTick):_global.MutationObserver?()=>{var r=document.createElement("div");new MutationObserver(()=>{physicalTick(),r=null}).observe(r,{attributes:!0}),r.setAttribute("i","1")}:()=>{setTimeout(physicalTick,0)},asap=function(r,n){microtickQueue.push([r,n]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:globalError,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(r=>{try{globalError(r[0],r[1])}catch(n){}})}},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function DexiePromise(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=nop,this._lib=!1;var n=this._PSD=PSD;if(debug&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),typeof r!="function"){if(r!==INTERNAL)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&handleRejection(this,this._value);return}this._state=null,this._value=null,++n.ref,executePromiseTask(this,r)}var thenProp={get:function(){var r=PSD,n=totalEchoes;function a(o,s){var l=!r.global&&(r!==PSD||n!==totalEchoes);const u=l&&!decrementExpectedAwaits();var f=new DexiePromise((d,v)=>{propagateToListener(this,new Listener(nativeAwaitCompatibleWrap(o,r,l,u),nativeAwaitCompatibleWrap(s,r,l,u),d,v,r))});return debug&&linkToPreviousPromise(f,this),f}return a.prototype=INTERNAL,a},set:function(r){setProp(this,"then",r&&r.prototype===INTERNAL?thenProp:{get:function(){return r},set:thenProp.set})}};props(DexiePromise.prototype,{then:thenProp,_then:function(r,n){propagateToListener(this,new Listener(null,null,r,n,PSD))},catch:function(r){if(arguments.length===1)return this.then(null,r);var n=arguments[0],a=arguments[1];return typeof n=="function"?this.then(null,o=>o instanceof n?a(o):PromiseReject(o)):this.then(null,o=>o&&o.name===n?a(o):PromiseReject(o))},finally:function(r){return this.then(n=>(r(),n),n=>(r(),PromiseReject(n)))},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var r=getStack(this,[],MAX_LONG_STACKS),n=r.join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{stack_being_generated=!1}}},timeout:function(r,n){return r<1/0?new DexiePromise((a,o)=>{var s=setTimeout(()=>o(new exceptions.Timeout(n)),r);this.then(a,o).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol!="undefined"&&Symbol.toStringTag&&setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise"),globalPSD.env=snapShot();function Listener(r,n,a,o,s){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof n=="function"?n:null,this.resolve=a,this.reject=o,this.psd=s}props(DexiePromise,{all:function(){var r=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(n,a){r.length===0&&n([]);var o=r.length;r.forEach((s,l)=>DexiePromise.resolve(s).then(u=>{r[l]=u,--o||n(r)},a))})},resolve:r=>{if(r instanceof DexiePromise)return r;if(r&&typeof r.then=="function")return new DexiePromise((a,o)=>{r.then(a,o)});var n=new DexiePromise(INTERNAL,!0,r);return linkToPreviousPromise(n,currentFulfiller),n},reject:PromiseReject,race:function(){var r=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((n,a)=>{r.map(o=>DexiePromise.resolve(o).then(n,a))})},PSD:{get:()=>PSD,set:r=>PSD=r},totalEchoes:{get:()=>totalEchoes},newPSD:newScope,usePSD,scheduler:{get:()=>asap,set:r=>{asap=r}},rejectionMapper:{get:()=>rejectionMapper,set:r=>{rejectionMapper=r}},follow:(r,n)=>new DexiePromise((a,o)=>newScope((s,l)=>{var u=PSD;u.unhandleds=[],u.onunhandled=l,u.finalize=callBoth(function(){run_at_end_of_this_or_next_physical_tick(()=>{this.unhandleds.length===0?s():l(this.unhandleds[0])})},u.finalize),r()},n,a,o))}),NativePromise&&(NativePromise.allSettled&&setProp(DexiePromise,"allSettled",function(){const r=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(n=>{r.length===0&&n([]);let a=r.length;const o=new Array(a);r.forEach((s,l)=>DexiePromise.resolve(s).then(u=>o[l]={status:"fulfilled",value:u},u=>o[l]={status:"rejected",reason:u}).then(()=>--a||n(o)))})}),NativePromise.any&&typeof AggregateError!="undefined"&&setProp(DexiePromise,"any",function(){const r=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((n,a)=>{r.length===0&&a(new AggregateError([]));let o=r.length;const s=new Array(o);r.forEach((l,u)=>DexiePromise.resolve(l).then(f=>n(f),f=>{s[u]=f,--o||a(new AggregateError(s))}))})}));function executePromiseTask(r,n){try{n(a=>{if(r._state===null){if(a===r)throw new TypeError("A promise cannot be resolved with itself.");var o=r._lib&&beginMicroTickScope();a&&typeof a.then=="function"?executePromiseTask(r,(s,l)=>{a instanceof DexiePromise?a._then(s,l):a.then(s,l)}):(r._state=!0,r._value=a,propagateAllListeners(r)),o&&endMicroTickScope()}},handleRejection.bind(null,r))}catch(a){handleRejection(r,a)}}function handleRejection(r,n){if(rejectingErrors.push(n),r._state===null){var a=r._lib&&beginMicroTickScope();n=rejectionMapper(n),r._state=!1,r._value=n,debug&&n!==null&&typeof n=="object"&&!n._promise&&tryCatch(()=>{var o=getPropertyDescriptor(n,"stack");n._promise=r,setProp(n,"stack",{get:()=>stack_being_generated?o&&(o.get?o.get.apply(n):o.value):r.stack})}),addPossiblyUnhandledError(r),propagateAllListeners(r),a&&endMicroTickScope()}}function propagateAllListeners(r){var n=r._listeners;r._listeners=[];for(var a=0,o=n.length;a<o;++a)propagateToListener(r,n[a]);var s=r._PSD;--s.ref||s.finalize(),numScheduledCalls===0&&(++numScheduledCalls,asap(()=>{--numScheduledCalls==0&&finalizePhysicalTick()},[]))}function propagateToListener(r,n){if(r._state===null){r._listeners.push(n);return}var a=r._state?n.onFulfilled:n.onRejected;if(a===null)return(r._state?n.resolve:n.reject)(r._value);++n.psd.ref,++numScheduledCalls,asap(callListener,[a,r,n])}function callListener(r,n,a){try{currentFulfiller=n;var o,s=n._value;n._state?o=r(s):(rejectingErrors.length&&(rejectingErrors=[]),o=r(s),rejectingErrors.indexOf(s)===-1&&markErrorAsHandled(n)),a.resolve(o)}catch(l){a.reject(l)}finally{currentFulfiller=null,--numScheduledCalls==0&&finalizePhysicalTick(),--a.psd.ref||a.psd.finalize()}}function getStack(r,n,a){if(n.length===a)return n;var o="";if(r._state===!1){var s=r._value,l,u;s!=null?(l=s.name||"Error",u=s.message||s,o=prettyStack(s,0)):(l=s,u=""),n.push(l+(u?": "+u:"")+o)}return debug&&(o=prettyStack(r._stackHolder,2),o&&n.indexOf(o)===-1&&n.push(o),r._prev&&getStack(r._prev,n,a)),n}function linkToPreviousPromise(r,n){var a=n?n._numPrev+1:0;a<LONG_STACKS_CLIP_LIMIT&&(r._prev=n,r._numPrev=a)}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var r=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,r}function endMicroTickScope(){var r,n,a;do for(;microtickQueue.length>0;)for(r=microtickQueue,microtickQueue=[],a=r.length,n=0;n<a;++n){var o=r[n];o[0].apply(null,o[1])}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var r=unhandledErrors;unhandledErrors=[],r.forEach(o=>{o._PSD.onunhandled.call(null,o._value,o)});for(var n=tickFinalizers.slice(0),a=n.length;a;)n[--a]()}function run_at_end_of_this_or_next_physical_tick(r){function n(){r(),tickFinalizers.splice(tickFinalizers.indexOf(n),1)}tickFinalizers.push(n),++numScheduledCalls,asap(()=>{--numScheduledCalls==0&&finalizePhysicalTick()},[])}function addPossiblyUnhandledError(r){unhandledErrors.some(n=>n._value===r._value)||unhandledErrors.push(r)}function markErrorAsHandled(r){for(var n=unhandledErrors.length;n;)if(unhandledErrors[--n]._value===r._value){unhandledErrors.splice(n,1);return}}function PromiseReject(r){return new DexiePromise(INTERNAL,!1,r)}function wrap(r,n){var a=PSD;return function(){var o=beginMicroTickScope(),s=PSD;try{return switchToZone(a,!0),r.apply(this,arguments)}catch(l){n&&n(l)}finally{switchToZone(s,!1),o&&endMicroTickScope()}}}var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(r,n,a,o){var s=PSD,l=Object.create(s);l.parent=s,l.ref=0,l.global=!1,l.id=++zone_id_counter;var u=globalPSD.env;l.env=patchGlobalPromise?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:!0,writable:!0},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject,nthen:getPatchedPromiseThen(u.nthen,l),gthen:getPatchedPromiseThen(u.gthen,l)}:{},n&&extend3(l,n),++s.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()};var f=usePSD(l,r,a,o);return l.ref===0&&l.finalize(),f}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=ZONE_ECHO_LIMIT,task.id}function decrementExpectedAwaits(){return task.awaits?(--task.awaits==0&&(task.id=0),task.echoes=task.awaits*ZONE_ECHO_LIMIT,!0):!1}(""+nativePromiseThen).indexOf("[native code]")===-1&&(incrementExpectedAwaits=decrementExpectedAwaits=nop);function onPossibleParallellAsync(r){return task.echoes&&r&&r.constructor===NativePromise?(incrementExpectedAwaits(),r.then(n=>(decrementExpectedAwaits(),n),n=>(decrementExpectedAwaits(),rejection(n)))):r}function zoneEnterEcho(r){++totalEchoes,(!task.echoes||--task.echoes==0)&&(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(r,!0)}function zoneLeaveEcho(){var r=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(r,!1)}function switchToZone(r,n){var a=PSD;if((n?task.echoes&&(!zoneEchoes++||r!==PSD):zoneEchoes&&(!--zoneEchoes||r!==PSD))&&enqueueNativeMicroTask(n?zoneEnterEcho.bind(null,r):zoneLeaveEcho),r!==PSD&&(PSD=r,a===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var o=globalPSD.env.Promise,s=r.env;nativePromiseProto.then=s.nthen,o.prototype.then=s.gthen,(a.global||r.global)&&(Object.defineProperty(_global,"Promise",s.PromiseProp),o.all=s.all,o.race=s.race,o.resolve=s.resolve,o.reject=s.reject,s.allSettled&&(o.allSettled=s.allSettled),s.any&&(o.any=s.any))}}function snapShot(){var r=_global.Promise;return patchGlobalPromise?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(_global,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject,nthen:nativePromiseProto.then,gthen:r.prototype.then}:{}}function usePSD(r,n,a,o,s){var l=PSD;try{return switchToZone(r,!0),n(a,o,s)}finally{switchToZone(l,!1)}}function enqueueNativeMicroTask(r){nativePromiseThen.call(resolvedNativePromise,r)}function nativeAwaitCompatibleWrap(r,n,a,o){return typeof r!="function"?r:function(){var s=PSD;a&&incrementExpectedAwaits(),switchToZone(n,!0);try{return r.apply(this,arguments)}finally{switchToZone(s,!1),o&&enqueueNativeMicroTask(decrementExpectedAwaits)}}}function getPatchedPromiseThen(r,n){return function(a,o){return r.call(this,nativeAwaitCompatibleWrap(a,n),nativeAwaitCompatibleWrap(o,n))}}var UNHANDLEDREJECTION="unhandledrejection";function globalError(r,n){var a;try{a=n.onuncatched(r)}catch(l){}if(a!==!1)try{var o,s={promise:n,reason:r};if(_global.document&&document.createEvent?(o=document.createEvent("Event"),o.initEvent(UNHANDLEDREJECTION,!0,!0),extend3(o,s)):_global.CustomEvent&&(o=new CustomEvent(UNHANDLEDREJECTION,{detail:s}),extend3(o,s)),o&&_global.dispatchEvent&&(dispatchEvent(o),!_global.PromiseRejectionEvent&&_global.onunhandledrejection))try{_global.onunhandledrejection(o)}catch(l){}debug&&o&&!o.defaultPrevented&&console.warn(`Unhandled rejection: ${r.stack||r}`)}catch(l){}}var rejection=DexiePromise.reject;function tempTransaction(r,n,a,o){if(!r.idbdb||!r._state.openComplete&&!PSD.letThrough&&!r._vip){if(r._state.openComplete)return rejection(new exceptions.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._options.autoOpen)return rejection(new exceptions.DatabaseClosed);r.open().catch(nop)}return r._state.dbReadyPromise.then(()=>tempTransaction(r,n,a,o))}else{var s=r._createTransaction(n,a,r._dbSchema);try{s.create(),r._state.PR1398_maxLoop=3}catch(l){return l.name===errnames.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r._close(),r.open().then(()=>tempTransaction(r,n,a,o))):rejection(l)}return s._promise(n,(l,u)=>newScope(()=>(PSD.trans=s,o(l,u,s)))).then(l=>s._completion.then(()=>l))}}var DEXIE_VERSION="3.2.2",maxString=String.fromCharCode(65535),minKey=-1/0,INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",STRING_EXPECTED="String expected.",connections=[],isIEOrEdge=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=r=>!/(dexie\.js|dexie\.min\.js)/.test(r),DBNAMES_DB="__dbnames",READONLY="readonly",READWRITE="readwrite";function combine(r,n){return r?n?function(){return r.apply(this,arguments)&&n.apply(this,arguments)}:r:n}var AnyRange={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function workaroundForUndefinedPrimKey(r){return typeof r=="string"&&!/\./.test(r)?n=>(n[r]===void 0&&r in n&&(n=deepClone(n),delete n[r]),n):n=>n}var Table=class{_trans(r,n,a){const o=this._tx||PSD.trans,s=this.name;function l(f,d,v){if(!v.schema[s])throw new exceptions.NotFound("Table "+s+" not part of transaction");return n(v.idbtrans,v)}const u=beginMicroTickScope();try{return o&&o.db===this.db?o===PSD.trans?o._promise(r,l,a):newScope(()=>o._promise(r,l,a),{trans:o,transless:PSD.transless||PSD}):tempTransaction(this.db,r,[this.name],l)}finally{u&&endMicroTickScope()}}get(r,n){return r&&r.constructor===Object?this.where(r).first(n):this._trans("readonly",a=>this.core.get({trans:a,key:r}).then(o=>this.hook.reading.fire(o))).then(n)}where(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(isArray5(r))return new this.db.WhereClause(this,`[${r.join("+")}]`);const n=keys3(r);if(n.length===1)return this.where(n[0]).equals(r[n[0]]);const a=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&n.every(v=>d.keyPath.indexOf(v)>=0)&&d.keyPath.every(v=>n.indexOf(v)>=0))[0];if(a&&this.db._maxKey!==maxString)return this.where(a.name).equals(a.keyPath.map(d=>r[d]));!a&&debug&&console.warn(`The query ${JSON.stringify(r)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,s=this.db._deps.indexedDB;function l(d,v){try{return s.cmp(d,v)===0}catch(g){return!1}}const[u,f]=n.reduce(([d,v],g)=>{const y=o[g],b=r[g];return[d||y,d||!y?combine(v,y&&y.multi?_=>{const x=getByKeyPath(_,g);return isArray5(x)&&x.some(w=>l(b,w))}:_=>l(b,getByKeyPath(_,g))):v]},[null,null]);return u?this.where(u.name).equals(r[u.keyPath]).filter(f):a?this.filter(f):this.where(n).equals("")}filter(r){return this.toCollection().and(r)}count(r){return this.toCollection().count(r)}offset(r){return this.toCollection().offset(r)}limit(r){return this.toCollection().limit(r)}each(r){return this.toCollection().each(r)}toArray(r){return this.toCollection().toArray(r)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(r){return new this.db.Collection(new this.db.WhereClause(this,isArray5(r)?`[${r.join("+")}]`:r))}reverse(){return this.toCollection().reverse()}mapToClass(r){this.schema.mappedClass=r;const n=a=>{if(!a)return a;const o=Object.create(r.prototype);for(var s in a)if(hasOwn3(a,s))try{o[s]=a[s]}catch(l){}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),r}defineClass(){function r(n){extend3(this,n)}return this.mapToClass(r)}add(r,n){const{auto:a,keyPath:o}=this.schema.primKey;let s=r;return o&&a&&(s=workaroundForUndefinedPrimKey(o)(r)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[s]})).then(l=>l.numFailures?DexiePromise.reject(l.failures[0]):l.lastResult).then(l=>{if(o)try{setByKeyPath(r,o,l)}catch(u){}return l})}update(r,n){if(typeof r=="object"&&!isArray5(r)){const a=getByKeyPath(r,this.schema.primKey.keyPath);if(a===void 0)return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?keys3(n).forEach(o=>{setByKeyPath(r,o,n[o])}):n(r,{value:r,primKey:a})}catch(o){}return this.where(":id").equals(a).modify(n)}else return this.where(":id").equals(r).modify(n)}put(r,n){const{auto:a,keyPath:o}=this.schema.primKey;let s=r;return o&&a&&(s=workaroundForUndefinedPrimKey(o)(r)),this._trans("readwrite",l=>this.core.mutate({trans:l,type:"put",values:[s],keys:n!=null?[n]:null})).then(l=>l.numFailures?DexiePromise.reject(l.failures[0]):l.lastResult).then(l=>{if(o)try{setByKeyPath(r,o,l)}catch(u){}return l})}delete(r){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[r]})).then(n=>n.numFailures?DexiePromise.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"deleteRange",range:AnyRange})).then(r=>r.numFailures?DexiePromise.reject(r.failures[0]):void 0)}bulkGet(r){return this._trans("readonly",n=>this.core.getMany({keys:r,trans:n}).then(a=>a.map(o=>this.hook.reading.fire(o))))}bulkAdd(r,n,a){const o=Array.isArray(n)?n:void 0;a=a||(o?void 0:n);const s=a?a.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:u,keyPath:f}=this.schema.primKey;if(f&&o)throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==r.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");const d=r.length;let v=f&&u?r.map(workaroundForUndefinedPrimKey(f)):r;return this.core.mutate({trans:l,type:"add",keys:o,values:v,wantResults:s}).then(({numFailures:g,results:y,lastResult:b,failures:_})=>{const x=s?y:b;if(g===0)return x;throw new BulkError(`${this.name}.bulkAdd(): ${g} of ${d} operations failed`,_)})})}bulkPut(r,n,a){const o=Array.isArray(n)?n:void 0;a=a||(o?void 0:n);const s=a?a.allKeys:void 0;return this._trans("readwrite",l=>{const{auto:u,keyPath:f}=this.schema.primKey;if(f&&o)throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==r.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");const d=r.length;let v=f&&u?r.map(workaroundForUndefinedPrimKey(f)):r;return this.core.mutate({trans:l,type:"put",keys:o,values:v,wantResults:s}).then(({numFailures:g,results:y,lastResult:b,failures:_})=>{const x=s?y:b;if(g===0)return x;throw new BulkError(`${this.name}.bulkPut(): ${g} of ${d} operations failed`,_)})})}bulkDelete(r){const n=r.length;return this._trans("readwrite",a=>this.core.mutate({trans:a,type:"delete",keys:r})).then(({numFailures:a,lastResult:o,failures:s})=>{if(a===0)return o;throw new BulkError(`${this.name}.bulkDelete(): ${a} of ${n} operations failed`,s)})}};function Events(r){var n={},a=function(f,d){if(d){for(var v=arguments.length,g=new Array(v-1);--v;)g[v-1]=arguments[v];return n[f].subscribe.apply(null,g),r}else if(typeof f=="string")return n[f]};a.addEventType=l;for(var o=1,s=arguments.length;o<s;++o)l(arguments[o]);return a;function l(f,d,v){if(typeof f=="object")return u(f);d||(d=reverseStoppableEventChain),v||(v=nop);var g={subscribers:[],fire:v,subscribe:function(y){g.subscribers.indexOf(y)===-1&&(g.subscribers.push(y),g.fire=d(g.fire,y))},unsubscribe:function(y){g.subscribers=g.subscribers.filter(function(b){return b!==y}),g.fire=g.subscribers.reduce(d,v)}};return n[f]=a[f]=g,g}function u(f){keys3(f).forEach(function(d){var v=f[d];if(isArray5(v))l(d,f[d][0],f[d][1]);else if(v==="asap")var g=l(d,mirror,function(){for(var b=arguments.length,_=new Array(b);b--;)_[b]=arguments[b];g.subscribers.forEach(function(x){asap$1(function(){x.apply(null,_)})})});else throw new exceptions.InvalidArgument("Invalid event config")})}}function makeClassConstructor(r,n){return derive(n).from({prototype:r}),n}function createTableConstructor(r){return makeClassConstructor(Table.prototype,function(a,o,s){this.db=r,this._tx=s,this.name=a,this.schema=o,this.hook=r._allTables[a]?r._allTables[a].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})})}function isPlainKeyRange(r,n){return!(r.filter||r.algorithm||r.or)&&(n?r.justLimit:!r.replayFilter)}function addFilter(r,n){r.filter=combine(r.filter,n)}function addReplayFilter(r,n,a){var o=r.replayFilter;r.replayFilter=o?()=>combine(o(),n()):n,r.justLimit=a&&!o}function addMatchFilter(r,n){r.isMatch=combine(r.isMatch,n)}function getIndexOrStore(r,n){if(r.isPrimKey)return n.primaryKey;const a=n.getIndexByKeyPath(r.index);if(!a)throw new exceptions.Schema("KeyPath "+r.index+" on object store "+n.name+" is not indexed");return a}function openCursor(r,n,a){const o=getIndexOrStore(r,n.schema);return n.openCursor({trans:a,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:o,range:r.range}})}function iter(r,n,a,o){const s=r.replayFilter?combine(r.filter,r.replayFilter()):r.filter;if(r.or){const l={},u=(f,d,v)=>{if(!s||s(d,v,b=>d.stop(b),b=>d.fail(b))){var g=d.primaryKey,y=""+g;y==="[object ArrayBuffer]"&&(y=""+new Uint8Array(g)),hasOwn3(l,y)||(l[y]=!0,n(f,d,v))}};return Promise.all([r.or._iterate(u,a),iterate(openCursor(r,o,a),r.algorithm,u,!r.keysOnly&&r.valueMapper)])}else return iterate(openCursor(r,o,a),combine(r.algorithm,s),n,!r.keysOnly&&r.valueMapper)}function iterate(r,n,a,o){var s=o?(u,f,d)=>a(o(u),f,d):a,l=wrap(s);return r.then(u=>{if(u)return u.start(()=>{var f=()=>u.continue();(!n||n(u,d=>f=d,d=>{u.stop(d),f=nop},d=>{u.fail(d),f=nop}))&&l(u.value,u,d=>f=d),f()})})}function cmp(r,n){try{const a=type4(r),o=type4(n);if(a!==o)return a==="Array"?1:o==="Array"?-1:a==="binary"?1:o==="binary"?-1:a==="string"?1:o==="string"?-1:a==="Date"?1:o!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return r>n?1:r<n?-1:0;case"binary":return compareUint8Arrays(getUint8Array(r),getUint8Array(n));case"Array":return compareArrays(r,n)}}catch(a){}return NaN}function compareArrays(r,n){const a=r.length,o=n.length,s=a<o?a:o;for(let l=0;l<s;++l){const u=cmp(r[l],n[l]);if(u!==0)return u}return a===o?0:a<o?-1:1}function compareUint8Arrays(r,n){const a=r.length,o=n.length,s=a<o?a:o;for(let l=0;l<s;++l)if(r[l]!==n[l])return r[l]<n[l]?-1:1;return a===o?0:a<o?-1:1}function type4(r){const n=typeof r;if(n!=="object")return n;if(ArrayBuffer.isView(r))return"binary";const a=toStringTag(r);return a==="ArrayBuffer"?"binary":a}function getUint8Array(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var Collection=class{_read(r,n){var a=this._ctx;return a.error?a.table._trans(null,rejection.bind(null,a.error)):a.table._trans("readonly",r).then(n)}_write(r){var n=this._ctx;return n.error?n.table._trans(null,rejection.bind(null,n.error)):n.table._trans("readwrite",r,"locked")}_addAlgorithm(r){var n=this._ctx;n.algorithm=combine(n.algorithm,r)}_iterate(r,n){return iter(this._ctx,r,n,this._ctx.table.core)}clone(r){var n=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return r&&extend3(a,r),n._ctx=a,n}raw(){return this._ctx.valueMapper=null,this}each(r){var n=this._ctx;return this._read(a=>iter(n,r,a,n.table.core))}count(r){return this._read(n=>{const a=this._ctx,o=a.table.core;if(isPlainKeyRange(a,!0))return o.count({trans:n,query:{index:getIndexOrStore(a,o.schema),range:a.range}}).then(l=>Math.min(l,a.limit));var s=0;return iter(a,()=>(++s,!1),n,o).then(()=>s)}).then(r)}sortBy(r,n){const a=r.split(".").reverse(),o=a[0],s=a.length-1;function l(d,v){return v?l(d[a[v]],v-1):d[o]}var u=this._ctx.dir==="next"?1:-1;function f(d,v){var g=l(d,s),y=l(v,s);return g<y?-u:g>y?u:0}return this.toArray(function(d){return d.sort(f)}).then(n)}toArray(r){return this._read(n=>{var a=this._ctx;if(a.dir==="next"&&isPlainKeyRange(a,!0)&&a.limit>0){const{valueMapper:o}=a,s=getIndexOrStore(a,a.table.core.schema);return a.table.core.query({trans:n,limit:a.limit,values:!0,query:{index:s,range:a.range}}).then(({result:l})=>o?l.map(o):l)}else{const o=[];return iter(a,s=>o.push(s),n,a.table.core).then(()=>o)}},r)}offset(r){var n=this._ctx;return r<=0?this:(n.offset+=r,isPlainKeyRange(n)?addReplayFilter(n,()=>{var a=r;return(o,s)=>a===0?!0:a===1?(--a,!1):(s(()=>{o.advance(a),a=0}),!1)}):addReplayFilter(n,()=>{var a=r;return()=>--a<0}),this)}limit(r){return this._ctx.limit=Math.min(this._ctx.limit,r),addReplayFilter(this._ctx,()=>{var n=r;return function(a,o,s){return--n<=0&&o(s),n>=0}},!0),this}until(r,n){return addFilter(this._ctx,function(a,o,s){return r(a.value)?(o(s),n):!0}),this}first(r){return this.limit(1).toArray(function(n){return n[0]}).then(r)}last(r){return this.reverse().first(r)}filter(r){return addFilter(this._ctx,function(n){return r(n.value)}),addMatchFilter(this._ctx,r),this}and(r){return this.filter(r)}or(r){return new this.db.WhereClause(this._ctx.table,r,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(r){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,o){r(o.key,o)})}eachUniqueKey(r){return this._ctx.unique="unique",this.eachKey(r)}eachPrimaryKey(r){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,o){r(o.primaryKey,o)})}keys(r){var n=this._ctx;n.keysOnly=!n.isMatch;var a=[];return this.each(function(o,s){a.push(s.key)}).then(function(){return a}).then(r)}primaryKeys(r){var n=this._ctx;if(n.dir==="next"&&isPlainKeyRange(n,!0)&&n.limit>0)return this._read(o=>{var s=getIndexOrStore(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:o})=>o).then(r);n.keysOnly=!n.isMatch;var a=[];return this.each(function(o,s){a.push(s.primaryKey)}).then(function(){return a}).then(r)}uniqueKeys(r){return this._ctx.unique="unique",this.keys(r)}firstKey(r){return this.limit(1).keys(function(n){return n[0]}).then(r)}lastKey(r){return this.reverse().firstKey(r)}distinct(){var r=this._ctx,n=r.index&&r.table.schema.idxByName[r.index];if(!n||!n.multi)return this;var a={};return addFilter(this._ctx,function(o){var s=o.primaryKey.toString(),l=hasOwn3(a,s);return a[s]=!0,!l}),this}modify(r){var n=this._ctx;return this._write(a=>{var o;if(typeof r=="function")o=r;else{var s=keys3(r),l=s.length;o=function(x){for(var w=!1,C=0;C<l;++C){var S=s[C],D=r[S];getByKeyPath(x,S)!==D&&(setByKeyPath(x,S,D),w=!0)}return w}}const u=n.table.core,{outbound:f,extractKey:d}=u.schema.primaryKey,v=this.db._options.modifyChunkSize||200,g=[];let y=0;const b=[],_=(x,w)=>{const{failures:C,numFailures:S}=w;y+=x-S;for(let D of keys3(C))g.push(C[D])};return this.clone().primaryKeys().then(x=>{const w=C=>{const S=Math.min(v,x.length-C);return u.getMany({trans:a,keys:x.slice(C,C+S),cache:"immutable"}).then(D=>{const A=[],T=[],P=f?[]:null,E=[];for(let L=0;L<S;++L){const F=D[L],I={value:deepClone(F),primKey:x[C+L]};o.call(I,I.value,I)!==!1&&(I.value==null?E.push(x[C+L]):!f&&cmp(d(F),d(I.value))!==0?(E.push(x[C+L]),A.push(I.value)):(T.push(I.value),f&&P.push(x[C+L])))}const M=isPlainKeyRange(n)&&n.limit===1/0&&(typeof r!="function"||r===deleteCallback)&&{index:n.index,range:n.range};return Promise.resolve(A.length>0&&u.mutate({trans:a,type:"add",values:A}).then(L=>{for(let F in L.failures)E.splice(parseInt(F),1);_(A.length,L)})).then(()=>(T.length>0||M&&typeof r=="object")&&u.mutate({trans:a,type:"put",keys:P,values:T,criteria:M,changeSpec:typeof r!="function"&&r}).then(L=>_(T.length,L))).then(()=>(E.length>0||M&&r===deleteCallback)&&u.mutate({trans:a,type:"delete",keys:E,criteria:M}).then(L=>_(E.length,L))).then(()=>x.length>C+S&&w(C+v))})};return w(0).then(()=>{if(g.length>0)throw new ModifyError("Error modifying one or more objects",g,y,b);return x.length})})})}delete(){var r=this._ctx,n=r.range;return isPlainKeyRange(r)&&(r.isPrimKey&&!hangsOnDeleteLargeKeyRange||n.type===3)?this._write(a=>{const{primaryKey:o}=r.table.core.schema,s=n;return r.table.core.count({trans:a,query:{index:o,range:s}}).then(l=>r.table.core.mutate({trans:a,type:"deleteRange",range:s}).then(({failures:u,lastResult:f,results:d,numFailures:v})=>{if(v)throw new ModifyError("Could not delete some values",Object.keys(u).map(g=>u[g]),l-v);return l-v}))}):this.modify(deleteCallback)}},deleteCallback=(r,n)=>n.value=null;function createCollectionConstructor(r){return makeClassConstructor(Collection.prototype,function(a,o){this.db=r;let s=AnyRange,l=null;if(o)try{s=o()}catch(v){l=v}const u=a._ctx,f=u.table,d=f.hook.reading.fire;this._ctx={table:f,index:u.index,isPrimKey:!u.index||f.schema.primKey.keyPath&&u.index===f.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:u.or,valueMapper:d!==mirror?d:null}})}function simpleCompare(r,n){return r<n?-1:r===n?0:1}function simpleCompareReverse(r,n){return r>n?-1:r===n?0:1}function fail(r,n,a){var o=r instanceof WhereClause?new r.Collection(r):r;return o._ctx.error=a?new a(n):new TypeError(n),o}function emptyCollection(r){return new r.Collection(r,()=>rangeEqual("")).limit(0)}function upperFactory(r){return r==="next"?n=>n.toUpperCase():n=>n.toLowerCase()}function lowerFactory(r){return r==="next"?n=>n.toLowerCase():n=>n.toUpperCase()}function nextCasing(r,n,a,o,s,l){for(var u=Math.min(r.length,o.length),f=-1,d=0;d<u;++d){var v=n[d];if(v!==o[d])return s(r[d],a[d])<0?r.substr(0,d)+a[d]+a.substr(d+1):s(r[d],o[d])<0?r.substr(0,d)+o[d]+a.substr(d+1):f>=0?r.substr(0,f)+n[f]+a.substr(f+1):null;s(r[d],v)<0&&(f=d)}return u<o.length&&l==="next"?r+a.substr(r.length):u<r.length&&l==="prev"?r.substr(0,a.length):f<0?null:r.substr(0,f)+o[f]+a.substr(f+1)}function addIgnoreCaseAlgorithm(r,n,a,o){var s,l,u,f,d,v,g,y=a.length;if(!a.every(w=>typeof w=="string"))return fail(r,STRING_EXPECTED);function b(w){s=upperFactory(w),l=lowerFactory(w),u=w==="next"?simpleCompare:simpleCompareReverse;var C=a.map(function(S){return{lower:l(S),upper:s(S)}}).sort(function(S,D){return u(S.lower,D.lower)});f=C.map(function(S){return S.upper}),d=C.map(function(S){return S.lower}),v=w,g=w==="next"?"":o}b("next");var _=new r.Collection(r,()=>createRange(f[0],d[y-1]+o));_._ondirectionchange=function(w){b(w)};var x=0;return _._addAlgorithm(function(w,C,S){var D=w.key;if(typeof D!="string")return!1;var A=l(D);if(n(A,d,x))return!0;for(var T=null,P=x;P<y;++P){var E=nextCasing(D,A,f[P],d[P],u,v);E===null&&T===null?x=P+1:(T===null||u(T,E)>0)&&(T=E)}return C(T!==null?function(){w.continue(T+g)}:S),!1}),_}function createRange(r,n,a,o){return{type:2,lower:r,upper:n,lowerOpen:a,upperOpen:o}}function rangeEqual(r){return{type:1,lower:r,upper:r}}var WhereClause=class{get Collection(){return this._ctx.table.db.Collection}between(r,n,a,o){a=a!==!1,o=o===!0;try{return this._cmp(r,n)>0||this._cmp(r,n)===0&&(a||o)&&!(a&&o)?emptyCollection(this):new this.Collection(this,()=>createRange(r,n,!a,!o))}catch(s){return fail(this,INVALID_KEY_ARGUMENT)}}equals(r){return r==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,()=>rangeEqual(r))}above(r){return r==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,()=>createRange(r,void 0,!0))}aboveOrEqual(r){return r==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,()=>createRange(r,void 0,!1))}below(r){return r==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,()=>createRange(void 0,r,!1,!0))}belowOrEqual(r){return r==null?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,()=>createRange(void 0,r))}startsWith(r){return typeof r!="string"?fail(this,STRING_EXPECTED):this.between(r,r+maxString,!0,!0)}startsWithIgnoreCase(r){return r===""?this.startsWith(r):addIgnoreCaseAlgorithm(this,(n,a)=>n.indexOf(a[0])===0,[r],maxString)}equalsIgnoreCase(r){return addIgnoreCaseAlgorithm(this,(n,a)=>n===a[0],[r],"")}anyOfIgnoreCase(){var r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return r.length===0?emptyCollection(this):addIgnoreCaseAlgorithm(this,(n,a)=>a.indexOf(n)!==-1,r,"")}startsWithAnyOfIgnoreCase(){var r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return r.length===0?emptyCollection(this):addIgnoreCaseAlgorithm(this,(n,a)=>a.some(o=>n.indexOf(o)===0),r,maxString)}anyOf(){const r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);let n=this._cmp;try{r.sort(n)}catch(s){return fail(this,INVALID_KEY_ARGUMENT)}if(r.length===0)return emptyCollection(this);const a=new this.Collection(this,()=>createRange(r[0],r[r.length-1]));a._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,r.sort(n)};let o=0;return a._addAlgorithm((s,l,u)=>{const f=s.key;for(;n(f,r[o])>0;)if(++o,o===r.length)return l(u),!1;return n(f,r[o])===0?!0:(l(()=>{s.continue(r[o])}),!1)}),a}notEqual(r){return this.inAnyRange([[minKey,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch(a){return fail(this,INVALID_KEY_ARGUMENT)}const n=r.reduce((a,o)=>a?a.concat([[a[a.length-1][1],o]]):[[minKey,o]],null);return n.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(r,n){const a=this._cmp,o=this._ascending,s=this._descending,l=this._min,u=this._max;if(r.length===0)return emptyCollection(this);if(!r.every(A=>A[0]!==void 0&&A[1]!==void 0&&o(A[0],A[1])<=0))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions.InvalidArgument);const f=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;function v(A,T){let P=0,E=A.length;for(;P<E;++P){const M=A[P];if(a(T[0],M[1])<0&&a(T[1],M[0])>0){M[0]=l(M[0],T[0]),M[1]=u(M[1],T[1]);break}}return P===E&&A.push(T),A}let g=o;function y(A,T){return g(A[0],T[0])}let b;try{b=r.reduce(v,[]),b.sort(y)}catch(A){return fail(this,INVALID_KEY_ARGUMENT)}let _=0;const x=d?A=>o(A,b[_][1])>0:A=>o(A,b[_][1])>=0,w=f?A=>s(A,b[_][0])>0:A=>s(A,b[_][0])>=0;function C(A){return!x(A)&&!w(A)}let S=x;const D=new this.Collection(this,()=>createRange(b[0][0],b[b.length-1][1],!f,!d));return D._ondirectionchange=A=>{A==="next"?(S=x,g=o):(S=w,g=s),b.sort(y)},D._addAlgorithm((A,T,P)=>{for(var E=A.key;S(E);)if(++_,_===b.length)return T(P),!1;return C(E)?!0:(this._cmp(E,b[_][1])===0||this._cmp(E,b[_][0])===0||T(()=>{g===o?A.continue(b[_][0]):A.continue(b[_][1])}),!1)}),D}startsWithAnyOf(){const r=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return r.every(n=>typeof n=="string")?r.length===0?emptyCollection(this):this.inAnyRange(r.map(n=>[n,n+maxString])):fail(this,"startsWithAnyOf() only works with strings")}};function createWhereClauseConstructor(r){return makeClassConstructor(WhereClause.prototype,function(a,o,s){this.db=r,this._ctx={table:a,index:o===":id"?null:o,or:s};const l=r._deps.indexedDB;if(!l)throw new exceptions.MissingAPI;this._cmp=this._ascending=l.cmp.bind(l),this._descending=(u,f)=>l.cmp(f,u),this._max=(u,f)=>l.cmp(u,f)>0?u:f,this._min=(u,f)=>l.cmp(u,f)<0?u:f,this._IDBKeyRange=r._deps.IDBKeyRange})}function eventRejectHandler(r){return wrap(function(n){return preventDefault2(n),r(n.target.error),!1})}function preventDefault2(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var DEXIE_STORAGE_MUTATED_EVENT_NAME="storagemutated",STORAGE_MUTATED_DOM_EVENT_NAME="x-storagemutated-1",globalEvents=Events(null,DEXIE_STORAGE_MUTATED_EVENT_NAME),Transaction=class{_lock(){return assert2(!PSD.global),++this._reculock,this._reculock===1&&!PSD.global&&(PSD.lockOwnerFor=this),this}_unlock(){if(assert2(!PSD.global),--this._reculock==0)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var r=this._blockedFuncs.shift();try{usePSD(r[1],r[0])}catch(n){}}return this}_locked(){return this._reculock&&PSD.lockOwnerFor!==this}create(r){if(!this.mode)return this;const n=this.db.idbdb,a=this.db._state.dbOpenError;if(assert2(!this.idbtrans),!r&&!n)switch(a&&a.name){case"DatabaseClosedError":throw new exceptions.DatabaseClosed(a);case"MissingAPIError":throw new exceptions.MissingAPI(a.message,a);default:throw new exceptions.OpenFailed(a)}if(!this.active)throw new exceptions.TransactionInactive;return assert2(this._completion._state===null),r=this.idbtrans=r||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),r.onerror=wrap(o=>{preventDefault2(o),this._reject(r.error)}),r.onabort=wrap(o=>{preventDefault2(o),this.active&&this._reject(new exceptions.Abort(r.error)),this.active=!1,this.on("abort").fire(o)}),r.oncomplete=wrap(()=>{this.active=!1,this._resolve(),"mutatedParts"in r&&globalEvents.storagemutated.fire(r.mutatedParts)}),this}_promise(r,n,a){if(r==="readwrite"&&this.mode!=="readwrite")return rejection(new exceptions.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked())return new DexiePromise((s,l)=>{this._blockedFuncs.push([()=>{this._promise(r,n,a).then(s,l)},PSD])});if(a)return newScope(()=>{var s=new DexiePromise((l,u)=>{this._lock();const f=n(l,u,this);f&&f.then&&f.then(l,u)});return s.finally(()=>this._unlock()),s._lib=!0,s});var o=new DexiePromise((s,l)=>{var u=n(s,l,this);u&&u.then&&u.then(s,l)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(r){var n=this._root();const a=DexiePromise.resolve(r);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>a);else{n._waitingFor=a,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function l(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=l)})()}var s=n._waitingFor;return new DexiePromise((l,u)=>{a.then(f=>n._waitingQueue.push(wrap(l.bind(null,f))),f=>n._waitingQueue.push(wrap(u.bind(null,f)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new exceptions.Abort))}table(r){const n=this._memoizedTables||(this._memoizedTables={});if(hasOwn3(n,r))return n[r];const a=this.schema[r];if(!a)throw new exceptions.NotFound("Table "+r+" not part of transaction");const o=new this.db.Table(r,a,this);return o.core=this.db.core.table(r),n[r]=o,o}};function createTransactionConstructor(r){return makeClassConstructor(Transaction.prototype,function(a,o,s,l,u){this.db=r,this.mode=a,this.storeNames=o,this.schema=s,this.chromeTransactionDurability=l,this.idbtrans=null,this.on=Events(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new DexiePromise((f,d)=>{this._resolve=f,this._reject=d}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var d=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):d&&this.idbtrans&&this.idbtrans.abort(),rejection(f)})})}function createIndexSpec(r,n,a,o,s,l,u){return{name:r,keyPath:n,unique:a,multi:o,auto:s,compound:l,src:(a&&!u?"&":"")+(o?"*":"")+(s?"++":"")+nameFromKeyPath(n)}}function nameFromKeyPath(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function createTableSchema(r,n,a){return{name:r,primKey:n,indexes:a,mappedClass:null,idxByName:arrayToObject(a,o=>[o.name,o])}}function safariMultiStoreFix(r){return r.length===1?r[0]:r}var getMaxKey=r=>{try{return r.only([[]]),getMaxKey=()=>[[]],[[]]}catch(n){return getMaxKey=()=>maxString,maxString}};function getKeyExtractor(r){return r==null?()=>{}:typeof r=="string"?getSinglePathKeyExtractor(r):n=>getByKeyPath(n,r)}function getSinglePathKeyExtractor(r){return r.split(".").length===1?a=>a[r]:a=>getByKeyPath(a,r)}function arrayify(r){return[].slice.call(r)}var _id_counter=0;function getKeyPathAlias(r){return r==null?":id":typeof r=="string"?r:`[${r.join("+")}]`}function createDBCore(r,n,a){function o(g,y){const b=arrayify(g.objectStoreNames);return{schema:{name:g.name,tables:b.map(_=>y.objectStore(_)).map(_=>{const{keyPath:x,autoIncrement:w}=_,C=isArray5(x),S=x==null,D={},A={name:_.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S,compound:C,keyPath:x,autoIncrement:w,unique:!0,extractKey:getKeyExtractor(x)},indexes:arrayify(_.indexNames).map(T=>_.index(T)).map(T=>{const{name:P,unique:E,multiEntry:M,keyPath:L}=T,F=isArray5(L),I={name:P,compound:F,keyPath:L,unique:E,multiEntry:M,extractKey:getKeyExtractor(L)};return D[getKeyPathAlias(L)]=I,I}),getIndexByKeyPath:T=>D[getKeyPathAlias(T)]};return D[":id"]=A.primaryKey,x!=null&&(D[getKeyPathAlias(x)]=A.primaryKey),A})},hasGetAll:b.length>0&&"getAll"in y.objectStore(b[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(g){if(g.type===3)return null;if(g.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:y,upper:b,lowerOpen:_,upperOpen:x}=g;return y===void 0?b===void 0?null:n.upperBound(b,!!x):b===void 0?n.lowerBound(y,!!_):n.bound(y,b,!!_,!!x)}function l(g){const y=g.name;function b({trans:w,type:C,keys:S,values:D,range:A}){return new Promise((T,P)=>{T=wrap(T);const E=w.objectStore(y),M=E.keyPath==null,L=C==="put"||C==="add";if(!L&&C!=="delete"&&C!=="deleteRange")throw new Error("Invalid operation type: "+C);const{length:F}=S||D||{length:1};if(S&&D&&S.length!==D.length)throw new Error("Given keys array must have same length as given values array.");if(F===0)return T({numFailures:0,failures:{},results:[],lastResult:void 0});let I;const B=[],O=[];let R=0;const z=V=>{++R,preventDefault2(V)};if(C==="deleteRange"){if(A.type===4)return T({numFailures:R,failures:O,results:[],lastResult:void 0});A.type===3?B.push(I=E.clear()):B.push(I=E.delete(s(A)))}else{const[V,W]=L?M?[D,S]:[D,null]:[S,null];if(L)for(let H=0;H<F;++H)B.push(I=W&&W[H]!==void 0?E[C](V[H],W[H]):E[C](V[H])),I.onerror=z;else for(let H=0;H<F;++H)B.push(I=E[C](V[H])),I.onerror=z}const N=V=>{const W=V.target.result;B.forEach((H,$)=>H.error!=null&&(O[$]=H.error)),T({numFailures:R,failures:O,results:C==="delete"?S:B.map(H=>H.result),lastResult:W})};I.onerror=V=>{z(V),N(V)},I.onsuccess=N})}function _({trans:w,values:C,query:S,reverse:D,unique:A}){return new Promise((T,P)=>{T=wrap(T);const{index:E,range:M}=S,L=w.objectStore(y),F=E.isPrimaryKey?L:L.index(E.name),I=D?A?"prevunique":"prev":A?"nextunique":"next",B=C||!("openKeyCursor"in F)?F.openCursor(s(M),I):F.openKeyCursor(s(M),I);B.onerror=eventRejectHandler(P),B.onsuccess=wrap(O=>{const R=B.result;if(!R){T(null);return}R.___id=++_id_counter,R.done=!1;const z=R.continue.bind(R);let N=R.continuePrimaryKey;N&&(N=N.bind(R));const V=R.advance.bind(R),W=()=>{throw new Error("Cursor not started")},H=()=>{throw new Error("Cursor not stopped")};R.trans=w,R.stop=R.continue=R.continuePrimaryKey=R.advance=W,R.fail=wrap(P),R.next=function(){let $=1;return this.start(()=>$--?this.continue():this.stop()).then(()=>this)},R.start=$=>{const Y=new Promise((X,J)=>{X=wrap(X),B.onerror=eventRejectHandler(J),R.fail=J,R.stop=fe=>{R.stop=R.continue=R.continuePrimaryKey=R.advance=H,X(fe)}}),ae=()=>{if(B.result)try{$()}catch(X){R.fail(X)}else R.done=!0,R.start=()=>{throw new Error("Cursor behind last entry")},R.stop()};return B.onsuccess=wrap(X=>{B.onsuccess=ae,ae()}),R.continue=z,R.continuePrimaryKey=N,R.advance=V,ae(),Y},T(R)},P)})}function x(w){return C=>new Promise((S,D)=>{S=wrap(S);const{trans:A,values:T,limit:P,query:E}=C,M=P===1/0?void 0:P,{index:L,range:F}=E,I=A.objectStore(y),B=L.isPrimaryKey?I:I.index(L.name),O=s(F);if(P===0)return S({result:[]});if(w){const R=T?B.getAll(O,M):B.getAllKeys(O,M);R.onsuccess=z=>S({result:z.target.result}),R.onerror=eventRejectHandler(D)}else{let R=0;const z=T||!("openKeyCursor"in B)?B.openCursor(O):B.openKeyCursor(O),N=[];z.onsuccess=V=>{const W=z.result;if(!W)return S({result:N});if(N.push(T?W.value:W.primaryKey),++R===P)return S({result:N});W.continue()},z.onerror=eventRejectHandler(D)}})}return{name:y,schema:g,mutate:b,getMany({trans:w,keys:C}){return new Promise((S,D)=>{S=wrap(S);const A=w.objectStore(y),T=C.length,P=new Array(T);let E=0,M=0,L;const F=B=>{const O=B.target;(P[O._pos]=O.result)!=null,++M===E&&S(P)},I=eventRejectHandler(D);for(let B=0;B<T;++B)C[B]!=null&&(L=A.get(C[B]),L._pos=B,L.onsuccess=F,L.onerror=I,++E);E===0&&S(P)})},get({trans:w,key:C}){return new Promise((S,D)=>{S=wrap(S);const T=w.objectStore(y).get(C);T.onsuccess=P=>S(P.target.result),T.onerror=eventRejectHandler(D)})},query:x(f),openCursor:_,count({query:w,trans:C}){const{index:S,range:D}=w;return new Promise((A,T)=>{const P=C.objectStore(y),E=S.isPrimaryKey?P:P.index(S.name),M=s(D),L=M?E.count(M):E.count();L.onsuccess=wrap(F=>A(F.target.result)),L.onerror=eventRejectHandler(T)})}}}const{schema:u,hasGetAll:f}=o(r,a),d=u.tables.map(g=>l(g)),v={};return d.forEach(g=>v[g.name]=g),{stack:"dbcore",transaction:r.transaction.bind(r),table(g){if(!v[g])throw new Error(`Table '${g}' not found`);return v[g]},MIN_KEY:-1/0,MAX_KEY:getMaxKey(n),schema:u}}function createMiddlewareStack(r,n){return n.reduce((a,{create:o})=>__spreadValues(__spreadValues({},a),o(a)),r)}function createMiddlewareStacks(r,n,{IDBKeyRange:a,indexedDB:o},s){return{dbcore:createMiddlewareStack(createDBCore(n,a,s),r.dbcore)}}function generateMiddlewareStacks({_novip:r},n){const a=n.db,o=createMiddlewareStacks(r._middlewares,a,r._deps,n);r.core=o.dbcore,r.tables.forEach(s=>{const l=s.name;r.core.schema.tables.some(u=>u.name===l)&&(s.core=r.core.table(l),r[l]instanceof r.Table&&(r[l].core=s.core))})}function setApiOnPlace({_novip:r},n,a,o){a.forEach(s=>{const l=o[s];n.forEach(u=>{const f=getPropertyDescriptor(u,s);(!f||"value"in f&&f.value===void 0)&&(u===r.Transaction.prototype||u instanceof r.Transaction?setProp(u,s,{get(){return this.table(s)},set(d){defineProperty2(this,s,{value:d,writable:!0,configurable:!0,enumerable:!0})}}):u[s]=new r.Table(s,l))})})}function removeTablesApi({_novip:r},n){n.forEach(a=>{for(let o in a)a[o]instanceof r.Table&&delete a[o]})}function lowerVersionFirst(r,n){return r._cfg.version-n._cfg.version}function runUpgraders(r,n,a,o){const s=r._dbSchema,l=r._createTransaction("readwrite",r._storeNames,s);l.create(a),l._completion.catch(o);const u=l._reject.bind(l),f=PSD.transless||PSD;newScope(()=>{PSD.trans=l,PSD.transless=f,n===0?(keys3(s).forEach(d=>{createTable(a,d,s[d].primKey,s[d].indexes)}),generateMiddlewareStacks(r,a),DexiePromise.follow(()=>r.on.populate.fire(l)).catch(u)):updateTablesAndIndexes(r,n,l,a).catch(u)})}function updateTablesAndIndexes({_novip:r},n,a,o){const s=[],l=r._versions;let u=r._dbSchema=buildGlobalSchema(r,r.idbdb,o),f=!1;l.filter(g=>g._cfg.version>=n).forEach(g=>{s.push(()=>{const y=u,b=g._cfg.dbschema;adjustToExistingIndexNames(r,y,o),adjustToExistingIndexNames(r,b,o),u=r._dbSchema=b;const _=getSchemaDiff(y,b);_.add.forEach(w=>{createTable(o,w[0],w[1].primKey,w[1].indexes)}),_.change.forEach(w=>{if(w.recreate)throw new exceptions.Upgrade("Not yet support for changing primary key");{const C=o.objectStore(w.name);w.add.forEach(S=>addIndex(C,S)),w.change.forEach(S=>{C.deleteIndex(S.name),addIndex(C,S)}),w.del.forEach(S=>C.deleteIndex(S))}});const x=g._cfg.contentUpgrade;if(x&&g._cfg.version>n){generateMiddlewareStacks(r,o),a._memoizedTables={},f=!0;let w=shallowClone(b);_.del.forEach(A=>{w[A]=y[A]}),removeTablesApi(r,[r.Transaction.prototype]),setApiOnPlace(r,[r.Transaction.prototype],keys3(w),w),a.schema=w;const C=isAsyncFunction(x);C&&incrementExpectedAwaits();let S;const D=DexiePromise.follow(()=>{if(S=x(a),S&&C){var A=decrementExpectedAwaits.bind(null,null);S.then(A,A)}});return S&&typeof S.then=="function"?DexiePromise.resolve(S):D.then(()=>S)}}),s.push(y=>{if(!f||!hasIEDeleteObjectStoreBug){const b=g._cfg.dbschema;deleteRemovedTables(b,y)}removeTablesApi(r,[r.Transaction.prototype]),setApiOnPlace(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),a.schema=r._dbSchema})});function v(){return s.length?DexiePromise.resolve(s.shift()(a.idbtrans)).then(v):DexiePromise.resolve()}return v().then(()=>{createMissingTables(u,o)})}function getSchemaDiff(r,n){const a={del:[],add:[],change:[]};let o;for(o in r)n[o]||a.del.push(o);for(o in n){const s=r[o],l=n[o];if(!s)a.add.push([o,l]);else{const u={name:o,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||s.primKey.auto!==l.primKey.auto&&!isIEOrEdge)u.recreate=!0,a.change.push(u);else{const f=s.idxByName,d=l.idxByName;let v;for(v in f)d[v]||u.del.push(v);for(v in d){const g=f[v],y=d[v];g?g.src!==y.src&&u.change.push(y):u.add.push(y)}(u.del.length>0||u.add.length>0||u.change.length>0)&&a.change.push(u)}}}return a}function createTable(r,n,a,o){const s=r.db.createObjectStore(n,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return o.forEach(l=>addIndex(s,l)),s}function createMissingTables(r,n){keys3(r).forEach(a=>{n.db.objectStoreNames.contains(a)||createTable(n,a,r[a].primKey,r[a].indexes)})}function deleteRemovedTables(r,n){[].slice.call(n.db.objectStoreNames).forEach(a=>r[a]==null&&n.db.deleteObjectStore(a))}function addIndex(r,n){r.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function buildGlobalSchema(r,n,a){const o={};return slice2(n.objectStoreNames,0).forEach(l=>{const u=a.objectStore(l);let f=u.keyPath;const d=createIndexSpec(nameFromKeyPath(f),f||"",!1,!1,!!u.autoIncrement,f&&typeof f!="string",!0),v=[];for(let y=0;y<u.indexNames.length;++y){const b=u.index(u.indexNames[y]);f=b.keyPath;var g=createIndexSpec(b.name,f,!!b.unique,!!b.multiEntry,!1,f&&typeof f!="string",!1);v.push(g)}o[l]=createTableSchema(l,d,v)}),o}function readGlobalSchema({_novip:r},n,a){r.verno=n.version/10;const o=r._dbSchema=buildGlobalSchema(r,n,a);r._storeNames=slice2(n.objectStoreNames,0),setApiOnPlace(r,[r._allTables],keys3(o),o)}function verifyInstalledSchema(r,n){const a=buildGlobalSchema(r,r.idbdb,n),o=getSchemaDiff(a,r._dbSchema);return!(o.add.length||o.change.some(s=>s.add.length||s.change.length))}function adjustToExistingIndexNames({_novip:r},n,a){const o=a.db.objectStoreNames;for(let s=0;s<o.length;++s){const l=o[s],u=a.objectStore(l);r._hasGetAll="getAll"in u;for(let f=0;f<u.indexNames.length;++f){const d=u.indexNames[f],v=u.index(d).keyPath,g=typeof v=="string"?v:"["+slice2(v).join("+")+"]";if(n[l]){const y=n[l].idxByName[g];y&&(y.name=d,delete n[l].idxByName[g],n[l].idxByName[d]=y)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_global.WorkerGlobalScope&&_global instanceof _global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function parseIndexSyntax(r){return r.split(",").map((n,a)=>{n=n.trim();const o=n.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return createIndexSpec(o,s||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),isArray5(s),a===0)})}var Version=class{_parseStoresSpec(r,n){keys3(r).forEach(a=>{if(r[a]!==null){var o=parseIndexSyntax(r[a]),s=o.shift();if(s.multi)throw new exceptions.Schema("Primary key cannot be multi-valued");o.forEach(l=>{if(l.auto)throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new exceptions.Schema("Index must have a name and cannot be an empty string")}),n[a]=createTableSchema(a,s,o)}})}stores(r){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?extend3(this._cfg.storesSource,r):r;const a=n._versions,o={};let s={};return a.forEach(l=>{extend3(o,l._cfg.storesSource),s=l._cfg.dbschema={},l._parseStoresSpec(o,s)}),n._dbSchema=s,removeTablesApi(n,[n._allTables,n,n.Transaction.prototype]),setApiOnPlace(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],keys3(s),s),n._storeNames=keys3(s),this}upgrade(r){return this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,r),this}};function createVersionConstructor(r){return makeClassConstructor(Version.prototype,function(a){this.db=r,this._cfg={version:a,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function getDbNamesTable(r,n){let a=r._dbNamesDB;return a||(a=r._dbNamesDB=new Dexie$1(DBNAMES_DB,{addons:[],indexedDB:r,IDBKeyRange:n}),a.version(1).stores({dbnames:"name"})),a.table("dbnames")}function hasDatabasesNative(r){return r&&typeof r.databases=="function"}function getDatabaseNames({indexedDB:r,IDBKeyRange:n}){return hasDatabasesNative(r)?Promise.resolve(r.databases()).then(a=>a.map(o=>o.name).filter(o=>o!==DBNAMES_DB)):getDbNamesTable(r,n).toCollection().primaryKeys()}function _onDatabaseCreated({indexedDB:r,IDBKeyRange:n},a){!hasDatabasesNative(r)&&a!==DBNAMES_DB&&getDbNamesTable(r,n).put({name:a}).catch(nop)}function _onDatabaseDeleted({indexedDB:r,IDBKeyRange:n},a){!hasDatabasesNative(r)&&a!==DBNAMES_DB&&getDbNamesTable(r,n).delete(a).catch(nop)}function vip(r){return newScope(function(){return PSD.letThrough=!0,r()})}function idbReady(){var r=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!r||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(a){var o=function(){return indexedDB.databases().finally(a)};n=setInterval(o,100),o()}).finally(function(){return clearInterval(n)})}function dexieOpen(r){const n=r._state,{indexedDB:a}=r._deps;if(n.isBeingOpened||r.idbdb)return n.dbReadyPromise.then(()=>n.dbOpenError?rejection(n.dbOpenError):r);debug&&(n.openCanceller._stackHolder=getErrorWithStack()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const o=n.openCanceller;function s(){if(n.openCanceller!==o)throw new exceptions.DatabaseClosed("db.open() was cancelled")}let l=n.dbReadyResolve,u=null,f=!1;return DexiePromise.race([o,(typeof navigator=="undefined"?DexiePromise.resolve():idbReady()).then(()=>new DexiePromise((d,v)=>{if(s(),!a)throw new exceptions.MissingAPI;const g=r.name,y=n.autoSchema?a.open(g):a.open(g,Math.round(r.verno*10));if(!y)throw new exceptions.MissingAPI;y.onerror=eventRejectHandler(v),y.onblocked=wrap(r._fireOnBlocked),y.onupgradeneeded=wrap(b=>{if(u=y.transaction,n.autoSchema&&!r._options.allowEmptyDB){y.onerror=preventDefault2,u.abort(),y.result.close();const x=a.deleteDatabase(g);x.onsuccess=x.onerror=wrap(()=>{v(new exceptions.NoSuchDatabase(`Database ${g} doesnt exist`))})}else{u.onerror=eventRejectHandler(v);var _=b.oldVersion>Math.pow(2,62)?0:b.oldVersion;f=_<1,r._novip.idbdb=y.result,runUpgraders(r,_/10,u,v)}},v),y.onsuccess=wrap(()=>{u=null;const b=r._novip.idbdb=y.result,_=slice2(b.objectStoreNames);if(_.length>0)try{const x=b.transaction(safariMultiStoreFix(_),"readonly");n.autoSchema?readGlobalSchema(r,b,x):(adjustToExistingIndexNames(r,r._dbSchema,x),verifyInstalledSchema(r,x)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),generateMiddlewareStacks(r,x)}catch(x){}connections.push(r),b.onversionchange=wrap(x=>{n.vcFired=!0,r.on("versionchange").fire(x)}),b.onclose=wrap(x=>{r.on("close").fire(x)}),f&&_onDatabaseCreated(r._deps,g),d()},v)}))]).then(()=>(s(),n.onReadyBeingFired=[],DexiePromise.resolve(vip(()=>r.on.ready.fire(r.vip))).then(function d(){if(n.onReadyBeingFired.length>0){let v=n.onReadyBeingFired.reduce(promisableChain,nop);return n.onReadyBeingFired=[],DexiePromise.resolve(vip(()=>v(r.vip))).then(d)}}))).finally(()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1}).then(()=>r).catch(d=>{n.dbOpenError=d;try{u&&u.abort()}catch(v){}return o===n.openCanceller&&r._close(),rejection(d)}).finally(()=>{n.openComplete=!0,l()})}function awaitIterator(r){var n=u=>r.next(u),a=u=>r.throw(u),o=l(n),s=l(a);function l(u){return f=>{var d=u(f),v=d.value;return d.done?v:!v||typeof v.then!="function"?isArray5(v)?Promise.all(v).then(o,s):o(v):v.then(o,s)}}return l(n)()}function extractTransactionArgs(r,n,a){var o=arguments.length;if(o<2)throw new exceptions.InvalidArgument("Too few arguments");for(var s=new Array(o-1);--o;)s[o-1]=arguments[o];a=s.pop();var l=flatten4(s);return[r,l,a]}function enterTransactionScope(r,n,a,o,s){return DexiePromise.resolve().then(()=>{const l=PSD.transless||PSD,u=r._createTransaction(n,a,r._dbSchema,o),f={trans:u,transless:l};if(o)u.idbtrans=o.idbtrans;else try{u.create(),r._state.PR1398_maxLoop=3}catch(y){return y.name===errnames.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r._close(),r.open().then(()=>enterTransactionScope(r,n,a,null,s))):rejection(y)}const d=isAsyncFunction(s);d&&incrementExpectedAwaits();let v;const g=DexiePromise.follow(()=>{if(v=s.call(u,u),v)if(d){var y=decrementExpectedAwaits.bind(null,null);v.then(y,y)}else typeof v.next=="function"&&typeof v.throw=="function"&&(v=awaitIterator(v))},f);return(v&&typeof v.then=="function"?DexiePromise.resolve(v).then(y=>u.active?y:rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):g.then(()=>v)).then(y=>(o&&u._resolve(),u._completion.then(()=>y))).catch(y=>(u._reject(y),rejection(y)))})}function pad2(r,n,a){const o=isArray5(r)?r.slice():[r];for(let s=0;s<a;++s)o.push(n);return o}function createVirtualIndexMiddleware(r){return __spreadProps(__spreadValues({},r),{table(n){const a=r.table(n),{schema:o}=a,s={},l=[];function u(b,_,x){const w=getKeyPathAlias(b),C=s[w]=s[w]||[],S=b==null?0:typeof b=="string"?1:b.length,D=_>0,A=__spreadProps(__spreadValues({},x),{isVirtual:D,keyTail:_,keyLength:S,extractKey:getKeyExtractor(b),unique:!D&&x.unique});if(C.push(A),A.isPrimaryKey||l.push(A),S>1){const T=S===2?b[0]:b.slice(0,S-1);u(T,_+1,x)}return C.sort((T,P)=>T.keyTail-P.keyTail),A}const f=u(o.primaryKey.keyPath,0,o.primaryKey);s[":id"]=[f];for(const b of o.indexes)u(b.keyPath,0,b);function d(b){const _=s[getKeyPathAlias(b)];return _&&_[0]}function v(b,_){return{type:b.type===1?2:b.type,lower:pad2(b.lower,b.lowerOpen?r.MAX_KEY:r.MIN_KEY,_),lowerOpen:!0,upper:pad2(b.upper,b.upperOpen?r.MIN_KEY:r.MAX_KEY,_),upperOpen:!0}}function g(b){const _=b.query.index;return _.isVirtual?__spreadProps(__spreadValues({},b),{query:{index:_,range:v(b.query.range,_.keyTail)}}):b}return __spreadProps(__spreadValues({},a),{schema:__spreadProps(__spreadValues({},o),{primaryKey:f,indexes:l,getIndexByKeyPath:d}),count(b){return a.count(g(b))},query(b){return a.query(g(b))},openCursor(b){const{keyTail:_,isVirtual:x,keyLength:w}=b.query.index;if(!x)return a.openCursor(b);function C(S){function D(T){T!=null?S.continue(pad2(T,b.reverse?r.MAX_KEY:r.MIN_KEY,_)):b.unique?S.continue(S.key.slice(0,w).concat(b.reverse?r.MIN_KEY:r.MAX_KEY,_)):S.continue()}return Object.create(S,{continue:{value:D},continuePrimaryKey:{value(T,P){S.continuePrimaryKey(pad2(T,r.MAX_KEY,_),P)}},primaryKey:{get(){return S.primaryKey}},key:{get(){const T=S.key;return w===1?T[0]:T.slice(0,w)}},value:{get(){return S.value}}})}return a.openCursor(g(b)).then(S=>S&&C(S))}})}})}var virtualIndexMiddleware={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware};function getObjectDiff(r,n,a,o){return a=a||{},o=o||"",keys3(r).forEach(s=>{if(!hasOwn3(n,s))a[o+s]=void 0;else{var l=r[s],u=n[s];if(typeof l=="object"&&typeof u=="object"&&l&&u){const f=toStringTag(l),d=toStringTag(u);f!==d?a[o+s]=n[s]:f==="Object"?getObjectDiff(l,u,a,o+s+"."):l!==u&&(a[o+s]=n[s])}else l!==u&&(a[o+s]=n[s])}}),keys3(n).forEach(s=>{hasOwn3(r,s)||(a[o+s]=n[s])}),a}function getEffectiveKeys(r,n){return n.type==="delete"?n.keys:n.keys||n.values.map(r.extractKey)}var hooksMiddleware={stack:"dbcore",name:"HooksMiddleware",level:2,create:r=>__spreadProps(__spreadValues({},r),{table(n){const a=r.table(n),{primaryKey:o}=a.schema;return __spreadProps(__spreadValues({},a),{mutate(l){const u=PSD.trans,{deleting:f,creating:d,updating:v}=u.table(n).hook;switch(l.type){case"add":if(d.fire===nop)break;return u._promise("readwrite",()=>g(l),!0);case"put":if(d.fire===nop&&v.fire===nop)break;return u._promise("readwrite",()=>g(l),!0);case"delete":if(f.fire===nop)break;return u._promise("readwrite",()=>g(l),!0);case"deleteRange":if(f.fire===nop)break;return u._promise("readwrite",()=>y(l),!0)}return a.mutate(l);function g(_){const x=PSD.trans,w=_.keys||getEffectiveKeys(o,_);if(!w)throw new Error("Keys missing");return _=_.type==="add"||_.type==="put"?__spreadProps(__spreadValues({},_),{keys:w}):__spreadValues({},_),_.type!=="delete"&&(_.values=[..._.values]),_.keys&&(_.keys=[..._.keys]),getExistingValues(a,_,w).then(C=>{const S=w.map((D,A)=>{const T=C[A],P={onerror:null,onsuccess:null};if(_.type==="delete")f.fire.call(P,D,T,x);else if(_.type==="add"||T===void 0){const E=d.fire.call(P,D,_.values[A],x);D==null&&E!=null&&(D=E,_.keys[A]=D,o.outbound||setByKeyPath(_.values[A],o.keyPath,D))}else{const E=getObjectDiff(T,_.values[A]),M=v.fire.call(P,E,D,T,x);if(M){const L=_.values[A];Object.keys(M).forEach(F=>{hasOwn3(L,F)?L[F]=M[F]:setByKeyPath(L,F,M[F])})}}return P});return a.mutate(_).then(({failures:D,results:A,numFailures:T,lastResult:P})=>{for(let E=0;E<w.length;++E){const M=A?A[E]:w[E],L=S[E];M==null?L.onerror&&L.onerror(D[E]):L.onsuccess&&L.onsuccess(_.type==="put"&&C[E]?_.values[E]:M)}return{failures:D,results:A,numFailures:T,lastResult:P}}).catch(D=>(S.forEach(A=>A.onerror&&A.onerror(D)),Promise.reject(D)))})}function y(_){return b(_.trans,_.range,1e4)}function b(_,x,w){return a.query({trans:_,values:!1,query:{index:o,range:x},limit:w}).then(({result:C})=>g({type:"delete",keys:C,trans:_}).then(S=>S.numFailures>0?Promise.reject(S.failures[0]):C.length<w?{failures:[],numFailures:0,lastResult:void 0}:b(_,__spreadProps(__spreadValues({},x),{lower:C[C.length-1],lowerOpen:!0}),w)))}}})}})};function getExistingValues(r,n,a){return n.type==="add"?Promise.resolve([]):r.getMany({trans:n.trans,keys:a,cache:"immutable"})}function getFromTransactionCache(r,n,a){try{if(!n||n.keys.length<r.length)return null;const o=[];for(let s=0,l=0;s<n.keys.length&&l<r.length;++s)cmp(n.keys[s],r[l])===0&&(o.push(a?deepClone(n.values[s]):n.values[s]),++l);return o.length===r.length?o:null}catch(o){return null}}var cacheExistingValuesMiddleware={stack:"dbcore",level:-1,create:r=>({table:n=>{const a=r.table(n);return __spreadProps(__spreadValues({},a),{getMany:o=>{if(!o.cache)return a.getMany(o);const s=getFromTransactionCache(o.keys,o.trans._cache,o.cache==="clone");return s?DexiePromise.resolve(s):a.getMany(o).then(l=>(o.trans._cache={keys:o.keys,values:o.cache==="clone"?deepClone(l):l},l))},mutate:o=>(o.type!=="add"&&(o.trans._cache=null),a.mutate(o))})}})};function isEmptyRange(r){return!("from"in r)}var RangeSet=function(r,n){if(this)extend3(this,arguments.length?{d:1,from:r,to:arguments.length>1?n:r}:{d:0});else{const a=new RangeSet;return r&&"d"in r&&extend3(a,r),a}};props(RangeSet.prototype,{add(r){return mergeRanges(this,r),this},addKey(r){return addRange(this,r,r),this},addKeys(r){return r.forEach(n=>addRange(this,n,n)),this},[iteratorSymbol](){return getRangeSetIterator(this)}});function addRange(r,n,a){const o=cmp(n,a);if(isNaN(o))return;if(o>0)throw RangeError();if(isEmptyRange(r))return extend3(r,{from:n,to:a,d:1});const s=r.l,l=r.r;if(cmp(a,r.from)<0)return s?addRange(s,n,a):r.l={from:n,to:a,d:1,l:null,r:null},rebalance(r);if(cmp(n,r.to)>0)return l?addRange(l,n,a):r.r={from:n,to:a,d:1,l:null,r:null},rebalance(r);cmp(n,r.from)<0&&(r.from=n,r.l=null,r.d=l?l.d+1:1),cmp(a,r.to)>0&&(r.to=a,r.r=null,r.d=r.l?r.l.d+1:1);const u=!r.r;s&&!r.l&&mergeRanges(r,s),l&&u&&mergeRanges(r,l)}function mergeRanges(r,n){function a(o,{from:s,to:l,l:u,r:f}){addRange(o,s,l),u&&a(o,u),f&&a(o,f)}isEmptyRange(n)||a(r,n)}function rangesOverlap(r,n){const a=getRangeSetIterator(n);let o=a.next();if(o.done)return!1;let s=o.value;const l=getRangeSetIterator(r);let u=l.next(s.from),f=u.value;for(;!o.done&&!u.done;){if(cmp(f.from,s.to)<=0&&cmp(f.to,s.from)>=0)return!0;cmp(s.from,f.from)<0?s=(o=a.next(f.from)).value:f=(u=l.next(s.from)).value}return!1}function getRangeSetIterator(r){let n=isEmptyRange(r)?null:{s:0,n:r};return{next(a){const o=arguments.length>0;for(;n;)switch(n.s){case 0:if(n.s=1,o)for(;n.n.l&&cmp(a,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!o||cmp(a,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function rebalance(r){var n,a;const o=(((n=r.r)===null||n===void 0?void 0:n.d)||0)-(((a=r.l)===null||a===void 0?void 0:a.d)||0),s=o>1?"r":o<-1?"l":"";if(s){const l=s==="r"?"l":"r",u=__spreadValues({},r),f=r[s];r.from=f.from,r.to=f.to,r[s]=f[s],u[s]=f[l],r[l]=u,u.d=computeDepth(u)}r.d=computeDepth(r)}function computeDepth({r,l:n}){return(r?n?Math.max(r.d,n.d):r.d:n?n.d:0)+1}var observabilityMiddleware={stack:"dbcore",level:0,create:r=>{const n=r.schema.name,a=new RangeSet(r.MIN_KEY,r.MAX_KEY);return __spreadProps(__spreadValues({},r),{table:o=>{const s=r.table(o),{schema:l}=s,{primaryKey:u}=l,{extractKey:f,outbound:d}=u,v=__spreadProps(__spreadValues({},s),{mutate:b=>{const _=b.trans,x=_.mutatedParts||(_.mutatedParts={}),w=E=>{const M=`idb://${n}/${o}/${E}`;return x[M]||(x[M]=new RangeSet)},C=w(""),S=w(":dels"),{type:D}=b;let[A,T]=b.type==="deleteRange"?[b.range]:b.type==="delete"?[b.keys]:b.values.length<50?[[],b.values]:[];const P=b.trans._cache;return s.mutate(b).then(E=>{if(isArray5(A)){D!=="delete"&&(A=E.results),C.addKeys(A);const M=getFromTransactionCache(A,P);!M&&D!=="add"&&S.addKeys(A),(M||T)&&trackAffectedIndexes(w,l,M,T)}else if(A){const M={from:A.lower,to:A.upper};S.add(M),C.add(M)}else C.add(a),S.add(a),l.indexes.forEach(M=>w(M.name).add(a));return E})}}),g=({query:{index:b,range:_}})=>{var x,w;return[b,new RangeSet((x=_.lower)!==null&&x!==void 0?x:r.MIN_KEY,(w=_.upper)!==null&&w!==void 0?w:r.MAX_KEY)]},y={get:b=>[u,new RangeSet(b.key)],getMany:b=>[u,new RangeSet().addKeys(b.keys)],count:g,query:g,openCursor:g};return keys3(y).forEach(b=>{v[b]=function(_){const{subscr:x}=PSD;if(x){const w=T=>{const P=`idb://${n}/${o}/${T}`;return x[P]||(x[P]=new RangeSet)},C=w(""),S=w(":dels"),[D,A]=y[b](_);if(w(D.name||"").add(A),!D.isPrimaryKey)if(b==="count")S.add(a);else{const T=b==="query"&&d&&_.values&&s.query(__spreadProps(__spreadValues({},_),{values:!1}));return s[b].apply(this,arguments).then(P=>{if(b==="query"){if(d&&_.values)return T.then(({result:M})=>(C.addKeys(M),P));const E=_.values?P.result.map(f):P.result;_.values?C.addKeys(E):S.addKeys(E)}else if(b==="openCursor"){const E=P,M=_.values;return E&&Object.create(E,{key:{get(){return S.addKey(E.primaryKey),E.key}},primaryKey:{get(){const L=E.primaryKey;return S.addKey(L),L}},value:{get(){return M&&C.addKey(E.primaryKey),E.value}}})}return P})}}return s[b].apply(this,arguments)}}),v}})}};function trackAffectedIndexes(r,n,a,o){function s(l){const u=r(l.name||"");function f(v){return v!=null?l.extractKey(v):null}const d=v=>l.multiEntry&&isArray5(v)?v.forEach(g=>u.addKey(g)):u.addKey(v);(a||o).forEach((v,g)=>{const y=a&&f(a[g]),b=o&&f(o[g]);cmp(y,b)!==0&&(y!=null&&d(y),b!=null&&d(b))})}n.indexes.forEach(s)}var Dexie$1=class{constructor(r,n){this._middlewares={},this.verno=0;const a=Dexie$1.dependencies;this._options=n=__spreadValues({addons:Dexie$1.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new DexiePromise(l=>{s.dbReadyResolve=l}),s.openCanceller=new DexiePromise((l,u)=>{s.cancelOpen=u}),this._state=s,this.name=r,this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,l=>(u,f)=>{Dexie$1.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||DexiePromise.resolve().then(u),f&&l(u);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(u),f&&l(u);else{l(u);const v=this;f||l(function g(){v.on.ready.unsubscribe(u),v.on.ready.unsubscribe(g)})}})}),this.Collection=createCollectionConstructor(this),this.Table=createTableConstructor(this),this.Transaction=createTransactionConstructor(this),this.Version=createVersionConstructor(this),this.WhereClause=createWhereClauseConstructor(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=getMaxKey(n.IDBKeyRange),this._createTransaction=(l,u,f,d)=>new this.Transaction(l,u,f,this._options.chromeTransactionDurability,d),this._fireOnBlocked=l=>{this.on("blocked").fire(l),connections.filter(u=>u.name===this.name&&u!==this&&!u._state.vcFired).map(u=>u.on("versionchange").fire(l))},this.use(virtualIndexMiddleware),this.use(hooksMiddleware),this.use(observabilityMiddleware),this.use(cacheExistingValuesMiddleware),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(l=>l(this))}version(r){if(isNaN(r)||r<.1)throw new exceptions.Type("Given version is not a positive number");if(r=Math.round(r*10)/10,this.idbdb||this._state.isBeingOpened)throw new exceptions.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);const n=this._versions;var a=n.filter(o=>o._cfg.version===r)[0];return a||(a=new this.Version(r),n.push(a),n.sort(lowerVersionFirst),a.stores({}),this._state.autoSchema=!1,a)}_whenReady(r){return this.idbdb&&(this._state.openComplete||PSD.letThrough||this._vip)?r():new DexiePromise((n,a)=>{if(this._state.openComplete)return a(new exceptions.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){a(new exceptions.DatabaseClosed);return}this.open().catch(nop)}this._state.dbReadyPromise.then(n,a)}).then(r)}use({stack:r,create:n,level:a,name:o}){o&&this.unuse({stack:r,name:o});const s=this._middlewares[r]||(this._middlewares[r]=[]);return s.push({stack:r,create:n,level:a==null?10:a,name:o}),s.sort((l,u)=>l.level-u.level),this}unuse({stack:r,name:n,create:a}){return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(o=>a?o.create!==a:n?o.name!==n:!1)),this}open(){return dexieOpen(this)}_close(){const r=this._state,n=connections.indexOf(this);if(n>=0&&connections.splice(n,1),this.idbdb){try{this.idbdb.close()}catch(a){}this._novip.idbdb=null}r.dbReadyPromise=new DexiePromise(a=>{r.dbReadyResolve=a}),r.openCanceller=new DexiePromise((a,o)=>{r.cancelOpen=o})}close(){this._close();const r=this._state;this._options.autoOpen=!1,r.dbOpenError=new exceptions.DatabaseClosed,r.isBeingOpened&&r.cancelOpen(r.dbOpenError)}delete(){const r=arguments.length>0,n=this._state;return new DexiePromise((a,o)=>{const s=()=>{this.close();var l=this._deps.indexedDB.deleteDatabase(this.name);l.onsuccess=wrap(()=>{_onDatabaseDeleted(this._deps,this.name),a()}),l.onerror=eventRejectHandler(o),l.onblocked=this._fireOnBlocked};if(r)throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return keys3(this._allTables).map(r=>this._allTables[r])}transaction(){const r=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,r)}_transaction(r,n,a){let o=PSD.trans;(!o||o.db!==this||r.indexOf("!")!==-1)&&(o=null);const s=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");let l,u;try{if(u=n.map(d=>{var v=d instanceof this.Table?d.name:d;if(typeof v!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),r=="r"||r===READONLY)l=READONLY;else if(r=="rw"||r==READWRITE)l=READWRITE;else throw new exceptions.InvalidArgument("Invalid transaction mode: "+r);if(o){if(o.mode===READONLY&&l===READWRITE)if(s)o=null;else throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&u.forEach(d=>{if(o&&o.storeNames.indexOf(d)===-1)if(s)o=null;else throw new exceptions.SubTransaction("Table "+d+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,(v,g)=>{g(d)}):rejection(d)}const f=enterTransactionScope.bind(null,this,l,u,o,a);return o?o._promise(l,f,"lock"):PSD.trans?usePSD(PSD.transless,()=>this._whenReady(f)):this._whenReady(f)}table(r){if(!hasOwn3(this._allTables,r))throw new exceptions.InvalidTable(`Table ${r} does not exist`);return this._allTables[r]}},symbolObservable=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",Observable=class{constructor(r){this._subscribe=r}subscribe(r,n,a){return this._subscribe(!r||typeof r=="function"?{next:r,error:n,complete:a}:r)}[symbolObservable](){return this}};function extendObservabilitySet(r,n){return keys3(n).forEach(a=>{const o=r[a]||(r[a]=new RangeSet);mergeRanges(o,n[a])}),r}function liveQuery(r){return new Observable(n=>{const a=isAsyncFunction(r);function o(_){a&&incrementExpectedAwaits();const x=()=>newScope(r,{subscr:_,trans:null}),w=PSD.trans?usePSD(PSD.transless,x):x();return a&&w.then(decrementExpectedAwaits,decrementExpectedAwaits),w}let s=!1,l={},u={};const f={get closed(){return s},unsubscribe:()=>{s=!0,globalEvents.storagemutated.unsubscribe(y)}};n.start&&n.start(f);let d=!1,v=!1;function g(){return keys3(u).some(_=>l[_]&&rangesOverlap(l[_],u[_]))}const y=_=>{extendObservabilitySet(l,_),g()&&b()},b=()=>{if(d||s)return;l={};const _={},x=o(_);v||(globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,y),v=!0),d=!0,Promise.resolve(x).then(w=>{d=!1,!s&&(g()?b():(l={},u=_,n.next&&n.next(w)))},w=>{d=!1,n.error&&n.error(w),f.unsubscribe()})};return b(),f})}var domDeps;try{domDeps={indexedDB:_global.indexedDB||_global.mozIndexedDB||_global.webkitIndexedDB||_global.msIndexedDB,IDBKeyRange:_global.IDBKeyRange||_global.webkitIDBKeyRange}}catch(r){domDeps={indexedDB:null,IDBKeyRange:null}}var Dexie=Dexie$1;props(Dexie,__spreadProps(__spreadValues({},fullNameExceptions),{delete(r){return new Dexie(r,{addons:[]}).delete()},exists(r){return new Dexie(r,{addons:[]}).open().then(n=>(n.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(r){try{return getDatabaseNames(Dexie.dependencies).then(r)}catch(n){return rejection(new exceptions.MissingAPI)}},defineClass(){function r(n){extend3(this,n)}return r},ignoreTransaction(r){return PSD.trans?usePSD(PSD.transless,r):r()},vip,async:function(r){return function(){try{var n=awaitIterator(r.apply(this,arguments));return!n||typeof n.then!="function"?DexiePromise.resolve(n):n}catch(a){return rejection(a)}}},spawn:function(r,n,a){try{var o=awaitIterator(r.apply(a,n||[]));return!o||typeof o.then!="function"?DexiePromise.resolve(o):o}catch(s){return rejection(s)}},currentTransaction:{get:()=>PSD.trans||null},waitFor:function(r,n){const a=DexiePromise.resolve(typeof r=="function"?Dexie.ignoreTransaction(r):r).timeout(n||6e4);return PSD.trans?PSD.trans.waitFor(a):a},Promise:DexiePromise,debug:{get:()=>debug,set:r=>{setDebug(r,r==="dexie"?()=>!0:dexieStackFrameFilter)}},derive,extend:extend3,props,override,Events,on:globalEvents,liveQuery,extendObservabilitySet,getByKeyPath,setByKeyPath,delByKeyPath,shallowClone,deepClone,getObjectDiff,cmp,asap:asap$1,minKey,addons:[],connections,errnames,dependencies:domDeps,semVer:DEXIE_VERSION,version:DEXIE_VERSION.split(".").map(r=>parseInt(r)).reduce((r,n,a)=>r+n/Math.pow(10,a*2))})),Dexie.maxKey=getMaxKey(Dexie.dependencies.IDBKeyRange),typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,r=>{if(!propagatingLocally){let n;isIEOrEdge?(n=document.createEvent("CustomEvent"),n.initCustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,!0,!0,r)):n=new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME,{detail:r}),propagatingLocally=!0,dispatchEvent(n),propagatingLocally=!1}}),addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME,({detail:r})=>{propagatingLocally||propagateLocally(r)}));function propagateLocally(r){let n=propagatingLocally;try{propagatingLocally=!0,globalEvents.storagemutated.fire(r)}finally{propagatingLocally=n}}var propagatingLocally=!1;if(typeof BroadcastChannel!="undefined"){const r=new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,n=>{propagatingLocally||r.postMessage(n)}),r.onmessage=n=>{n.data&&propagateLocally(n.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME,n=>{try{propagatingLocally||(typeof localStorage!="undefined"&&localStorage.setItem(STORAGE_MUTATED_DOM_EVENT_NAME,JSON.stringify({trig:Math.random(),changedParts:n})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(a=>a.postMessage({type:STORAGE_MUTATED_DOM_EVENT_NAME,changedParts:n})))}catch(a){}}),typeof addEventListener!="undefined"&&addEventListener("storage",n=>{if(n.key===STORAGE_MUTATED_DOM_EVENT_NAME){const a=JSON.parse(n.newValue);a&&propagateLocally(a.changedParts)}});const r=self.document&&navigator.serviceWorker;r&&r.addEventListener("message",propagateMessageLocally)}function propagateMessageLocally({data:r}){r&&r.type===STORAGE_MUTATED_DOM_EVENT_NAME&&propagateLocally(r.changedParts)}DexiePromise.rejectionMapper=mapError,setDebug(debug,dexieStackFrameFilter);function __awaiter5(r,n,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(g){try{v(o.next(g))}catch(y){u(y)}}function d(g){try{v(o.throw(g))}catch(y){u(y)}}function v(g){g.done?l(g.value):s(g.value).then(f,d)}v((o=o.apply(r,n||[])).next())})}function __generator3(r,n){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,s,l,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(v){return function(g){return d([v,g])}}function d(v){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(l=v[0]&2?s.return:v[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,v[1])).done)return l;switch(s=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,s=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){a.label=v[1];break}if(v[0]===6&&a.label<l[1]){a.label=l[1],l=v;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(v);break}l[2]&&a.ops.pop(),a.trys.pop();continue}v=n.call(r,a)}catch(g){v=[6,g],s=0}finally{o=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function getSchemaString(r){var n=[r.schema.primKey].concat(r.schema.indexes);return n.map(function(a){return a.src}).join(",")}function extractDbSchema(r){for(var n={},a=0,o=r.tables;a<o.length;a++){var s=o[a];n[s.name]=s.schema}return n}function readBlobAsync(r,n){return new Promise(function(a,o){var s=new FileReader;s.onabort=function(l){return o(new Error("file read aborted"))},s.onerror=function(l){return o(l.target.error)},s.onload=function(l){return a(l.target.result)},n==="binary"?s.readAsArrayBuffer(r):s.readAsText(r)})}function readBlobSync(r,n){if(typeof FileReaderSync=="undefined")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var a=new FileReaderSync,o=n==="binary"?a.readAsArrayBuffer(r):a.readAsText(r);return o}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function createCommonjsModule(r,n){return n={exports:{}},r(n,n.exports),n.exports}var typeson=createCommonjsModule(function(r,n){(function(a,o){r.exports=o()})(commonjsGlobal,function(){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},o=function(){return function(L,F){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function(B,O){var R=[],z=!0,N=!1,V=void 0;try{for(var W,H=B[Symbol.iterator]();!(z=(W=H.next()).done)&&(R.push(W.value),!O||R.length!==O);z=!0);}catch($){N=!0,V=$}finally{try{!z&&H.return&&H.return()}finally{if(N)throw V}}return R}(L,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(L){if(Array.isArray(L)){for(var F=0,I=Array(L.length);F<L.length;F++)I[F]=L[F];return I}return Array.from(L)},l=Object.keys,u=Array.isArray,f={}.toString,d=Object.getPrototypeOf,v={}.hasOwnProperty,g=v.toString,y=["type","replaced","iterateIn","iterateUnsetNumeric"];function b(L,F){return S.isObject(L)&&typeof L.then=="function"&&(!F||typeof L.catch=="function")}function _(L){return f.call(L).slice(8,-1)}function x(L,F){if(!L||(L===void 0?"undefined":a(L))!=="object")return!1;var I=d(L);if(!I)return!1;var B=v.call(I,"constructor")&&I.constructor;return typeof B!="function"?F===null:typeof B=="function"&&F!==null&&g.call(B)===g.call(F)}function w(L){return!(!L||_(L)!=="Object")&&(!d(L)||x(L,Object))}function C(L){return L&&(L===void 0?"undefined":a(L))==="object"}function S(L){var F=[],I=[],B={},O=this.types={},R=this.stringify=function(W,H,$,Y){Y=Object.assign({},L,Y,{stringification:!0});var ae=N(W,null,Y);return u(ae)?JSON.stringify(ae[0],H,$):ae.then(function(X){return JSON.stringify(X,H,$)})};this.stringifySync=function(W,H,$,Y){return R(W,H,$,Object.assign({},{throwOnBadSyncType:!0},Y,{sync:!0}))},this.stringifyAsync=function(W,H,$,Y){return R(W,H,$,Object.assign({},{throwOnBadSyncType:!0},Y,{sync:!1}))};var z=this.parse=function(W,H,$){return $=Object.assign({},L,$,{parse:!0}),V(JSON.parse(W,H),$)};this.parseSync=function(W,H,$){return z(W,H,Object.assign({},{throwOnBadSyncType:!0},$,{sync:!0}))},this.parseAsync=function(W,H,$){return z(W,H,Object.assign({},{throwOnBadSyncType:!0},$,{sync:!1}))},this.specialTypeNames=function(W,H){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.returnTypeNames=!0,this.encapsulate(W,H,$)},this.rootTypeName=function(W,H){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.iterateNone=!0,this.encapsulate(W,H,$)};var N=this.encapsulate=function(W,H,$){var Y=($=Object.assign({sync:!0},L,$)).sync,ae={},X=[],J=[],fe=[],ge=!($&&"cyclic"in $)||$.cyclic,ye=$.encapsulateObserver,be=Q("",W,ge,H||{},fe);function K(oe){var he=Object.values(ae);if($.iterateNone)return he.length?he[0]:S.getJSONType(oe);if(he.length){if($.returnTypeNames)return[].concat(s(new Set(he)));oe&&w(oe)&&!oe.hasOwnProperty("$types")?oe.$types=ae:oe={$:oe,$types:{$:ae}}}else C(oe)&&oe.hasOwnProperty("$types")&&(oe={$:oe,$types:!0});return!$.returnTypeNames&&oe}return fe.length?Y&&$.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function oe(he,G){return Promise.all(G.map(function(U){return U[1].p})).then(function(U){return Promise.all(U.map(function(ee){var te=[],ie=G.splice(0,1)[0],re=o(ie,7),ue=re[0],q=re[2],Z=re[3],ce=re[4],xe=re[5],De=re[6],Se=Q(ue,ee,q,Z,te,!0,De),we=x(Se,M);return ue&&we?Se.p.then(function(Me){return ce[xe]=Me,oe(he,te)}):(ue?ce[xe]=Se:he=we?Se.p:Se,oe(he,te))}))}).then(function(){return he})}(be,fe)).then(K):!Y&&$.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():$.stringification&&Y?[K(be)]:Y?K(be):Promise.resolve(K(be));function j(oe,he,G){Object.assign(oe,he);var U=y.map(function(ee){var te=oe[ee];return delete oe[ee],te});G(),y.forEach(function(ee,te){oe[ee]=U[te]})}function Q(oe,he,G,U,ee,te,ie){var re=void 0,ue={},q=he===void 0?"undefined":a(he),Z=ye?function(ve){var ne=ie||U.type||S.getJSONType(he);ye(Object.assign(ve||ue,{keypath:oe,value:he,cyclic:G,stateObj:U,promisesData:ee,resolvingTypesonPromise:te,awaitingTypesonPromise:x(he,M)},ne!==void 0?{type:ne}:{}))}:null;if(q in{string:1,boolean:1,number:1,undefined:1})return he===void 0||q==="number"&&(isNaN(he)||he===-1/0||he===1/0)?(re=le(oe,he,U,ee,!1,te,Z))!==he&&(ue={replaced:re}):re=he,Z&&Z(),re;if(he===null)return Z&&Z(),he;if(G&&!U.iterateIn&&!U.iterateUnsetNumeric){var ce=X.indexOf(he);if(!(ce<0))return ae[oe]="#",Z&&Z({cyclicKeypath:J[ce]}),"#"+J[ce];G===!0&&(X.push(he),J.push(oe))}var xe=w(he),De=u(he),Se=(xe||De)&&(!F.length||U.replaced)||U.iterateIn?he:le(oe,he,U,ee,xe||De,null,Z),we=void 0;if(Se!==he?(re=Se,ue={replaced:Se}):De||U.iterateIn==="array"?(we=new Array(he.length),ue={clone:we}):xe||U.iterateIn==="object"?ue={clone:we={}}:(oe===""&&x(he,M)&&ee.push([oe,he,G,U,void 0,void 0,U.type]),re=he),Z&&Z(),$.iterateNone)return we||re;if(!we)return re;if(U.iterateIn){var Me=function(ne){var de={ownKeys:he.hasOwnProperty(ne)};j(U,de,function(){var Ce=oe+(oe?".":"")+A(ne),Te=Q(Ce,he[ne],!!G,U,ee,te);x(Te,M)?ee.push([Ce,Te,!!G,U,we,ne,U.type]):Te!==void 0&&(we[ne]=Te)})};for(var Ie in he)Me(Ie);Z&&Z({endIterateIn:!0,end:!0})}else l(he).forEach(function(ve){var ne=oe+(oe?".":"")+A(ve);j(U,{ownKeys:!0},function(){var de=Q(ne,he[ve],!!G,U,ee,te);x(de,M)?ee.push([ne,de,!!G,U,we,ve,U.type]):de!==void 0&&(we[ve]=de)})}),Z&&Z({endIterateOwn:!0,end:!0});if(U.iterateUnsetNumeric){for(var Pe=he.length,me=function(ne){if(!(ne in he)){var de=oe+(oe?".":"")+ne;j(U,{ownKeys:!1},function(){var Ce=Q(de,void 0,!!G,U,ee,te);x(Ce,M)?ee.push([de,Ce,!!G,U,we,ne,U.type]):Ce!==void 0&&(we[ne]=Ce)})}},pe=0;pe<Pe;pe++)me(pe);Z&&Z({endIterateUnsetNumeric:!0,end:!0})}return we}function le(oe,he,G,U,ee,te,ie){for(var re=ee?F:I,ue=re.length;ue--;){var q=re[ue];if(q.test(he,G)){var Z=q.type;if(B[Z]){var ce=ae[oe];ae[oe]=ce?[Z].concat(ce):Z}return Object.assign(G,{type:Z,replaced:!0}),!Y&&q.replaceAsync||q.replace?(ie&&ie({replacing:!0}),Q(oe,q[Y||!q.replaceAsync?"replace":"replaceAsync"](he,G),ge&&"readonly",G,U,te,Z)):(ie&&ie({typeDetected:!0}),Q(oe,he,ge&&"readonly",G,U,te,Z))}}return he}};this.encapsulateSync=function(W,H,$){return N(W,H,Object.assign({},{throwOnBadSyncType:!0},$,{sync:!0}))},this.encapsulateAsync=function(W,H,$){return N(W,H,Object.assign({},{throwOnBadSyncType:!0},$,{sync:!1}))};var V=this.revive=function(W,H){var $=(H=Object.assign({sync:!0},L,H)).sync,Y=W&&W.$types,ae=!0;if(!Y)return W;if(Y===!0)return W.$;Y.$&&w(Y.$)&&(W=W.$,Y=Y.$,ae=!1);var X=[],J={},fe=function ge(ye,be,K,j,Q,le){if(!(ae&&ye==="$types")){var oe=Y[ye];if(u(be)||w(be)){var he=u(be)?new Array(be.length):{};for(l(be).forEach(function(Z){var ce=ge(ye+(ye?".":"")+A(Z),be[Z],K||he,j,he,Z);x(ce,E)?he[Z]=void 0:ce!==void 0&&(he[Z]=ce)}),be=he;X.length;){var G=o(X[0],4),U=G[0],ee=G[1],te=G[2],ie=G[3],re=P(U,ee);if(x(re,E))te[ie]=void 0;else{if(re===void 0)break;te[ie]=re}X.splice(0,1)}}if(!oe)return be;if(oe==="#"){var ue=P(K,be.substr(1));return ue===void 0&&X.push([K,be.substr(1),Q,le]),ue}var q=j.sync;return[].concat(oe).reduce(function(Z,ce){var xe=B[ce];if(!xe)throw new Error("Unregistered type: "+ce);return xe[q&&xe.revive?"revive":!q&&xe.reviveAsync?"reviveAsync":"revive"](Z,J)},be)}}("",W,null,H);return b(fe=x(fe,E)?void 0:fe)?$&&H.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():fe:!$&&H.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():$?fe:Promise.resolve(fe)};this.reviveSync=function(W,H){return V(W,Object.assign({},{throwOnBadSyncType:!0},H,{sync:!0}))},this.reviveAsync=function(W,H){return V(W,Object.assign({},{throwOnBadSyncType:!0},H,{sync:!1}))},this.register=function(W,H){return H=H||{},[].concat(W).forEach(function $(Y){if(u(Y))return Y.map($);Y&&l(Y).forEach(function(ae){if(ae==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(S.JSON_TYPES.includes(ae))throw new TypeError("Plain JSON object types are reserved as type names");var X=Y[ae],J=X.testPlainObjects?F:I,fe=J.filter(function(j){return j.type===ae});if(fe.length&&(J.splice(J.indexOf(fe[0]),1),delete B[ae],delete O[ae]),X){if(typeof X=="function"){var ge=X;X={test:function(Q){return Q&&Q.constructor===ge},replace:function(Q){return D({},Q)},revive:function(Q){return D(Object.create(ge.prototype),Q)}}}else u(X)&&(X={test:X[0],replace:X[1],revive:X[2]});var ye={type:ae,test:X.test.bind(X)};X.replace&&(ye.replace=X.replace.bind(X)),X.replaceAsync&&(ye.replaceAsync=X.replaceAsync.bind(X));var be=typeof H.fallback=="number"?H.fallback:H.fallback?0:1/0;if(X.testPlainObjects?F.splice(be,0,ye):I.splice(be,0,ye),X.revive||X.reviveAsync){var K={};X.revive&&(K.revive=X.revive.bind(X)),X.reviveAsync&&(K.reviveAsync=X.reviveAsync.bind(X)),B[ae]=K}O[ae]=X}})}),this}}function D(L,F){return l(F).map(function(I){L[I]=F[I]}),L}function A(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function T(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function P(L,F){if(F==="")return L;var I=F.indexOf(".");if(I>-1){var B=L[T(F.substr(0,I))];return B===void 0?void 0:P(B,F.substr(I+1))}return L[T(F)]}function E(){}function M(L){this.p=new Promise(L)}return M.prototype.then=function(L,F){var I=this;return new M(function(B,O){I.p.then(function(R){B(L?L(R):R)},function(R){I.p.catch(function(z){return F?F(z):Promise.reject(z)}).then(B,O)})})},M.prototype.catch=function(L){return this.then(null,L)},M.resolve=function(L){return new M(function(F){F(L)})},M.reject=function(L){return new M(function(F,I){I(L)})},["all","race"].map(function(L){M[L]=function(F){return new M(function(I,B){Promise[L](F.map(function(O){return O.p})).then(I,B)})}}),S.Undefined=E,S.Promise=M,S.isThenable=b,S.toStringTag=_,S.hasConstructorOf=x,S.isObject=C,S.isPlainObject=w,S.isUserObject=function L(F){if(!F||_(F)!=="Object")return!1;var I=d(F);return!I||x(F,Object)||L(I)},S.escapeKeyPathComponent=A,S.unescapeKeyPathComponent=T,S.getByKeyPath=P,S.getJSONType=function(L){return L===null?"null":u(L)?"array":L===void 0?"undefined":a(L)},S.JSON_TYPES=["null","boolean","number","string","array","object"],S})}),structuredCloning=createCommonjsModule(function(r,n){(function(a,o){r.exports=o()})(commonjsGlobal,function(){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},o=function(){return function(K,j){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function(le,oe){var he=[],G=!0,U=!1,ee=void 0;try{for(var te,ie=le[Symbol.iterator]();!(G=(te=ie.next()).done)&&(he.push(te.value),!oe||he.length!==oe);G=!0);}catch(re){U=!0,ee=re}finally{try{!G&&ie.return&&ie.return()}finally{if(U)throw ee}}return he}(K,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(K){if(Array.isArray(K)){for(var j=0,Q=Array(K.length);j<K.length;j++)Q[j]=K[j];return Q}return Array.from(K)},l=Object.keys,u=Array.isArray,f={}.toString,d=Object.getPrototypeOf,v={}.hasOwnProperty,g=v.toString,y=["type","replaced","iterateIn","iterateUnsetNumeric"];function b(K,j){return S.isObject(K)&&typeof K.then=="function"&&(!j||typeof K.catch=="function")}function _(K){return f.call(K).slice(8,-1)}function x(K,j){if(!K||(K===void 0?"undefined":a(K))!=="object")return!1;var Q=d(K);if(!Q)return!1;var le=v.call(Q,"constructor")&&Q.constructor;return typeof le!="function"?j===null:typeof le=="function"&&j!==null&&g.call(le)===g.call(j)}function w(K){return!(!K||_(K)!=="Object")&&(!d(K)||x(K,Object))}function C(K){return K&&(K===void 0?"undefined":a(K))==="object"}function S(K){var j=[],Q=[],le={},oe=this.types={},he=this.stringify=function(te,ie,re,ue){ue=Object.assign({},K,ue,{stringification:!0});var q=U(te,null,ue);return u(q)?JSON.stringify(q[0],ie,re):q.then(function(Z){return JSON.stringify(Z,ie,re)})};this.stringifySync=function(te,ie,re,ue){return he(te,ie,re,Object.assign({},{throwOnBadSyncType:!0},ue,{sync:!0}))},this.stringifyAsync=function(te,ie,re,ue){return he(te,ie,re,Object.assign({},{throwOnBadSyncType:!0},ue,{sync:!1}))};var G=this.parse=function(te,ie,re){return re=Object.assign({},K,re,{parse:!0}),ee(JSON.parse(te,ie),re)};this.parseSync=function(te,ie,re){return G(te,ie,Object.assign({},{throwOnBadSyncType:!0},re,{sync:!0}))},this.parseAsync=function(te,ie,re){return G(te,ie,Object.assign({},{throwOnBadSyncType:!0},re,{sync:!1}))},this.specialTypeNames=function(te,ie){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return re.returnTypeNames=!0,this.encapsulate(te,ie,re)},this.rootTypeName=function(te,ie){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return re.iterateNone=!0,this.encapsulate(te,ie,re)};var U=this.encapsulate=function(te,ie,re){var ue=(re=Object.assign({sync:!0},K,re)).sync,q={},Z=[],ce=[],xe=[],De=!(re&&"cyclic"in re)||re.cyclic,Se=re.encapsulateObserver,we=Pe("",te,De,ie||{},xe);function Me(pe){var ve=Object.values(q);if(re.iterateNone)return ve.length?ve[0]:S.getJSONType(pe);if(ve.length){if(re.returnTypeNames)return[].concat(s(new Set(ve)));pe&&w(pe)&&!pe.hasOwnProperty("$types")?pe.$types=q:pe={$:pe,$types:{$:q}}}else C(pe)&&pe.hasOwnProperty("$types")&&(pe={$:pe,$types:!0});return!re.returnTypeNames&&pe}return xe.length?ue&&re.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function pe(ve,ne){return Promise.all(ne.map(function(de){return de[1].p})).then(function(de){return Promise.all(de.map(function(Ce){var Te=[],Ae=ne.splice(0,1)[0],Ee=o(Ae,7),Le=Ee[0],ze=Ee[2],Re=Ee[3],Oe=Ee[4],$e=Ee[5],Ke=Ee[6],je=Pe(Le,Ce,ze,Re,Te,!0,Ke),He=x(je,M);return Le&&He?je.p.then(function(se){return Oe[$e]=se,pe(ve,Te)}):(Le?Oe[$e]=je:ve=He?je.p:je,pe(ve,Te))}))}).then(function(){return ve})}(we,xe)).then(Me):!ue&&re.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():re.stringification&&ue?[Me(we)]:ue?Me(we):Promise.resolve(Me(we));function Ie(pe,ve,ne){Object.assign(pe,ve);var de=y.map(function(Ce){var Te=pe[Ce];return delete pe[Ce],Te});ne(),y.forEach(function(Ce,Te){pe[Ce]=de[Te]})}function Pe(pe,ve,ne,de,Ce,Te,Ae){var Ee=void 0,Le={},ze=ve===void 0?"undefined":a(ve),Re=Se?function(Be){var ke=Ae||de.type||S.getJSONType(ve);Se(Object.assign(Be||Le,{keypath:pe,value:ve,cyclic:ne,stateObj:de,promisesData:Ce,resolvingTypesonPromise:Te,awaitingTypesonPromise:x(ve,M)},ke!==void 0?{type:ke}:{}))}:null;if(ze in{string:1,boolean:1,number:1,undefined:1})return ve===void 0||ze==="number"&&(isNaN(ve)||ve===-1/0||ve===1/0)?(Ee=me(pe,ve,de,Ce,!1,Te,Re))!==ve&&(Le={replaced:Ee}):Ee=ve,Re&&Re(),Ee;if(ve===null)return Re&&Re(),ve;if(ne&&!de.iterateIn&&!de.iterateUnsetNumeric){var Oe=Z.indexOf(ve);if(!(Oe<0))return q[pe]="#",Re&&Re({cyclicKeypath:ce[Oe]}),"#"+ce[Oe];ne===!0&&(Z.push(ve),ce.push(pe))}var $e=w(ve),Ke=u(ve),je=($e||Ke)&&(!j.length||de.replaced)||de.iterateIn?ve:me(pe,ve,de,Ce,$e||Ke,null,Re),He=void 0;if(je!==ve?(Ee=je,Le={replaced:je}):Ke||de.iterateIn==="array"?(He=new Array(ve.length),Le={clone:He}):$e||de.iterateIn==="object"?Le={clone:He={}}:(pe===""&&x(ve,M)&&Ce.push([pe,ve,ne,de,void 0,void 0,de.type]),Ee=ve),Re&&Re(),re.iterateNone)return He||Ee;if(!He)return Ee;if(de.iterateIn){var se=function(ke){var We={ownKeys:ve.hasOwnProperty(ke)};Ie(de,We,function(){var Ge=pe+(pe?".":"")+A(ke),Ue=Pe(Ge,ve[ke],!!ne,de,Ce,Te);x(Ue,M)?Ce.push([Ge,Ue,!!ne,de,He,ke,de.type]):Ue!==void 0&&(He[ke]=Ue)})};for(var _e in ve)se(_e);Re&&Re({endIterateIn:!0,end:!0})}else l(ve).forEach(function(Be){var ke=pe+(pe?".":"")+A(Be);Ie(de,{ownKeys:!0},function(){var We=Pe(ke,ve[Be],!!ne,de,Ce,Te);x(We,M)?Ce.push([ke,We,!!ne,de,He,Be,de.type]):We!==void 0&&(He[Be]=We)})}),Re&&Re({endIterateOwn:!0,end:!0});if(de.iterateUnsetNumeric){for(var Fe=ve.length,Ve=function(ke){if(!(ke in ve)){var We=pe+(pe?".":"")+ke;Ie(de,{ownKeys:!1},function(){var Ge=Pe(We,void 0,!!ne,de,Ce,Te);x(Ge,M)?Ce.push([We,Ge,!!ne,de,He,ke,de.type]):Ge!==void 0&&(He[ke]=Ge)})}},Ne=0;Ne<Fe;Ne++)Ve(Ne);Re&&Re({endIterateUnsetNumeric:!0,end:!0})}return He}function me(pe,ve,ne,de,Ce,Te,Ae){for(var Ee=Ce?j:Q,Le=Ee.length;Le--;){var ze=Ee[Le];if(ze.test(ve,ne)){var Re=ze.type;if(le[Re]){var Oe=q[pe];q[pe]=Oe?[Re].concat(Oe):Re}return Object.assign(ne,{type:Re,replaced:!0}),!ue&&ze.replaceAsync||ze.replace?(Ae&&Ae({replacing:!0}),Pe(pe,ze[ue||!ze.replaceAsync?"replace":"replaceAsync"](ve,ne),De&&"readonly",ne,de,Te,Re)):(Ae&&Ae({typeDetected:!0}),Pe(pe,ve,De&&"readonly",ne,de,Te,Re))}}return ve}};this.encapsulateSync=function(te,ie,re){return U(te,ie,Object.assign({},{throwOnBadSyncType:!0},re,{sync:!0}))},this.encapsulateAsync=function(te,ie,re){return U(te,ie,Object.assign({},{throwOnBadSyncType:!0},re,{sync:!1}))};var ee=this.revive=function(te,ie){var re=(ie=Object.assign({sync:!0},K,ie)).sync,ue=te&&te.$types,q=!0;if(!ue)return te;if(ue===!0)return te.$;ue.$&&w(ue.$)&&(te=te.$,ue=ue.$,q=!1);var Z=[],ce={},xe=function De(Se,we,Me,Ie,Pe,me){if(!(q&&Se==="$types")){var pe=ue[Se];if(u(we)||w(we)){var ve=u(we)?new Array(we.length):{};for(l(we).forEach(function(Re){var Oe=De(Se+(Se?".":"")+A(Re),we[Re],Me||ve,Ie,ve,Re);x(Oe,E)?ve[Re]=void 0:Oe!==void 0&&(ve[Re]=Oe)}),we=ve;Z.length;){var ne=o(Z[0],4),de=ne[0],Ce=ne[1],Te=ne[2],Ae=ne[3],Ee=P(de,Ce);if(x(Ee,E))Te[Ae]=void 0;else{if(Ee===void 0)break;Te[Ae]=Ee}Z.splice(0,1)}}if(!pe)return we;if(pe==="#"){var Le=P(Me,we.substr(1));return Le===void 0&&Z.push([Me,we.substr(1),Pe,me]),Le}var ze=Ie.sync;return[].concat(pe).reduce(function(Re,Oe){var $e=le[Oe];if(!$e)throw new Error("Unregistered type: "+Oe);return $e[ze&&$e.revive?"revive":!ze&&$e.reviveAsync?"reviveAsync":"revive"](Re,ce)},we)}}("",te,null,ie);return b(xe=x(xe,E)?void 0:xe)?re&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():xe:!re&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():re?xe:Promise.resolve(xe)};this.reviveSync=function(te,ie){return ee(te,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!0}))},this.reviveAsync=function(te,ie){return ee(te,Object.assign({},{throwOnBadSyncType:!0},ie,{sync:!1}))},this.register=function(te,ie){return ie=ie||{},[].concat(te).forEach(function re(ue){if(u(ue))return ue.map(re);ue&&l(ue).forEach(function(q){if(q==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(S.JSON_TYPES.includes(q))throw new TypeError("Plain JSON object types are reserved as type names");var Z=ue[q],ce=Z.testPlainObjects?j:Q,xe=ce.filter(function(Ie){return Ie.type===q});if(xe.length&&(ce.splice(ce.indexOf(xe[0]),1),delete le[q],delete oe[q]),Z){if(typeof Z=="function"){var De=Z;Z={test:function(Pe){return Pe&&Pe.constructor===De},replace:function(Pe){return D({},Pe)},revive:function(Pe){return D(Object.create(De.prototype),Pe)}}}else u(Z)&&(Z={test:Z[0],replace:Z[1],revive:Z[2]});var Se={type:q,test:Z.test.bind(Z)};Z.replace&&(Se.replace=Z.replace.bind(Z)),Z.replaceAsync&&(Se.replaceAsync=Z.replaceAsync.bind(Z));var we=typeof ie.fallback=="number"?ie.fallback:ie.fallback?0:1/0;if(Z.testPlainObjects?j.splice(we,0,Se):Q.splice(we,0,Se),Z.revive||Z.reviveAsync){var Me={};Z.revive&&(Me.revive=Z.revive.bind(Z)),Z.reviveAsync&&(Me.reviveAsync=Z.reviveAsync.bind(Z)),le[q]=Me}oe[q]=Z}})}),this}}function D(K,j){return l(j).map(function(Q){K[Q]=j[Q]}),K}function A(K){return K.replace(/~/g,"~0").replace(/\./g,"~1")}function T(K){return K.replace(/~1/g,".").replace(/~0/g,"~")}function P(K,j){if(j==="")return K;var Q=j.indexOf(".");if(Q>-1){var le=K[T(j.substr(0,Q))];return le===void 0?void 0:P(le,j.substr(Q+1))}return K[T(j)]}function E(){}function M(K){this.p=new Promise(K)}M.prototype.then=function(K,j){var Q=this;return new M(function(le,oe){Q.p.then(function(he){le(K?K(he):he)},function(he){Q.p.catch(function(G){return j?j(G):Promise.reject(G)}).then(le,oe)})})},M.prototype.catch=function(K){return this.then(null,K)},M.resolve=function(K){return new M(function(j){j(K)})},M.reject=function(K){return new M(function(j,Q){Q(K)})},["all","race"].map(function(K){M[K]=function(j){return new M(function(Q,le){Promise[K](j.map(function(oe){return oe.p})).then(Q,le)})}}),S.Undefined=E,S.Promise=M,S.isThenable=b,S.toStringTag=_,S.hasConstructorOf=x,S.isObject=C,S.isPlainObject=w,S.isUserObject=function K(j){if(!j||_(j)!=="Object")return!1;var Q=d(j);return!Q||x(j,Object)||K(Q)},S.escapeKeyPathComponent=A,S.unescapeKeyPathComponent=T,S.getByKeyPath=P,S.getJSONType=function(K){return K===null?"null":u(K)?"array":K===void 0?"undefined":a(K)},S.JSON_TYPES=["null","boolean","number","string","array","object"];for(var L={userObject:{test:function(j,Q){return S.isUserObject(j)},replace:function(j){return Object.assign({},j)},revive:function(j){return j}}},F=[[{sparseArrays:{testPlainObjects:!0,test:function(j){return Array.isArray(j)},replace:function(j,Q){return Q.iterateUnsetNumeric=!0,j}}},{sparseUndefined:{test:function(j,Q){return j===void 0&&Q.ownKeys===!1},replace:function(j){return null},revive:function(j){}}}],{undef:{test:function(j,Q){return j===void 0&&(Q.ownKeys||!("ownKeys"in Q))},replace:function(j){return null},revive:function(j){return new S.Undefined}}}],I={StringObject:{test:function(j){return S.toStringTag(j)==="String"&&(j===void 0?"undefined":a(j))==="object"},replace:function(j){return String(j)},revive:function(j){return new String(j)}},BooleanObject:{test:function(j){return S.toStringTag(j)==="Boolean"&&(j===void 0?"undefined":a(j))==="object"},replace:function(j){return Boolean(j)},revive:function(j){return new Boolean(j)}},NumberObject:{test:function(j){return S.toStringTag(j)==="Number"&&(j===void 0?"undefined":a(j))==="object"},replace:function(j){return Number(j)},revive:function(j){return new Number(j)}}},B=[{nan:{test:function(j){return typeof j=="number"&&isNaN(j)},replace:function(j){return"NaN"},revive:function(j){return NaN}}},{infinity:{test:function(j){return j===1/0},replace:function(j){return"Infinity"},revive:function(j){return 1/0}}},{negativeInfinity:{test:function(j){return j===-1/0},replace:function(j){return"-Infinity"},revive:function(j){return-1/0}}}],O={date:{test:function(j){return S.toStringTag(j)==="Date"},replace:function(j){var Q=j.getTime();return isNaN(Q)?"NaN":Q},revive:function(j){return j==="NaN"?new Date(NaN):new Date(j)}}},R={regexp:{test:function(j){return S.toStringTag(j)==="RegExp"},replace:function(j){return{source:j.source,flags:(j.global?"g":"")+(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.sticky?"y":"")+(j.unicode?"u":"")}},revive:function(j){var Q=j.source,le=j.flags;return new RegExp(Q,le)}}},z={map:{test:function(j){return S.toStringTag(j)==="Map"},replace:function(j){return Array.from(j.entries())},revive:function(j){return new Map(j)}}},N={set:{test:function(j){return S.toStringTag(j)==="Set"},replace:function(j){return Array.from(j.values())},revive:function(j){return new Set(j)}}},V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Uint8Array(256),H=0;H<V.length;H++)W[V.charCodeAt(H)]=H;var $=function(j,Q,le){for(var oe=new Uint8Array(j,Q,le),he=oe.length,G="",U=0;U<he;U+=3)G+=V[oe[U]>>2],G+=V[(3&oe[U])<<4|oe[U+1]>>4],G+=V[(15&oe[U+1])<<2|oe[U+2]>>6],G+=V[63&oe[U+2]];return he%3==2?G=G.substring(0,G.length-1)+"=":he%3==1&&(G=G.substring(0,G.length-2)+"=="),G},Y=function(j){var Q=j.length,le=.75*j.length,oe=0,he=void 0,G=void 0,U=void 0,ee=void 0;j[j.length-1]==="="&&(le--,j[j.length-2]==="="&&le--);for(var te=new ArrayBuffer(le),ie=new Uint8Array(te),re=0;re<Q;re+=4)he=W[j.charCodeAt(re)],G=W[j.charCodeAt(re+1)],U=W[j.charCodeAt(re+2)],ee=W[j.charCodeAt(re+3)],ie[oe++]=he<<2|G>>4,ie[oe++]=(15&G)<<4|U>>2,ie[oe++]=(3&U)<<6|63&ee;return te},ae={arraybuffer:{test:function(j){return S.toStringTag(j)==="ArrayBuffer"},replace:function(j,Q){Q.buffers||(Q.buffers=[]);var le=Q.buffers.indexOf(j);return le>-1?{index:le}:(Q.buffers.push(j),$(j))},revive:function(j,Q){if(Q.buffers||(Q.buffers=[]),(j===void 0?"undefined":a(j))==="object")return Q.buffers[j.index];var le=Y(j);return Q.buffers.push(le),le}}},X=typeof self=="undefined"?commonjsGlobal:self,J={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(K){var j=K,Q=X[j];Q&&(J[K.toLowerCase()]={test:function(oe){return S.toStringTag(oe)===j},replace:function(oe,he){var G=oe.buffer,U=oe.byteOffset,ee=oe.length;he.buffers||(he.buffers=[]);var te=he.buffers.indexOf(G);return te>-1?{index:te,byteOffset:U,length:ee}:(he.buffers.push(G),{encoded:$(G),byteOffset:U,length:ee})},revive:function(oe,he){he.buffers||(he.buffers=[]);var G=oe.byteOffset,U=oe.length,ee=oe.encoded,te=oe.index,ie=void 0;return"index"in oe?ie=he.buffers[te]:(ie=Y(ee),he.buffers.push(ie)),new Q(ie,G,U)}})});var fe={dataview:{test:function(j){return S.toStringTag(j)==="DataView"},replace:function(j,Q){var le=j.buffer,oe=j.byteOffset,he=j.byteLength;Q.buffers||(Q.buffers=[]);var G=Q.buffers.indexOf(le);return G>-1?{index:G,byteOffset:oe,byteLength:he}:(Q.buffers.push(le),{encoded:$(le),byteOffset:oe,byteLength:he})},revive:function(j,Q){Q.buffers||(Q.buffers=[]);var le=j.byteOffset,oe=j.byteLength,he=j.encoded,G=j.index,U=void 0;return"index"in j?U=Q.buffers[G]:(U=Y(he),Q.buffers.push(U)),new DataView(U,le,oe)}}},ge={IntlCollator:{test:function(j){return S.hasConstructorOf(j,Intl.Collator)},replace:function(j){return j.resolvedOptions()},revive:function(j){return new Intl.Collator(j.locale,j)}},IntlDateTimeFormat:{test:function(j){return S.hasConstructorOf(j,Intl.DateTimeFormat)},replace:function(j){return j.resolvedOptions()},revive:function(j){return new Intl.DateTimeFormat(j.locale,j)}},IntlNumberFormat:{test:function(j){return S.hasConstructorOf(j,Intl.NumberFormat)},replace:function(j){return j.resolvedOptions()},revive:function(j){return new Intl.NumberFormat(j.locale,j)}}};function ye(K){for(var j=new Uint16Array(K.length),Q=0;Q<K.length;Q++)j[Q]=K.charCodeAt(Q);return j.buffer}var be={file:{test:function(j){return S.toStringTag(j)==="File"},replace:function(j){var Q=new XMLHttpRequest;if(Q.open("GET",URL.createObjectURL(j),!1),typeof TextEncoder!="undefined"&&Q.overrideMimeType("text/plain; charset=utf-16le"),Q.status!==200&&Q.status!==0)throw new Error("Bad Blob access: "+Q.status);return Q.send(),{type:j.type,stringContents:Q.responseText,name:j.name,lastModified:j.lastModified}},revive:function(j){var Q=j.name,le=j.type,oe=j.stringContents,he=j.lastModified,G=ye(oe);return new File([G],Q,{type:le,lastModified:he})},replaceAsync:function(j){return new S.Promise(function(Q,le){if(j.isClosed)le(new Error("The File is closed"));else{var oe=new FileReader;oe.addEventListener("load",function(){Q({type:j.type,stringContents:oe.result,name:j.name,lastModified:j.lastModified})}),oe.addEventListener("error",function(){le(oe.error)}),oe.readAsText(j,"UTF-16")}})}}};return[L,F,I,B,O,R,{imagedata:{test:function(j){return S.toStringTag(j)==="ImageData"},replace:function(j){return{array:Array.from(j.data),width:j.width,height:j.height}},revive:function(j){return new ImageData(new Uint8ClampedArray(j.array),j.width,j.height)}}},{imagebitmap:{test:function(j){return S.toStringTag(j)==="ImageBitmap"||j&&j.dataset&&j.dataset.toStringTag==="ImageBitmap"},replace:function(j){var Q=document.createElement("canvas");return Q.getContext("2d").drawImage(j,0,0),Q.toDataURL()},revive:function(j){var Q=document.createElement("canvas"),le=Q.getContext("2d"),oe=document.createElement("img");return oe.onload=function(){le.drawImage(oe,0,0)},oe.src=j,Q},reviveAsync:function(j){var Q=document.createElement("canvas"),le=Q.getContext("2d"),oe=document.createElement("img");return oe.onload=function(){le.drawImage(oe,0,0)},oe.src=j,createImageBitmap(Q)}}},be,{file:be.file,filelist:{test:function(j){return S.toStringTag(j)==="FileList"},replace:function(j){for(var Q=[],le=0;le<j.length;le++)Q[le]=j.item(le);return Q},revive:function(j){function Q(){this._files=arguments[0],this.length=this._files.length}return Q.prototype.item=function(le){return this._files[le]},Q.prototype[Symbol.toStringTag]="FileList",new Q(j)}}},{blob:{test:function(j){return S.toStringTag(j)==="Blob"},replace:function(j){var Q=new XMLHttpRequest;if(Q.open("GET",URL.createObjectURL(j),!1),typeof TextEncoder!="undefined"&&Q.overrideMimeType("text/plain; charset=utf-16le"),Q.status!==200&&Q.status!==0)throw new Error("Bad Blob access: "+Q.status);return Q.send(),{type:j.type,stringContents:Q.responseText}},revive:function(j){var Q=j.type,le=j.stringContents;return new Blob([ye(le)],{type:Q})},replaceAsync:function(j){return new S.Promise(function(Q,le){if(j.isClosed)le(new Error("The Blob is closed"));else{var oe=new FileReader;oe.addEventListener("load",function(){Q({type:j.type,stringContents:oe.result})}),oe.addEventListener("error",function(){le(oe.error)}),oe.readAsText(j,"UTF-16")}})}}}].concat(typeof Map=="function"?z:[],typeof Set=="function"?N:[],typeof ArrayBuffer=="function"?ae:[],typeof Uint8Array=="function"?J:[],typeof DataView=="function"?fe:[],typeof Intl!="undefined"?ge:[])})}),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var i,encode=function(n,a,o){o==null&&(o=n.byteLength);for(var s=new Uint8Array(n,a||0,o),l=s.length,u="",f=0;f<l;f+=3)u+=chars[s[f]>>2],u+=chars[(s[f]&3)<<4|s[f+1]>>4],u+=chars[(s[f+1]&15)<<2|s[f+2]>>6],u+=chars[s[f+2]&63];return l%3==2?u=u.substring(0,u.length-1)+"=":l%3==1&&(u=u.substring(0,u.length-2)+"=="),u},decode2=function(n){var a=n.length,o=n.length*.75,s=0,l,u,f,d;n[n.length-1]==="="&&(o--,n[n.length-2]==="="&&o--);for(var v=new ArrayBuffer(o),g=new Uint8Array(v),y=0;y<a;y+=4)l=lookup[n.charCodeAt(y)],u=lookup[n.charCodeAt(y+1)],f=lookup[n.charCodeAt(y+2)],d=lookup[n.charCodeAt(y+3)],g[s++]=l<<2|u>>4,g[s++]=(u&15)<<4|f>>2,g[s++]=(f&3)<<6|d&63;return v},_global2=typeof self=="undefined"?global:self,exportObj={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(r){var n=r,a=_global2[n];a&&(exportObj[r.toLowerCase()+"2"]={test:function(o){return typeson.toStringTag(o)===n},replace:function(o){var s=o.buffer,l=o.byteOffset,u=o.length;return{buffer:s,byteOffset:l,length:u}},revive:function(o){var s=o.buffer,l=o.byteOffset,u=o.length;return new a(s,l,u)}})});var arrayBuffer={arraybuffer:{test:function(r){return typeson.toStringTag(r)==="ArrayBuffer"},replace:function(r){return encode(r,0,r.byteLength)},revive:function(r){var n=decode2(r);return n}}},TSON=new typeson().register(structuredCloning),readBlobsSynchronously="FileReaderSync"in self,blobsToAwait=[],blobsToAwaitPos=0;TSON.register([arrayBuffer,exportObj,{blob2:{test:function(r){return typeson.toStringTag(r)==="Blob"},replace:function(r){if(r.isClosed)throw new Error("The Blob is closed");if(readBlobsSynchronously){var n=readBlobSync(r,"binary"),a=encode(n,0,n.byteLength);return{type:r.type,data:a}}else{blobsToAwait.push(r);var o={type:r.type,data:{start:blobsToAwaitPos,end:blobsToAwaitPos+r.size}};return console.log("b.size: "+r.size),blobsToAwaitPos+=r.size,o}},finalize:function(r,n){r.data=encode(n,0,n.byteLength)},revive:function(r){var n=r.type,a=r.data;return new Blob([decode2(a)],{type:n})}}}]),TSON.mustFinalize=function(){return blobsToAwait.length>0},TSON.finalize=function(r){return __awaiter5(void 0,void 0,void 0,function(){var n,a,o,s,l,u,f,d,v,g;return __generator3(this,function(y){switch(y.label){case 0:return[4,readBlobAsync(new Blob(blobsToAwait),"binary")];case 1:if(n=y.sent(),r){for(a=0,o=r;a<o.length;a++)if(s=o[a],s.$types){l=s.$types,u=l.$,u&&(l=l.$);for(f in l)d=l[f],v=TSON.types[d],v&&v.finalize&&(g=Dexie$1.getByKeyPath(s,u?"$."+f:f),v.finalize(g,n.slice(g.start,g.end)))}}return blobsToAwait=[],[2]}})})};var DEFAULT_ROWS_PER_CHUNK=2e3;function exportDB(r,n){return __awaiter5(this,void 0,void 0,function(){function a(){return __awaiter5(this,void 0,void 0,function(){var v,g,y,b,_,x,w,C,S;return __generator3(this,function(D){switch(D.label){case 0:return[4,Promise.all(r.tables.map(function(A){return A.count()}))];case 1:v=D.sent(),v.forEach(function(A,T){return s[T].rowCount=A}),d.totalRows=v.reduce(function(A,T){return A+T}),g=JSON.stringify(u,void 0,l?2:void 0),y=g.lastIndexOf("]"),b=g.substring(0,y),o.push(b),_=n.filter,x=function(A){var T,P,E,M,L,F,I,B,O,R,z,N;return __generator3(this,function(V){switch(V.label){case 0:T=r.table(A),P=T.schema.primKey,E=!!P.keyPath,M=n.numRowsPerChunk||DEFAULT_ROWS_PER_CHUNK,L=E?{tableName:T.name,inbound:!0,rows:[]}:{tableName:T.name,inbound:!1,rows:[]},F=JSON.stringify(L,void 0,l?2:void 0),l&&(F=F.split(`
`).join(`
    `)),I=F.lastIndexOf("]"),o.push(F.substring(0,I)),B=null,O=0,R=!0,z=function(){var W,H,$,Y,ae,X,J,fe,ae;return __generator3(this,function(ge){switch(ge.label){case 0:return f&&Dexie$1.ignoreTransaction(function(){return f(d)}),W=B==null?T.limit(M):T.where(":id").above(B).limit(M),[4,W.toArray()];case 1:return H=ge.sent(),H.length===0?[2,"break"]:(B!=null&&O>0&&(o.push(","),l&&o.push(`
      `)),R=H.length===M,E?($=_?H.filter(function(ye){return _(A,ye)}):H,Y=$.map(function(ye){return TSON.encapsulate(ye)}),TSON.mustFinalize()?[4,Dexie$1.waitFor(TSON.finalize(Y))]:[3,3]):[3,4]);case 2:ge.sent(),ge.label=3;case 3:return ae=JSON.stringify(Y,void 0,l?2:void 0),l&&(ae=ae.split(`
`).join(`
      `)),o.push(new Blob([ae.substring(1,ae.length-1)])),O=$.length,B=H.length>0?Dexie$1.getByKeyPath(H[H.length-1],P.keyPath):null,[3,8];case 4:return[4,W.primaryKeys()];case 5:return X=ge.sent(),J=X.map(function(ye,be){return[ye,H[be]]}),_&&(J=J.filter(function(ye){var be=ye[0],K=ye[1];return _(A,K,be)})),fe=J.map(function(ye){return TSON.encapsulate(ye)}),TSON.mustFinalize()?[4,Dexie$1.waitFor(TSON.finalize(fe))]:[3,7];case 6:ge.sent(),ge.label=7;case 7:ae=JSON.stringify(fe,void 0,l?2:void 0),l&&(ae=ae.split(`
`).join(`
      `)),o.push(new Blob([ae.substring(1,ae.length-1)])),O=J.length,B=X.length>0?X[X.length-1]:null,ge.label=8;case 8:return d.completedRows+=H.length,[2]}})},V.label=1;case 1:return R?[5,z()]:[3,3];case 2:return N=V.sent(),N==="break"?[3,3]:[3,1];case 3:return o.push(F.substr(I)),d.completedTables+=1,d.completedTables<d.totalTables&&o.push(","),[2]}})},w=0,C=s,D.label=2;case 2:return w<C.length?(S=C[w].name,[5,x(S)]):[3,5];case 3:D.sent(),D.label=4;case 4:return w++,[3,2];case 5:return o.push(g.substr(y)),d.done=!0,f&&Dexie$1.ignoreTransaction(function(){return f(d)}),[2]}})})}var o,s,l,u,f,d;return __generator3(this,function(v){switch(v.label){case 0:n=n||{},o=[],s=r.tables.map(function(g){return{name:g.name,schema:getSchemaString(g),rowCount:0}}),l=n.prettyJson,u={formatName:"dexie",formatVersion:1,data:{databaseName:r.name,databaseVersion:r.verno,tables:s,data:[]}},f=n.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:r.tables.length},v.label=1;case 1:return v.trys.push([1,,6,7]),n.noTransaction?[4,a()]:[3,3];case 2:return v.sent(),[3,5];case 3:return[4,r.transaction("r",r.tables,a)];case 4:v.sent(),v.label=5;case 5:return[3,7];case 6:return TSON.finalize(),[7];case 7:return f&&Dexie$1.ignoreTransaction(function(){return f(d)}),[2,new Blob(o,{type:"text/json"})]}})})}var VERSION=1,fakeStream={Stream:function(){}},clarinet_1=createCommonjsModule(function(r,n){(function(a){var o=typeof process=="object"&&process.env?process.env:self;a.parser=function(F){return new _(F)},a.CParser=_,a.CStream=w,a.createStream=x,a.MAX_BUFFER_LENGTH=10*1024*1024,a.DEBUG=o.CDEBUG==="debug",a.INFO=o.CDEBUG==="debug"||o.CDEBUG==="info",a.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},l=a.EVENTS.filter(function(F){return F!=="error"&&F!=="end"}),u=0,f;a.STATE={BEGIN:u++,VALUE:u++,OPEN_OBJECT:u++,CLOSE_OBJECT:u++,OPEN_ARRAY:u++,CLOSE_ARRAY:u++,TEXT_ESCAPE:u++,STRING:u++,BACKSLASH:u++,END:u++,OPEN_KEY:u++,CLOSE_KEY:u++,TRUE:u++,TRUE2:u++,TRUE3:u++,FALSE:u++,FALSE2:u++,FALSE3:u++,FALSE4:u++,NULL:u++,NULL2:u++,NULL3:u++,NUMBER_DECIMAL_POINT:u++,NUMBER_DIGIT:u++};for(var d in a.STATE)a.STATE[a.STATE[d]]=d;u=a.STATE;const v={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(F){function I(){this.__proto__=F}return I.prototype=F,new I}),Object.getPrototypeOf||(Object.getPrototypeOf=function(F){return F.__proto__}),Object.keys||(Object.keys=function(F){var I=[];for(var B in F)F.hasOwnProperty(B)&&I.push(B);return I});function g(F){var I=Math.max(a.MAX_BUFFER_LENGTH,10),B=0;for(var O in s){var R=F[O]===void 0?0:F[O].length;if(R>I)switch(O){case"text":closeText(F);break;default:P(F,"Max buffer length exceeded: "+O)}B=Math.max(B,R)}F.bufferCheckPosition=a.MAX_BUFFER_LENGTH-B+F.position}function y(F){for(var I in s)F[I]=s[I]}var b=/[\\"\n]/g;function _(F){if(!(this instanceof _))return new _(F);var I=this;y(I),I.bufferCheckPosition=a.MAX_BUFFER_LENGTH,I.q=I.c=I.p="",I.opt=F||{},I.closed=I.closedRoot=I.sawRoot=!1,I.tag=I.error=null,I.state=u.BEGIN,I.stack=new Array,I.position=I.column=0,I.line=1,I.slashed=!1,I.unicodeI=0,I.unicodeS=null,I.depth=0,C(I,"onready")}_.prototype={end:function(){E(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{f=fakeStream.Stream}catch(F){f=function(){}}function x(F){return new w(F)}function w(F){if(!(this instanceof w))return new w(F);this._parser=new _(F),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={"2":new Buffer(2),"3":new Buffer(3),"4":new Buffer(4)},this.string="";var I=this;f.apply(I),this._parser.onend=function(){I.emit("end")},this._parser.onerror=function(B){I.emit("error",B),I._parser.error=null},l.forEach(function(B){Object.defineProperty(I,"on"+B,{get:function(){return I._parser["on"+B]},set:function(O){if(!O)return I.removeAllListeners(B),I._parser["on"+B]=O,O;I.on(B,O)},enumerable:!0,configurable:!1})})}w.prototype=Object.create(f.prototype,{constructor:{value:w}}),w.prototype.write=function(F){F=new Buffer(F);for(var I=0;I<F.length;I++){var B=F[I];if(this.bytes_remaining>0){for(var O=0;O<this.bytes_remaining;O++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+O]=F[O];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,I=I+O-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&B>=128)if(B>=194&&B<=223&&(this.bytes_in_sequence=2),B>=224&&B<=239&&(this.bytes_in_sequence=3),B>=240&&B<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+I>F.length){for(var R=0;R<=F.length-1-I;R++)this.temp_buffs[this.bytes_in_sequence][R]=F[I+R];return this.bytes_remaining=I+this.bytes_in_sequence-F.length,!0}else{this.string=F.slice(I,I+this.bytes_in_sequence).toString(),I=I+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var z=I;z<F.length&&!(F[z]>=128);z++);this.string=F.slice(I,z).toString(),this._parser.write(this.string),this.emit("data",this.string),I=z-1}},w.prototype.end=function(F){return F&&F.length&&this._parser.write(F.toString()),this._parser.end(),!0},w.prototype.on=function(F,I){var B=this;return!B._parser["on"+F]&&l.indexOf(F)!==-1&&(B._parser["on"+F]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,F),B.emit.apply(B,O)}),f.prototype.on.call(B,F,I)},w.prototype.destroy=function(){y(this._parser),this.emit("close")};function C(F,I,B){a.INFO&&console.log("-- emit",I,B),F[I]&&F[I](B)}function S(F,I,B){D(F),C(F,I,B)}function D(F,I){F.textNode=T(F.opt,F.textNode),F.textNode!==void 0&&C(F,I||"onvalue",F.textNode),F.textNode=void 0}function A(F){F.numberNode&&C(F,"onvalue",parseFloat(F.numberNode)),F.numberNode=""}function T(F,I){return I===void 0||(F.trim&&(I=I.trim()),F.normalize&&(I=I.replace(/\s+/g," "))),I}function P(F,I){return D(F),I+=`
Line: `+F.line+`
Column: `+F.column+`
Char: `+F.c,I=new Error(I),F.error=I,C(F,"onerror",I),F}function E(F){return(F.state!==u.VALUE||F.depth!==0)&&P(F,"Unexpected end"),D(F),F.c="",F.closed=!0,C(F,"onend"),_.call(F,F.opt),F}function M(F){return F===v.carriageReturn||F===v.lineFeed||F===v.space||F===v.tab}function L(F){var I=this;if(this.error)throw this.error;if(I.closed)return P(I,"Cannot write after close. Assign an onready handler.");if(F===null)return E(I);var B=0,O=F.charCodeAt(0),R=I.p;for(a.DEBUG&&console.log("write -> ["+F+"]");O&&(R=O,I.c=O=F.charCodeAt(B++),R!==O?I.p=R:R=I.p,!!O);)switch(a.DEBUG&&console.log(B,O,a.STATE[I.state]),I.position++,O===v.lineFeed?(I.line++,I.column=0):I.column++,I.state){case u.BEGIN:O===v.openBrace?I.state=u.OPEN_OBJECT:O===v.openBracket?I.state=u.OPEN_ARRAY:M(O)||P(I,"Non-whitespace before {[.");continue;case u.OPEN_KEY:case u.OPEN_OBJECT:if(M(O))continue;if(I.state===u.OPEN_KEY)I.stack.push(u.CLOSE_KEY);else if(O===v.closeBrace){C(I,"onopenobject"),this.depth++,C(I,"oncloseobject"),this.depth--,I.state=I.stack.pop()||u.VALUE;continue}else I.stack.push(u.CLOSE_OBJECT);O===v.doubleQuote?I.state=u.STRING:P(I,'Malformed object key should start with "');continue;case u.CLOSE_KEY:case u.CLOSE_OBJECT:if(M(O))continue;I.state,u.CLOSE_KEY,O===v.colon?(I.state===u.CLOSE_OBJECT?(I.stack.push(u.CLOSE_OBJECT),D(I,"onopenobject"),this.depth++):D(I,"onkey"),I.state=u.VALUE):O===v.closeBrace?(S(I,"oncloseobject"),this.depth--,I.state=I.stack.pop()||u.VALUE):O===v.comma?(I.state===u.CLOSE_OBJECT&&I.stack.push(u.CLOSE_OBJECT),D(I),I.state=u.OPEN_KEY):P(I,"Bad object");continue;case u.OPEN_ARRAY:case u.VALUE:if(M(O))continue;if(I.state===u.OPEN_ARRAY)if(C(I,"onopenarray"),this.depth++,I.state=u.VALUE,O===v.closeBracket){C(I,"onclosearray"),this.depth--,I.state=I.stack.pop()||u.VALUE;continue}else I.stack.push(u.CLOSE_ARRAY);O===v.doubleQuote?I.state=u.STRING:O===v.openBrace?I.state=u.OPEN_OBJECT:O===v.openBracket?I.state=u.OPEN_ARRAY:O===v.t?I.state=u.TRUE:O===v.f?I.state=u.FALSE:O===v.n?I.state=u.NULL:O===v.minus?I.numberNode+="-":v._0<=O&&O<=v._9?(I.numberNode+=String.fromCharCode(O),I.state=u.NUMBER_DIGIT):P(I,"Bad value");continue;case u.CLOSE_ARRAY:if(O===v.comma)I.stack.push(u.CLOSE_ARRAY),D(I,"onvalue"),I.state=u.VALUE;else if(O===v.closeBracket)S(I,"onclosearray"),this.depth--,I.state=I.stack.pop()||u.VALUE;else{if(M(O))continue;P(I,"Bad array")}continue;case u.STRING:I.textNode===void 0&&(I.textNode="");var z=B-1,N=I.slashed,V=I.unicodeI;e:for(;;){for(a.DEBUG&&console.log(B,O,a.STATE[I.state],N);V>0;)if(I.unicodeS+=String.fromCharCode(O),O=F.charCodeAt(B++),I.position++,V===4?(I.textNode+=String.fromCharCode(parseInt(I.unicodeS,16)),V=0,z=B-1):V++,!O)break e;if(O===v.doubleQuote&&!N){I.state=I.stack.pop()||u.VALUE,I.textNode+=F.substring(z,B-1),I.position+=B-1-z;break}if(O===v.backslash&&!N&&(N=!0,I.textNode+=F.substring(z,B-1),I.position+=B-1-z,O=F.charCodeAt(B++),I.position++,!O))break;if(N){if(N=!1,O===v.n?I.textNode+=`
`:O===v.r?I.textNode+="\r":O===v.t?I.textNode+="	":O===v.f?I.textNode+="\f":O===v.b?I.textNode+="\b":O===v.u?(V=1,I.unicodeS=""):I.textNode+=String.fromCharCode(O),O=F.charCodeAt(B++),I.position++,z=B-1,O)continue;break}b.lastIndex=B;var W=b.exec(F);if(W===null){B=F.length+1,I.textNode+=F.substring(z,B-1),I.position+=B-1-z;break}if(B=W.index+1,O=F.charCodeAt(W.index),!O){I.textNode+=F.substring(z,B-1),I.position+=B-1-z;break}}I.slashed=N,I.unicodeI=V;continue;case u.TRUE:O===v.r?I.state=u.TRUE2:P(I,"Invalid true started with t"+O);continue;case u.TRUE2:O===v.u?I.state=u.TRUE3:P(I,"Invalid true started with tr"+O);continue;case u.TRUE3:O===v.e?(C(I,"onvalue",!0),I.state=I.stack.pop()||u.VALUE):P(I,"Invalid true started with tru"+O);continue;case u.FALSE:O===v.a?I.state=u.FALSE2:P(I,"Invalid false started with f"+O);continue;case u.FALSE2:O===v.l?I.state=u.FALSE3:P(I,"Invalid false started with fa"+O);continue;case u.FALSE3:O===v.s?I.state=u.FALSE4:P(I,"Invalid false started with fal"+O);continue;case u.FALSE4:O===v.e?(C(I,"onvalue",!1),I.state=I.stack.pop()||u.VALUE):P(I,"Invalid false started with fals"+O);continue;case u.NULL:O===v.u?I.state=u.NULL2:P(I,"Invalid null started with n"+O);continue;case u.NULL2:O===v.l?I.state=u.NULL3:P(I,"Invalid null started with nu"+O);continue;case u.NULL3:O===v.l?(C(I,"onvalue",null),I.state=I.stack.pop()||u.VALUE):P(I,"Invalid null started with nul"+O);continue;case u.NUMBER_DECIMAL_POINT:O===v.period?(I.numberNode+=".",I.state=u.NUMBER_DIGIT):P(I,"Leading zero not followed by .");continue;case u.NUMBER_DIGIT:v._0<=O&&O<=v._9?I.numberNode+=String.fromCharCode(O):O===v.period?(I.numberNode.indexOf(".")!==-1&&P(I,"Invalid number has two dots"),I.numberNode+="."):O===v.e||O===v.E?((I.numberNode.indexOf("e")!==-1||I.numberNode.indexOf("E")!==-1)&&P(I,"Invalid number has two exponential"),I.numberNode+="e"):O===v.plus||O===v.minus?(R===v.e||R===v.E||P(I,"Invalid symbol in number"),I.numberNode+=String.fromCharCode(O)):(A(I),B--,I.state=I.stack.pop()||u.VALUE);continue;default:P(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&g(I),I}})(n)});function JsonStream(r){var n=0,a=JsonParser(!0),o={pullAsync:function(s){return __awaiter5(this,void 0,void 0,function(){var l,u,f;return __generator3(this,function(d){switch(d.label){case 0:return l=r.slice(n,n+s),n+=s,[4,readBlobAsync(l,"text")];case 1:return u=d.sent(),f=a.write(u),o.result=f||{},[2,f]}})})},pullSync:function(s){var l=r.slice(n,n+s);n+=s;var u=readBlobSync(l,"text"),f=a.write(u);return o.result=f||{},f},done:function(){return a.done()},eof:function(){return n>=r.size},result:{}};return o}function JsonParser(r){var n=clarinet_1.parser(),a=0,o,s=[],l,u,f=!1,d=!1;return n.onopenobject=function(v){var g={};g.incomplete=!0,o||(o=g),l&&(s.push([u,l,d]),r&&(d?l.push(g):l[u]=g)),l=g,u=v,d=!1,++a},n.onkey=function(v){return u=v},n.onvalue=function(v){return d?l.push(v):l[u]=v},n.oncloseobject=function(){var v;if(delete l.incomplete,u=null,--a==0)f=!0;else{var g=l;v=s.pop(),u=v[0],l=v[1],d=v[2],r||(d?l.push(g):l[u]=g)}},n.onopenarray=function(){var v=[];v.incomplete=!0,o||(o=v),l&&(s.push([u,l,d]),r&&(d?l.push(v):l[u]=v)),l=v,d=!0,u=null,++a},n.onclosearray=function(){var v;if(delete l.incomplete,u=null,--a==0)f=!0;else{var g=l;v=s.pop(),u=v[0],l=v[1],d=v[2],r||(d?l.push(g):l[u]=g)}},{write:function(v){return n.write(v),o},done:function(){return f}}}var DEFAULT_KILOBYTES_PER_CHUNK=1024;function importDB(r,n){return __awaiter5(this,void 0,void 0,function(){var a,o,s,l;return __generator3(this,function(u){switch(u.label){case 0:return n=n||{},a=n.chunkSizeBytes||DEFAULT_KILOBYTES_PER_CHUNK*1024,[4,loadUntilWeGotEnoughData(r,a)];case 1:return o=u.sent(),s=o.result.data,l=new Dexie$1(s.databaseName),l.version(s.databaseVersion).stores(extractDbSchema(s)),[4,importInto(l,o,n)];case 2:return u.sent(),[2,l]}})})}function importInto(r,n,a){return __awaiter5(this,void 0,void 0,function(){function o(){return __awaiter5(this,void 0,void 0,function(){var x,w,C,S,D;return __generator3(this,function(A){switch(A.label){case 0:x=function(T){var P,E,M,L,F,I,B,O,R,z,N,V;return __generator3(this,function(W){switch(W.label){case 0:if(!T.rows)return[2,"break"];if(!T.rows.incomplete&&T.rows.length===0)return[2,"continue"];if(v&&Dexie$1.ignoreTransaction(function(){return v(g)}),P=T.tableName,E=r.table(P),M=d.tables.filter(function(H){return H.name===P})[0].schema,!E){if(a.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+T.tableName+" is missing in installed database")}if(!a.acceptChangedPrimaryKey&&M.split(",")[0]!=E.schema.primKey.src)throw new Error("Primary key differs for table "+T.tableName+". ");for(L=T.rows,F=[],I=0;I<L.length&&(B=L[I],!B.incomplete);I++)F.push(TSON.revive(B));return O=a.filter,R=O?T.inbound?F.filter(function(H){return O(P,H)}):F.filter(function(H){var $=H[0],Y=H[1];return O(P,Y,$)}):F,z=T.inbound?[void 0,R]:[R.map(function(H){return H[0]}),F.map(function(H){return H[1]})],N=z[0],V=z[1],a.overwriteValues?[4,E.bulkPut(V,N)]:[3,2];case 1:return W.sent(),[3,4];case 2:return[4,E.bulkAdd(V,N)];case 3:W.sent(),W.label=4;case 4:return g.completedRows+=F.length,F.incomplete||(g.completedTables+=1),L.splice(0,F.length),[2]}})},w=0,C=d.data,A.label=1;case 1:return w<C.length?(S=C[w],[5,x(S)]):[3,4];case 2:if(D=A.sent(),D==="break")return[3,4];A.label=3;case 3:return w++,[3,1];case 4:for(;d.data.length>0&&d.data[0].rows&&!d.data[0].rows.incomplete;)d.data.splice(0,1);return!l.done()&&!l.eof()?f?(l.pullSync(s),[3,7]):[3,5]:[3,8];case 5:return[4,Dexie$1.waitFor(l.pullAsync(s))];case 6:A.sent(),A.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var s,l,u,f,d,v,g,y,b,_;return __generator3(this,function(x){switch(x.label){case 0:return a=a||{},s=a.chunkSizeBytes||DEFAULT_KILOBYTES_PER_CHUNK*1024,[4,loadUntilWeGotEnoughData(n,s)];case 1:if(l=x.sent(),u=l.result,f="FileReaderSync"in self,d=u.data,!a.acceptNameDiff&&r.name!==d.databaseName)throw new Error("Name differs. Current database name is "+r.name+" but export is "+d.databaseName);if(!a.acceptVersionDiff&&r.verno!==d.databaseVersion)throw new Error("Database version differs. Current database is in version "+r.verno+" but export is "+d.databaseVersion);if(v=a.progressCallback,g={done:!1,completedRows:0,completedTables:0,totalRows:d.tables.reduce(function(w,C){return w+C.rowCount},0),totalTables:d.tables.length},v&&Dexie$1.ignoreTransaction(function(){return v(g)}),!a.clearTablesBeforeImport)return[3,5];y=0,b=r.tables,x.label=2;case 2:return y<b.length?(_=b[y],[4,_.clear()]):[3,5];case 3:x.sent(),x.label=4;case 4:return y++,[3,2];case 5:return a.noTransaction?[4,o()]:[3,7];case 6:return x.sent(),[3,9];case 7:return[4,r.transaction("rw",r.tables,o)];case 8:x.sent(),x.label=9;case 9:return g.done=!0,v&&Dexie$1.ignoreTransaction(function(){return v(g)}),[2]}})})}function loadUntilWeGotEnoughData(r,n){return __awaiter5(this,void 0,void 0,function(){var a,o;return __generator3(this,function(s){switch(s.label){case 0:a="slice"in r?JsonStream(r):r,s.label=1;case 1:return a.eof()?[3,3]:[4,a.pullAsync(n)];case 2:return s.sent(),a.result.data&&a.result.data.data?[3,3]:[3,1];case 3:if(o=a.result,!o||o.formatName!="dexie")throw new Error("Given file is not a dexie export");if(o.formatVersion>VERSION)throw new Error("Format version "+o.formatVersion+" not supported");if(!o.data)throw new Error("No data in export file");if(!o.data.databaseName)throw new Error("Missing databaseName in export file");if(!o.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!o.data.tables)throw new Error("Missing tables in export file");return[2,a]}})})}Dexie$1.prototype.export=function(r){return exportDB(this,r)},Dexie$1.prototype.import=function(r,n){return importInto(this,r,n)},Dexie$1.import=function(r,n){return importDB(r,n)};var import_downloadjs=__toModule(require_download()),WordDB=class extends Dexie$1{constructor(r){super(r.settings.db_name);this.plugin=r,this.dbName=r.settings.db_name,this.version(1).stores({expressions:"++id, &expression, status, t, date, *tags",sentences:"++id, &text"}),this.open()}},LocalDb=class extends base_default{constructor(r){super();this.idb=new WordDB(r)}getStoredWords(r){return __async(this,null,function*(){let n=new Map;yield this.idb.expressions.where("t").equals("PHRASE").each(l=>n.set(l.expression,l.status));let a=(yield this.idb.expressions.where("expression").anyOf(r.words).toArray()).map(l=>({text:l.expression,status:l.status})),s=(yield(yield(0,import_ac_auto.createAutomaton)([...n.keys()])).search(r.article)).map(l=>({text:l[1],status:n.get(l[1]),offset:l[0]}));return{words:a,phrases:s}})}getExpression(r){return __async(this,null,function*(){r=r.toLowerCase();let n=yield this.idb.expressions.where("expression").equals(r).first();if(!n)return null;let a=yield this.idb.sentences.where("id").anyOf([...n.sentences.values()]).toArray();return{expression:n.expression,meaning:n.meaning,status:n.status,t:n.t,notes:n.notes,sentences:a,tags:[...n.tags.keys()]}})}getExpressionsSimple(r){return __async(this,null,function*(){return r=r.map(a=>a.toLowerCase()),(yield this.idb.expressions.where("expression").anyOf(r).toArray()).map(a=>({expression:a.expression,meaning:a.meaning,status:a.status,t:a.t}))})}getExpressionAfter(r){return __async(this,null,function*(){let n=import_obsidian10.moment.utc(r).unix(),a=yield this.idb.expressions.where("status").above(0).and(s=>s.date>n).toArray(),o=[];for(let s of a){let l=yield this.idb.sentences.where("id").anyOf([...s.sentences.values()]).toArray();o.push({expression:s.expression,meaning:s.meaning,status:s.status,t:s.t,notes:s.notes,sentences:l,tags:[...s.tags.keys()]})}return o})}getAllExpressionSimple(r){return __async(this,null,function*(){let n,a=r?-1:0;return n=(yield this.idb.expressions.where("status").above(a).toArray()).map(o=>({expression:o.expression,status:o.status,meaning:o.meaning,t:o.t})),n})}postExpression(r){return __async(this,null,function*(){r.expression=r.expression.toLowerCase();let n=yield this.idb.expressions.where("expression").equals(r.expression).first(),a=new Set;for(let s of r.sentences){let l=yield this.idb.sentences.where("text").equals(s.text).first();if(l)yield this.idb.sentences.update(l.id,s),a.add(l.id);else{let u=yield this.idb.sentences.add(s);a.add(u)}}let o={expression:r.expression,meaning:r.meaning,status:r.status,t:r.t,notes:r.notes,sentences:a,tags:new Set(r.tags),connections:new Map,date:(0,import_obsidian10.moment)().unix()};return n?this.idb.expressions.update(n.id,o):this.idb.expressions.add(o),200})}getTags(){return __async(this,null,function*(){let r=new Set;return yield this.idb.expressions.each(n=>{for(let a of n.tags.values())r.add(a)}),[...r.values()]})}postIgnoreWords(r){return __async(this,null,function*(){yield this.idb.expressions.bulkPut(r.map(n=>({expression:n,meaning:"",status:0,t:"WORD",notes:[],sentences:new Set,tags:new Set,connections:new Map,date:(0,import_obsidian10.moment)().unix()})))})}tryGetSen(r){return __async(this,null,function*(){return yield this.idb.sentences.where("text").equals(r).first()})}getCount(){return __async(this,null,function*(){let r={WORD:new Array(5).fill(0),PHRASE:new Array(5).fill(0)};return yield this.idb.expressions.each(n=>{r[n.t][n.status]++}),{word_count:r.WORD,phrase_count:r.PHRASE}})}countSeven(){return __async(this,null,function*(){let r=[];r=[0,1,2,3,4,5,6].map(a=>{let s=(0,import_obsidian10.moment)().subtract(6,"days").startOf("day").add(a,"days");return{from:s.unix(),to:s.endOf("day").unix()}});let n=[];for(let a of r){let o=new Array(5).fill(0);yield this.idb.expressions.filter(l=>l.t=="WORD"&&l.date>=a.from&&l.date<=a.to).each(l=>{o[l.status]++});let s=new Array(5).fill(0);yield this.idb.expressions.filter(l=>l.t=="WORD"&&l.date<=a.to).each(l=>{s[l.status]++}),n.push({today:o,accumulated:s})}return n})}importDB(r){return __async(this,null,function*(){yield this.idb.delete(),yield this.idb.open(),yield importInto(this.idb,r,{acceptNameDiff:!0})})}exportDB(){return __async(this,null,function*(){let r=yield exportDB(this.idb);try{(0,import_downloadjs.default)(r,`${this.idb.dbName}.json`,"application/json")}catch(n){console.error("error exporting database")}})}destroyAll(){return __async(this,null,function*(){yield this.idb.delete(),this.idb.open()})}};function bail(r){if(r)throw r}var import_is_buffer2=__toModule(require_is_buffer()),import_extend=__toModule(require_extend());function isPlainObject3(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype}function trough(){const r=[],n={run:a,use:o};return n;function a(...s){let l=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(d,...v){const g=r[++l];let y=-1;if(d){u(d);return}for(;++y<s.length;)(v[y]===null||v[y]===void 0)&&(v[y]=s[y]);s=v,g?wrap2(g,f)(...v):u(null,...v)}}function o(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return r.push(s),n}}function wrap2(r,n){let a;return o;function o(...u){const f=r.length>u.length;let d;f&&u.push(s);try{d=r.apply(this,u)}catch(v){const g=v;if(f&&a)throw g;return s(g)}f||(d instanceof Promise?d.then(l,s):d instanceof Error?s(d):l(d))}function s(u,...f){a||(a=!0,n(u,...f))}function l(u){s(null,u)}}var import_is_buffer=__toModule(require_is_buffer());function stringifyPosition(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?position(r.position):"start"in r||"end"in r?position(r):"line"in r||"column"in r?point(r):""}function point(r){return index(r&&r.line)+":"+index(r&&r.column)}function position(r){return point(r&&r.start)+"-"+point(r&&r.end)}function index(r){return r&&typeof r=="number"?r:1}var VFileMessage=class extends Error{constructor(r,n,a){const o=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof n=="string"&&(a=n,n=void 0),typeof a=="string"){const l=a.indexOf(":");l===-1?o[1]=a:(o[0]=a.slice(0,l),o[1]=a.slice(l+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=stringifyPosition(n)||"1:1",this.message=typeof r=="object"?r.message:r,this.stack=typeof r=="object"?r.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=o[0],this.ruleId=o[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.fatal=null,VFileMessage.prototype.column=null,VFileMessage.prototype.line=null,VFileMessage.prototype.source=null,VFileMessage.prototype.ruleId=null,VFileMessage.prototype.position=null;var path={basename,dirname,extname,join,sep:"/"};function basename(r,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');assertPath(r);let a=0,o=-1,s=r.length,l;if(n===void 0||n.length===0||n.length>r.length){for(;s--;)if(r.charCodeAt(s)===47){if(l){a=s+1;break}}else o<0&&(l=!0,o=s+1);return o<0?"":r.slice(a,o)}if(n===r)return"";let u=-1,f=n.length-1;for(;s--;)if(r.charCodeAt(s)===47){if(l){a=s+1;break}}else u<0&&(l=!0,u=s+1),f>-1&&(r.charCodeAt(s)===n.charCodeAt(f--)?f<0&&(o=s):(f=-1,o=u));return a===o?o=u:o<0&&(o=r.length),r.slice(a,o)}function dirname(r){if(assertPath(r),r.length===0)return".";let n=-1,a=r.length,o;for(;--a;)if(r.charCodeAt(a)===47){if(o){n=a;break}}else o||(o=!0);return n<0?r.charCodeAt(0)===47?"/":".":n===1&&r.charCodeAt(0)===47?"//":r.slice(0,n)}function extname(r){assertPath(r);let n=r.length,a=-1,o=0,s=-1,l=0,u;for(;n--;){const f=r.charCodeAt(n);if(f===47){if(u){o=n+1;break}continue}a<0&&(u=!0,a=n+1),f===46?s<0?s=n:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||a<0||l===0||l===1&&s===a-1&&s===o+1?"":r.slice(s,a)}function join(...r){let n=-1,a;for(;++n<r.length;)assertPath(r[n]),r[n]&&(a=a===void 0?r[n]:a+"/"+r[n]);return a===void 0?".":normalize3(a)}function normalize3(r){assertPath(r);const n=r.charCodeAt(0)===47;let a=normalizeString(r,!n);return a.length===0&&!n&&(a="."),a.length>0&&r.charCodeAt(r.length-1)===47&&(a+="/"),n?"/"+a:a}function normalizeString(r,n){let a="",o=0,s=-1,l=0,u=-1,f,d;for(;++u<=r.length;){if(u<r.length)f=r.charCodeAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||l===1))if(s!==u-1&&l===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){if(d=a.lastIndexOf("/"),d!==a.length-1){d<0?(a="",o=0):(a=a.slice(0,d),o=a.length-1-a.lastIndexOf("/")),s=u,l=0;continue}}else if(a.length>0){a="",o=0,s=u,l=0;continue}}n&&(a=a.length>0?a+"/..":"..",o=2)}else a.length>0?a+="/"+r.slice(s+1,u):a=r.slice(s+1,u),o=u-s-1;s=u,l=0}else f===46&&l>-1?l++:l=-1}return a}function assertPath(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}var proc={cwd};function cwd(){return"/"}function isUrl(r){return r!==null&&typeof r=="object"&&r.href&&r.origin}function urlToPath(r){if(typeof r=="string")r=new URL(r);else if(!isUrl(r)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(r.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return getPathFromURLPosix(r)}function getPathFromURLPosix(r){if(r.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=r.pathname;let a=-1;for(;++a<n.length;)if(n.charCodeAt(a)===37&&n.charCodeAt(a+1)===50){const o=n.charCodeAt(a+2);if(o===70||o===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(n)}var order=["history","path","basename","stem","extname","dirname"],VFile=class{constructor(r){let n;r?typeof r=="string"||(0,import_is_buffer.default)(r)?n={value:r}:isUrl(r)?n={path:r}:n=r:n={},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let a=-1;for(;++a<order.length;){const s=order[a];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)order.includes(o)||(this[o]=n[o])}get path(){return this.history[this.history.length-1]}set path(r){isUrl(r)&&(r=urlToPath(r)),assertNonEmpty(r,"path"),this.path!==r&&this.history.push(r)}get dirname(){return typeof this.path=="string"?path.dirname(this.path):void 0}set dirname(r){assertPath2(this.basename,"dirname"),this.path=path.join(r||"",this.basename)}get basename(){return typeof this.path=="string"?path.basename(this.path):void 0}set basename(r){assertNonEmpty(r,"basename"),assertPart(r,"basename"),this.path=path.join(this.dirname||"",r)}get extname(){return typeof this.path=="string"?path.extname(this.path):void 0}set extname(r){if(assertPart(r,"extname"),assertPath2(this.dirname,"extname"),r){if(r.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path.join(this.dirname,this.stem+(r||""))}get stem(){return typeof this.path=="string"?path.basename(this.path,this.extname):void 0}set stem(r){assertNonEmpty(r,"stem"),assertPart(r,"stem"),this.path=path.join(this.dirname||"",r+(this.extname||""))}toString(r){return(this.value||"").toString(r)}message(r,n,a){const o=new VFileMessage(r,n,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}info(r,n,a){const o=this.message(r,n,a);return o.fatal=null,o}fail(r,n,a){const o=this.message(r,n,a);throw o.fatal=!0,o}};function assertPart(r,n){if(r&&r.includes(path.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+path.sep+"`")}function assertNonEmpty(r,n){if(!r)throw new Error("`"+n+"` cannot be empty")}function assertPath2(r,n){if(!r)throw new Error("Setting `"+n+"` requires `path` to be set too")}var unified=base4().freeze(),own={}.hasOwnProperty;function base4(){const r=trough(),n=[];let a={},o,s=-1;return l.data=u,l.Parser=void 0,l.Compiler=void 0,l.freeze=f,l.attachers=n,l.use=d,l.parse=v,l.stringify=g,l.run=y,l.runSync=b,l.process=_,l.processSync=x,l;function l(){const w=base4();let C=-1;for(;++C<n.length;)w.use(...n[C]);return w.data((0,import_extend.default)(!0,{},a)),w}function u(w,C){return typeof w=="string"?arguments.length===2?(assertUnfrozen("data",o),a[w]=C,l):own.call(a,w)&&a[w]||null:w?(assertUnfrozen("data",o),a=w,l):a}function f(){if(o)return l;for(;++s<n.length;){const[w,...C]=n[s];if(C[0]===!1)continue;C[0]===!0&&(C[0]=void 0);const S=w.call(l,...C);typeof S=="function"&&r.use(S)}return o=!0,s=Number.POSITIVE_INFINITY,l}function d(w,...C){let S;if(assertUnfrozen("use",o),w!=null)if(typeof w=="function")P(w,...C);else if(typeof w=="object")Array.isArray(w)?T(w):A(w);else throw new TypeError("Expected usable value, not `"+w+"`");return S&&(a.settings=Object.assign(a.settings||{},S)),l;function D(E){if(typeof E=="function")P(E);else if(typeof E=="object")if(Array.isArray(E)){const[M,...L]=E;P(M,...L)}else A(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function A(E){T(E.plugins),E.settings&&(S=Object.assign(S||{},E.settings))}function T(E){let M=-1;if(E!=null)if(Array.isArray(E))for(;++M<E.length;){const L=E[M];D(L)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function P(E,M){let L=-1,F;for(;++L<n.length;)if(n[L][0]===E){F=n[L];break}F?(isPlainObject3(F[1])&&isPlainObject3(M)&&(M=(0,import_extend.default)(!0,F[1],M)),F[1]=M):n.push([...arguments])}}function v(w){l.freeze();const C=vfile(w),S=l.Parser;return assertParser("parse",S),newable(S,"parse")?new S(String(C),C).parse():S(String(C),C)}function g(w,C){l.freeze();const S=vfile(C),D=l.Compiler;return assertCompiler("stringify",D),assertNode(w),newable(D,"compile")?new D(w,S).compile():D(w,S)}function y(w,C,S){if(assertNode(w),l.freeze(),!S&&typeof C=="function"&&(S=C,C=void 0),!S)return new Promise(D);D(null,S);function D(A,T){r.run(w,vfile(C),P);function P(E,M,L){M=M||w,E?T(E):A?A(M):S(null,M,L)}}}function b(w,C){let S,D;return l.run(w,C,A),assertDone("runSync","run",D),S;function A(T,P){bail(T),S=P,D=!0}}function _(w,C){if(l.freeze(),assertParser("process",l.Parser),assertCompiler("process",l.Compiler),!C)return new Promise(S);S(null,C);function S(D,A){const T=vfile(w);l.run(l.parse(T),T,(E,M,L)=>{if(E||!M||!L)P(E);else{const F=l.stringify(M,L);F==null||(looksLikeAVFileValue(F)?L.value=F:L.result=F),P(E,L)}});function P(E,M){E||!M?A(E):D?D(M):C(null,M)}}}function x(w){let C;l.freeze(),assertParser("processSync",l.Parser),assertCompiler("processSync",l.Compiler);const S=vfile(w);return l.process(S,D),assertDone("processSync","process",C),S;function D(A){C=!0,bail(A)}}}function newable(r,n){return typeof r=="function"&&r.prototype&&(keys4(r.prototype)||n in r.prototype)}function keys4(r){let n;for(n in r)if(own.call(r,n))return!0;return!1}function assertParser(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `Parser`")}function assertCompiler(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `Compiler`")}function assertUnfrozen(r,n){if(n)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(r){if(!isPlainObject3(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function assertDone(r,n,a){if(!a)throw new Error("`"+r+"` finished async. Use `"+n+"` instead")}function vfile(r){return looksLikeAVFile(r)?r:new VFile(r)}function looksLikeAVFile(r){return Boolean(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function looksLikeAVFileValue(r){return typeof r=="string"||(0,import_is_buffer2.default)(r)}function unherit(r){const n=class extends r{},a=n.prototype;let o;for(o in a){const s=a[o];s&&typeof s=="object"&&(a[o]="concat"in s?s.concat():Object.assign({},s))}return n}var import_nlcst_to_string=__toModule(require_nlcst_to_string()),import_unist_util_modify_children=__toModule(require_unist_util_modify_children()),mergeInitialWordSymbol=(0,import_unist_util_modify_children.default)(function(r,n,a){var o,s;if(!(r.type!=="SymbolNode"&&r.type!=="PunctuationNode"||(0,import_nlcst_to_string.default)(r)!=="&")&&(o=a.children,s=o[n+1],!(n>0&&o[n-1].type==="WordNode"||!(s&&s.type==="WordNode"))))return o.splice(n,1),s.children.unshift(r),s.position&&r.position&&(s.position.start=r.position.start),n-1}),import_nlcst_to_string2=__toModule(require_nlcst_to_string()),import_unist_util_modify_children2=__toModule(require_unist_util_modify_children()),mergeFinalWordSymbol=(0,import_unist_util_modify_children2.default)(function(r,n,a){var o,s,l;if(n>0&&(r.type==="SymbolNode"||r.type==="PunctuationNode")&&(0,import_nlcst_to_string2.default)(r)==="-"&&(o=a.children,s=o[n-1],l=o[n+1],(!l||l.type!=="WordNode")&&s&&s.type==="WordNode"))return o.splice(n,1),s.children.push(r),s.position&&r.position&&(s.position.end=r.position.end),n}),import_nlcst_to_string3=__toModule(require_nlcst_to_string()),import_unist_util_modify_children3=__toModule(require_unist_util_modify_children()),affixSymbol=/^([!"').?\u00BB\u0F3B\u0F3D\u169C\u2019\u201D\u2026\u203A\u203D\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63\]}])\1*$/,newLine=/^[ \t]*((\r?\n|\r)[\t ]*)+$/,newLineMulti=/^[ \t]*((\r?\n|\r)[\t ]*){2,}$/,terminalMarker=/^([!.?\u2026\u203D]+)$/,wordSymbolInner=/^([&'\-.:=?@\u00AD\u00B7\u2010\u2011\u2019\u2027]|_+)$/,numerical=/^(?:[\d\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+$/,digitStart=/^\d/,lowerInitial=/^(?:[a-z\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/,surrogates=/[\uD800-\uDFFF]/,punctuation=/[!"'-),-/:;?[-\]_{}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u201F\u2022-\u2027\u2032-\u203A\u203C-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,word=/[\dA-Za-z\u00AA\u00B2\u00B3\u00B5\u00B9\u00BA\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1AC0\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u20D0-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA827\uA82C\uA830-\uA835\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC52-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF]/,whiteSpace=/[\t-\r \u0085\u00A0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,mergeInnerWordSymbol=(0,import_unist_util_modify_children3.default)(function(r,n,a){var o,s,l,u,f,d,v;if(n>0&&(r.type==="SymbolNode"||r.type==="PunctuationNode")&&(o=a.children,l=o[n-1],l&&l.type==="WordNode")){for(f=n-1,d=[],v=[];o[++f];)if(s=o[f],s.type==="WordNode")d=d.concat(v,s.children),v=[];else if((s.type==="SymbolNode"||s.type==="PunctuationNode")&&wordSymbolInner.test((0,import_nlcst_to_string3.default)(s)))v.push(s);else break;if(d.length>0)return v.length>0&&(f-=v.length),o.splice(n,f-n),l.children=l.children.concat(d),u=d[d.length-1],l.position&&u.position&&(l.position.end=u.position.end),n}}),import_nlcst_to_string4=__toModule(require_nlcst_to_string()),import_unist_util_modify_children4=__toModule(require_unist_util_modify_children()),slash="/",mergeInnerWordSlash=(0,import_unist_util_modify_children4.default)(function(r,n,a){var o=a.children,s,l,u,f,d,v,g;if(s=o[n-1],l=o[n+1],s&&s.type==="WordNode"&&(r.type==="SymbolNode"||r.type==="PunctuationNode")&&(0,import_nlcst_to_string4.default)(r)===slash&&(u=(0,import_nlcst_to_string4.default)(s),v=r,d=[r],g=1,l&&l.type==="WordNode"&&(f=(0,import_nlcst_to_string4.default)(l),v=l,d=d.concat(l.children),g++),u.length<3&&(!f||f.length<3)))return s.children=s.children.concat(d),o.splice(n,g),s.position&&v.position&&(s.position.end=v.position.end),n}),import_nlcst_to_string5=__toModule(require_nlcst_to_string()),import_unist_util_modify_children5=__toModule(require_unist_util_modify_children()),mergeInitialisms=(0,import_unist_util_modify_children5.default)(function(r,n,a){var o,s,l,u,f,d,v;if(n>0&&(0,import_nlcst_to_string5.default)(r)==="."&&(o=a.children,s=o[n-1],l=s.children,s.type==="WordNode"&&l&&l.length!==1&&l.length%2!=0)){for(u=l.length,d=!0;l[--u];)if(f=l[u],v=(0,import_nlcst_to_string5.default)(f),u%2==0){if(v.length>1)return;numerical.test(v)||(d=!1)}else if(v!=="."){if(u<l.length-2)break;return}if(!d)return o.splice(n,1),l.push(r),s.position&&r.position&&(s.position.end=r.position.end),n}}),import_unist_util_modify_children6=__toModule(require_unist_util_modify_children()),mergeWords=(0,import_unist_util_modify_children6.default)(function(r,n,a){var o=a.children,s;if(r.type==="WordNode"&&(s=o[n+1],s&&s.type==="WordNode"))return o.splice(n+1,1),r.children=r.children.concat(s.children),s.position&&r.position&&(r.position.end=s.position.end),n}),import_unist_util_visit_children=__toModule(require_unist_util_visit_children()),patchPosition=(0,import_unist_util_visit_children.default)(function(r,n,a){var o=a.children;!r.position||(n<1&&(!a.position||!a.position.start)&&(patch(a),a.position.start=r.position.start),n===o.length-1&&(!a.position||!a.position.end)&&(patch(a),a.position.end=r.position.end))});function patch(r){r.position||(r.position={})}var import_unist_util_modify_children7=__toModule(require_unist_util_modify_children()),mergeNonWordSentences=(0,import_unist_util_modify_children7.default)(function(r,n,a){for(var o=r.children,s=-1,l,u;o[++s];)if(o[s].type==="WordNode")return;if(l=a.children[n-1],l)return l.children=l.children.concat(o),a.children.splice(n,1),l.position&&r.position&&(l.position.end=r.position.end),n;u=a.children[n+1],u&&(u.children=o.concat(u.children),u.position&&r.position&&(u.position.start=r.position.start),a.children.splice(n,1))}),import_nlcst_to_string6=__toModule(require_nlcst_to_string()),import_unist_util_modify_children8=__toModule(require_unist_util_modify_children()),mergeAffixSymbol=(0,import_unist_util_modify_children8.default)(function(r,n,a){var o=r.children,s,l,u;if(o&&o.length>0&&n>0&&(s=o[0],l=o[1],u=a.children[n-1],(s.type==="SymbolNode"||s.type==="PunctuationNode")&&affixSymbol.test((0,import_nlcst_to_string6.default)(s))))return u.children.push(o.shift()),s.position&&u.position&&(u.position.end=s.position.end),l&&l.position&&r.position&&(r.position.start=l.position.start),n-1}),import_nlcst_to_string7=__toModule(require_nlcst_to_string()),import_unist_util_modify_children9=__toModule(require_unist_util_modify_children()),mergeInitialLowerCaseLetterSentences=(0,import_unist_util_modify_children9.default)(function(r,n,a){var o=r.children,s,l,u,f;if(o&&o.length>0&&n>0)for(s=-1;o[++s];){if(l=o[s],l.type==="WordNode")return lowerInitial.test((0,import_nlcst_to_string7.default)(l))?(u=a.children,f=u[n-1],f.children=f.children.concat(o),u.splice(n,1),f.position&&r.position&&(f.position.end=r.position.end),n):void 0;if(l.type==="SymbolNode"||l.type==="PunctuationNode")return}}),import_nlcst_to_string8=__toModule(require_nlcst_to_string()),import_unist_util_modify_children10=__toModule(require_unist_util_modify_children()),mergeInitialDigitSentences=(0,import_unist_util_modify_children10.default)(function(r,n,a){var o=r.children,s=a.children,l=s[n-1],u=o[0];if(l&&u&&u.type==="WordNode"&&digitStart.test((0,import_nlcst_to_string8.default)(u)))return l.children=l.children.concat(o),s.splice(n,1),l.position&&r.position&&(l.position.end=r.position.end),n}),import_nlcst_to_string9=__toModule(require_nlcst_to_string()),import_unist_util_modify_children11=__toModule(require_unist_util_modify_children()),abbreviationPrefix=new RegExp("^([0-9]{1,3}|[a-z]|al|ca|cap|cca|cent|cf|cit|con|cp|cwt|ead|etc|ff|fl|ibid|id|nem|op|pro|seq|sic|stat|tem|viz)$"),mergePrefixExceptions=(0,import_unist_util_modify_children11.default)(function(r,n,a){var o=r.children,s,l,u;if(o&&o.length>1&&(s=o[o.length-1],s&&(0,import_nlcst_to_string9.default)(s)==="."&&(l=o[o.length-2],l&&l.type==="WordNode"&&abbreviationPrefix.test((0,import_nlcst_to_string9.default)(l).toLowerCase())&&(l.children.push(s),o.pop(),s.position&&l.position&&(l.position.end=s.position.end),u=a.children[n+1],u))))return r.children=o.concat(u.children),a.children.splice(n+1,1),u.position&&r.position&&(r.position.end=u.position.end),n-1}),import_nlcst_to_string10=__toModule(require_nlcst_to_string()),import_unist_util_modify_children12=__toModule(require_unist_util_modify_children()),mergeAffixExceptions=(0,import_unist_util_modify_children12.default)(function(r,n,a){var o=r.children,s,l,u,f;if(!(!o||o.length===0||n<1))for(l=-1;o[++l];){if(s=o[l],s.type==="WordNode")return;if(s.type==="SymbolNode"||s.type==="PunctuationNode")return u=(0,import_nlcst_to_string10.default)(s),u!==","&&u!==";"?void 0:(f=a.children[n-1],f.children=f.children.concat(o),f.position&&r.position&&(f.position.end=r.position.end),a.children.splice(n,1),n)}}),import_nlcst_to_string11=__toModule(require_nlcst_to_string()),import_unist_util_visit_children2=__toModule(require_unist_util_visit_children()),mergeRemainingFullStops=(0,import_unist_util_visit_children2.default)(function(r){for(var n=r.children,a=n.length,o=!1,s,l,u,f;n[--a];){if(s=n[a],s.type!=="SymbolNode"&&s.type!=="PunctuationNode"){s.type==="WordNode"&&(o=!0);continue}if(!!terminalMarker.test((0,import_nlcst_to_string11.default)(s))){if(!o){o=!0;continue}if((0,import_nlcst_to_string11.default)(s)===".")if(l=n[a-1],u=n[a+1],l&&l.type==="WordNode"){if(f=n[a+2],u&&f&&u.type==="WhiteSpaceNode"&&(0,import_nlcst_to_string11.default)(f)===".")continue;n.splice(a,1),l.children.push(s),s.position&&l.position&&(l.position.end=s.position.end),a--}else u&&u.type==="WordNode"&&(n.splice(a,1),u.children.unshift(s),s.position&&u.position&&(u.position.start=s.position.start))}}}),import_unist_util_visit_children3=__toModule(require_unist_util_visit_children()),makeInitialWhiteSpaceSiblings=(0,import_unist_util_visit_children3.default)(function(r,n,a){var o=r.children,s;o&&o.length>0&&o[0].type==="WhiteSpaceNode"&&(a.children.splice(n,0,o.shift()),s=o[0],s&&s.position&&r.position&&(r.position.start=s.position.start))}),import_unist_util_modify_children13=__toModule(require_unist_util_modify_children()),makeFinalWhiteSpaceSiblings=(0,import_unist_util_modify_children13.default)(function(r,n,a){var o=r.children,s;if(o&&o.length>0&&o[o.length-1].type==="WhiteSpaceNode")return a.children.splice(n+1,0,r.children.pop()),s=o[o.length-1],s&&s.position&&r.position&&(r.position.end=s.position.end),n}),import_nlcst_to_string12=__toModule(require_nlcst_to_string()),import_unist_util_modify_children14=__toModule(require_unist_util_modify_children()),breakImplicitSentences=(0,import_unist_util_modify_children14.default)(function(r,n,a){var o,s,l,u,f,d,v;if(r.type==="SentenceNode"){for(o=r.children,s=0;++s<o.length-1;)if(v=o[s],!(v.type!=="WhiteSpaceNode"||!newLineMulti.test((0,import_nlcst_to_string12.default)(v))))return r.children=o.slice(0,s),d={type:"SentenceNode",children:o.slice(s+1)},l=o[s-1],u=o[s+1],a.children.splice(n+1,0,v,d),r.position&&l.position&&u.position&&(f=r.position.end,r.position.end=l.position.end,d.position={start:u.position.start,end:f}),n+1}}),import_unist_util_modify_children15=__toModule(require_unist_util_modify_children()),removeEmptyNodes=(0,import_unist_util_modify_children15.default)(function(r,n,a){if("children"in r&&r.children.length===0)return a.children.splice(n,1),n}),import_nlcst_to_string13=__toModule(require_nlcst_to_string());function tokenizerFactory(r,n){return a;function a(o){for(var s=[],l=o.children,u=o.type,f=-1,d=l.length-1,v=0,g,y,b;++f<l.length;)(f===d||l[f].type===r&&n.test((0,import_nlcst_to_string13.default)(l[f])))&&(g=l[v],y=l[f],b={type:u,children:l.slice(v,f+1)},g.position&&y.position&&(b.position={start:g.position.start,end:y.position.end}),s.push(b),v=f+1);return s}}function parserFactory(r){var n=r.type,a=r.tokenizer,o=r.delimiter,s=o&&tokenizerFactory(r.delimiterType,o);return l;function l(u){var f=this[a](u);return{type:n,children:s?s(f):f}}}var ParseLatin=class{constructor(r,n){var a=n||r;this.doc=a?String(a):null}run(r,n){var a=r+"Plugins",o=this[a],s=-1;if(o)for(;o[++s];)o[s](n);return n}parse(r){return this.tokenizeRoot(r||this.doc)}tokenize(r){var n=this,a=[],o=0,s=0,l=1,u=1,f,d,v,g,y,b;if(r==null?r="":r instanceof String&&(r=r.toString()),typeof r!="string"){if("length"in r&&(!r[0]||r[0].type))return r;throw new Error("Illegal invocation: '"+r+"' is not a valid argument for 'ParseLatin'")}if(!r)return a;for(b=this.position?x:w,v="",d="";o<r.length;)f=r.charAt(o),whiteSpace.test(f)?y="WhiteSpace":punctuation.test(f)?y="Punctuation":word.test(f)?y="Word":y="Symbol",_(),v=f,f="",g=y,y=null,o++;return _(),a;function _(){g===y&&(g==="Word"||g==="WhiteSpace"||f===v||surrogates.test(f))?d+=f:(d&&n["tokenize"+g](d,b),d=f)}function x(P){var E=S();return D(P),M;function M(...L){return E(C(...L))}}function w(){return C}function C(P,E){return E?E.children.push(P):a.push(P),P}function S(){var P=T();function E(M){return M.position=new A(P),M}return E}function D(P){var E=-1,M=-1;for(s+=P.length;++E<P.length;)P.charAt(E)===`
`&&(M=E,l++);M<0?u+=P.length:u=P.length-M}function A(P){this.start=P,this.end=T()}function T(){return{line:l,column:u,offset:s}}}};ParseLatin.prototype.position=!0,ParseLatin.prototype.tokenizeSymbol=createTextFactory("Symbol"),ParseLatin.prototype.tokenizeWhiteSpace=createTextFactory("WhiteSpace"),ParseLatin.prototype.tokenizePunctuation=createTextFactory("Punctuation"),ParseLatin.prototype.tokenizeSource=createTextFactory("Source"),ParseLatin.prototype.tokenizeText=createTextFactory("Text"),ParseLatin.prototype.use=useFactory(function(r,n,a){r[n]=r[n].concat(a)}),ParseLatin.prototype.useFirst=useFactory(function(r,n,a){r[n]=a.concat(r[n])}),pluggable(ParseLatin,"tokenizeWord",function(r,n){var a=(n||noopEat)(""),o={type:"WordNode",children:[]};return this.tokenizeText(r,n,o),a(o)}),pluggable(ParseLatin,"tokenizeSentence",parserFactory({type:"SentenceNode",tokenizer:"tokenize"})),pluggable(ParseLatin,"tokenizeParagraph",parserFactory({type:"ParagraphNode",delimiter:terminalMarker,delimiterType:"PunctuationNode",tokenizer:"tokenizeSentence"})),pluggable(ParseLatin,"tokenizeRoot",parserFactory({type:"RootNode",delimiter:newLine,delimiterType:"WhiteSpaceNode",tokenizer:"tokenizeParagraph"})),ParseLatin.prototype.use("tokenizeSentence",[mergeInitialWordSymbol,mergeFinalWordSymbol,mergeInnerWordSymbol,mergeInnerWordSlash,mergeInitialisms,mergeWords,patchPosition]),ParseLatin.prototype.use("tokenizeParagraph",[mergeNonWordSentences,mergeAffixSymbol,mergeInitialLowerCaseLetterSentences,mergeInitialDigitSentences,mergePrefixExceptions,mergeAffixExceptions,mergeRemainingFullStops,makeInitialWhiteSpaceSiblings,makeFinalWhiteSpaceSiblings,breakImplicitSentences,removeEmptyNodes,patchPosition]),ParseLatin.prototype.use("tokenizeRoot",[makeInitialWhiteSpaceSiblings,makeFinalWhiteSpaceSiblings,removeEmptyNodes,patchPosition]);function createTextFactory(r){return r+="Node",n;function n(a,o,s){return a==null&&(a=""),(o||noopEat)(a)({type:r,value:String(a)},s)}}function pluggable(r,n,a){r.prototype[n]=function(...o){return this.run(n,a.apply(this,o))}}function useFactory(r){return n;function n(a,o){var s;if(!(a in this))throw new Error("Illegal Invocation: Unsupported `key` for `use(key, plugins)`. Make sure `key` is a supported function");!o||(s=a+"Plugins",o=typeof o=="function"?[o]:o.concat(),this[s]||(this[s]=[]),r(this,s,o))}}function noopAdd(r,n){return n&&n.children.push(r),r}function noopEat(){return noopAdd}var import_nlcst_to_string14=__toModule(require_nlcst_to_string2()),import_unist_util_visit_children4=__toModule(require_unist_util_visit_children()),import_unist_util_modify_children16=__toModule(require_unist_util_modify_children2()),ParseEnglish=class extends ParseLatin{};ParseEnglish.prototype.tokenizeSentencePlugins=[(0,import_unist_util_visit_children4.default)(mergeEnglishElisionExceptions)].concat(ParseEnglish.prototype.tokenizeSentencePlugins),ParseEnglish.prototype.tokenizeParagraphPlugins=[(0,import_unist_util_modify_children16.default)(mergeEnglishPrefixExceptions)].concat(ParseEnglish.prototype.tokenizeParagraphPlugins);var abbreviations=new RegExp("^(inc|ltd|bbls?|cu|doz|fl|ft|gal|gr|gro|in|kt|lbs?|mi|oz|pt|qt|sq|tbsp|tsp|yds?|sec|min|hr|mon|tue|tues|wed|thu|thurs|fri|sat|sun|jan|feb|mar|apr|jun|jul|aug|sep|sept|oct|nov|dec)$"),abbreviationsSensitive=new RegExp("^(Mr|Mrs|Miss|Ms|Mss|Mses|Mlle|Mme|M|Messrs|Mmes|Jr|Sr|Snr|Dr|Mgr|Atty|Prof|Hon|Rev|Fr|Msgr|Sr|Br|St|Pres|Supt|Rep|Sen|Gov|Amb|Treas|Sec|Amd|Brig|Gen|Cdr|Col|Capt|Lt|Maj|Sgt|Po|Wo|Ph|Ave|Blvd|Mt|Rd|Bldgs?|Nat|Natl|Rt|Rte|Co|Pk|Sq|Dr|Pt|St|Ft|Pen|Terr|Hwy|Fwy|Pkwy|Ala|Ariz|Ark|Cal|Calif|Col|Colo|Conn|Del|Fla|Ga|Ida|Id|Ill|Ind|Ia|Kan|Kans|Ken|Ky|La|Me|Md|Mass|Mich|Minn|Miss|Mo|Mont|Neb|Nebr|Nev|Mex|Dak|Okla|Ok|Ore|Penna|Penn|Pa|Tenn|Tex|Ut|Vt|Va|Wash|Wis|Wisc|Wyo|Alta|Man|Ont|Qu\xE9|Que|Sask|Yuk|Beds|Berks|Bucks|Cambs|Ches|Corn|Cumb|Derbys|Derbs|Dev|Dor|Dur|Glos|Hants|Here|Heref|Herts|Hunts|Lancs|Leics|Lincs|Mx|Middx|Mddx|Norf|Northants|Northumb|Northd|Notts|Oxon|Rut|Shrops|Salop|Som|Staffs|Staf|Suff|Sy|Sx|Ssx|Warks|War|Warw|Westm|Wilts|Worcs|Yorks)$"),elisionPrefix=new RegExp("^(o|ol)$"),elisionAffix=new RegExp("^(im|er|em|cause|twas|tis|twere|\\d\\ds?)$"),apostrophe=/^['\u2019]$/;function mergeEnglishPrefixExceptions(r,n,a){var o=r.children,s=o[o.length-1],l=o[o.length-2],u,f;if(s&&(0,import_nlcst_to_string14.default)(s)==="."&&l&&l.type==="WordNode"&&(u=(0,import_nlcst_to_string14.default)(l),(abbreviations.test(lower(u))||abbreviationsSensitive.test(u))&&(l.children.push(s),o.pop(),s.position&&l.position&&(l.position.end=s.position.end),f=a.children[n+1],f)))return r.children=o.concat(f.children),a.children.splice(n+1,1),f.position&&r.position&&(r.position.end=f.position.end),n-1}function mergeEnglishElisionExceptions(r,n,a){var o,s,l,u,f;if(!(r.type!=="PunctuationNode"&&r.type!=="SymbolNode")){if(o=a.children,u=o.length,f=(0,import_nlcst_to_string14.default)(r),f==="/")s=o[n-1],s&&lower((0,import_nlcst_to_string14.default)(s))==="w"&&(o.splice(n,1),s.children.push(r),s.position&&r.position&&(s.position.end=r.position.end));else if(apostrophe.test(f)){if(s=o[n-1],n>2&&n<u-1&&s.type==="WordNode"&&o[n-2].type==="WhiteSpaceNode"&&o[n+1].type==="WhiteSpaceNode"&&elisionPrefix.test(lower((0,import_nlcst_to_string14.default)(s)))){o.splice(n,1),s.children.push(r),s.position&&r.position&&(s.position.end=r.position.end);return}n!==u-1&&o[n+1].type==="WordNode"&&(n===0||o[n-1].type!=="WordNode")&&(s=o[n+1],f=lower((0,import_nlcst_to_string14.default)(s)),elisionAffix.test(f)?(o.splice(n,1),s.children=[r].concat(s.children),s.position&&r.position&&(s.position.start=r.position.start)):f==="n"&&n<u-2&&apostrophe.test((0,import_nlcst_to_string14.default)(o[n+2]))&&(l=o[n+2],o.splice(n,1),o.splice(n+1,1),s.children=[r].concat(s.children,l),s.position&&(r.position&&(s.position.start=r.position.start),l.position&&(s.position.end=l.position.end))))}}}function lower(r){return r.toLowerCase()}function retextEnglish(){Object.assign(this,{Parser:unherit(ParseEnglish)})}var retext_english_default=retextEnglish,own2={}.hasOwnProperty;function arrayIterate(r,n,a){let o=-1;if(!r)throw new Error("Iterate requires that |this| not be "+r);if(!own2.call(r,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof n!="function")throw new TypeError("`callback` must be a function");for(;++o<r.length;){if(!(o in r))continue;const s=n.call(a,r[o],o,r);typeof s=="number"&&(s<0&&(o=0),o=s-1)}}function modifyChildren17(r){return n;function n(o){if(!o||!o.children)throw new Error("Missing children in `parent` for `modifier`");arrayIterate(o.children,a,o)}function a(o,s){return r(o,s,this)}}var convert=function(r){if(r==null)return ok;if(typeof r=="string")return typeFactory(r);if(typeof r=="object")return Array.isArray(r)?anyFactory(r):propsFactory(r);if(typeof r=="function")return castFactory(r);throw new Error("Expected function, string, or object as test")};function anyFactory(r){const n=[];let a=-1;for(;++a<r.length;)n[a]=convert(r[a]);return castFactory(o);function o(...s){let l=-1;for(;++l<n.length;)if(n[l].call(this,...s))return!0;return!1}}function propsFactory(r){return castFactory(n);function n(a){let o;for(o in r)if(a[o]!==r[o])return!1;return!0}}function typeFactory(r){return castFactory(n);function n(a){return a&&a.type===r}}function castFactory(r){return n;function n(...a){return Boolean(r.call(this,...a))}}function ok(){return!0}function color2(r){return r}var CONTINUE=!0,SKIP="skip",EXIT=!1,visitParents=function(r,n,a,o){typeof n=="function"&&typeof a!="function"&&(o=a,a=n,n=null);const s=convert(n),l=o?-1:1;u(r,null,[])();function u(f,d,v){const g=typeof f=="object"&&f!==null?f:{};let y;return typeof g.type=="string"&&(y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0,Object.defineProperty(b,"name",{value:"node ("+color2(g.type+(y?"<"+y+">":""))+")"})),b;function b(){let _=[],x,w,C;if((!n||s(f,d,v[v.length-1]||null))&&(_=toResult(a(f,v)),_[0]===EXIT))return _;if(f.children&&_[0]!==SKIP)for(w=(o?f.children.length:-1)+l,C=v.concat(f);w>-1&&w<f.children.length;){if(x=u(f.children[w],w,C)(),x[0]===EXIT)return x;w=typeof x[1]=="number"?x[1]:w+l}return _}}};function toResult(r){return Array.isArray(r)?r:typeof r=="number"?[CONTINUE,r]:[r]}var visit=function(r,n,a,o){typeof n=="function"&&typeof a!="function"&&(o=a,a=n,n=null),visitParents(r,n,s,o);function s(l,u){const f=u[u.length-1];return a(l,f?f.children.indexOf(l):null,f)}};function toString17(r,n=""){let a=-1;if(!r||!Array.isArray(r)&&!r.type)throw new Error("Expected node, not `"+r+"`");if(typeof r.value=="string")return r.value;const o=(Array.isArray(r)?r:r.children)||[];if(o.length===1&&"value"in o[0])return o[0].value;const s=[];for(;++a<o.length;)s[a]=toString17(o[a],n);return s.join(n)}var STATUS_MAP=["ignore","learning","familiar","known","learned"],TextParser=class{constructor(r){this.phrases=[],this.words=new Map,this.pIdx=0,this.phraseModifier=modifyChildren17(this.wrapWord2Phrase.bind(this)),this.plugin=r,this.processor=unified().use(retext_english_default).use(this.addPhrases()).use(this.stringfy2HTML())}parse(r){return __async(this,null,function*(){return yield this.text2HTML(r.trim())})}text2HTML(r){return __async(this,null,function*(){this.pIdx=0,this.words.clear(),this.phrases=(yield this.plugin.db.getStoredWords({article:r.toLowerCase(),words:[]})).phrases;const n=this.processor.parse(r);let a=new Set;return visit(n,"WordNode",l=>{a.add(toString17(l).toLowerCase())}),(yield this.plugin.db.getStoredWords({article:"",words:[...a]})).words.forEach(l=>this.words.set(l.text,l)),this.processor.stringify(n)})}getWordsPhrases(r){return __async(this,null,function*(){const n=this.processor.parse(r);let a=new Set;visit(n,"WordNode",u=>{a.add(toString17(u).toLowerCase())});let o=yield this.plugin.db.getStoredWords({article:r.toLowerCase(),words:[...a]}),s=[];return o.phrases.forEach(u=>{u.status>0&&s.push(u.text)}),o.words.forEach(u=>{u.status>0&&s.push(u.text)}),yield this.plugin.db.getExpressionsSimple(s)})}addPhrases(){let r=this;return function(n={}){this.Parser.prototype.useFirst("tokenizeParagraph",r.phraseModifier)}}wrapWord2Phrase(r,n,a){if(!r.hasOwnProperty("children")||this.pIdx>=this.phrases.length||r.position.end.offset<=this.phrases[this.pIdx].offset)return;let o=r.children,s;for(;(s=o.findIndex(l=>l.position.start.offset===this.phrases[this.pIdx].offset))!==-1;){let l=o.findIndex(f=>f.position.end.offset===this.phrases[this.pIdx].offset+this.phrases[this.pIdx].text.length);if(l===-1){this.pIdx++;return}let u=o.slice(s,l+1);if(o.splice(s,l-s+1,{type:"PhraseNode",children:u,position:{start:__spreadValues({},u.first().position.start),end:__spreadValues({},u.last().position.end)}}),this.pIdx++,this.pIdx>=this.phrases.length||r.position.end.offset<=this.phrases[this.pIdx].offset)return}}stringfy2HTML(){let r=this;return function(){Object.assign(this,{Compiler:r.compileHTML.bind(r)})}}compileHTML(r){return this.toHTMLString(r)}toHTMLString(r){if(r.hasOwnProperty("value"))return r.value;if(r.hasOwnProperty("children")){let n=r;switch(n.type){case"WordNode":{let a=toString17(n.children),o=a.toLowerCase(),s=this.words.has(o)?STATUS_MAP[this.words.get(o).status]:"new";return/[0-9\u4e00-\u9fa5]/.test(a)?`<span>${a}</span>`:`<span class="word ${s}">${a}</span>`}case"PhraseNode":{let a=toString17(n.children),o=this.toHTMLString(n.children),s=this.phrases.find(u=>u.text===a.toLowerCase());return`<span class="phrase ${STATUS_MAP[s.status]}">${o}</span>`}case"SentenceNode":return`<span class="stns">${this.toHTMLString(n.children)}</span>`;case"ParagraphNode":return`<p>${this.toHTMLString(n.children)}</p>`;default:return`<div class="article">${this.toHTMLString(n.children)}</div>`}}if(Array.isArray(r))return r.map(a=>this.toHTMLString(a)).join("")}},import_obsidian11=__toModule(require("obsidian")),DEFAULT_SETTINGS={use_server:!1,word_database:null,review_database:null,port:8086,db_name:"WordDB",review_prons:"0",default_paragraphs:"4",col_delimiter:",",use_machine_trans:!0,auto_refresh_db:!0},SettingTab=class extends import_obsidian11.PluginSettingTab{constructor(r,n){super(r,n);this.plugin=n}display(){const{containerEl:r}=this;r.empty(),r.createEl("h1",{text:"Settings for Language Learner"}),new import_obsidian11.Setting(r).setName(t("Use Server")).setDesc(t("Use a seperated backend server")).addToggle(n=>n.setValue(this.plugin.settings.use_server).onChange(a=>__async(this,null,function*(){this.plugin.settings.use_server=a,yield this.plugin.saveSettings()}))),new import_obsidian11.Setting(r).setName(t("Server Port")).setDesc(t('An integer between 1024-65535. It should be same as "PORT" variable in .env file of server')).setDisabled(!this.plugin.settings.use_server).addText(n=>n.setValue(String(this.plugin.settings.port)).onChange(a=>__async(this,null,function*(){let o=Number(a);!isNaN(o)&&o>=1023&&o<=65535?(this.plugin.settings.port=o,this.plugin.db.port=o,yield this.plugin.saveSettings()):new import_obsidian11.Notice(t("Wrong port format"))}))),r.createEl("h3",{text:t("Text Database")}),new import_obsidian11.Setting(r).setName(t("Auto refresh")).setDesc(t("Auto refresh database when submitting")).addToggle(n=>n.setValue(this.plugin.settings.auto_refresh_db).onChange(a=>__async(this,null,function*(){this.plugin.settings.auto_refresh_db=a,yield this.plugin.saveSettings()}))),new import_obsidian11.Setting(r).setName(t("Word Database Path")).setDesc(t("Choose a md file as word database for auto-completion")).addText(n=>n.setValue(this.plugin.settings.word_database).onChange(a=>__async(this,null,function*(){this.plugin.settings.word_database=a,yield this.plugin.saveSettings()}))),new import_obsidian11.Setting(r).setName(t("Review Database Path")).setDesc(t("Choose a md file as review database for spaced-repetition")).addText(n=>n.setValue(this.plugin.settings.review_database).onChange(a=>__async(this,null,function*(){this.plugin.settings.review_database=a,yield this.plugin.saveSettings()}))),r.createEl("h3",{text:t("IndexDB Database")}),new import_obsidian11.Setting(r).setName(t("Database Name")).setDesc(t("Reopen app after changing database name")).addText(n=>n.setValue(this.plugin.settings.db_name).onChange(a=>__async(this,null,function*(){this.plugin.settings.db_name=a,this.plugin.saveSettings()}))),new import_obsidian11.Setting(r).setName(t("Import & Export")).setDesc(t("Warning: Import will override current database")).addButton(n=>n.setButtonText(t("Import")).onClick(()=>__async(this,null,function*(){new OpenFileModal(this.plugin.app,o=>__async(this,null,function*(){yield this.plugin.db.importDB(o),new import_obsidian11.Notice("Imported")})).open()}))).addButton(n=>n.setButtonText(t("Export")).onClick(()=>__async(this,null,function*(){yield this.plugin.db.exportDB(),new import_obsidian11.Notice("Exported")}))),new import_obsidian11.Setting(r).setName(t("Get all ignores")).addButton(n=>n.setButtonText(t("Export")).onClick(()=>__async(this,null,function*(){let o=(yield this.plugin.db.getAllExpressionSimple(!0)).filter(s=>s.status===0).map(s=>s.expression);yield navigator.clipboard.writeText(o.join(`
`)),new import_obsidian11.Notice(t("Ignores are copied to the clipboard"))}))),new import_obsidian11.Setting(r).setName(t("Destroy Database")).setDesc(t("Destroy all stuff and start over")).addButton(n=>n.setButtonText(t("Destroy")).setWarning().onClick(a=>__async(this,null,function*(){new WarningModal(this.app,t("Are you sure you want to destroy your database?"),()=>__async(this,null,function*(){yield this.plugin.db.destroyAll(),new import_obsidian11.Notice("\u554A\u554A\u554A")})).open()}))),r.createEl("h3",{text:t("Reading Mode")}),new import_obsidian11.Setting(r).setName(t("Default Paragraphs")).addDropdown(n=>n.addOption("2","1").addOption("4","2").addOption("8","4").addOption("16","8").addOption("32","16").addOption("all","All").setValue(this.plugin.settings.default_paragraphs).onChange(a=>__async(this,null,function*(){this.plugin.settings.default_paragraphs=a,yield this.plugin.saveSettings()}))),new import_obsidian11.Setting(r).setName(t("Use Machine Translation")).setDesc(t("Auto translate sentences")).addToggle(n=>n.setValue(this.plugin.settings.use_machine_trans).onChange(a=>__async(this,null,function*(){this.plugin.settings.use_machine_trans=a,yield this.plugin.saveSettings()}))),r.createEl("h3",{text:t("Auto Completion")}),new import_obsidian11.Setting(r).setName(t("Column delimiter")).addDropdown(n=>n.addOption(",",t("Comma")).addOption("	",t("Tab")).addOption("|",t("Pipe")).setValue(this.plugin.settings.col_delimiter).onChange(a=>__async(this,null,function*(){this.plugin.settings.col_delimiter=a,yield this.plugin.saveSettings()}))),r.createEl("h3",{text:t("Review")}),new import_obsidian11.Setting(r).setName(t("Accent")).setDesc(t("Choose your preferred accent")).addDropdown(n=>n.addOption("0",t("American")).addOption("1",t("British")).setValue(this.plugin.settings.review_prons).onChange(a=>__async(this,null,function*(){this.plugin.settings.review_prons=a,yield this.plugin.saveSettings()})))}},OpenFileModal=class extends import_obsidian11.Modal{constructor(r,n){super(r);this.onSubmit=n}onOpen(){const{contentEl:r}=this;this.input=r.createEl("input",{attr:{type:"file"}}),this.input.addEventListener("change",()=>{this.file=this.input.files[0]}),new import_obsidian11.Setting(r).addButton(n=>n.setButtonText(t("Yes")).onClick(a=>{this.onSubmit(this.file),this.close()}))}onClose(){}},WarningModal=class extends import_obsidian11.Modal{constructor(r,n,a){super(r);this.message=n,this.onSubmit=a}onOpen(){const{contentEl:r}=this;r.createEl("h2",{text:this.message}),new import_obsidian11.Setting(r).addButton(n=>n.setButtonText(t("Yes")).setWarning().setCta().onClick(()=>{this.close(),this.onSubmit()})).addButton(n=>n.setButtonText(t("No!!!")).setCta().onClick(()=>{this.close()}))}onClose(){let{contentEl:r}=this;r.empty()}},FrontMatterManager=class{constructor(r){this.app=r}loadFrontMatter(r){return __async(this,null,function*(){const n=/^\n*---\n([\s\S]+)\n---/;let a={};return(((yield this.app.vault.read(r)).match(n)||[])[1]||"").split(`
`).forEach(s=>{let l=s.match(/^([^:]+):\s+(.+)/);l&&l[1]&&l[2]&&(a[`${l[1].trim()}`]=l[2].trim())}),a})}storeFrontMatter(r,n){return __async(this,null,function*(){if(Object.keys(n).length===0)return;let a=yield this.app.vault.read(r),o=a.match(/^\n*---\n([\s\S]+)\n---/),s="",l=Object.keys(n).map(u=>`${u}: ${n[u]}`).join(`
`);o?s=a.replace(/^\n*---\n([\s\S]+)\n---/,`---
${l}
---`):s=`---
${l}
---

`+a,this.app.vault.modify(r,s)})}getFrontMatter(r,n){return __async(this,null,function*(){return(yield this.loadFrontMatter(r))[n]})}setFrontMatter(r,n,a){return __async(this,null,function*(){let o=yield this.loadFrontMatter(r);o[n]=a,this.storeFrontMatter(r,o)})}},FRONT_MATTER_KEY="langr",LanguageLearner=class extends import_obsidian12.Plugin{constructor(){super(...arguments);this.markdownButtons={},this.refreshWordDb=()=>__async(this,null,function*(){let r=this.app.vault.getAbstractFileByPath(this.settings.word_database);if(!r||r.hasOwnProperty("children")){new import_obsidian12.Notice("Invalid database path");return}let n=yield this.db.getAllExpressionSimple(!1),a=Array(5).fill(0).map(g=>[]);n.forEach((g,y)=>{a[g.status].push(y)});const o=[t("Ignore"),t("Learning"),t("Familiar"),t("Known"),t("Learned")];let s=this.settings.col_delimiter,l=a.map((g,y)=>`#### ${o[y]}
`+g.map(b=>`${n[b].expression}  ${s}    ${n[b].meaning}`).join(`
`)+`
`);l.shift();let u=l.join(`
`),f=a.flat().map(g=>`${n[g].meaning}  ${s}  ${n[g].expression}`).join(`
`),d=u+`

#### \u53CD\u5411\u67E5\u8BE2
`+f,v=r;this.app.vault.modify(v,d)}),this.refreshReviewDb=()=>__async(this,null,function*(){var r,n;let a=this.app.vault.getAbstractFileByPath(this.settings.review_database);if(!a||"children"in a){new import_obsidian12.Notice("Invalid database path");return}let o=a,s=yield this.app.vault.read(o),l={};(n=(r=s.match(/#word(\n.+)+\n(<!--SR.*?-->)/g))==null?void 0:r.map(d=>d.match(/#### (\w+)[\s\S]+(<!--SR.*-->)/)))==null||n.forEach(d=>{l[d[1]]=d[2]});let u=yield this.db.getExpressionAfter("1970-01-01T00:00:00Z");if(u.length===0){new import_obsidian12.Notice("Nothing new");return}u.sort((d,v)=>d.expression.localeCompare(v.expression));let f=u.map(d=>{let v=d.notes.length===0?"":`**Notes**:
`+d.notes.join(`
`).trim()+`
`,g=d.sentences.length===0?"":`**Sentences**:
`+d.sentences.map(y=>`*${y.text.trim()}*
`+(y.trans?y.trans.trim()+`
`:"")+(y.origin?y.origin.trim():"")).join(`
`).trim()+`
`;return`#word
#### ${d.expression}
?
${d.meaning}
${v}${g}`+(l[d.expression]?l[d.expression]+`
`:"")}).join(`
`)+`
`;f=`#flashcards

`+f,yield this.app.vault.modify(o,f),this.saveSettings()}),this.registerReadingToggle=()=>{const r=this;r.register(around(import_obsidian12.MarkdownView.prototype,{onMoreOptionsMenu(n){return function(a){const o=this.file,s=o.cache?r.app.metadataCache.getFileCache(o):null;if(!o||!(s==null?void 0:s.frontmatter)||!(s==null?void 0:s.frontmatter[FRONT_MATTER_KEY]))return n.call(this,a);a.addItem(l=>{l.setTitle(t("Open as Reading View")).setIcon(READING_ICON).onClick(()=>{r.setReadingView(this.leaf)})}),n.call(this,a)}}})),r.register(around(import_obsidian12.WorkspaceLeaf.prototype,{setViewState(n){return function(a,...o){return n.apply(this,[a,...o]).then(()=>{var s,l;if(a.type==="markdown"&&((s=a.state)==null?void 0:s.file)){const u=r.app.metadataCache.getCache(a.state.file);(u==null?void 0:u.frontmatter)&&u.frontmatter[FRONT_MATTER_KEY]?r.markdownButtons.reading||(r.markdownButtons.reading=this.view.addAction("view",t("Open as Reading View"),()=>{r.setReadingView(this)}),r.markdownButtons.reading.addClass("change-to-reading")):((l=r.markdownButtons.reading)==null||l.remove(),r.markdownButtons.reading=null)}else r.markdownButtons.reading=null})}}}))}}onload(){return __async(this,null,function*(){yield this.loadSettings(),this.addSettingTab(new SettingTab(this.app,this)),this.db=this.settings.use_server?new WebDb(this.settings.port):new LocalDb(this),this.parser=new TextParser(this),this.frontManager=new FrontMatterManager(this.app),this.addCommand({id:"langr-refresh-word-database",name:t("Refresh Word Database"),callback:this.refreshWordDb}),this.addCommand({id:"langr-refresh-review-database",name:t("Refresh Review Database"),callback:this.refreshReviewDb}),this.registerCustomViews(),this.registerReadingToggle(),this.registerContextMenu(),this.registerLeftClick(),this.registerMouseup()})}onunload(){this.app.workspace.detachLeavesOfType(SEARCH_PANEL_VIEW)}registerCustomViews(){this.registerView(SEARCH_PANEL_VIEW,r=>new SearchPanelView(r,this)),this.addRibbonIcon("book",t("Open word search panel"),r=>{this.activateView(SEARCH_PANEL_VIEW)}),this.registerView(LEARN_PANEL_VIEW,r=>new LearnPanelView(r,this)),this.addRibbonIcon("reading-glasses",t("Open new word panel"),r=>{this.activateView(LEARN_PANEL_VIEW)}),this.registerView(READING_VIEW_TYPE,r=>new ReadingView(r,this)),this.registerView(STAT_VIEW_TYPE,r=>new StatView(r,this)),this.addRibbonIcon("bar-chart-4",t("Open statistics"),r=>__async(this,null,function*(){this.activateView(STAT_VIEW_TYPE)}))}setMarkdownView(r,n=!0){return __async(this,null,function*(){yield r.setViewState({type:"markdown",state:r.view.getState()},{focus:n})})}setReadingView(r){return __async(this,null,function*(){yield r.setViewState({type:READING_VIEW_TYPE,state:r.view.getState()})})}registerContextMenu(){let r=(n,a)=>{n.addItem(o=>{o.setTitle(t("Search word")).setIcon("info").onClick(()=>__async(this,null,function*(){yield this.activateView(SEARCH_PANEL_VIEW),this.app.workspace.getLeavesOfType(SEARCH_PANEL_VIEW)[0].view.query(a)}))})};this.registerEvent(this.app.workspace.on("editor-menu",(n,a,o)=>{let s=a.getSelection();(s||s.trim().length===s.length)&&r(n,s)})),this.registerDomEvent(document.body,"contextmenu",n=>{if(n.target.matchParent(".markdown-preview-view")){const a=window.getSelection().toString().trim();if(!a)return;n.preventDefault();let o=new import_obsidian12.Menu(this.app);r(o,a),o.showAtMouseEvent(n)}})}registerMouseup(){this.registerDomEvent(document.body,"mouseup",r=>{const n=r.target;if(!n.matchParent(".stns"))return;let a,o;const s=window.getSelection();if(s.isCollapsed)if(n.hasClass("word"))a=o=n;else return;else{r.preventDefault();let g=s.getRangeAt(0);if(g.collapsed||(g.setStart(g.startContainer.parentNode,0),g.setEnd(g.endContainer.parentNode,0),g.startContainer.parentNode!==g.endContainer.parentNode))return;a=g.startContainer,o=g.endContainer}let l=this.app.workspace.getActiveViewOfType(ReadingView);if(l&&l.removeSelect(),a.matchParent(".select"))return;let u=a.parentNode,f=document.body.createSpan({cls:"select"});u.insertBefore(f,a);let d=!1,v=[];u.childNodes.forEach(g=>{if(g===f){d=!0;return}!d||(v.push(g),g===o&&(d=!1))}),v.forEach(g=>{f.appendChild(g)}),dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:f.innerText,target:f}}))})}registerLeftClick(){this.registerDomEvent(document.body,"click",r=>{let n=r.target;if(n.classList.contains("word")||n.classList.contains("select")||n.classList.contains("phrase"))dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:n.innerText,target:n}}));else if(!!n.matchParent(".text-area")&&!n.matchParent(".stns")){let a=window.getSelection();a.isCollapsed||a.collapseToStart();let o=this.app.workspace.getActiveViewOfType(ReadingView);o&&o.removeSelect()}else if(n.tagName==="H4"&&n.matchParent("#sr-flashcard-view")){let a=n.textContent,s=`http://dict.youdao.com/dictvoice?type=${this.settings.review_prons}&audio=`+a.split(" ").join("%20");new Audio(s).play()}})}loadSettings(){return __async(this,null,function*(){this.settings=Object.assign({},DEFAULT_SETTINGS,yield this.loadData())})}saveSettings(){return __async(this,null,function*(){yield this.saveData(this.settings)})}activateView(r){return __async(this,null,function*(){this.app.workspace.getLeavesOfType(r).length===0&&(yield this.app.workspace.getRightLeaf(!1).setViewState({type:r,active:!0})),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(r)[0])})}},main_default=LanguageLearner;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** *//**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
